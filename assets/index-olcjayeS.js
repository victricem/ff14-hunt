(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function rg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var qp={exports:{}},Kl={};var Bb;function Gx(){if(Bb)return Kl;Bb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,l){var u=null;if(l!==void 0&&(u=""+l),o.key!==void 0&&(u=""+o.key),"key"in o){l={};for(var p in o)p!=="key"&&(l[p]=o[p])}else l=o;return o=l.ref,{$$typeof:n,type:s,key:u,ref:o!==void 0?o:null,props:l}}return Kl.Fragment=e,Kl.jsx=t,Kl.jsxs=t,Kl}var Hb;function Fx(){return Hb||(Hb=1,qp.exports=Gx()),qp.exports}var C=Fx(),Gp={exports:{}},Ce={};var qb;function $x(){if(qb)return Ce;qb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),E=Symbol.iterator;function S(P){return P===null||typeof P!="object"?null:(P=E&&P[E]||P["@@iterator"],typeof P=="function"?P:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,L={};function Y(P,W,ce){this.props=P,this.context=W,this.refs=L,this.updater=ce||V}Y.prototype.isReactComponent={},Y.prototype.setState=function(P,W){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,W,"setState")},Y.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function X(){}X.prototype=Y.prototype;function ae(P,W,ce){this.props=P,this.context=W,this.refs=L,this.updater=ce||V}var se=ae.prototype=new X;se.constructor=ae,U(se,Y.prototype),se.isPureReactComponent=!0;var oe=Array.isArray;function ie(){}var I={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function R(P,W,ce){var de=ce.ref;return{$$typeof:n,type:P,key:W,ref:de!==void 0?de:null,props:ce}}function O(P,W){return R(P.type,W,P.props)}function N(P){return typeof P=="object"&&P!==null&&P.$$typeof===n}function z(P){var W={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ce){return W[ce]})}var D=/\/+/g;function $e(P,W){return typeof P=="object"&&P!==null&&P.key!=null?z(""+P.key):W.toString(36)}function _e(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(ie,ie):(P.status="pending",P.then(function(W){P.status==="pending"&&(P.status="fulfilled",P.value=W)},function(W){P.status==="pending"&&(P.status="rejected",P.reason=W)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function K(P,W,ce,de,Te){var xe=typeof P;(xe==="undefined"||xe==="boolean")&&(P=null);var ke=!1;if(P===null)ke=!0;else switch(xe){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(P.$$typeof){case n:case e:ke=!0;break;case v:return ke=P._init,K(ke(P._payload),W,ce,de,Te)}}if(ke)return Te=Te(P),ke=de===""?"."+$e(P,0):de,oe(Te)?(ce="",ke!=null&&(ce=ke.replace(D,"$&/")+"/"),K(Te,W,ce,"",function(Ve){return Ve})):Te!=null&&(N(Te)&&(Te=O(Te,ce+(Te.key==null||P&&P.key===Te.key?"":(""+Te.key).replace(D,"$&/")+"/")+ke)),W.push(Te)),1;ke=0;var vt=de===""?".":de+":";if(oe(P))for(var ne=0;ne<P.length;ne++)de=P[ne],xe=vt+$e(de,ne),ke+=K(de,W,ce,xe,Te);else if(ne=S(P),typeof ne=="function")for(P=ne.call(P),ne=0;!(de=P.next()).done;)de=de.value,xe=vt+$e(de,ne++),ke+=K(de,W,ce,xe,Te);else if(xe==="object"){if(typeof P.then=="function")return K(_e(P),W,ce,de,Te);throw W=String(P),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return ke}function le(P,W,ce){if(P==null)return P;var de=[],Te=0;return K(P,de,"","",function(xe){return W.call(ce,xe,Te++)}),de}function ye(P){if(P._status===-1){var W=P._result;W=W(),W.then(function(ce){(P._status===0||P._status===-1)&&(P._status=1,P._result=ce)},function(ce){(P._status===0||P._status===-1)&&(P._status=2,P._result=ce)}),P._status===-1&&(P._status=0,P._result=W)}if(P._status===1)return P._result.default;throw P._result}var Le=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},Ke={map:le,forEach:function(P,W,ce){le(P,function(){W.apply(this,arguments)},ce)},count:function(P){var W=0;return le(P,function(){W++}),W},toArray:function(P){return le(P,function(W){return W})||[]},only:function(P){if(!N(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Ce.Activity=_,Ce.Children=Ke,Ce.Component=Y,Ce.Fragment=t,Ce.Profiler=o,Ce.PureComponent=ae,Ce.StrictMode=s,Ce.Suspense=m,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(P){return I.H.useMemoCache(P)}},Ce.cache=function(P){return function(){return P.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(P,W,ce){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var de=U({},P.props),Te=P.key;if(W!=null)for(xe in W.key!==void 0&&(Te=""+W.key),W)!x.call(W,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&W.ref===void 0||(de[xe]=W[xe]);var xe=arguments.length-2;if(xe===1)de.children=ce;else if(1<xe){for(var ke=Array(xe),vt=0;vt<xe;vt++)ke[vt]=arguments[vt+2];de.children=ke}return R(P.type,Te,de)},Ce.createContext=function(P){return P={$$typeof:u,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:l,_context:P},P},Ce.createElement=function(P,W,ce){var de,Te={},xe=null;if(W!=null)for(de in W.key!==void 0&&(xe=""+W.key),W)x.call(W,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Te[de]=W[de]);var ke=arguments.length-2;if(ke===1)Te.children=ce;else if(1<ke){for(var vt=Array(ke),ne=0;ne<ke;ne++)vt[ne]=arguments[ne+2];Te.children=vt}if(P&&P.defaultProps)for(de in ke=P.defaultProps,ke)Te[de]===void 0&&(Te[de]=ke[de]);return R(P,xe,Te)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(P){return{$$typeof:p,render:P}},Ce.isValidElement=N,Ce.lazy=function(P){return{$$typeof:v,_payload:{_status:-1,_result:P},_init:ye}},Ce.memo=function(P,W){return{$$typeof:g,type:P,compare:W===void 0?null:W}},Ce.startTransition=function(P){var W=I.T,ce={};I.T=ce;try{var de=P(),Te=I.S;Te!==null&&Te(ce,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(ie,Le)}catch(xe){Le(xe)}finally{W!==null&&ce.types!==null&&(W.types=ce.types),I.T=W}},Ce.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ce.use=function(P){return I.H.use(P)},Ce.useActionState=function(P,W,ce){return I.H.useActionState(P,W,ce)},Ce.useCallback=function(P,W){return I.H.useCallback(P,W)},Ce.useContext=function(P){return I.H.useContext(P)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(P,W){return I.H.useDeferredValue(P,W)},Ce.useEffect=function(P,W){return I.H.useEffect(P,W)},Ce.useEffectEvent=function(P){return I.H.useEffectEvent(P)},Ce.useId=function(){return I.H.useId()},Ce.useImperativeHandle=function(P,W,ce){return I.H.useImperativeHandle(P,W,ce)},Ce.useInsertionEffect=function(P,W){return I.H.useInsertionEffect(P,W)},Ce.useLayoutEffect=function(P,W){return I.H.useLayoutEffect(P,W)},Ce.useMemo=function(P,W){return I.H.useMemo(P,W)},Ce.useOptimistic=function(P,W){return I.H.useOptimistic(P,W)},Ce.useReducer=function(P,W,ce){return I.H.useReducer(P,W,ce)},Ce.useRef=function(P){return I.H.useRef(P)},Ce.useState=function(P){return I.H.useState(P)},Ce.useSyncExternalStore=function(P,W,ce){return I.H.useSyncExternalStore(P,W,ce)},Ce.useTransition=function(){return I.H.useTransition()},Ce.version="19.2.4",Ce}var Gb;function vd(){return Gb||(Gb=1,Gp.exports=$x()),Gp.exports}var re=vd();const ht=rg(re);var Fp={exports:{}},Ql={},$p={exports:{}},Yp={};var Fb;function Yx(){return Fb||(Fb=1,(function(n){function e(K,le){var ye=K.length;K.push(le);e:for(;0<ye;){var Le=ye-1>>>1,Ke=K[Le];if(0<o(Ke,le))K[Le]=le,K[ye]=Ke,ye=Le;else break e}}function t(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var le=K[0],ye=K.pop();if(ye!==le){K[0]=ye;e:for(var Le=0,Ke=K.length,P=Ke>>>1;Le<P;){var W=2*(Le+1)-1,ce=K[W],de=W+1,Te=K[de];if(0>o(ce,ye))de<Ke&&0>o(Te,ce)?(K[Le]=Te,K[de]=ye,Le=de):(K[Le]=ce,K[W]=ye,Le=W);else if(de<Ke&&0>o(Te,ye))K[Le]=Te,K[de]=ye,Le=de;else break e}}return le}function o(K,le){var ye=K.sortIndex-le.sortIndex;return ye!==0?ye:K.id-le.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,p=u.now();n.unstable_now=function(){return u.now()-p}}var m=[],g=[],v=1,_=null,E=3,S=!1,V=!1,U=!1,L=!1,Y=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function se(K){for(var le=t(g);le!==null;){if(le.callback===null)s(g);else if(le.startTime<=K)s(g),le.sortIndex=le.expirationTime,e(m,le);else break;le=t(g)}}function oe(K){if(U=!1,se(K),!V)if(t(m)!==null)V=!0,ie||(ie=!0,z());else{var le=t(g);le!==null&&_e(oe,le.startTime-K)}}var ie=!1,I=-1,x=5,R=-1;function O(){return L?!0:!(n.unstable_now()-R<x)}function N(){if(L=!1,ie){var K=n.unstable_now();R=K;var le=!0;try{e:{V=!1,U&&(U=!1,X(I),I=-1),S=!0;var ye=E;try{t:{for(se(K),_=t(m);_!==null&&!(_.expirationTime>K&&O());){var Le=_.callback;if(typeof Le=="function"){_.callback=null,E=_.priorityLevel;var Ke=Le(_.expirationTime<=K);if(K=n.unstable_now(),typeof Ke=="function"){_.callback=Ke,se(K),le=!0;break t}_===t(m)&&s(m),se(K)}else s(m);_=t(m)}if(_!==null)le=!0;else{var P=t(g);P!==null&&_e(oe,P.startTime-K),le=!1}}break e}finally{_=null,E=ye,S=!1}le=void 0}}finally{le?z():ie=!1}}}var z;if(typeof ae=="function")z=function(){ae(N)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,$e=D.port2;D.port1.onmessage=N,z=function(){$e.postMessage(null)}}else z=function(){Y(N,0)};function _e(K,le){I=Y(function(){K(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(K){switch(E){case 1:case 2:case 3:var le=3;break;default:le=E}var ye=E;E=le;try{return K()}finally{E=ye}},n.unstable_requestPaint=function(){L=!0},n.unstable_runWithPriority=function(K,le){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ye=E;E=K;try{return le()}finally{E=ye}},n.unstable_scheduleCallback=function(K,le,ye){var Le=n.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Le+ye:Le):ye=Le,K){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=ye+Ke,K={id:v++,callback:le,priorityLevel:K,startTime:ye,expirationTime:Ke,sortIndex:-1},ye>Le?(K.sortIndex=ye,e(g,K),t(m)===null&&K===t(g)&&(U?(X(I),I=-1):U=!0,_e(oe,ye-Le))):(K.sortIndex=Ke,e(m,K),V||S||(V=!0,ie||(ie=!0,z()))),K},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(K){var le=E;return function(){var ye=E;E=le;try{return K.apply(this,arguments)}finally{E=ye}}}})(Yp)),Yp}var $b;function Kx(){return $b||($b=1,$p.exports=Yx()),$p.exports}var Kp={exports:{}},un={};var Yb;function Qx(){if(Yb)return un;Yb=1;var n=vd();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(m,g,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:m,containerInfo:g,implementation:v}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,un.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,v)},un.flushSync=function(m){var g=u.T,v=s.p;try{if(u.T=null,s.p=2,m)return m()}finally{u.T=g,s.p=v,s.d.f()}},un.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},un.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},un.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,_=p(v,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:S}):v==="script"&&s.d.X(m,{crossOrigin:_,integrity:E,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},un.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=p(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},un.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,_=p(v,g.crossOrigin);s.d.L(m,v,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},un.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=p(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},un.requestFormReset=function(m){s.d.r(m)},un.unstable_batchedUpdates=function(m,g){return m(g)},un.useFormState=function(m,g,v){return u.H.useFormState(m,g,v)},un.useFormStatus=function(){return u.H.useHostTransitionStatus()},un.version="19.2.4",un}var Kb;function bw(){if(Kb)return Kp.exports;Kb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Kp.exports=Qx(),Kp.exports}var Qb;function Xx(){if(Qb)return Ql;Qb=1;var n=Kx(),e=vd(),t=bw();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var i=r,a=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(a=i.return),r=i.return;while(r)}return i.tag===3?a:null}function u(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function p(r){if(r.tag===31){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function m(r){if(l(r)!==r)throw Error(s(188))}function g(r){var i=r.alternate;if(!i){if(i=l(r),i===null)throw Error(s(188));return i!==r?null:r}for(var a=r,c=i;;){var d=a.return;if(d===null)break;var h=d.alternate;if(h===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===a)return m(d),r;if(h===c)return m(d),i;h=h.sibling}throw Error(s(188))}if(a.return!==c.return)a=d,c=h;else{for(var b=!1,T=d.child;T;){if(T===a){b=!0,a=d,c=h;break}if(T===c){b=!0,c=d,a=h;break}T=T.sibling}if(!b){for(T=h.child;T;){if(T===a){b=!0,a=h,c=d;break}if(T===c){b=!0,c=h,a=d;break}T=T.sibling}if(!b)throw Error(s(189))}}if(a.alternate!==c)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?r:i}function v(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=v(r),i!==null)return i;r=r.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function z(r){return r===null||typeof r!="object"?null:(r=N&&r[N]||r["@@iterator"],typeof r=="function"?r:null)}var D=Symbol.for("react.client.reference");function $e(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===D?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case U:return"Fragment";case Y:return"Profiler";case L:return"StrictMode";case oe:return"Suspense";case ie:return"SuspenseList";case R:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case V:return"Portal";case ae:return r.displayName||"Context";case X:return(r._context.displayName||"Context")+".Consumer";case se:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case I:return i=r.displayName||null,i!==null?i:$e(r.type)||"Memo";case x:i=r._payload,r=r._init;try{return $e(r(i))}catch{}}return null}var _e=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Le=[],Ke=-1;function P(r){return{current:r}}function W(r){0>Ke||(r.current=Le[Ke],Le[Ke]=null,Ke--)}function ce(r,i){Ke++,Le[Ke]=r.current,r.current=i}var de=P(null),Te=P(null),xe=P(null),ke=P(null);function vt(r,i){switch(ce(xe,i),ce(Te,r),ce(de,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?ub(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=ub(i),r=fb(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}W(de),ce(de,r)}function ne(){W(de),W(Te),W(xe)}function Ve(r){r.memoizedState!==null&&ce(ke,r);var i=de.current,a=fb(i,r.type);i!==a&&(ce(Te,r),ce(de,a))}function Ue(r){Te.current===r&&(W(de),W(Te)),ke.current===r&&(W(ke),Gl._currentValue=ye)}var Ne,nt;function We(r){if(Ne===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ne=i&&i[1]||"",nt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ne+r+nt}var qt=!1;function Cn(r,i){if(!r||qt)return"";qt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch($){var G=$}Reflect.construct(r,[],Z)}else{try{Z.call()}catch($){G=$}r.call(Z.prototype)}}else{try{throw Error()}catch($){G=$}(Z=r())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch($){if($&&G&&typeof $.stack=="string")return[$.stack,G.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=c.DetermineComponentFrameRoot(),b=h[0],T=h[1];if(b&&T){var M=b.split(`
`),q=T.split(`
`);for(d=c=0;c<M.length&&!M[c].includes("DetermineComponentFrameRoot");)c++;for(;d<q.length&&!q[d].includes("DetermineComponentFrameRoot");)d++;if(c===M.length||d===q.length)for(c=M.length-1,d=q.length-1;1<=c&&0<=d&&M[c]!==q[d];)d--;for(;1<=c&&0<=d;c--,d--)if(M[c]!==q[d]){if(c!==1||d!==1)do if(c--,d--,0>d||M[c]!==q[d]){var Q=`
`+M[c].replace(" at new "," at ");return r.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",r.displayName)),Q}while(1<=c&&0<=d);break}}}finally{qt=!1,Error.prepareStackTrace=a}return(a=r?r.displayName||r.name:"")?We(a):""}function Fo(r,i){switch(r.tag){case 26:case 27:case 5:return We(r.type);case 16:return We("Lazy");case 13:return r.child!==i&&i!==null?We("Suspense Fallback"):We("Suspense");case 19:return We("SuspenseList");case 0:case 15:return Cn(r.type,!1);case 11:return Cn(r.type.render,!1);case 1:return Cn(r.type,!0);case 31:return We("Activity");default:return""}}function $o(r){try{var i="",a=null;do i+=Fo(r,a),a=r,r=r.return;while(r);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Nt=Object.prototype.hasOwnProperty,Gt=n.unstable_scheduleCallback,Di=n.unstable_cancelCallback,Fd=n.unstable_shouldYield,Hc=n.unstable_requestPaint,mn=n.unstable_now,Os=n.unstable_getCurrentPriorityLevel,Yo=n.unstable_ImmediatePriority,Ko=n.unstable_UserBlockingPriority,Ni=n.unstable_NormalPriority,$d=n.unstable_LowPriority,qc=n.unstable_IdlePriority,Gc=n.log,Fc=n.unstable_setDisableYieldValue,or=null,Zt=null;function Hn(r){if(typeof Gc=="function"&&Fc(r),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(or,r)}catch{}}var At=Math.clz32?Math.clz32:Yc,$c=Math.log,Sa=Math.LN2;function Yc(r){return r>>>=0,r===0?32:31-($c(r)/Sa|0)|0}var Ar=256,Ms=262144,Ot=4194304;function xr(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Ir(r,i,a){var c=r.pendingLanes;if(c===0)return 0;var d=0,h=r.suspendedLanes,b=r.pingedLanes;r=r.warmLanes;var T=c&134217727;return T!==0?(c=T&~h,c!==0?d=xr(c):(b&=T,b!==0?d=xr(b):a||(a=T&~r,a!==0&&(d=xr(a))))):(T=c&~h,T!==0?d=xr(T):b!==0?d=xr(b):a||(a=c&~r,a!==0&&(d=xr(a)))),d===0?0:i!==0&&i!==d&&(i&h)===0&&(h=d&-d,a=i&-i,h>=a||h===32&&(a&4194048)!==0)?i:d}function lr(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function Yd(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kc(){var r=Ot;return Ot<<=1,(Ot&62914560)===0&&(Ot=4194304),r}function Rr(r){for(var i=[],a=0;31>a;a++)i.push(r);return i}function Vs(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Kd(r,i,a,c,d,h){var b=r.pendingLanes;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=a,r.entangledLanes&=a,r.errorRecoveryDisabledLanes&=a,r.shellSuspendCounter=0;var T=r.entanglements,M=r.expirationTimes,q=r.hiddenUpdates;for(a=b&~a;0<a;){var Q=31-At(a),Z=1<<Q;T[Q]=0,M[Q]=-1;var G=q[Q];if(G!==null)for(q[Q]=null,Q=0;Q<G.length;Q++){var $=G[Q];$!==null&&($.lane&=-536870913)}a&=~Z}c!==0&&Ps(r,c,0),h!==0&&d===0&&r.tag!==0&&(r.suspendedLanes|=h&~(b&~i))}function Ps(r,i,a){r.pendingLanes|=i,r.suspendedLanes&=~i;var c=31-At(i);r.entangledLanes|=i,r.entanglements[c]=r.entanglements[c]|1073741824|a&261930}function Qo(r,i){var a=r.entangledLanes|=i;for(r=r.entanglements;a;){var c=31-At(a),d=1<<c;d&i|r[c]&i&&(r[c]|=i),a&=~d}}function Xo(r,i){var a=i&-i;return a=(a&42)!==0?1:ks(a),(a&(r.suspendedLanes|i))!==0?0:a}function ks(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ti(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Qc(){var r=le.p;return r!==0?r:(r=window.event,r===void 0?32:Vb(r.type))}function cr(r,i){var a=le.p;try{return le.p=r,i()}finally{le.p=a}}var ur=Math.random().toString(36).slice(2),Mt="__reactFiber$"+ur,Yt="__reactProps$"+ur,Cr="__reactContainer$"+ur,Aa="__reactEvents$"+ur,Qd="__reactListeners$"+ur,Xc="__reactHandles$"+ur,Wc="__reactResources$"+ur,Dr="__reactMarker$"+ur;function xa(r){delete r[Mt],delete r[Yt],delete r[Aa],delete r[Qd],delete r[Xc]}function Nr(r){var i=r[Mt];if(i)return i;for(var a=r.parentNode;a;){if(i=a[Cr]||a[Mt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(r=vb(r);r!==null;){if(a=r[Mt])return a;r=vb(r)}return i}r=a,a=r.parentNode}return null}function qn(r){if(r=r[Mt]||r[Cr]){var i=r.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return r}return null}function Dn(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function Or(r){var i=r[Wc];return i||(i=r[Wc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Vt(r){r[Dr]=!0}var Wo=new Set,Jo={};function Mr(r,i){Vr(r,i),Vr(r+"Capture",i)}function Vr(r,i){for(Jo[r]=i,r=0;r<i.length;r++)Wo.add(i[r])}var Zo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),el={},tl={};function Jc(r){return Nt.call(tl,r)?!0:Nt.call(el,r)?!1:Zo.test(r)?tl[r]=!0:(el[r]=!0,!1)}function Ia(r,i,a){if(Jc(i))if(a===null)r.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+a)}}function Nn(r,i,a){if(a===null)r.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+a)}}function Pt(r,i,a,c){if(c===null)r.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttributeNS(i,a,""+c)}}function Kt(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Oi(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function nl(r,i,a){var c=Object.getOwnPropertyDescriptor(r.constructor.prototype,i);if(!r.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var d=c.get,h=c.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return d.call(this)},set:function(b){a=""+b,h.call(this,b)}}),Object.defineProperty(r,i,{enumerable:c.enumerable}),{getValue:function(){return a},setValue:function(b){a=""+b},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function st(r){if(!r._valueTracker){var i=Oi(r)?"checked":"value";r._valueTracker=nl(r,i,""+r[i])}}function Ls(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return r&&(c=Oi(r)?r.checked?"true":"false":r.value),r=c,r!==a?(i.setValue(r),!0):!1}function Pr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Us=/[\n"\\]/g;function En(r){return r.replace(Us,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ra(r,i,a,c,d,h,b,T){r.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.type=b:r.removeAttribute("type"),i!=null?b==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+Kt(i)):r.value!==""+Kt(i)&&(r.value=""+Kt(i)):b!=="submit"&&b!=="reset"||r.removeAttribute("value"),i!=null?rl(r,b,Kt(i)):a!=null?rl(r,b,Kt(a)):c!=null&&r.removeAttribute("value"),d==null&&h!=null&&(r.defaultChecked=!!h),d!=null&&(r.checked=d&&typeof d!="function"&&typeof d!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.name=""+Kt(T):r.removeAttribute("name")}function Zc(r,i,a,c,d,h,b,T){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(r.type=h),i!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||i!=null)){st(r);return}a=a!=null?""+Kt(a):"",i=i!=null?""+Kt(i):a,T||i===r.value||(r.value=i),r.defaultValue=i}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=T?r.checked:!!c,r.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.name=b),st(r)}function rl(r,i,a){i==="number"&&Pr(r.ownerDocument)===r||r.defaultValue===""+a||(r.defaultValue=""+a)}function Mi(r,i,a,c){if(r=r.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<r.length;a++)d=i.hasOwnProperty("$"+r[a].value),r[a].selected!==d&&(r[a].selected=d),d&&c&&(r[a].defaultSelected=!0)}else{for(a=""+Kt(a),i=null,d=0;d<r.length;d++){if(r[d].value===a){r[d].selected=!0,c&&(r[d].defaultSelected=!0);return}i!==null||r[d].disabled||(i=r[d])}i!==null&&(i.selected=!0)}}function eu(r,i,a){if(i!=null&&(i=""+Kt(i),i!==r.value&&(r.value=i),a==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=a!=null?""+Kt(a):""}function Vi(r,i,a,c){if(i==null){if(c!=null){if(a!=null)throw Error(s(92));if(_e(c)){if(1<c.length)throw Error(s(93));c=c[0]}a=c}a==null&&(a=""),i=a}a=Kt(i),r.defaultValue=a,c=r.textContent,c===a&&c!==""&&c!==null&&(r.value=c),st(r)}function wn(r,i){if(i){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=i;return}}r.textContent=i}var tu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function il(r,i,a){var c=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":c?r.setProperty(i,a):typeof a!="number"||a===0||tu.has(i)?i==="float"?r.cssFloat=a:r[i]=(""+a).trim():r[i]=a+"px"}function sl(r,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var d in i)c=i[d],i.hasOwnProperty(d)&&a[d]!==c&&il(r,d,c)}else for(var h in i)i.hasOwnProperty(h)&&il(r,h,i[h])}function Ca(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Da(r){return Pi.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function fr(){}var al=null;function Gn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ki=null,kr=null;function zs(r){var i=qn(r);if(i&&(r=i.stateNode)){var a=r[Yt]||null;e:switch(r=i.stateNode,i.type){case"input":if(Ra(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+En(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==r&&c.form===r.form){var d=c[Yt]||null;if(!d)throw Error(s(90));Ra(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)c=a[i],c.form===r.form&&Ls(c)}break e;case"textarea":eu(r,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Mi(r,!!a.multiple,i,!1)}}}var Na=!1;function Li(r,i,a){if(Na)return r(i,a);Na=!0;try{var c=r(i);return c}finally{if(Na=!1,(ki!==null||kr!==null)&&(Qu(),ki&&(i=ki,r=kr,kr=ki=null,zs(i),r)))for(i=0;i<r.length;i++)zs(r[i])}}function dr(r,i){var a=r.stateNode;if(a===null)return null;var c=a[Yt]||null;if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),js=!1;if(Fn)try{var lt={};Object.defineProperty(lt,"passive",{get:function(){js=!0}}),window.addEventListener("test",lt,lt),window.removeEventListener("test",lt,lt)}catch{js=!1}var Lr=null,ol=null,Bs=null;function ll(){if(Bs)return Bs;var r,i=ol,a=i.length,c,d="value"in Lr?Lr.value:Lr.textContent,h=d.length;for(r=0;r<a&&i[r]===d[r];r++);var b=a-r;for(c=1;c<=b&&i[a-c]===d[h-c];c++);return Bs=d.slice(r,1<c?1-c:void 0)}function Hs(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function ni(){return!0}function hr(){return!1}function en(r){function i(a,c,d,h,b){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=h,this.target=b,this.currentTarget=null;for(var T in r)r.hasOwnProperty(T)&&(a=r[T],this[T]=a?a(h):h[T]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?ni:hr,this.isPropagationStopped=hr,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),i}var ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ur=en(ri),Ui=_({},ri,{view:0,detail:0}),cl=en(Ui),zi,Oa,zr,Ma=_({},Ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ji,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==zr&&(zr&&r.type==="mousemove"?(zi=r.screenX-zr.screenX,Oa=r.screenY-zr.screenY):Oa=zi=0,zr=r),zi)},movementY:function(r){return"movementY"in r?r.movementY:Oa}}),ul=en(Ma),qs=_({},Ma,{dataTransfer:0}),ru=en(qs),iu=_({},Ui,{relatedTarget:0}),Gs=en(iu),fl=_({},ri,{animationName:0,elapsedTime:0,pseudoElement:0}),su=en(fl),Va=_({},ri,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),au=en(Va),ou=_({},ri,{data:0}),jr=en(ou),lu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fu(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=uu[r])?!!i[r]:!1}function ji(){return fu}var gn=_({},Ui,{key:function(r){if(r.key){var i=lu[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Hs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?cu[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ji,charCode:function(r){return r.type==="keypress"?Hs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Hs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),du=en(gn),hu=_({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ii=en(hu),f=_({},Ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ji}),y=en(f),w=_({},ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=en(w),B=_({},Ma,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),F=en(B),fe=_({},ri,{newState:0,oldState:0}),Oe=en(fe),xt=[9,13,27,32],et=Fn&&"CompositionEvent"in window,_t=null;Fn&&"documentMode"in document&&(_t=document.documentMode);var $n=Fn&&"TextEvent"in window&&!_t,Br=Fn&&(!et||_t&&8<_t&&11>=_t),pr=" ",mr=!1;function Fs(r,i){switch(r){case"keyup":return xt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pa(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ka=!1;function pA(r,i){switch(r){case"compositionend":return Pa(i);case"keypress":return i.which!==32?null:(mr=!0,pr);case"textInput":return r=i.data,r===pr&&mr?null:r;default:return null}}function mA(r,i){if(ka)return r==="compositionend"||!et&&Fs(r,i)?(r=ll(),Bs=ol=Lr=null,ka=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Br&&i.locale!=="ko"?null:i.data;default:return null}}var gA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ey(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!gA[r.type]:i==="textarea"}function wy(r,i,a,c){ki?kr?kr.push(c):kr=[c]:ki=c,i=nf(i,"onChange"),0<i.length&&(a=new Ur("onChange","change",null,a,c),r.push({event:a,listeners:i}))}var dl=null,hl=null;function yA(r){ib(r,0)}function pu(r){var i=Dn(r);if(Ls(i))return r}function Ty(r,i){if(r==="change")return i}var Sy=!1;if(Fn){var Xd;if(Fn){var Wd="oninput"in document;if(!Wd){var Ay=document.createElement("div");Ay.setAttribute("oninput","return;"),Wd=typeof Ay.oninput=="function"}Xd=Wd}else Xd=!1;Sy=Xd&&(!document.documentMode||9<document.documentMode)}function xy(){dl&&(dl.detachEvent("onpropertychange",Iy),hl=dl=null)}function Iy(r){if(r.propertyName==="value"&&pu(hl)){var i=[];wy(i,hl,r,Gn(r)),Li(yA,i)}}function vA(r,i,a){r==="focusin"?(xy(),dl=i,hl=a,dl.attachEvent("onpropertychange",Iy)):r==="focusout"&&xy()}function _A(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return pu(hl)}function bA(r,i){if(r==="click")return pu(i)}function EA(r,i){if(r==="input"||r==="change")return pu(i)}function wA(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var On=typeof Object.is=="function"?Object.is:wA;function pl(r,i){if(On(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var a=Object.keys(r),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!Nt.call(i,d)||!On(r[d],i[d]))return!1}return!0}function Ry(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Cy(r,i){var a=Ry(r);r=0;for(var c;a;){if(a.nodeType===3){if(c=r+a.textContent.length,r<=i&&c>=i)return{node:a,offset:i-r};r=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ry(a)}}function Dy(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Dy(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Ny(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=Pr(r.document);i instanceof r.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)r=i.contentWindow;else break;i=Pr(r.document)}return i}function Jd(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var TA=Fn&&"documentMode"in document&&11>=document.documentMode,La=null,Zd=null,ml=null,eh=!1;function Oy(r,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;eh||La==null||La!==Pr(c)||(c=La,"selectionStart"in c&&Jd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ml&&pl(ml,c)||(ml=c,c=nf(Zd,"onSelect"),0<c.length&&(i=new Ur("onSelect","select",null,i,a),r.push({event:i,listeners:c}),i.target=La)))}function $s(r,i){var a={};return a[r.toLowerCase()]=i.toLowerCase(),a["Webkit"+r]="webkit"+i,a["Moz"+r]="moz"+i,a}var Ua={animationend:$s("Animation","AnimationEnd"),animationiteration:$s("Animation","AnimationIteration"),animationstart:$s("Animation","AnimationStart"),transitionrun:$s("Transition","TransitionRun"),transitionstart:$s("Transition","TransitionStart"),transitioncancel:$s("Transition","TransitionCancel"),transitionend:$s("Transition","TransitionEnd")},th={},My={};Fn&&(My=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Ys(r){if(th[r])return th[r];if(!Ua[r])return r;var i=Ua[r],a;for(a in i)if(i.hasOwnProperty(a)&&a in My)return th[r]=i[a];return r}var Vy=Ys("animationend"),Py=Ys("animationiteration"),ky=Ys("animationstart"),SA=Ys("transitionrun"),AA=Ys("transitionstart"),xA=Ys("transitioncancel"),Ly=Ys("transitionend"),Uy=new Map,nh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nh.push("scrollEnd");function gr(r,i){Uy.set(r,i),Mr(i,[r])}var mu=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Yn=[],za=0,rh=0;function gu(){for(var r=za,i=rh=za=0;i<r;){var a=Yn[i];Yn[i++]=null;var c=Yn[i];Yn[i++]=null;var d=Yn[i];Yn[i++]=null;var h=Yn[i];if(Yn[i++]=null,c!==null&&d!==null){var b=c.pending;b===null?d.next=d:(d.next=b.next,b.next=d),c.pending=d}h!==0&&zy(a,d,h)}}function yu(r,i,a,c){Yn[za++]=r,Yn[za++]=i,Yn[za++]=a,Yn[za++]=c,rh|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function ih(r,i,a,c){return yu(r,i,a,c),vu(r)}function Ks(r,i){return yu(r,null,null,i),vu(r)}function zy(r,i,a){r.lanes|=a;var c=r.alternate;c!==null&&(c.lanes|=a);for(var d=!1,h=r.return;h!==null;)h.childLanes|=a,c=h.alternate,c!==null&&(c.childLanes|=a),h.tag===22&&(r=h.stateNode,r===null||r._visibility&1||(d=!0)),r=h,h=h.return;return r.tag===3?(h=r.stateNode,d&&i!==null&&(d=31-At(a),r=h.hiddenUpdates,c=r[d],c===null?r[d]=[i]:c.push(i),i.lane=a|536870912),h):null}function vu(r){if(50<Ll)throw Ll=0,hp=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var ja={};function IA(r,i,a,c){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(r,i,a,c){return new IA(r,i,a,c)}function sh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function si(r,i){var a=r.alternate;return a===null?(a=Mn(r.tag,i,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=i,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&65011712,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,i=r.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a.refCleanup=r.refCleanup,a}function jy(r,i){r.flags&=65011714;var a=r.alternate;return a===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,i=a.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function _u(r,i,a,c,d,h){var b=0;if(c=r,typeof r=="function")sh(r)&&(b=1);else if(typeof r=="string")b=Ox(r,a,de.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case R:return r=Mn(31,a,i,d),r.elementType=R,r.lanes=h,r;case U:return Qs(a.children,d,h,i);case L:b=8,d|=24;break;case Y:return r=Mn(12,a,i,d|2),r.elementType=Y,r.lanes=h,r;case oe:return r=Mn(13,a,i,d),r.elementType=oe,r.lanes=h,r;case ie:return r=Mn(19,a,i,d),r.elementType=ie,r.lanes=h,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case ae:b=10;break e;case X:b=9;break e;case se:b=11;break e;case I:b=14;break e;case x:b=16,c=null;break e}b=29,a=Error(s(130,r===null?"null":typeof r,"")),c=null}return i=Mn(b,a,i,d),i.elementType=r,i.type=c,i.lanes=h,i}function Qs(r,i,a,c){return r=Mn(7,r,c,i),r.lanes=a,r}function ah(r,i,a){return r=Mn(6,r,null,i),r.lanes=a,r}function By(r){var i=Mn(18,null,null,0);return i.stateNode=r,i}function oh(r,i,a){return i=Mn(4,r.children!==null?r.children:[],r.key,i),i.lanes=a,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var Hy=new WeakMap;function Kn(r,i){if(typeof r=="object"&&r!==null){var a=Hy.get(r);return a!==void 0?a:(i={value:r,source:i,stack:$o(i)},Hy.set(r,i),i)}return{value:r,source:i,stack:$o(i)}}var Ba=[],Ha=0,bu=null,gl=0,Qn=[],Xn=0,Bi=null,Hr=1,qr="";function ai(r,i){Ba[Ha++]=gl,Ba[Ha++]=bu,bu=r,gl=i}function qy(r,i,a){Qn[Xn++]=Hr,Qn[Xn++]=qr,Qn[Xn++]=Bi,Bi=r;var c=Hr;r=qr;var d=32-At(c)-1;c&=~(1<<d),a+=1;var h=32-At(i)+d;if(30<h){var b=d-d%5;h=(c&(1<<b)-1).toString(32),c>>=b,d-=b,Hr=1<<32-At(i)+d|a<<d|c,qr=h+r}else Hr=1<<h|a<<d|c,qr=r}function lh(r){r.return!==null&&(ai(r,1),qy(r,1,0))}function ch(r){for(;r===bu;)bu=Ba[--Ha],Ba[Ha]=null,gl=Ba[--Ha],Ba[Ha]=null;for(;r===Bi;)Bi=Qn[--Xn],Qn[Xn]=null,qr=Qn[--Xn],Qn[Xn]=null,Hr=Qn[--Xn],Qn[Xn]=null}function Gy(r,i){Qn[Xn++]=Hr,Qn[Xn++]=qr,Qn[Xn++]=Bi,Hr=i.id,qr=i.overflow,Bi=r}var tn=null,mt=null,Ye=!1,Hi=null,Wn=!1,uh=Error(s(519));function qi(r){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw yl(Kn(i,r)),uh}function Fy(r){var i=r.stateNode,a=r.type,c=r.memoizedProps;switch(i[Mt]=r,i[Yt]=c,a){case"dialog":je("cancel",i),je("close",i);break;case"iframe":case"object":case"embed":je("load",i);break;case"video":case"audio":for(a=0;a<zl.length;a++)je(zl[a],i);break;case"source":je("error",i);break;case"img":case"image":case"link":je("error",i),je("load",i);break;case"details":je("toggle",i);break;case"input":je("invalid",i),Zc(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":je("invalid",i);break;case"textarea":je("invalid",i),Vi(i,c.value,c.defaultValue,c.children)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||c.suppressHydrationWarning===!0||lb(i.textContent,a)?(c.popover!=null&&(je("beforetoggle",i),je("toggle",i)),c.onScroll!=null&&je("scroll",i),c.onScrollEnd!=null&&je("scrollend",i),c.onClick!=null&&(i.onclick=fr),i=!0):i=!1,i||qi(r,!0)}function $y(r){for(tn=r.return;tn;)switch(tn.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:tn=tn.return}}function qa(r){if(r!==tn)return!1;if(!Ye)return $y(r),Ye=!0,!1;var i=r.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=r.type,a=!(a!=="form"&&a!=="button")||Rp(r.type,r.memoizedProps)),a=!a),a&&mt&&qi(r),$y(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));mt=yb(r)}else if(i===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));mt=yb(r)}else i===27?(i=mt,rs(r.type)?(r=Mp,Mp=null,mt=r):mt=i):mt=tn?Zn(r.stateNode.nextSibling):null;return!0}function Xs(){mt=tn=null,Ye=!1}function fh(){var r=Hi;return r!==null&&(xn===null?xn=r:xn.push.apply(xn,r),Hi=null),r}function yl(r){Hi===null?Hi=[r]:Hi.push(r)}var dh=P(null),Ws=null,oi=null;function Gi(r,i,a){ce(dh,i._currentValue),i._currentValue=a}function li(r){r._currentValue=dh.current,W(dh)}function hh(r,i,a){for(;r!==null;){var c=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),r===a)break;r=r.return}}function ph(r,i,a,c){var d=r.child;for(d!==null&&(d.return=r);d!==null;){var h=d.dependencies;if(h!==null){var b=d.child;h=h.firstContext;e:for(;h!==null;){var T=h;h=d;for(var M=0;M<i.length;M++)if(T.context===i[M]){h.lanes|=a,T=h.alternate,T!==null&&(T.lanes|=a),hh(h.return,a,r),c||(b=null);break e}h=T.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(s(341));b.lanes|=a,h=b.alternate,h!==null&&(h.lanes|=a),hh(b,a,r),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===r){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function Ga(r,i,a,c){r=null;for(var d=i,h=!1;d!==null;){if(!h){if((d.flags&524288)!==0)h=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var T=d.type;On(d.pendingProps.value,b.value)||(r!==null?r.push(T):r=[T])}}else if(d===ke.current){if(b=d.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(r!==null?r.push(Gl):r=[Gl])}d=d.return}r!==null&&ph(i,r,a,c),i.flags|=262144}function Eu(r){for(r=r.firstContext;r!==null;){if(!On(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Js(r){Ws=r,oi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function nn(r){return Yy(Ws,r)}function wu(r,i){return Ws===null&&Js(r),Yy(r,i)}function Yy(r,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},oi===null){if(r===null)throw Error(s(308));oi=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else oi=oi.next=i;return a}var RA=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(a,c){r.push(c)}};this.abort=function(){i.aborted=!0,r.forEach(function(a){return a()})}},CA=n.unstable_scheduleCallback,DA=n.unstable_NormalPriority,kt={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mh(){return{controller:new RA,data:new Map,refCount:0}}function vl(r){r.refCount--,r.refCount===0&&CA(DA,function(){r.controller.abort()})}var _l=null,gh=0,Fa=0,$a=null;function NA(r,i){if(_l===null){var a=_l=[];gh=0,Fa=_p(),$a={status:"pending",value:void 0,then:function(c){a.push(c)}}}return gh++,i.then(Ky,Ky),i}function Ky(){if(--gh===0&&_l!==null){$a!==null&&($a.status="fulfilled");var r=_l;_l=null,Fa=0,$a=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function OA(r,i){var a=[],c={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return r.then(function(){c.status="fulfilled",c.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(c.status="rejected",c.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),c}var Qy=K.S;K.S=function(r,i){O_=mn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&NA(r,i),Qy!==null&&Qy(r,i)};var Zs=P(null);function yh(){var r=Zs.current;return r!==null?r:dt.pooledCache}function Tu(r,i){i===null?ce(Zs,Zs.current):ce(Zs,i.pool)}function Xy(){var r=yh();return r===null?null:{parent:kt._currentValue,pool:r}}var Ya=Error(s(460)),vh=Error(s(474)),Su=Error(s(542)),Au={then:function(){}};function Wy(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Jy(r,i,a){switch(a=r[a],a===void 0?r.push(i):a!==i&&(i.then(fr,fr),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,ev(r),r;default:if(typeof i.status=="string")i.then(fr,fr);else{if(r=dt,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(c){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=c}},function(c){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,ev(r),r}throw ta=i,Ya}}function ea(r){try{var i=r._init;return i(r._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ta=a,Ya):a}}var ta=null;function Zy(){if(ta===null)throw Error(s(459));var r=ta;return ta=null,r}function ev(r){if(r===Ya||r===Su)throw Error(s(483))}var Ka=null,bl=0;function xu(r){var i=bl;return bl+=1,Ka===null&&(Ka=[]),Jy(Ka,r,i)}function El(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function Iu(r,i){throw i.$$typeof===E?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function tv(r){function i(j,k){if(r){var H=j.deletions;H===null?(j.deletions=[k],j.flags|=16):H.push(k)}}function a(j,k){if(!r)return null;for(;k!==null;)i(j,k),k=k.sibling;return null}function c(j){for(var k=new Map;j!==null;)j.key!==null?k.set(j.key,j):k.set(j.index,j),j=j.sibling;return k}function d(j,k){return j=si(j,k),j.index=0,j.sibling=null,j}function h(j,k,H){return j.index=H,r?(H=j.alternate,H!==null?(H=H.index,H<k?(j.flags|=67108866,k):H):(j.flags|=67108866,k)):(j.flags|=1048576,k)}function b(j){return r&&j.alternate===null&&(j.flags|=67108866),j}function T(j,k,H,J){return k===null||k.tag!==6?(k=ah(H,j.mode,J),k.return=j,k):(k=d(k,H),k.return=j,k)}function M(j,k,H,J){var Ee=H.type;return Ee===U?Q(j,k,H.props.children,J,H.key):k!==null&&(k.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===x&&ea(Ee)===k.type)?(k=d(k,H.props),El(k,H),k.return=j,k):(k=_u(H.type,H.key,H.props,null,j.mode,J),El(k,H),k.return=j,k)}function q(j,k,H,J){return k===null||k.tag!==4||k.stateNode.containerInfo!==H.containerInfo||k.stateNode.implementation!==H.implementation?(k=oh(H,j.mode,J),k.return=j,k):(k=d(k,H.children||[]),k.return=j,k)}function Q(j,k,H,J,Ee){return k===null||k.tag!==7?(k=Qs(H,j.mode,J,Ee),k.return=j,k):(k=d(k,H),k.return=j,k)}function Z(j,k,H){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=ah(""+k,j.mode,H),k.return=j,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case S:return H=_u(k.type,k.key,k.props,null,j.mode,H),El(H,k),H.return=j,H;case V:return k=oh(k,j.mode,H),k.return=j,k;case x:return k=ea(k),Z(j,k,H)}if(_e(k)||z(k))return k=Qs(k,j.mode,H,null),k.return=j,k;if(typeof k.then=="function")return Z(j,xu(k),H);if(k.$$typeof===ae)return Z(j,wu(j,k),H);Iu(j,k)}return null}function G(j,k,H,J){var Ee=k!==null?k.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Ee!==null?null:T(j,k,""+H,J);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case S:return H.key===Ee?M(j,k,H,J):null;case V:return H.key===Ee?q(j,k,H,J):null;case x:return H=ea(H),G(j,k,H,J)}if(_e(H)||z(H))return Ee!==null?null:Q(j,k,H,J,null);if(typeof H.then=="function")return G(j,k,xu(H),J);if(H.$$typeof===ae)return G(j,k,wu(j,H),J);Iu(j,H)}return null}function $(j,k,H,J,Ee){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return j=j.get(H)||null,T(k,j,""+J,Ee);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case S:return j=j.get(J.key===null?H:J.key)||null,M(k,j,J,Ee);case V:return j=j.get(J.key===null?H:J.key)||null,q(k,j,J,Ee);case x:return J=ea(J),$(j,k,H,J,Ee)}if(_e(J)||z(J))return j=j.get(H)||null,Q(k,j,J,Ee,null);if(typeof J.then=="function")return $(j,k,H,xu(J),Ee);if(J.$$typeof===ae)return $(j,k,H,wu(k,J),Ee);Iu(k,J)}return null}function me(j,k,H,J){for(var Ee=null,Je=null,ve=k,Pe=k=0,He=null;ve!==null&&Pe<H.length;Pe++){ve.index>Pe?(He=ve,ve=null):He=ve.sibling;var Ze=G(j,ve,H[Pe],J);if(Ze===null){ve===null&&(ve=He);break}r&&ve&&Ze.alternate===null&&i(j,ve),k=h(Ze,k,Pe),Je===null?Ee=Ze:Je.sibling=Ze,Je=Ze,ve=He}if(Pe===H.length)return a(j,ve),Ye&&ai(j,Pe),Ee;if(ve===null){for(;Pe<H.length;Pe++)ve=Z(j,H[Pe],J),ve!==null&&(k=h(ve,k,Pe),Je===null?Ee=ve:Je.sibling=ve,Je=ve);return Ye&&ai(j,Pe),Ee}for(ve=c(ve);Pe<H.length;Pe++)He=$(ve,j,Pe,H[Pe],J),He!==null&&(r&&He.alternate!==null&&ve.delete(He.key===null?Pe:He.key),k=h(He,k,Pe),Je===null?Ee=He:Je.sibling=He,Je=He);return r&&ve.forEach(function(ls){return i(j,ls)}),Ye&&ai(j,Pe),Ee}function Se(j,k,H,J){if(H==null)throw Error(s(151));for(var Ee=null,Je=null,ve=k,Pe=k=0,He=null,Ze=H.next();ve!==null&&!Ze.done;Pe++,Ze=H.next()){ve.index>Pe?(He=ve,ve=null):He=ve.sibling;var ls=G(j,ve,Ze.value,J);if(ls===null){ve===null&&(ve=He);break}r&&ve&&ls.alternate===null&&i(j,ve),k=h(ls,k,Pe),Je===null?Ee=ls:Je.sibling=ls,Je=ls,ve=He}if(Ze.done)return a(j,ve),Ye&&ai(j,Pe),Ee;if(ve===null){for(;!Ze.done;Pe++,Ze=H.next())Ze=Z(j,Ze.value,J),Ze!==null&&(k=h(Ze,k,Pe),Je===null?Ee=Ze:Je.sibling=Ze,Je=Ze);return Ye&&ai(j,Pe),Ee}for(ve=c(ve);!Ze.done;Pe++,Ze=H.next())Ze=$(ve,j,Pe,Ze.value,J),Ze!==null&&(r&&Ze.alternate!==null&&ve.delete(Ze.key===null?Pe:Ze.key),k=h(Ze,k,Pe),Je===null?Ee=Ze:Je.sibling=Ze,Je=Ze);return r&&ve.forEach(function(qx){return i(j,qx)}),Ye&&ai(j,Pe),Ee}function ft(j,k,H,J){if(typeof H=="object"&&H!==null&&H.type===U&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case S:e:{for(var Ee=H.key;k!==null;){if(k.key===Ee){if(Ee=H.type,Ee===U){if(k.tag===7){a(j,k.sibling),J=d(k,H.props.children),J.return=j,j=J;break e}}else if(k.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===x&&ea(Ee)===k.type){a(j,k.sibling),J=d(k,H.props),El(J,H),J.return=j,j=J;break e}a(j,k);break}else i(j,k);k=k.sibling}H.type===U?(J=Qs(H.props.children,j.mode,J,H.key),J.return=j,j=J):(J=_u(H.type,H.key,H.props,null,j.mode,J),El(J,H),J.return=j,j=J)}return b(j);case V:e:{for(Ee=H.key;k!==null;){if(k.key===Ee)if(k.tag===4&&k.stateNode.containerInfo===H.containerInfo&&k.stateNode.implementation===H.implementation){a(j,k.sibling),J=d(k,H.children||[]),J.return=j,j=J;break e}else{a(j,k);break}else i(j,k);k=k.sibling}J=oh(H,j.mode,J),J.return=j,j=J}return b(j);case x:return H=ea(H),ft(j,k,H,J)}if(_e(H))return me(j,k,H,J);if(z(H)){if(Ee=z(H),typeof Ee!="function")throw Error(s(150));return H=Ee.call(H),Se(j,k,H,J)}if(typeof H.then=="function")return ft(j,k,xu(H),J);if(H.$$typeof===ae)return ft(j,k,wu(j,H),J);Iu(j,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,k!==null&&k.tag===6?(a(j,k.sibling),J=d(k,H),J.return=j,j=J):(a(j,k),J=ah(H,j.mode,J),J.return=j,j=J),b(j)):a(j,k)}return function(j,k,H,J){try{bl=0;var Ee=ft(j,k,H,J);return Ka=null,Ee}catch(ve){if(ve===Ya||ve===Su)throw ve;var Je=Mn(29,ve,null,j.mode);return Je.lanes=J,Je.return=j,Je}}}var na=tv(!0),nv=tv(!1),Fi=!1;function _h(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bh(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function $i(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Yi(r,i,a){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(tt&2)!==0){var d=c.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),c.pending=i,i=vu(r),zy(r,null,a),i}return yu(r,c,i,a),vu(r)}function wl(r,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var c=i.lanes;c&=r.pendingLanes,a|=c,i.lanes=a,Qo(r,a)}}function Eh(r,i){var a=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?d=h=b:h=h.next=b,a=a.next}while(a!==null);h===null?d=h=i:h=h.next=i}else d=h=i;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:c.shared,callbacks:c.callbacks},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=i:r.next=i,a.lastBaseUpdate=i}var wh=!1;function Tl(){if(wh){var r=$a;if(r!==null)throw r}}function Sl(r,i,a,c){wh=!1;var d=r.updateQueue;Fi=!1;var h=d.firstBaseUpdate,b=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var M=T,q=M.next;M.next=null,b===null?h=q:b.next=q,b=M;var Q=r.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==b&&(T===null?Q.firstBaseUpdate=q:T.next=q,Q.lastBaseUpdate=M))}if(h!==null){var Z=d.baseState;b=0,Q=q=M=null,T=h;do{var G=T.lane&-536870913,$=G!==T.lane;if($?(Be&G)===G:(c&G)===G){G!==0&&G===Fa&&(wh=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var me=r,Se=T;G=i;var ft=a;switch(Se.tag){case 1:if(me=Se.payload,typeof me=="function"){Z=me.call(ft,Z,G);break e}Z=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Se.payload,G=typeof me=="function"?me.call(ft,Z,G):me,G==null)break e;Z=_({},Z,G);break e;case 2:Fi=!0}}G=T.callback,G!==null&&(r.flags|=64,$&&(r.flags|=8192),$=d.callbacks,$===null?d.callbacks=[G]:$.push(G))}else $={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(q=Q=$,M=Z):Q=Q.next=$,b|=G;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;$=T,T=$.next,$.next=null,d.lastBaseUpdate=$,d.shared.pending=null}}while(!0);Q===null&&(M=Z),d.baseState=M,d.firstBaseUpdate=q,d.lastBaseUpdate=Q,h===null&&(d.shared.lanes=0),Ji|=b,r.lanes=b,r.memoizedState=Z}}function rv(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function iv(r,i){var a=r.callbacks;if(a!==null)for(r.callbacks=null,r=0;r<a.length;r++)rv(a[r],i)}var Qa=P(null),Ru=P(0);function sv(r,i){r=yi,ce(Ru,r),ce(Qa,i),yi=r|i.baseLanes}function Th(){ce(Ru,yi),ce(Qa,Qa.current)}function Sh(){yi=Ru.current,W(Qa),W(Ru)}var Vn=P(null),Jn=null;function Ki(r){var i=r.alternate;ce(It,It.current&1),ce(Vn,r),Jn===null&&(i===null||Qa.current!==null||i.memoizedState!==null)&&(Jn=r)}function Ah(r){ce(It,It.current),ce(Vn,r),Jn===null&&(Jn=r)}function av(r){r.tag===22?(ce(It,It.current),ce(Vn,r),Jn===null&&(Jn=r)):Qi()}function Qi(){ce(It,It.current),ce(Vn,Vn.current)}function Pn(r){W(Vn),Jn===r&&(Jn=null),W(It)}var It=P(0);function Cu(r){for(var i=r;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Np(a)||Op(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ci=0,Me=null,ct=null,Lt=null,Du=!1,Xa=!1,ra=!1,Nu=0,Al=0,Wa=null,MA=0;function Tt(){throw Error(s(321))}function xh(r,i){if(i===null)return!1;for(var a=0;a<i.length&&a<r.length;a++)if(!On(r[a],i[a]))return!1;return!0}function Ih(r,i,a,c,d,h){return ci=h,Me=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=r===null||r.memoizedState===null?qv:Hh,ra=!1,h=a(c,d),ra=!1,Xa&&(h=lv(i,a,c,d)),ov(r),h}function ov(r){K.H=Rl;var i=ct!==null&&ct.next!==null;if(ci=0,Lt=ct=Me=null,Du=!1,Al=0,Wa=null,i)throw Error(s(300));r===null||Ut||(r=r.dependencies,r!==null&&Eu(r)&&(Ut=!0))}function lv(r,i,a,c){Me=r;var d=0;do{if(Xa&&(Wa=null),Al=0,Xa=!1,25<=d)throw Error(s(301));if(d+=1,Lt=ct=null,r.updateQueue!=null){var h=r.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}K.H=Gv,h=i(a,c)}while(Xa);return h}function VA(){var r=K.H,i=r.useState()[0];return i=typeof i.then=="function"?xl(i):i,r=r.useState()[0],(ct!==null?ct.memoizedState:null)!==r&&(Me.flags|=1024),i}function Rh(){var r=Nu!==0;return Nu=0,r}function Ch(r,i,a){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~a}function Dh(r){if(Du){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Du=!1}ci=0,Lt=ct=Me=null,Xa=!1,Al=Nu=0,Wa=null}function yn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?Me.memoizedState=Lt=r:Lt=Lt.next=r,Lt}function Rt(){if(ct===null){var r=Me.alternate;r=r!==null?r.memoizedState:null}else r=ct.next;var i=Lt===null?Me.memoizedState:Lt.next;if(i!==null)Lt=i,ct=r;else{if(r===null)throw Me.alternate===null?Error(s(467)):Error(s(310));ct=r,r={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},Lt===null?Me.memoizedState=Lt=r:Lt=Lt.next=r}return Lt}function Ou(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xl(r){var i=Al;return Al+=1,Wa===null&&(Wa=[]),r=Jy(Wa,r,i),i=Me,(Lt===null?i.memoizedState:Lt.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?qv:Hh),r}function Mu(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return xl(r);if(r.$$typeof===ae)return nn(r)}throw Error(s(438,String(r)))}function Nh(r){var i=null,a=Me.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var c=Me.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ou(),Me.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(r),c=0;c<r;c++)a[c]=O;return i.index++,a}function ui(r,i){return typeof i=="function"?i(r):i}function Vu(r){var i=Rt();return Oh(i,ct,r)}function Oh(r,i,a){var c=r.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=a;var d=r.baseQueue,h=c.pending;if(h!==null){if(d!==null){var b=d.next;d.next=h.next,h.next=b}i.baseQueue=d=h,c.pending=null}if(h=r.baseState,d===null)r.memoizedState=h;else{i=d.next;var T=b=null,M=null,q=i,Q=!1;do{var Z=q.lane&-536870913;if(Z!==q.lane?(Be&Z)===Z:(ci&Z)===Z){var G=q.revertLane;if(G===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),Z===Fa&&(Q=!0);else if((ci&G)===G){q=q.next,G===Fa&&(Q=!0);continue}else Z={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},M===null?(T=M=Z,b=h):M=M.next=Z,Me.lanes|=G,Ji|=G;Z=q.action,ra&&a(h,Z),h=q.hasEagerState?q.eagerState:a(h,Z)}else G={lane:Z,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},M===null?(T=M=G,b=h):M=M.next=G,Me.lanes|=Z,Ji|=Z;q=q.next}while(q!==null&&q!==i);if(M===null?b=h:M.next=T,!On(h,r.memoizedState)&&(Ut=!0,Q&&(a=$a,a!==null)))throw a;r.memoizedState=h,r.baseState=b,r.baseQueue=M,c.lastRenderedState=h}return d===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Mh(r){var i=Rt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=r;var c=a.dispatch,d=a.pending,h=i.memoizedState;if(d!==null){a.pending=null;var b=d=d.next;do h=r(h,b.action),b=b.next;while(b!==d);On(h,i.memoizedState)||(Ut=!0),i.memoizedState=h,i.baseQueue===null&&(i.baseState=h),a.lastRenderedState=h}return[h,c]}function cv(r,i,a){var c=Me,d=Rt(),h=Ye;if(h){if(a===void 0)throw Error(s(407));a=a()}else a=i();var b=!On((ct||d).memoizedState,a);if(b&&(d.memoizedState=a,Ut=!0),d=d.queue,kh(dv.bind(null,c,d,r),[r]),d.getSnapshot!==i||b||Lt!==null&&Lt.memoizedState.tag&1){if(c.flags|=2048,Ja(9,{destroy:void 0},fv.bind(null,c,d,a,i),null),dt===null)throw Error(s(349));h||(ci&127)!==0||uv(c,i,a)}return a}function uv(r,i,a){r.flags|=16384,r={getSnapshot:i,value:a},i=Me.updateQueue,i===null?(i=Ou(),Me.updateQueue=i,i.stores=[r]):(a=i.stores,a===null?i.stores=[r]:a.push(r))}function fv(r,i,a,c){i.value=a,i.getSnapshot=c,hv(i)&&pv(r)}function dv(r,i,a){return a(function(){hv(i)&&pv(r)})}function hv(r){var i=r.getSnapshot;r=r.value;try{var a=i();return!On(r,a)}catch{return!0}}function pv(r){var i=Ks(r,2);i!==null&&In(i,r,2)}function Vh(r){var i=yn();if(typeof r=="function"){var a=r;if(r=a(),ra){Hn(!0);try{a()}finally{Hn(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:r},i}function mv(r,i,a,c){return r.baseState=a,Oh(r,ct,typeof c=="function"?c:ui)}function PA(r,i,a,c,d){if(Lu(r))throw Error(s(485));if(r=i.action,r!==null){var h={payload:d,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){h.listeners.push(b)}};K.T!==null?a(!0):h.isTransition=!1,c(h),a=i.pending,a===null?(h.next=i.pending=h,gv(i,h)):(h.next=a.next,i.pending=a.next=h)}}function gv(r,i){var a=i.action,c=i.payload,d=r.state;if(i.isTransition){var h=K.T,b={};K.T=b;try{var T=a(d,c),M=K.S;M!==null&&M(b,T),yv(r,i,T)}catch(q){Ph(r,i,q)}finally{h!==null&&b.types!==null&&(h.types=b.types),K.T=h}}else try{h=a(d,c),yv(r,i,h)}catch(q){Ph(r,i,q)}}function yv(r,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){vv(r,i,c)},function(c){return Ph(r,i,c)}):vv(r,i,a)}function vv(r,i,a){i.status="fulfilled",i.value=a,_v(i),r.state=a,i=r.pending,i!==null&&(a=i.next,a===i?r.pending=null:(a=a.next,i.next=a,gv(r,a)))}function Ph(r,i,a){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=a,_v(i),i=i.next;while(i!==c)}r.action=null}function _v(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function bv(r,i){return i}function Ev(r,i){if(Ye){var a=dt.formState;if(a!==null){e:{var c=Me;if(Ye){if(mt){t:{for(var d=mt,h=Wn;d.nodeType!==8;){if(!h){d=null;break t}if(d=Zn(d.nextSibling),d===null){d=null;break t}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){mt=Zn(d.nextSibling),c=d.data==="F!";break e}}qi(c)}c=!1}c&&(i=a[0])}}return a=yn(),a.memoizedState=a.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bv,lastRenderedState:i},a.queue=c,a=jv.bind(null,Me,c),c.dispatch=a,c=Vh(!1),h=Bh.bind(null,Me,!1,c.queue),c=yn(),d={state:i,dispatch:null,action:r,pending:null},c.queue=d,a=PA.bind(null,Me,d,h,a),d.dispatch=a,c.memoizedState=r,[i,a,!1]}function wv(r){var i=Rt();return Tv(i,ct,r)}function Tv(r,i,a){if(i=Oh(r,i,bv)[0],r=Vu(ui)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=xl(i)}catch(b){throw b===Ya?Su:b}else c=i;i=Rt();var d=i.queue,h=d.dispatch;return a!==i.memoizedState&&(Me.flags|=2048,Ja(9,{destroy:void 0},kA.bind(null,d,a),null)),[c,h,r]}function kA(r,i){r.action=i}function Sv(r){var i=Rt(),a=ct;if(a!==null)return Tv(i,a,r);Rt(),i=i.memoizedState,a=Rt();var c=a.queue.dispatch;return a.memoizedState=r,[i,c,!1]}function Ja(r,i,a,c){return r={tag:r,create:a,deps:c,inst:i,next:null},i=Me.updateQueue,i===null&&(i=Ou(),Me.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=r.next=r:(c=a.next,a.next=r,r.next=c,i.lastEffect=r),r}function Av(){return Rt().memoizedState}function Pu(r,i,a,c){var d=yn();Me.flags|=r,d.memoizedState=Ja(1|i,{destroy:void 0},a,c===void 0?null:c)}function ku(r,i,a,c){var d=Rt();c=c===void 0?null:c;var h=d.memoizedState.inst;ct!==null&&c!==null&&xh(c,ct.memoizedState.deps)?d.memoizedState=Ja(i,h,a,c):(Me.flags|=r,d.memoizedState=Ja(1|i,h,a,c))}function xv(r,i){Pu(8390656,8,r,i)}function kh(r,i){ku(2048,8,r,i)}function LA(r){Me.flags|=4;var i=Me.updateQueue;if(i===null)i=Ou(),Me.updateQueue=i,i.events=[r];else{var a=i.events;a===null?i.events=[r]:a.push(r)}}function Iv(r){var i=Rt().memoizedState;return LA({ref:i,nextImpl:r}),function(){if((tt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Rv(r,i){return ku(4,2,r,i)}function Cv(r,i){return ku(4,4,r,i)}function Dv(r,i){if(typeof i=="function"){r=r();var a=i(r);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Nv(r,i,a){a=a!=null?a.concat([r]):null,ku(4,4,Dv.bind(null,i,r),a)}function Lh(){}function Ov(r,i){var a=Rt();i=i===void 0?null:i;var c=a.memoizedState;return i!==null&&xh(i,c[1])?c[0]:(a.memoizedState=[r,i],r)}function Mv(r,i){var a=Rt();i=i===void 0?null:i;var c=a.memoizedState;if(i!==null&&xh(i,c[1]))return c[0];if(c=r(),ra){Hn(!0);try{r()}finally{Hn(!1)}}return a.memoizedState=[c,i],c}function Uh(r,i,a){return a===void 0||(ci&1073741824)!==0&&(Be&261930)===0?r.memoizedState=i:(r.memoizedState=a,r=V_(),Me.lanes|=r,Ji|=r,a)}function Vv(r,i,a,c){return On(a,i)?a:Qa.current!==null?(r=Uh(r,a,c),On(r,i)||(Ut=!0),r):(ci&42)===0||(ci&1073741824)!==0&&(Be&261930)===0?(Ut=!0,r.memoizedState=a):(r=V_(),Me.lanes|=r,Ji|=r,i)}function Pv(r,i,a,c,d){var h=le.p;le.p=h!==0&&8>h?h:8;var b=K.T,T={};K.T=T,Bh(r,!1,i,a);try{var M=d(),q=K.S;if(q!==null&&q(T,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var Q=OA(M,c);Il(r,i,Q,Un(r))}else Il(r,i,c,Un(r))}catch(Z){Il(r,i,{then:function(){},status:"rejected",reason:Z},Un())}finally{le.p=h,b!==null&&T.types!==null&&(b.types=T.types),K.T=b}}function UA(){}function zh(r,i,a,c){if(r.tag!==5)throw Error(s(476));var d=kv(r).queue;Pv(r,d,i,ye,a===null?UA:function(){return Lv(r),a(c)})}function kv(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:ye},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:a},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function Lv(r){var i=kv(r);i.next===null&&(i=r.alternate.memoizedState),Il(r,i.next.queue,{},Un())}function jh(){return nn(Gl)}function Uv(){return Rt().memoizedState}function zv(){return Rt().memoizedState}function zA(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var a=Un();r=$i(a);var c=Yi(i,r,a);c!==null&&(In(c,i,a),wl(c,i,a)),i={cache:mh()},r.payload=i;return}i=i.return}}function jA(r,i,a){var c=Un();a={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Lu(r)?Bv(i,a):(a=ih(r,i,a,c),a!==null&&(In(a,r,c),Hv(a,i,c)))}function jv(r,i,a){var c=Un();Il(r,i,a,c)}function Il(r,i,a,c){var d={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Lu(r))Bv(i,d);else{var h=r.alternate;if(r.lanes===0&&(h===null||h.lanes===0)&&(h=i.lastRenderedReducer,h!==null))try{var b=i.lastRenderedState,T=h(b,a);if(d.hasEagerState=!0,d.eagerState=T,On(T,b))return yu(r,i,d,0),dt===null&&gu(),!1}catch{}if(a=ih(r,i,d,c),a!==null)return In(a,r,c),Hv(a,i,c),!0}return!1}function Bh(r,i,a,c){if(c={lane:2,revertLane:_p(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Lu(r)){if(i)throw Error(s(479))}else i=ih(r,a,c,2),i!==null&&In(i,r,2)}function Lu(r){var i=r.alternate;return r===Me||i!==null&&i===Me}function Bv(r,i){Xa=Du=!0;var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}function Hv(r,i,a){if((a&4194048)!==0){var c=i.lanes;c&=r.pendingLanes,a|=c,i.lanes=a,Qo(r,a)}}var Rl={readContext:nn,use:Mu,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};Rl.useEffectEvent=Tt;var qv={readContext:nn,use:Mu,useCallback:function(r,i){return yn().memoizedState=[r,i===void 0?null:i],r},useContext:nn,useEffect:xv,useImperativeHandle:function(r,i,a){a=a!=null?a.concat([r]):null,Pu(4194308,4,Dv.bind(null,i,r),a)},useLayoutEffect:function(r,i){return Pu(4194308,4,r,i)},useInsertionEffect:function(r,i){Pu(4,2,r,i)},useMemo:function(r,i){var a=yn();i=i===void 0?null:i;var c=r();if(ra){Hn(!0);try{r()}finally{Hn(!1)}}return a.memoizedState=[c,i],c},useReducer:function(r,i,a){var c=yn();if(a!==void 0){var d=a(i);if(ra){Hn(!0);try{a(i)}finally{Hn(!1)}}}else d=i;return c.memoizedState=c.baseState=d,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:d},c.queue=r,r=r.dispatch=jA.bind(null,Me,r),[c.memoizedState,r]},useRef:function(r){var i=yn();return r={current:r},i.memoizedState=r},useState:function(r){r=Vh(r);var i=r.queue,a=jv.bind(null,Me,i);return i.dispatch=a,[r.memoizedState,a]},useDebugValue:Lh,useDeferredValue:function(r,i){var a=yn();return Uh(a,r,i)},useTransition:function(){var r=Vh(!1);return r=Pv.bind(null,Me,r.queue,!0,!1),yn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,a){var c=Me,d=yn();if(Ye){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),dt===null)throw Error(s(349));(Be&127)!==0||uv(c,i,a)}d.memoizedState=a;var h={value:a,getSnapshot:i};return d.queue=h,xv(dv.bind(null,c,h,r),[r]),c.flags|=2048,Ja(9,{destroy:void 0},fv.bind(null,c,h,a,i),null),a},useId:function(){var r=yn(),i=dt.identifierPrefix;if(Ye){var a=qr,c=Hr;a=(c&~(1<<32-At(c)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Nu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=MA++,i="_"+i+"r_"+a.toString(32)+"_";return r.memoizedState=i},useHostTransitionStatus:jh,useFormState:Ev,useActionState:Ev,useOptimistic:function(r){var i=yn();i.memoizedState=i.baseState=r;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Bh.bind(null,Me,!0,a),a.dispatch=i,[r,i]},useMemoCache:Nh,useCacheRefresh:function(){return yn().memoizedState=zA.bind(null,Me)},useEffectEvent:function(r){var i=yn(),a={impl:r};return i.memoizedState=a,function(){if((tt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Hh={readContext:nn,use:Mu,useCallback:Ov,useContext:nn,useEffect:kh,useImperativeHandle:Nv,useInsertionEffect:Rv,useLayoutEffect:Cv,useMemo:Mv,useReducer:Vu,useRef:Av,useState:function(){return Vu(ui)},useDebugValue:Lh,useDeferredValue:function(r,i){var a=Rt();return Vv(a,ct.memoizedState,r,i)},useTransition:function(){var r=Vu(ui)[0],i=Rt().memoizedState;return[typeof r=="boolean"?r:xl(r),i]},useSyncExternalStore:cv,useId:Uv,useHostTransitionStatus:jh,useFormState:wv,useActionState:wv,useOptimistic:function(r,i){var a=Rt();return mv(a,ct,r,i)},useMemoCache:Nh,useCacheRefresh:zv};Hh.useEffectEvent=Iv;var Gv={readContext:nn,use:Mu,useCallback:Ov,useContext:nn,useEffect:kh,useImperativeHandle:Nv,useInsertionEffect:Rv,useLayoutEffect:Cv,useMemo:Mv,useReducer:Mh,useRef:Av,useState:function(){return Mh(ui)},useDebugValue:Lh,useDeferredValue:function(r,i){var a=Rt();return ct===null?Uh(a,r,i):Vv(a,ct.memoizedState,r,i)},useTransition:function(){var r=Mh(ui)[0],i=Rt().memoizedState;return[typeof r=="boolean"?r:xl(r),i]},useSyncExternalStore:cv,useId:Uv,useHostTransitionStatus:jh,useFormState:Sv,useActionState:Sv,useOptimistic:function(r,i){var a=Rt();return ct!==null?mv(a,ct,r,i):(a.baseState=r,[r,a.queue.dispatch])},useMemoCache:Nh,useCacheRefresh:zv};Gv.useEffectEvent=Iv;function qh(r,i,a,c){i=r.memoizedState,a=a(c,i),a=a==null?i:_({},i,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Gh={enqueueSetState:function(r,i,a){r=r._reactInternals;var c=Un(),d=$i(c);d.payload=i,a!=null&&(d.callback=a),i=Yi(r,d,c),i!==null&&(In(i,r,c),wl(i,r,c))},enqueueReplaceState:function(r,i,a){r=r._reactInternals;var c=Un(),d=$i(c);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=Yi(r,d,c),i!==null&&(In(i,r,c),wl(i,r,c))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var a=Un(),c=$i(a);c.tag=2,i!=null&&(c.callback=i),i=Yi(r,c,a),i!==null&&(In(i,r,a),wl(i,r,a))}};function Fv(r,i,a,c,d,h,b){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,h,b):i.prototype&&i.prototype.isPureReactComponent?!pl(a,c)||!pl(d,h):!0}function $v(r,i,a,c){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==r&&Gh.enqueueReplaceState(i,i.state,null)}function ia(r,i){var a=i;if("ref"in i){a={};for(var c in i)c!=="ref"&&(a[c]=i[c])}if(r=r.defaultProps){a===i&&(a=_({},a));for(var d in r)a[d]===void 0&&(a[d]=r[d])}return a}function Yv(r){mu(r)}function Kv(r){console.error(r)}function Qv(r){mu(r)}function Uu(r,i){try{var a=r.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function Xv(r,i,a){try{var c=r.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Fh(r,i,a){return a=$i(a),a.tag=3,a.payload={element:null},a.callback=function(){Uu(r,i)},a}function Wv(r){return r=$i(r),r.tag=3,r}function Jv(r,i,a,c){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var h=c.value;r.payload=function(){return d(h)},r.callback=function(){Xv(i,a,c)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(r.callback=function(){Xv(i,a,c),typeof d!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var T=c.stack;this.componentDidCatch(c.value,{componentStack:T!==null?T:""})})}function BA(r,i,a,c,d){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=a.alternate,i!==null&&Ga(i,a,d,!0),a=Vn.current,a!==null){switch(a.tag){case 31:case 13:return Jn===null?Xu():a.alternate===null&&St===0&&(St=3),a.flags&=-257,a.flags|=65536,a.lanes=d,c===Au?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([c]):i.add(c),gp(r,c,d)),!1;case 22:return a.flags|=65536,c===Au?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([c]):a.add(c)),gp(r,c,d)),!1}throw Error(s(435,a.tag))}return gp(r,c,d),Xu(),!1}if(Ye)return i=Vn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,c!==uh&&(r=Error(s(422),{cause:c}),yl(Kn(r,a)))):(c!==uh&&(i=Error(s(423),{cause:c}),yl(Kn(i,a))),r=r.current.alternate,r.flags|=65536,d&=-d,r.lanes|=d,c=Kn(c,a),d=Fh(r.stateNode,c,d),Eh(r,d),St!==4&&(St=2)),!1;var h=Error(s(520),{cause:c});if(h=Kn(h,a),kl===null?kl=[h]:kl.push(h),St!==4&&(St=2),i===null)return!0;c=Kn(c,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,r=d&-d,a.lanes|=r,r=Fh(a.stateNode,c,r),Eh(a,r),!1;case 1:if(i=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Zi===null||!Zi.has(h))))return a.flags|=65536,d&=-d,a.lanes|=d,d=Wv(d),Jv(d,r,a,c),Eh(a,d),!1}a=a.return}while(a!==null);return!1}var $h=Error(s(461)),Ut=!1;function rn(r,i,a,c){i.child=r===null?nv(i,null,a,c):na(i,r.child,a,c)}function Zv(r,i,a,c,d){a=a.render;var h=i.ref;if("ref"in c){var b={};for(var T in c)T!=="ref"&&(b[T]=c[T])}else b=c;return Js(i),c=Ih(r,i,a,b,h,d),T=Rh(),r!==null&&!Ut?(Ch(r,i,d),fi(r,i,d)):(Ye&&T&&lh(i),i.flags|=1,rn(r,i,c,d),i.child)}function e_(r,i,a,c,d){if(r===null){var h=a.type;return typeof h=="function"&&!sh(h)&&h.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=h,t_(r,i,h,c,d)):(r=_u(a.type,null,c,i,i.mode,d),r.ref=i.ref,r.return=i,i.child=r)}if(h=r.child,!ep(r,d)){var b=h.memoizedProps;if(a=a.compare,a=a!==null?a:pl,a(b,c)&&r.ref===i.ref)return fi(r,i,d)}return i.flags|=1,r=si(h,c),r.ref=i.ref,r.return=i,i.child=r}function t_(r,i,a,c,d){if(r!==null){var h=r.memoizedProps;if(pl(h,c)&&r.ref===i.ref)if(Ut=!1,i.pendingProps=c=h,ep(r,d))(r.flags&131072)!==0&&(Ut=!0);else return i.lanes=r.lanes,fi(r,i,d)}return Yh(r,i,a,c,d)}function n_(r,i,a,c){var d=c.children,h=r!==null?r.memoizedState:null;if(r===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(h=h!==null?h.baseLanes|a:a,r!==null){for(c=i.child=r.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;c=d&~h}else c=0,i.child=null;return r_(r,i,h,a,c)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&Tu(i,h!==null?h.cachePool:null),h!==null?sv(i,h):Th(),av(i);else return c=i.lanes=536870912,r_(r,i,h!==null?h.baseLanes|a:a,a,c)}else h!==null?(Tu(i,h.cachePool),sv(i,h),Qi(),i.memoizedState=null):(r!==null&&Tu(i,null),Th(),Qi());return rn(r,i,d,a),i.child}function Cl(r,i){return r!==null&&r.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function r_(r,i,a,c,d){var h=yh();return h=h===null?null:{parent:kt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},r!==null&&Tu(i,null),Th(),av(i),r!==null&&Ga(r,i,c,!0),i.childLanes=d,null}function zu(r,i){return i=Bu({mode:i.mode,children:i.children},r.mode),i.ref=r.ref,r.child=i,i.return=r,i}function i_(r,i,a){return na(i,r.child,null,a),r=zu(i,i.pendingProps),r.flags|=2,Pn(i),i.memoizedState=null,r}function HA(r,i,a){var c=i.pendingProps,d=(i.flags&128)!==0;if(i.flags&=-129,r===null){if(Ye){if(c.mode==="hidden")return r=zu(i,c),i.lanes=536870912,Cl(null,r);if(Ah(i),(r=mt)?(r=gb(r,Wn),r=r!==null&&r.data==="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:Bi!==null?{id:Hr,overflow:qr}:null,retryLane:536870912,hydrationErrors:null},a=By(r),a.return=i,i.child=a,tn=i,mt=null)):r=null,r===null)throw qi(i);return i.lanes=536870912,null}return zu(i,c)}var h=r.memoizedState;if(h!==null){var b=h.dehydrated;if(Ah(i),d)if(i.flags&256)i.flags&=-257,i=i_(r,i,a);else if(i.memoizedState!==null)i.child=r.child,i.flags|=128,i=null;else throw Error(s(558));else if(Ut||Ga(r,i,a,!1),d=(a&r.childLanes)!==0,Ut||d){if(c=dt,c!==null&&(b=Xo(c,a),b!==0&&b!==h.retryLane))throw h.retryLane=b,Ks(r,b),In(c,r,b),$h;Xu(),i=i_(r,i,a)}else r=h.treeContext,mt=Zn(b.nextSibling),tn=i,Ye=!0,Hi=null,Wn=!1,r!==null&&Gy(i,r),i=zu(i,c),i.flags|=4096;return i}return r=si(r.child,{mode:c.mode,children:c.children}),r.ref=i.ref,i.child=r,r.return=i,r}function ju(r,i){var a=i.ref;if(a===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(r===null||r.ref!==a)&&(i.flags|=4194816)}}function Yh(r,i,a,c,d){return Js(i),a=Ih(r,i,a,c,void 0,d),c=Rh(),r!==null&&!Ut?(Ch(r,i,d),fi(r,i,d)):(Ye&&c&&lh(i),i.flags|=1,rn(r,i,a,d),i.child)}function s_(r,i,a,c,d,h){return Js(i),i.updateQueue=null,a=lv(i,c,a,d),ov(r),c=Rh(),r!==null&&!Ut?(Ch(r,i,h),fi(r,i,h)):(Ye&&c&&lh(i),i.flags|=1,rn(r,i,a,h),i.child)}function a_(r,i,a,c,d){if(Js(i),i.stateNode===null){var h=ja,b=a.contextType;typeof b=="object"&&b!==null&&(h=nn(b)),h=new a(c,h),i.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Gh,i.stateNode=h,h._reactInternals=i,h=i.stateNode,h.props=c,h.state=i.memoizedState,h.refs={},_h(i),b=a.contextType,h.context=typeof b=="object"&&b!==null?nn(b):ja,h.state=i.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(qh(i,a,b,c),h.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(b=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),b!==h.state&&Gh.enqueueReplaceState(h,h.state,null),Sl(i,c,h,d),Tl(),h.state=i.memoizedState),typeof h.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(r===null){h=i.stateNode;var T=i.memoizedProps,M=ia(a,T);h.props=M;var q=h.context,Q=a.contextType;b=ja,typeof Q=="object"&&Q!==null&&(b=nn(Q));var Z=a.getDerivedStateFromProps;Q=typeof Z=="function"||typeof h.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Q||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(T||q!==b)&&$v(i,h,c,b),Fi=!1;var G=i.memoizedState;h.state=G,Sl(i,c,h,d),Tl(),q=i.memoizedState,T||G!==q||Fi?(typeof Z=="function"&&(qh(i,a,Z,c),q=i.memoizedState),(M=Fi||Fv(i,a,M,c,G,q,b))?(Q||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(i.flags|=4194308)):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=q),h.props=c,h.state=q,h.context=b,c=M):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{h=i.stateNode,bh(r,i),b=i.memoizedProps,Q=ia(a,b),h.props=Q,Z=i.pendingProps,G=h.context,q=a.contextType,M=ja,typeof q=="object"&&q!==null&&(M=nn(q)),T=a.getDerivedStateFromProps,(q=typeof T=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(b!==Z||G!==M)&&$v(i,h,c,M),Fi=!1,G=i.memoizedState,h.state=G,Sl(i,c,h,d),Tl();var $=i.memoizedState;b!==Z||G!==$||Fi||r!==null&&r.dependencies!==null&&Eu(r.dependencies)?(typeof T=="function"&&(qh(i,a,T,c),$=i.memoizedState),(Q=Fi||Fv(i,a,Q,c,G,$,M)||r!==null&&r.dependencies!==null&&Eu(r.dependencies))?(q||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(c,$,M),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(c,$,M)),typeof h.componentDidUpdate=="function"&&(i.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof h.componentDidUpdate!="function"||b===r.memoizedProps&&G===r.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&G===r.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=$),h.props=c,h.state=$,h.context=M,c=Q):(typeof h.componentDidUpdate!="function"||b===r.memoizedProps&&G===r.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&G===r.memoizedState||(i.flags|=1024),c=!1)}return h=c,ju(r,i),c=(i.flags&128)!==0,h||c?(h=i.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:h.render(),i.flags|=1,r!==null&&c?(i.child=na(i,r.child,null,d),i.child=na(i,null,a,d)):rn(r,i,a,d),i.memoizedState=h.state,r=i.child):r=fi(r,i,d),r}function o_(r,i,a,c){return Xs(),i.flags|=256,rn(r,i,a,c),i.child}var Kh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qh(r){return{baseLanes:r,cachePool:Xy()}}function Xh(r,i,a){return r=r!==null?r.childLanes&~a:0,i&&(r|=Ln),r}function l_(r,i,a){var c=i.pendingProps,d=!1,h=(i.flags&128)!==0,b;if((b=h)||(b=r!==null&&r.memoizedState===null?!1:(It.current&2)!==0),b&&(d=!0,i.flags&=-129),b=(i.flags&32)!==0,i.flags&=-33,r===null){if(Ye){if(d?Ki(i):Qi(),(r=mt)?(r=gb(r,Wn),r=r!==null&&r.data!=="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:Bi!==null?{id:Hr,overflow:qr}:null,retryLane:536870912,hydrationErrors:null},a=By(r),a.return=i,i.child=a,tn=i,mt=null)):r=null,r===null)throw qi(i);return Op(r)?i.lanes=32:i.lanes=536870912,null}var T=c.children;return c=c.fallback,d?(Qi(),d=i.mode,T=Bu({mode:"hidden",children:T},d),c=Qs(c,d,a,null),T.return=i,c.return=i,T.sibling=c,i.child=T,c=i.child,c.memoizedState=Qh(a),c.childLanes=Xh(r,b,a),i.memoizedState=Kh,Cl(null,c)):(Ki(i),Wh(i,T))}var M=r.memoizedState;if(M!==null&&(T=M.dehydrated,T!==null)){if(h)i.flags&256?(Ki(i),i.flags&=-257,i=Jh(r,i,a)):i.memoizedState!==null?(Qi(),i.child=r.child,i.flags|=128,i=null):(Qi(),T=c.fallback,d=i.mode,c=Bu({mode:"visible",children:c.children},d),T=Qs(T,d,a,null),T.flags|=2,c.return=i,T.return=i,c.sibling=T,i.child=c,na(i,r.child,null,a),c=i.child,c.memoizedState=Qh(a),c.childLanes=Xh(r,b,a),i.memoizedState=Kh,i=Cl(null,c));else if(Ki(i),Op(T)){if(b=T.nextSibling&&T.nextSibling.dataset,b)var q=b.dgst;b=q,c=Error(s(419)),c.stack="",c.digest=b,yl({value:c,source:null,stack:null}),i=Jh(r,i,a)}else if(Ut||Ga(r,i,a,!1),b=(a&r.childLanes)!==0,Ut||b){if(b=dt,b!==null&&(c=Xo(b,a),c!==0&&c!==M.retryLane))throw M.retryLane=c,Ks(r,c),In(b,r,c),$h;Np(T)||Xu(),i=Jh(r,i,a)}else Np(T)?(i.flags|=192,i.child=r.child,i=null):(r=M.treeContext,mt=Zn(T.nextSibling),tn=i,Ye=!0,Hi=null,Wn=!1,r!==null&&Gy(i,r),i=Wh(i,c.children),i.flags|=4096);return i}return d?(Qi(),T=c.fallback,d=i.mode,M=r.child,q=M.sibling,c=si(M,{mode:"hidden",children:c.children}),c.subtreeFlags=M.subtreeFlags&65011712,q!==null?T=si(q,T):(T=Qs(T,d,a,null),T.flags|=2),T.return=i,c.return=i,c.sibling=T,i.child=c,Cl(null,c),c=i.child,T=r.child.memoizedState,T===null?T=Qh(a):(d=T.cachePool,d!==null?(M=kt._currentValue,d=d.parent!==M?{parent:M,pool:M}:d):d=Xy(),T={baseLanes:T.baseLanes|a,cachePool:d}),c.memoizedState=T,c.childLanes=Xh(r,b,a),i.memoizedState=Kh,Cl(r.child,c)):(Ki(i),a=r.child,r=a.sibling,a=si(a,{mode:"visible",children:c.children}),a.return=i,a.sibling=null,r!==null&&(b=i.deletions,b===null?(i.deletions=[r],i.flags|=16):b.push(r)),i.child=a,i.memoizedState=null,a)}function Wh(r,i){return i=Bu({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Bu(r,i){return r=Mn(22,r,null,i),r.lanes=0,r}function Jh(r,i,a){return na(i,r.child,null,a),r=Wh(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function c_(r,i,a){r.lanes|=i;var c=r.alternate;c!==null&&(c.lanes|=i),hh(r.return,i,a)}function Zh(r,i,a,c,d,h){var b=r.memoizedState;b===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d,treeForkCount:h}:(b.isBackwards=i,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=a,b.tailMode=d,b.treeForkCount=h)}function u_(r,i,a){var c=i.pendingProps,d=c.revealOrder,h=c.tail;c=c.children;var b=It.current,T=(b&2)!==0;if(T?(b=b&1|2,i.flags|=128):b&=1,ce(It,b),rn(r,i,c,a),c=Ye?gl:0,!T&&r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&c_(r,a,i);else if(r.tag===19)c_(r,a,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(d){case"forwards":for(a=i.child,d=null;a!==null;)r=a.alternate,r!==null&&Cu(r)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),Zh(i,!1,d,a,h,c);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(r=d.alternate,r!==null&&Cu(r)===null){i.child=d;break}r=d.sibling,d.sibling=a,a=d,d=r}Zh(i,!0,a,null,h,c);break;case"together":Zh(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function fi(r,i,a){if(r!==null&&(i.dependencies=r.dependencies),Ji|=i.lanes,(a&i.childLanes)===0)if(r!==null){if(Ga(r,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,a=si(r,r.pendingProps),i.child=a,a.return=i;r.sibling!==null;)r=r.sibling,a=a.sibling=si(r,r.pendingProps),a.return=i;a.sibling=null}return i.child}function ep(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&Eu(r)))}function qA(r,i,a){switch(i.tag){case 3:vt(i,i.stateNode.containerInfo),Gi(i,kt,r.memoizedState.cache),Xs();break;case 27:case 5:Ve(i);break;case 4:vt(i,i.stateNode.containerInfo);break;case 10:Gi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Ah(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Ki(i),i.flags|=128,null):(a&i.child.childLanes)!==0?l_(r,i,a):(Ki(i),r=fi(r,i,a),r!==null?r.sibling:null);Ki(i);break;case 19:var d=(r.flags&128)!==0;if(c=(a&i.childLanes)!==0,c||(Ga(r,i,a,!1),c=(a&i.childLanes)!==0),d){if(c)return u_(r,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ce(It,It.current),c)break;return null;case 22:return i.lanes=0,n_(r,i,a,i.pendingProps);case 24:Gi(i,kt,r.memoizedState.cache)}return fi(r,i,a)}function f_(r,i,a){if(r!==null)if(r.memoizedProps!==i.pendingProps)Ut=!0;else{if(!ep(r,a)&&(i.flags&128)===0)return Ut=!1,qA(r,i,a);Ut=(r.flags&131072)!==0}else Ut=!1,Ye&&(i.flags&1048576)!==0&&qy(i,gl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var c=i.pendingProps;if(r=ea(i.elementType),i.type=r,typeof r=="function")sh(r)?(c=ia(r,c),i.tag=1,i=a_(null,i,r,c,a)):(i.tag=0,i=Yh(null,i,r,c,a));else{if(r!=null){var d=r.$$typeof;if(d===se){i.tag=11,i=Zv(null,i,r,c,a);break e}else if(d===I){i.tag=14,i=e_(null,i,r,c,a);break e}}throw i=$e(r)||r,Error(s(306,i,""))}}return i;case 0:return Yh(r,i,i.type,i.pendingProps,a);case 1:return c=i.type,d=ia(c,i.pendingProps),a_(r,i,c,d,a);case 3:e:{if(vt(i,i.stateNode.containerInfo),r===null)throw Error(s(387));c=i.pendingProps;var h=i.memoizedState;d=h.element,bh(r,i),Sl(i,c,null,a);var b=i.memoizedState;if(c=b.cache,Gi(i,kt,c),c!==h.cache&&ph(i,[kt],a,!0),Tl(),c=b.element,h.isDehydrated)if(h={element:c,isDehydrated:!1,cache:b.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=o_(r,i,c,a);break e}else if(c!==d){d=Kn(Error(s(424)),i),yl(d),i=o_(r,i,c,a);break e}else for(r=i.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,mt=Zn(r.firstChild),tn=i,Ye=!0,Hi=null,Wn=!0,a=nv(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Xs(),c===d){i=fi(r,i,a);break e}rn(r,i,c,a)}i=i.child}return i;case 26:return ju(r,i),r===null?(a=wb(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ye||(a=i.type,r=i.pendingProps,c=rf(xe.current).createElement(a),c[Mt]=i,c[Yt]=r,sn(c,a,r),Vt(c),i.stateNode=c):i.memoizedState=wb(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return Ve(i),r===null&&Ye&&(c=i.stateNode=_b(i.type,i.pendingProps,xe.current),tn=i,Wn=!0,d=mt,rs(i.type)?(Mp=d,mt=Zn(c.firstChild)):mt=d),rn(r,i,i.pendingProps.children,a),ju(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&Ye&&((d=c=mt)&&(c=_x(c,i.type,i.pendingProps,Wn),c!==null?(i.stateNode=c,tn=i,mt=Zn(c.firstChild),Wn=!1,d=!0):d=!1),d||qi(i)),Ve(i),d=i.type,h=i.pendingProps,b=r!==null?r.memoizedProps:null,c=h.children,Rp(d,h)?c=null:b!==null&&Rp(d,b)&&(i.flags|=32),i.memoizedState!==null&&(d=Ih(r,i,VA,null,null,a),Gl._currentValue=d),ju(r,i),rn(r,i,c,a),i.child;case 6:return r===null&&Ye&&((r=a=mt)&&(a=bx(a,i.pendingProps,Wn),a!==null?(i.stateNode=a,tn=i,mt=null,r=!0):r=!1),r||qi(i)),null;case 13:return l_(r,i,a);case 4:return vt(i,i.stateNode.containerInfo),c=i.pendingProps,r===null?i.child=na(i,null,c,a):rn(r,i,c,a),i.child;case 11:return Zv(r,i,i.type,i.pendingProps,a);case 7:return rn(r,i,i.pendingProps,a),i.child;case 8:return rn(r,i,i.pendingProps.children,a),i.child;case 12:return rn(r,i,i.pendingProps.children,a),i.child;case 10:return c=i.pendingProps,Gi(i,i.type,c.value),rn(r,i,c.children,a),i.child;case 9:return d=i.type._context,c=i.pendingProps.children,Js(i),d=nn(d),c=c(d),i.flags|=1,rn(r,i,c,a),i.child;case 14:return e_(r,i,i.type,i.pendingProps,a);case 15:return t_(r,i,i.type,i.pendingProps,a);case 19:return u_(r,i,a);case 31:return HA(r,i,a);case 22:return n_(r,i,a,i.pendingProps);case 24:return Js(i),c=nn(kt),r===null?(d=yh(),d===null&&(d=dt,h=mh(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=a),d=h),i.memoizedState={parent:c,cache:d},_h(i),Gi(i,kt,d)):((r.lanes&a)!==0&&(bh(r,i),Sl(i,null,null,a),Tl()),d=r.memoizedState,h=i.memoizedState,d.parent!==c?(d={parent:c,cache:c},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Gi(i,kt,c)):(c=h.cache,Gi(i,kt,c),c!==d.cache&&ph(i,[kt],a,!0))),rn(r,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function di(r){r.flags|=4}function tp(r,i,a,c,d){if((i=(r.mode&32)!==0)&&(i=!1),i){if(r.flags|=16777216,(d&335544128)===d)if(r.stateNode.complete)r.flags|=8192;else if(U_())r.flags|=8192;else throw ta=Au,vh}else r.flags&=-16777217}function d_(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Ib(i))if(U_())r.flags|=8192;else throw ta=Au,vh}function Hu(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Kc():536870912,r.lanes|=i,no|=i)}function Dl(r,i){if(!Ye)switch(r.tailMode){case"hidden":i=r.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function gt(r){var i=r.alternate!==null&&r.alternate.child===r.child,a=0,c=0;if(i)for(var d=r.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=c,r.childLanes=a,i}function GA(r,i,a){var c=i.pendingProps;switch(ch(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(i),null;case 1:return gt(i),null;case 3:return a=i.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),li(kt),ne(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(r===null||r.child===null)&&(qa(i)?di(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,fh())),gt(i),null;case 26:var d=i.type,h=i.memoizedState;return r===null?(di(i),h!==null?(gt(i),d_(i,h)):(gt(i),tp(i,d,null,c,a))):h?h!==r.memoizedState?(di(i),gt(i),d_(i,h)):(gt(i),i.flags&=-16777217):(r=r.memoizedProps,r!==c&&di(i),gt(i),tp(i,d,r,c,a)),null;case 27:if(Ue(i),a=xe.current,d=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==c&&di(i);else{if(!c){if(i.stateNode===null)throw Error(s(166));return gt(i),null}r=de.current,qa(i)?Fy(i):(r=_b(d,c,a),i.stateNode=r,di(i))}return gt(i),null;case 5:if(Ue(i),d=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==c&&di(i);else{if(!c){if(i.stateNode===null)throw Error(s(166));return gt(i),null}if(h=de.current,qa(i))Fy(i);else{var b=rf(xe.current);switch(h){case 1:h=b.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:h=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":h=b.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":h=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":h=b.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?h.multiple=!0:c.size&&(h.size=c.size);break;default:h=typeof c.is=="string"?b.createElement(d,{is:c.is}):b.createElement(d)}}h[Mt]=i,h[Yt]=c;e:for(b=i.child;b!==null;){if(b.tag===5||b.tag===6)h.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===i)break e;for(;b.sibling===null;){if(b.return===null||b.return===i)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}i.stateNode=h;e:switch(sn(h,d,c),d){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&di(i)}}return gt(i),tp(i,i.type,r===null?null:r.memoizedProps,i.pendingProps,a),null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==c&&di(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(s(166));if(r=xe.current,qa(i)){if(r=i.stateNode,a=i.memoizedProps,c=null,d=tn,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}r[Mt]=i,r=!!(r.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||lb(r.nodeValue,a)),r||qi(i,!0)}else r=rf(r).createTextNode(c),r[Mt]=i,i.stateNode=r}return gt(i),null;case 31:if(a=i.memoizedState,r===null||r.memoizedState!==null){if(c=qa(i),a!==null){if(r===null){if(!c)throw Error(s(318));if(r=i.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(557));r[Mt]=i}else Xs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;gt(i),r=!1}else a=fh(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=a),r=!0;if(!r)return i.flags&256?(Pn(i),i):(Pn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return gt(i),null;case 13:if(c=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(d=qa(i),c!==null&&c.dehydrated!==null){if(r===null){if(!d)throw Error(s(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Mt]=i}else Xs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;gt(i),d=!1}else d=fh(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(Pn(i),i):(Pn(i),null)}return Pn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=c!==null,r=r!==null&&r.memoizedState!==null,a&&(c=i.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool),h=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(h=c.memoizedState.cachePool.pool),h!==d&&(c.flags|=2048)),a!==r&&a&&(i.child.flags|=8192),Hu(i,i.updateQueue),gt(i),null);case 4:return ne(),r===null&&Tp(i.stateNode.containerInfo),gt(i),null;case 10:return li(i.type),gt(i),null;case 19:if(W(It),c=i.memoizedState,c===null)return gt(i),null;if(d=(i.flags&128)!==0,h=c.rendering,h===null)if(d)Dl(c,!1);else{if(St!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(h=Cu(r),h!==null){for(i.flags|=128,Dl(c,!1),r=h.updateQueue,i.updateQueue=r,Hu(i,r),i.subtreeFlags=0,r=a,a=i.child;a!==null;)jy(a,r),a=a.sibling;return ce(It,It.current&1|2),Ye&&ai(i,c.treeForkCount),i.child}r=r.sibling}c.tail!==null&&mn()>Yu&&(i.flags|=128,d=!0,Dl(c,!1),i.lanes=4194304)}else{if(!d)if(r=Cu(h),r!==null){if(i.flags|=128,d=!0,r=r.updateQueue,i.updateQueue=r,Hu(i,r),Dl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!Ye)return gt(i),null}else 2*mn()-c.renderingStartTime>Yu&&a!==536870912&&(i.flags|=128,d=!0,Dl(c,!1),i.lanes=4194304);c.isBackwards?(h.sibling=i.child,i.child=h):(r=c.last,r!==null?r.sibling=h:i.child=h,c.last=h)}return c.tail!==null?(r=c.tail,c.rendering=r,c.tail=r.sibling,c.renderingStartTime=mn(),r.sibling=null,a=It.current,ce(It,d?a&1|2:a&1),Ye&&ai(i,c.treeForkCount),r):(gt(i),null);case 22:case 23:return Pn(i),Sh(),c=i.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(a&536870912)!==0&&(i.flags&128)===0&&(gt(i),i.subtreeFlags&6&&(i.flags|=8192)):gt(i),a=i.updateQueue,a!==null&&Hu(i,a.retryQueue),a=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==a&&(i.flags|=2048),r!==null&&W(Zs),null;case 24:return a=null,r!==null&&(a=r.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),li(kt),gt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function FA(r,i){switch(ch(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return li(kt),ne(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return Ue(i),null;case 31:if(i.memoizedState!==null){if(Pn(i),i.alternate===null)throw Error(s(340));Xs()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 13:if(Pn(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Xs()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return W(It),null;case 4:return ne(),null;case 10:return li(i.type),null;case 22:case 23:return Pn(i),Sh(),r!==null&&W(Zs),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return li(kt),null;case 25:return null;default:return null}}function h_(r,i){switch(ch(i),i.tag){case 3:li(kt),ne();break;case 26:case 27:case 5:Ue(i);break;case 4:ne();break;case 31:i.memoizedState!==null&&Pn(i);break;case 13:Pn(i);break;case 19:W(It);break;case 10:li(i.type);break;case 22:case 23:Pn(i),Sh(),r!==null&&W(Zs);break;case 24:li(kt)}}function Nl(r,i){try{var a=i.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var d=c.next;a=d;do{if((a.tag&r)===r){c=void 0;var h=a.create,b=a.inst;c=h(),b.destroy=c}a=a.next}while(a!==d)}}catch(T){ot(i,i.return,T)}}function Xi(r,i,a){try{var c=i.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var h=d.next;c=h;do{if((c.tag&r)===r){var b=c.inst,T=b.destroy;if(T!==void 0){b.destroy=void 0,d=i;var M=a,q=T;try{q()}catch(Q){ot(d,M,Q)}}}c=c.next}while(c!==h)}}catch(Q){ot(i,i.return,Q)}}function p_(r){var i=r.updateQueue;if(i!==null){var a=r.stateNode;try{iv(i,a)}catch(c){ot(r,r.return,c)}}}function m_(r,i,a){a.props=ia(r.type,r.memoizedProps),a.state=r.memoizedState;try{a.componentWillUnmount()}catch(c){ot(r,i,c)}}function Ol(r,i){try{var a=r.ref;if(a!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof a=="function"?r.refCleanup=a(c):a.current=c}}catch(d){ot(r,i,d)}}function Gr(r,i){var a=r.ref,c=r.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(d){ot(r,i,d)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){ot(r,i,d)}else a.current=null}function g_(r){var i=r.type,a=r.memoizedProps,c=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(d){ot(r,r.return,d)}}function np(r,i,a){try{var c=r.stateNode;hx(c,r.type,a,i),c[Yt]=i}catch(d){ot(r,r.return,d)}}function y_(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&rs(r.type)||r.tag===4}function rp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||y_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&rs(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function ip(r,i,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(r,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(r),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=fr));else if(c!==4&&(c===27&&rs(r.type)&&(a=r.stateNode,i=null),r=r.child,r!==null))for(ip(r,i,a),r=r.sibling;r!==null;)ip(r,i,a),r=r.sibling}function qu(r,i,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?a.insertBefore(r,i):a.appendChild(r);else if(c!==4&&(c===27&&rs(r.type)&&(a=r.stateNode),r=r.child,r!==null))for(qu(r,i,a),r=r.sibling;r!==null;)qu(r,i,a),r=r.sibling}function v_(r){var i=r.stateNode,a=r.memoizedProps;try{for(var c=r.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);sn(i,c,a),i[Mt]=r,i[Yt]=a}catch(h){ot(r,r.return,h)}}var hi=!1,zt=!1,sp=!1,__=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function $A(r,i){if(r=r.containerInfo,xp=ff,r=Ny(r),Jd(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var b=0,T=-1,M=-1,q=0,Q=0,Z=r,G=null;t:for(;;){for(var $;Z!==a||d!==0&&Z.nodeType!==3||(T=b+d),Z!==h||c!==0&&Z.nodeType!==3||(M=b+c),Z.nodeType===3&&(b+=Z.nodeValue.length),($=Z.firstChild)!==null;)G=Z,Z=$;for(;;){if(Z===r)break t;if(G===a&&++q===d&&(T=b),G===h&&++Q===c&&(M=b),($=Z.nextSibling)!==null)break;Z=G,G=Z.parentNode}Z=$}a=T===-1||M===-1?null:{start:T,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ip={focusedElem:r,selectionRange:a},ff=!1,Qt=i;Qt!==null;)if(i=Qt,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,Qt=r;else for(;Qt!==null;){switch(i=Qt,h=i.alternate,r=i.flags,i.tag){case 0:if((r&4)!==0&&(r=i.updateQueue,r=r!==null?r.events:null,r!==null))for(a=0;a<r.length;a++)d=r[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&h!==null){r=void 0,a=i,d=h.memoizedProps,h=h.memoizedState,c=a.stateNode;try{var me=ia(a.type,d);r=c.getSnapshotBeforeUpdate(me,h),c.__reactInternalSnapshotBeforeUpdate=r}catch(Se){ot(a,a.return,Se)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,a=r.nodeType,a===9)Dp(r);else if(a===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Dp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,Qt=r;break}Qt=i.return}}function b_(r,i,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:mi(r,a),c&4&&Nl(5,a);break;case 1:if(mi(r,a),c&4)if(r=a.stateNode,i===null)try{r.componentDidMount()}catch(b){ot(a,a.return,b)}else{var d=ia(a.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(d,i,r.__reactInternalSnapshotBeforeUpdate)}catch(b){ot(a,a.return,b)}}c&64&&p_(a),c&512&&Ol(a,a.return);break;case 3:if(mi(r,a),c&64&&(r=a.updateQueue,r!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{iv(r,i)}catch(b){ot(a,a.return,b)}}break;case 27:i===null&&c&4&&v_(a);case 26:case 5:mi(r,a),i===null&&c&4&&g_(a),c&512&&Ol(a,a.return);break;case 12:mi(r,a);break;case 31:mi(r,a),c&4&&T_(r,a);break;case 13:mi(r,a),c&4&&S_(r,a),c&64&&(r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(a=tx.bind(null,a),Ex(r,a))));break;case 22:if(c=a.memoizedState!==null||hi,!c){i=i!==null&&i.memoizedState!==null||zt,d=hi;var h=zt;hi=c,(zt=i)&&!h?gi(r,a,(a.subtreeFlags&8772)!==0):mi(r,a),hi=d,zt=h}break;case 30:break;default:mi(r,a)}}function E_(r){var i=r.alternate;i!==null&&(r.alternate=null,E_(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&xa(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var bt=null,Tn=!1;function pi(r,i,a){for(a=a.child;a!==null;)w_(r,i,a),a=a.sibling}function w_(r,i,a){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(or,a)}catch{}switch(a.tag){case 26:zt||Gr(a,i),pi(r,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:zt||Gr(a,i);var c=bt,d=Tn;rs(a.type)&&(bt=a.stateNode,Tn=!1),pi(r,i,a),Bl(a.stateNode),bt=c,Tn=d;break;case 5:zt||Gr(a,i);case 6:if(c=bt,d=Tn,bt=null,pi(r,i,a),bt=c,Tn=d,bt!==null)if(Tn)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(a.stateNode)}catch(h){ot(a,i,h)}else try{bt.removeChild(a.stateNode)}catch(h){ot(a,i,h)}break;case 18:bt!==null&&(Tn?(r=bt,pb(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,a.stateNode),uo(r)):pb(bt,a.stateNode));break;case 4:c=bt,d=Tn,bt=a.stateNode.containerInfo,Tn=!0,pi(r,i,a),bt=c,Tn=d;break;case 0:case 11:case 14:case 15:Xi(2,a,i),zt||Xi(4,a,i),pi(r,i,a);break;case 1:zt||(Gr(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"&&m_(a,i,c)),pi(r,i,a);break;case 21:pi(r,i,a);break;case 22:zt=(c=zt)||a.memoizedState!==null,pi(r,i,a),zt=c;break;default:pi(r,i,a)}}function T_(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{uo(r)}catch(a){ot(i,i.return,a)}}}function S_(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{uo(r)}catch(a){ot(i,i.return,a)}}function YA(r){switch(r.tag){case 31:case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new __),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new __),i;default:throw Error(s(435,r.tag))}}function Gu(r,i){var a=YA(r);i.forEach(function(c){if(!a.has(c)){a.add(c);var d=nx.bind(null,r,c);c.then(d,d)}})}function Sn(r,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c],h=r,b=i,T=b;e:for(;T!==null;){switch(T.tag){case 27:if(rs(T.type)){bt=T.stateNode,Tn=!1;break e}break;case 5:bt=T.stateNode,Tn=!1;break e;case 3:case 4:bt=T.stateNode.containerInfo,Tn=!0;break e}T=T.return}if(bt===null)throw Error(s(160));w_(h,b,d),bt=null,Tn=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)A_(i,r),i=i.sibling}var yr=null;function A_(r,i){var a=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Sn(i,r),An(r),c&4&&(Xi(3,r,r.return),Nl(3,r),Xi(5,r,r.return));break;case 1:Sn(i,r),An(r),c&512&&(zt||a===null||Gr(a,a.return)),c&64&&hi&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(a=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var d=yr;if(Sn(i,r),An(r),c&512&&(zt||a===null||Gr(a,a.return)),c&4){var h=a!==null?a.memoizedState:null;if(c=r.memoizedState,a===null)if(c===null)if(r.stateNode===null){e:{c=r.type,a=r.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":h=d.getElementsByTagName("title")[0],(!h||h[Dr]||h[Mt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(c),d.head.insertBefore(h,d.querySelector("head > title"))),sn(h,c,a),h[Mt]=r,Vt(h),c=h;break e;case"link":var b=Ab("link","href",d).get(c+(a.href||""));if(b){for(var T=0;T<b.length;T++)if(h=b[T],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(T,1);break t}}h=d.createElement(c),sn(h,c,a),d.head.appendChild(h);break;case"meta":if(b=Ab("meta","content",d).get(c+(a.content||""))){for(T=0;T<b.length;T++)if(h=b[T],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(T,1);break t}}h=d.createElement(c),sn(h,c,a),d.head.appendChild(h);break;default:throw Error(s(468,c))}h[Mt]=r,Vt(h),c=h}r.stateNode=c}else xb(d,r.type,r.stateNode);else r.stateNode=Sb(d,c,r.memoizedProps);else h!==c?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,c===null?xb(d,r.type,r.stateNode):Sb(d,c,r.memoizedProps)):c===null&&r.stateNode!==null&&np(r,r.memoizedProps,a.memoizedProps)}break;case 27:Sn(i,r),An(r),c&512&&(zt||a===null||Gr(a,a.return)),a!==null&&c&4&&np(r,r.memoizedProps,a.memoizedProps);break;case 5:if(Sn(i,r),An(r),c&512&&(zt||a===null||Gr(a,a.return)),r.flags&32){d=r.stateNode;try{wn(d,"")}catch(me){ot(r,r.return,me)}}c&4&&r.stateNode!=null&&(d=r.memoizedProps,np(r,d,a!==null?a.memoizedProps:d)),c&1024&&(sp=!0);break;case 6:if(Sn(i,r),An(r),c&4){if(r.stateNode===null)throw Error(s(162));c=r.memoizedProps,a=r.stateNode;try{a.nodeValue=c}catch(me){ot(r,r.return,me)}}break;case 3:if(of=null,d=yr,yr=sf(i.containerInfo),Sn(i,r),yr=d,An(r),c&4&&a!==null&&a.memoizedState.isDehydrated)try{uo(i.containerInfo)}catch(me){ot(r,r.return,me)}sp&&(sp=!1,x_(r));break;case 4:c=yr,yr=sf(r.stateNode.containerInfo),Sn(i,r),An(r),yr=c;break;case 12:Sn(i,r),An(r);break;case 31:Sn(i,r),An(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Gu(r,c)));break;case 13:Sn(i,r),An(r),r.child.flags&8192&&r.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&($u=mn()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Gu(r,c)));break;case 22:d=r.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,q=hi,Q=zt;if(hi=q||d,zt=Q||M,Sn(i,r),zt=Q,hi=q,An(r),c&8192)e:for(i=r.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(a===null||M||hi||zt||sa(r)),a=null,i=r;;){if(i.tag===5||i.tag===26){if(a===null){M=a=i;try{if(h=M.stateNode,d)b=h.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{T=M.stateNode;var Z=M.memoizedProps.style,G=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(me){ot(M,M.return,me)}}}else if(i.tag===6){if(a===null){M=i;try{M.stateNode.nodeValue=d?"":M.memoizedProps}catch(me){ot(M,M.return,me)}}}else if(i.tag===18){if(a===null){M=i;try{var $=M.stateNode;d?mb($,!0):mb(M.stateNode,!1)}catch(me){ot(M,M.return,me)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=r.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,Gu(r,a))));break;case 19:Sn(i,r),An(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Gu(r,c)));break;case 30:break;case 21:break;default:Sn(i,r),An(r)}}function An(r){var i=r.flags;if(i&2){try{for(var a,c=r.return;c!==null;){if(y_(c)){a=c;break}c=c.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,h=rp(r);qu(r,h,d);break;case 5:var b=a.stateNode;a.flags&32&&(wn(b,""),a.flags&=-33);var T=rp(r);qu(r,T,b);break;case 3:case 4:var M=a.stateNode.containerInfo,q=rp(r);ip(r,q,M);break;default:throw Error(s(161))}}catch(Q){ot(r,r.return,Q)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function x_(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;x_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function mi(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)b_(r,i.alternate,i),i=i.sibling}function sa(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:Xi(4,i,i.return),sa(i);break;case 1:Gr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&m_(i,i.return,a),sa(i);break;case 27:Bl(i.stateNode);case 26:case 5:Gr(i,i.return),sa(i);break;case 22:i.memoizedState===null&&sa(i);break;case 30:sa(i);break;default:sa(i)}r=r.sibling}}function gi(r,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,d=r,h=i,b=h.flags;switch(h.tag){case 0:case 11:case 15:gi(d,h,a),Nl(4,h);break;case 1:if(gi(d,h,a),c=h,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(q){ot(c,c.return,q)}if(c=h,d=c.updateQueue,d!==null){var T=c.stateNode;try{var M=d.shared.hiddenCallbacks;if(M!==null)for(d.shared.hiddenCallbacks=null,d=0;d<M.length;d++)rv(M[d],T)}catch(q){ot(c,c.return,q)}}a&&b&64&&p_(h),Ol(h,h.return);break;case 27:v_(h);case 26:case 5:gi(d,h,a),a&&c===null&&b&4&&g_(h),Ol(h,h.return);break;case 12:gi(d,h,a);break;case 31:gi(d,h,a),a&&b&4&&T_(d,h);break;case 13:gi(d,h,a),a&&b&4&&S_(d,h);break;case 22:h.memoizedState===null&&gi(d,h,a),Ol(h,h.return);break;case 30:break;default:gi(d,h,a)}i=i.sibling}}function ap(r,i){var a=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==a&&(r!=null&&r.refCount++,a!=null&&vl(a))}function op(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&vl(r))}function vr(r,i,a,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)I_(r,i,a,c),i=i.sibling}function I_(r,i,a,c){var d=i.flags;switch(i.tag){case 0:case 11:case 15:vr(r,i,a,c),d&2048&&Nl(9,i);break;case 1:vr(r,i,a,c);break;case 3:vr(r,i,a,c),d&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&vl(r)));break;case 12:if(d&2048){vr(r,i,a,c),r=i.stateNode;try{var h=i.memoizedProps,b=h.id,T=h.onPostCommit;typeof T=="function"&&T(b,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(M){ot(i,i.return,M)}}else vr(r,i,a,c);break;case 31:vr(r,i,a,c);break;case 13:vr(r,i,a,c);break;case 23:break;case 22:h=i.stateNode,b=i.alternate,i.memoizedState!==null?h._visibility&2?vr(r,i,a,c):Ml(r,i):h._visibility&2?vr(r,i,a,c):(h._visibility|=2,Za(r,i,a,c,(i.subtreeFlags&10256)!==0||!1)),d&2048&&ap(b,i);break;case 24:vr(r,i,a,c),d&2048&&op(i.alternate,i);break;default:vr(r,i,a,c)}}function Za(r,i,a,c,d){for(d=d&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var h=r,b=i,T=a,M=c,q=b.flags;switch(b.tag){case 0:case 11:case 15:Za(h,b,T,M,d),Nl(8,b);break;case 23:break;case 22:var Q=b.stateNode;b.memoizedState!==null?Q._visibility&2?Za(h,b,T,M,d):Ml(h,b):(Q._visibility|=2,Za(h,b,T,M,d)),d&&q&2048&&ap(b.alternate,b);break;case 24:Za(h,b,T,M,d),d&&q&2048&&op(b.alternate,b);break;default:Za(h,b,T,M,d)}i=i.sibling}}function Ml(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=r,c=i,d=c.flags;switch(c.tag){case 22:Ml(a,c),d&2048&&ap(c.alternate,c);break;case 24:Ml(a,c),d&2048&&op(c.alternate,c);break;default:Ml(a,c)}i=i.sibling}}var Vl=8192;function eo(r,i,a){if(r.subtreeFlags&Vl)for(r=r.child;r!==null;)R_(r,i,a),r=r.sibling}function R_(r,i,a){switch(r.tag){case 26:eo(r,i,a),r.flags&Vl&&r.memoizedState!==null&&Mx(a,yr,r.memoizedState,r.memoizedProps);break;case 5:eo(r,i,a);break;case 3:case 4:var c=yr;yr=sf(r.stateNode.containerInfo),eo(r,i,a),yr=c;break;case 22:r.memoizedState===null&&(c=r.alternate,c!==null&&c.memoizedState!==null?(c=Vl,Vl=16777216,eo(r,i,a),Vl=c):eo(r,i,a));break;default:eo(r,i,a)}}function C_(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function Pl(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];Qt=c,N_(c,r)}C_(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)D_(r),r=r.sibling}function D_(r){switch(r.tag){case 0:case 11:case 15:Pl(r),r.flags&2048&&Xi(9,r,r.return);break;case 3:Pl(r);break;case 12:Pl(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,Fu(r)):Pl(r);break;default:Pl(r)}}function Fu(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];Qt=c,N_(c,r)}C_(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:Xi(8,i,i.return),Fu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Fu(i));break;default:Fu(i)}r=r.sibling}}function N_(r,i){for(;Qt!==null;){var a=Qt;switch(a.tag){case 0:case 11:case 15:Xi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:vl(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,Qt=c;else e:for(a=r;Qt!==null;){c=Qt;var d=c.sibling,h=c.return;if(E_(c),c===a){Qt=null;break e}if(d!==null){d.return=h,Qt=d;break e}Qt=h}}}var KA={getCacheForType:function(r){var i=nn(kt),a=i.data.get(r);return a===void 0&&(a=r(),i.data.set(r,a)),a},cacheSignal:function(){return nn(kt).controller.signal}},QA=typeof WeakMap=="function"?WeakMap:Map,tt=0,dt=null,ze=null,Be=0,at=0,kn=null,Wi=!1,to=!1,lp=!1,yi=0,St=0,Ji=0,aa=0,cp=0,Ln=0,no=0,kl=null,xn=null,up=!1,$u=0,O_=0,Yu=1/0,Ku=null,Zi=null,Ft=0,es=null,ro=null,vi=0,fp=0,dp=null,M_=null,Ll=0,hp=null;function Un(){return(tt&2)!==0&&Be!==0?Be&-Be:K.T!==null?_p():Qc()}function V_(){if(Ln===0)if((Be&536870912)===0||Ye){var r=Ms;Ms<<=1,(Ms&3932160)===0&&(Ms=262144),Ln=r}else Ln=536870912;return r=Vn.current,r!==null&&(r.flags|=32),Ln}function In(r,i,a){(r===dt&&(at===2||at===9)||r.cancelPendingCommit!==null)&&(io(r,0),ts(r,Be,Ln,!1)),Vs(r,a),((tt&2)===0||r!==dt)&&(r===dt&&((tt&2)===0&&(aa|=a),St===4&&ts(r,Be,Ln,!1)),Fr(r))}function P_(r,i,a){if((tt&6)!==0)throw Error(s(327));var c=!a&&(i&127)===0&&(i&r.expiredLanes)===0||lr(r,i),d=c?JA(r,i):mp(r,i,!0),h=c;do{if(d===0){to&&!c&&ts(r,i,0,!1);break}else{if(a=r.current.alternate,h&&!XA(a)){d=mp(r,i,!1),h=!1;continue}if(d===2){if(h=i,r.errorRecoveryDisabledLanes&h)var b=0;else b=r.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){i=b;e:{var T=r;d=kl;var M=T.current.memoizedState.isDehydrated;if(M&&(io(T,b).flags|=256),b=mp(T,b,!1),b!==2){if(lp&&!M){T.errorRecoveryDisabledLanes|=h,aa|=h,d=4;break e}h=xn,xn=d,h!==null&&(xn===null?xn=h:xn.push.apply(xn,h))}d=b}if(h=!1,d!==2)continue}}if(d===1){io(r,0),ts(r,i,0,!0);break}e:{switch(c=r,h=d,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ts(c,i,Ln,!Wi);break e;case 2:xn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(d=$u+300-mn(),10<d)){if(ts(c,i,Ln,!Wi),Ir(c,0,!0)!==0)break e;vi=i,c.timeoutHandle=db(k_.bind(null,c,a,xn,Ku,up,i,Ln,aa,no,Wi,h,"Throttled",-0,0),d);break e}k_(c,a,xn,Ku,up,i,Ln,aa,no,Wi,h,null,-0,0)}}break}while(!0);Fr(r)}function k_(r,i,a,c,d,h,b,T,M,q,Q,Z,G,$){if(r.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fr},R_(i,h,Z);var me=(h&62914560)===h?$u-mn():(h&4194048)===h?O_-mn():0;if(me=Vx(Z,me),me!==null){vi=h,r.cancelPendingCommit=me(G_.bind(null,r,i,h,a,c,d,b,T,M,Q,Z,null,G,$)),ts(r,h,b,!q);return}}G_(r,i,h,a,c,d,b,T,M)}function XA(r){for(var i=r;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var d=a[c],h=d.getSnapshot;d=d.value;try{if(!On(h(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ts(r,i,a,c){i&=~cp,i&=~aa,r.suspendedLanes|=i,r.pingedLanes&=~i,c&&(r.warmLanes|=i),c=r.expirationTimes;for(var d=i;0<d;){var h=31-At(d),b=1<<h;c[h]=-1,d&=~b}a!==0&&Ps(r,a,i)}function Qu(){return(tt&6)===0?(Ul(0),!1):!0}function pp(){if(ze!==null){if(at===0)var r=ze.return;else r=ze,oi=Ws=null,Dh(r),Ka=null,bl=0,r=ze;for(;r!==null;)h_(r.alternate,r),r=r.return;ze=null}}function io(r,i){var a=r.timeoutHandle;a!==-1&&(r.timeoutHandle=-1,gx(a)),a=r.cancelPendingCommit,a!==null&&(r.cancelPendingCommit=null,a()),vi=0,pp(),dt=r,ze=a=si(r.current,null),Be=i,at=0,kn=null,Wi=!1,to=lr(r,i),lp=!1,no=Ln=cp=aa=Ji=St=0,xn=kl=null,up=!1,(i&8)!==0&&(i|=i&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=i;0<c;){var d=31-At(c),h=1<<d;i|=r[d],c&=~h}return yi=i,gu(),a}function L_(r,i){Me=null,K.H=Rl,i===Ya||i===Su?(i=Zy(),at=3):i===vh?(i=Zy(),at=4):at=i===$h?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,kn=i,ze===null&&(St=1,Uu(r,Kn(i,r.current)))}function U_(){var r=Vn.current;return r===null?!0:(Be&4194048)===Be?Jn===null:(Be&62914560)===Be||(Be&536870912)!==0?r===Jn:!1}function z_(){var r=K.H;return K.H=Rl,r===null?Rl:r}function j_(){var r=K.A;return K.A=KA,r}function Xu(){St=4,Wi||(Be&4194048)!==Be&&Vn.current!==null||(to=!0),(Ji&134217727)===0&&(aa&134217727)===0||dt===null||ts(dt,Be,Ln,!1)}function mp(r,i,a){var c=tt;tt|=2;var d=z_(),h=j_();(dt!==r||Be!==i)&&(Ku=null,io(r,i)),i=!1;var b=St;e:do try{if(at!==0&&ze!==null){var T=ze,M=kn;switch(at){case 8:pp(),b=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(i=!0);var q=at;if(at=0,kn=null,so(r,T,M,q),a&&to){b=0;break e}break;default:q=at,at=0,kn=null,so(r,T,M,q)}}WA(),b=St;break}catch(Q){L_(r,Q)}while(!0);return i&&r.shellSuspendCounter++,oi=Ws=null,tt=c,K.H=d,K.A=h,ze===null&&(dt=null,Be=0,gu()),b}function WA(){for(;ze!==null;)B_(ze)}function JA(r,i){var a=tt;tt|=2;var c=z_(),d=j_();dt!==r||Be!==i?(Ku=null,Yu=mn()+500,io(r,i)):to=lr(r,i);e:do try{if(at!==0&&ze!==null){i=ze;var h=kn;t:switch(at){case 1:at=0,kn=null,so(r,i,h,1);break;case 2:case 9:if(Wy(h)){at=0,kn=null,H_(i);break}i=function(){at!==2&&at!==9||dt!==r||(at=7),Fr(r)},h.then(i,i);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:Wy(h)?(at=0,kn=null,H_(i)):(at=0,kn=null,so(r,i,h,7));break;case 5:var b=null;switch(ze.tag){case 26:b=ze.memoizedState;case 5:case 27:var T=ze;if(b?Ib(b):T.stateNode.complete){at=0,kn=null;var M=T.sibling;if(M!==null)ze=M;else{var q=T.return;q!==null?(ze=q,Wu(q)):ze=null}break t}}at=0,kn=null,so(r,i,h,5);break;case 6:at=0,kn=null,so(r,i,h,6);break;case 8:pp(),St=6;break e;default:throw Error(s(462))}}ZA();break}catch(Q){L_(r,Q)}while(!0);return oi=Ws=null,K.H=c,K.A=d,tt=a,ze!==null?0:(dt=null,Be=0,gu(),St)}function ZA(){for(;ze!==null&&!Fd();)B_(ze)}function B_(r){var i=f_(r.alternate,r,yi);r.memoizedProps=r.pendingProps,i===null?Wu(r):ze=i}function H_(r){var i=r,a=i.alternate;switch(i.tag){case 15:case 0:i=s_(a,i,i.pendingProps,i.type,void 0,Be);break;case 11:i=s_(a,i,i.pendingProps,i.type.render,i.ref,Be);break;case 5:Dh(i);default:h_(a,i),i=ze=jy(i,yi),i=f_(a,i,yi)}r.memoizedProps=r.pendingProps,i===null?Wu(r):ze=i}function so(r,i,a,c){oi=Ws=null,Dh(i),Ka=null,bl=0;var d=i.return;try{if(BA(r,d,i,a,Be)){St=1,Uu(r,Kn(a,r.current)),ze=null;return}}catch(h){if(d!==null)throw ze=d,h;St=1,Uu(r,Kn(a,r.current)),ze=null;return}i.flags&32768?(Ye||c===1?r=!0:to||(Be&536870912)!==0?r=!1:(Wi=r=!0,(c===2||c===9||c===3||c===6)&&(c=Vn.current,c!==null&&c.tag===13&&(c.flags|=16384))),q_(i,r)):Wu(i)}function Wu(r){var i=r;do{if((i.flags&32768)!==0){q_(i,Wi);return}r=i.return;var a=GA(i.alternate,i,yi);if(a!==null){ze=a;return}if(i=i.sibling,i!==null){ze=i;return}ze=i=r}while(i!==null);St===0&&(St=5)}function q_(r,i){do{var a=FA(r.alternate,r);if(a!==null){a.flags&=32767,ze=a;return}if(a=r.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(r=r.sibling,r!==null)){ze=r;return}ze=r=a}while(r!==null);St=6,ze=null}function G_(r,i,a,c,d,h,b,T,M){r.cancelPendingCommit=null;do Ju();while(Ft!==0);if((tt&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(h=i.lanes|i.childLanes,h|=rh,Kd(r,a,h,b,T,M),r===dt&&(ze=dt=null,Be=0),ro=i,es=r,vi=a,fp=h,dp=d,M_=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,rx(Ni,function(){return Q_(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=K.T,K.T=null,d=le.p,le.p=2,b=tt,tt|=4;try{$A(r,i,a)}finally{tt=b,le.p=d,K.T=c}}Ft=1,F_(),$_(),Y_()}}function F_(){if(Ft===1){Ft=0;var r=es,i=ro,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var c=le.p;le.p=2;var d=tt;tt|=4;try{A_(i,r);var h=Ip,b=Ny(r.containerInfo),T=h.focusedElem,M=h.selectionRange;if(b!==T&&T&&T.ownerDocument&&Dy(T.ownerDocument.documentElement,T)){if(M!==null&&Jd(T)){var q=M.start,Q=M.end;if(Q===void 0&&(Q=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min(Q,T.value.length);else{var Z=T.ownerDocument||document,G=Z&&Z.defaultView||window;if(G.getSelection){var $=G.getSelection(),me=T.textContent.length,Se=Math.min(M.start,me),ft=M.end===void 0?Se:Math.min(M.end,me);!$.extend&&Se>ft&&(b=ft,ft=Se,Se=b);var j=Cy(T,Se),k=Cy(T,ft);if(j&&k&&($.rangeCount!==1||$.anchorNode!==j.node||$.anchorOffset!==j.offset||$.focusNode!==k.node||$.focusOffset!==k.offset)){var H=Z.createRange();H.setStart(j.node,j.offset),$.removeAllRanges(),Se>ft?($.addRange(H),$.extend(k.node,k.offset)):(H.setEnd(k.node,k.offset),$.addRange(H))}}}}for(Z=[],$=T;$=$.parentNode;)$.nodeType===1&&Z.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var J=Z[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}ff=!!xp,Ip=xp=null}finally{tt=d,le.p=c,K.T=a}}r.current=i,Ft=2}}function $_(){if(Ft===2){Ft=0;var r=es,i=ro,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var c=le.p;le.p=2;var d=tt;tt|=4;try{b_(r,i.alternate,i)}finally{tt=d,le.p=c,K.T=a}}Ft=3}}function Y_(){if(Ft===4||Ft===3){Ft=0,Hc();var r=es,i=ro,a=vi,c=M_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ft=5:(Ft=0,ro=es=null,K_(r,r.pendingLanes));var d=r.pendingLanes;if(d===0&&(Zi=null),ti(a),i=i.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(or,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=K.T,d=le.p,le.p=2,K.T=null;try{for(var h=r.onRecoverableError,b=0;b<c.length;b++){var T=c[b];h(T.value,{componentStack:T.stack})}}finally{K.T=i,le.p=d}}(vi&3)!==0&&Ju(),Fr(r),d=r.pendingLanes,(a&261930)!==0&&(d&42)!==0?r===hp?Ll++:(Ll=0,hp=r):Ll=0,Ul(0)}}function K_(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,vl(i)))}function Ju(){return F_(),$_(),Y_(),Q_()}function Q_(){if(Ft!==5)return!1;var r=es,i=fp;fp=0;var a=ti(vi),c=K.T,d=le.p;try{le.p=32>a?32:a,K.T=null,a=dp,dp=null;var h=es,b=vi;if(Ft=0,ro=es=null,vi=0,(tt&6)!==0)throw Error(s(331));var T=tt;if(tt|=4,D_(h.current),I_(h,h.current,b,a),tt=T,Ul(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(or,h)}catch{}return!0}finally{le.p=d,K.T=c,K_(r,i)}}function X_(r,i,a){i=Kn(a,i),i=Fh(r.stateNode,i,2),r=Yi(r,i,2),r!==null&&(Vs(r,2),Fr(r))}function ot(r,i,a){if(r.tag===3)X_(r,r,a);else for(;i!==null;){if(i.tag===3){X_(i,r,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Zi===null||!Zi.has(c))){r=Kn(a,r),a=Wv(2),c=Yi(i,a,2),c!==null&&(Jv(a,c,i,r),Vs(c,2),Fr(c));break}}i=i.return}}function gp(r,i,a){var c=r.pingCache;if(c===null){c=r.pingCache=new QA;var d=new Set;c.set(i,d)}else d=c.get(i),d===void 0&&(d=new Set,c.set(i,d));d.has(a)||(lp=!0,d.add(a),r=ex.bind(null,r,i,a),i.then(r,r))}function ex(r,i,a){var c=r.pingCache;c!==null&&c.delete(i),r.pingedLanes|=r.suspendedLanes&a,r.warmLanes&=~a,dt===r&&(Be&a)===a&&(St===4||St===3&&(Be&62914560)===Be&&300>mn()-$u?(tt&2)===0&&io(r,0):cp|=a,no===Be&&(no=0)),Fr(r)}function W_(r,i){i===0&&(i=Kc()),r=Ks(r,i),r!==null&&(Vs(r,i),Fr(r))}function tx(r){var i=r.memoizedState,a=0;i!==null&&(a=i.retryLane),W_(r,a)}function nx(r,i){var a=0;switch(r.tag){case 31:case 13:var c=r.stateNode,d=r.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(i),W_(r,a)}function rx(r,i){return Gt(r,i)}var Zu=null,ao=null,yp=!1,ef=!1,vp=!1,ns=0;function Fr(r){r!==ao&&r.next===null&&(ao===null?Zu=ao=r:ao=ao.next=r),ef=!0,yp||(yp=!0,sx())}function Ul(r,i){if(!vp&&ef){vp=!0;do for(var a=!1,c=Zu;c!==null;){if(r!==0){var d=c.pendingLanes;if(d===0)var h=0;else{var b=c.suspendedLanes,T=c.pingedLanes;h=(1<<31-At(42|r)+1)-1,h&=d&~(b&~T),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,tb(c,h))}else h=Be,h=Ir(c,c===dt?h:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(h&3)===0||lr(c,h)||(a=!0,tb(c,h));c=c.next}while(a);vp=!1}}function ix(){J_()}function J_(){ef=yp=!1;var r=0;ns!==0&&mx()&&(r=ns);for(var i=mn(),a=null,c=Zu;c!==null;){var d=c.next,h=Z_(c,i);h===0?(c.next=null,a===null?Zu=d:a.next=d,d===null&&(ao=a)):(a=c,(r!==0||(h&3)!==0)&&(ef=!0)),c=d}Ft!==0&&Ft!==5||Ul(r),ns!==0&&(ns=0)}function Z_(r,i){for(var a=r.suspendedLanes,c=r.pingedLanes,d=r.expirationTimes,h=r.pendingLanes&-62914561;0<h;){var b=31-At(h),T=1<<b,M=d[b];M===-1?((T&a)===0||(T&c)!==0)&&(d[b]=Yd(T,i)):M<=i&&(r.expiredLanes|=T),h&=~T}if(i=dt,a=Be,a=Ir(r,r===i?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,a===0||r===i&&(at===2||at===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&Di(c),r.callbackNode=null,r.callbackPriority=0;if((a&3)===0||lr(r,a)){if(i=a&-a,i===r.callbackPriority)return i;switch(c!==null&&Di(c),ti(a)){case 2:case 8:a=Ko;break;case 32:a=Ni;break;case 268435456:a=qc;break;default:a=Ni}return c=eb.bind(null,r),a=Gt(a,c),r.callbackPriority=i,r.callbackNode=a,i}return c!==null&&c!==null&&Di(c),r.callbackPriority=2,r.callbackNode=null,2}function eb(r,i){if(Ft!==0&&Ft!==5)return r.callbackNode=null,r.callbackPriority=0,null;var a=r.callbackNode;if(Ju()&&r.callbackNode!==a)return null;var c=Be;return c=Ir(r,r===dt?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(P_(r,c,i),Z_(r,mn()),r.callbackNode!=null&&r.callbackNode===a?eb.bind(null,r):null)}function tb(r,i){if(Ju())return null;P_(r,i,!0)}function sx(){yx(function(){(tt&6)!==0?Gt(Yo,ix):J_()})}function _p(){if(ns===0){var r=Fa;r===0&&(r=Ar,Ar<<=1,(Ar&261888)===0&&(Ar=256)),ns=r}return ns}function nb(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Da(""+r)}function rb(r,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,r.id&&a.setAttribute("form",r.id),i.parentNode.insertBefore(a,i),r=new FormData(r),a.parentNode.removeChild(a),r}function ax(r,i,a,c,d){if(i==="submit"&&a&&a.stateNode===d){var h=nb((d[Yt]||null).action),b=c.submitter;b&&(i=(i=b[Yt]||null)?nb(i.formAction):b.getAttribute("formAction"),i!==null&&(h=i,b=null));var T=new Ur("action","action",null,c,d);r.push({event:T,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ns!==0){var M=b?rb(d,b):new FormData(d);zh(a,{pending:!0,data:M,method:d.method,action:h},null,M)}}else typeof h=="function"&&(T.preventDefault(),M=b?rb(d,b):new FormData(d),zh(a,{pending:!0,data:M,method:d.method,action:h},h,M))},currentTarget:d}]})}}for(var bp=0;bp<nh.length;bp++){var Ep=nh[bp],ox=Ep.toLowerCase(),lx=Ep[0].toUpperCase()+Ep.slice(1);gr(ox,"on"+lx)}gr(Vy,"onAnimationEnd"),gr(Py,"onAnimationIteration"),gr(ky,"onAnimationStart"),gr("dblclick","onDoubleClick"),gr("focusin","onFocus"),gr("focusout","onBlur"),gr(SA,"onTransitionRun"),gr(AA,"onTransitionStart"),gr(xA,"onTransitionCancel"),gr(Ly,"onTransitionEnd"),Vr("onMouseEnter",["mouseout","mouseover"]),Vr("onMouseLeave",["mouseout","mouseover"]),Vr("onPointerEnter",["pointerout","pointerover"]),Vr("onPointerLeave",["pointerout","pointerover"]),Mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zl));function ib(r,i){i=(i&4)!==0;for(var a=0;a<r.length;a++){var c=r[a],d=c.event;c=c.listeners;e:{var h=void 0;if(i)for(var b=c.length-1;0<=b;b--){var T=c[b],M=T.instance,q=T.currentTarget;if(T=T.listener,M!==h&&d.isPropagationStopped())break e;h=T,d.currentTarget=q;try{h(d)}catch(Q){mu(Q)}d.currentTarget=null,h=M}else for(b=0;b<c.length;b++){if(T=c[b],M=T.instance,q=T.currentTarget,T=T.listener,M!==h&&d.isPropagationStopped())break e;h=T,d.currentTarget=q;try{h(d)}catch(Q){mu(Q)}d.currentTarget=null,h=M}}}}function je(r,i){var a=i[Aa];a===void 0&&(a=i[Aa]=new Set);var c=r+"__bubble";a.has(c)||(sb(i,r,2,!1),a.add(c))}function wp(r,i,a){var c=0;i&&(c|=4),sb(a,r,c,i)}var tf="_reactListening"+Math.random().toString(36).slice(2);function Tp(r){if(!r[tf]){r[tf]=!0,Wo.forEach(function(a){a!=="selectionchange"&&(cx.has(a)||wp(a,!1,r),wp(a,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[tf]||(i[tf]=!0,wp("selectionchange",!1,i))}}function sb(r,i,a,c){switch(Vb(i)){case 2:var d=Lx;break;case 8:d=Ux;break;default:d=Up}a=d.bind(null,i,a,r),d=void 0,!js||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),c?d!==void 0?r.addEventListener(i,a,{capture:!0,passive:d}):r.addEventListener(i,a,!0):d!==void 0?r.addEventListener(i,a,{passive:d}):r.addEventListener(i,a,!1)}function Sp(r,i,a,c,d){var h=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var T=c.stateNode.containerInfo;if(T===d)break;if(b===4)for(b=c.return;b!==null;){var M=b.tag;if((M===3||M===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;T!==null;){if(b=Nr(T),b===null)return;if(M=b.tag,M===5||M===6||M===26||M===27){c=h=b;continue e}T=T.parentNode}}c=c.return}Li(function(){var q=h,Q=Gn(a),Z=[];e:{var G=Uy.get(r);if(G!==void 0){var $=Ur,me=r;switch(r){case"keypress":if(Hs(a)===0)break e;case"keydown":case"keyup":$=du;break;case"focusin":me="focus",$=Gs;break;case"focusout":me="blur",$=Gs;break;case"beforeblur":case"afterblur":$=Gs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=ul;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=y;break;case Vy:case Py:case ky:$=su;break;case Ly:$=A;break;case"scroll":case"scrollend":$=cl;break;case"wheel":$=F;break;case"copy":case"cut":case"paste":$=au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=ii;break;case"toggle":case"beforetoggle":$=Oe}var Se=(i&4)!==0,ft=!Se&&(r==="scroll"||r==="scrollend"),j=Se?G!==null?G+"Capture":null:G;Se=[];for(var k=q,H;k!==null;){var J=k;if(H=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||H===null||j===null||(J=dr(k,j),J!=null&&Se.push(jl(k,J,H))),ft)break;k=k.return}0<Se.length&&(G=new $(G,me,null,a,Q),Z.push({event:G,listeners:Se}))}}if((i&7)===0){e:{if(G=r==="mouseover"||r==="pointerover",$=r==="mouseout"||r==="pointerout",G&&a!==al&&(me=a.relatedTarget||a.fromElement)&&(Nr(me)||me[Cr]))break e;if(($||G)&&(G=Q.window===Q?Q:(G=Q.ownerDocument)?G.defaultView||G.parentWindow:window,$?(me=a.relatedTarget||a.toElement,$=q,me=me?Nr(me):null,me!==null&&(ft=l(me),Se=me.tag,me!==ft||Se!==5&&Se!==27&&Se!==6)&&(me=null)):($=null,me=q),$!==me)){if(Se=ul,J="onMouseLeave",j="onMouseEnter",k="mouse",(r==="pointerout"||r==="pointerover")&&(Se=ii,J="onPointerLeave",j="onPointerEnter",k="pointer"),ft=$==null?G:Dn($),H=me==null?G:Dn(me),G=new Se(J,k+"leave",$,a,Q),G.target=ft,G.relatedTarget=H,J=null,Nr(Q)===q&&(Se=new Se(j,k+"enter",me,a,Q),Se.target=H,Se.relatedTarget=ft,J=Se),ft=J,$&&me)t:{for(Se=ux,j=$,k=me,H=0,J=j;J;J=Se(J))H++;J=0;for(var Ee=k;Ee;Ee=Se(Ee))J++;for(;0<H-J;)j=Se(j),H--;for(;0<J-H;)k=Se(k),J--;for(;H--;){if(j===k||k!==null&&j===k.alternate){Se=j;break t}j=Se(j),k=Se(k)}Se=null}else Se=null;$!==null&&ab(Z,G,$,Se,!1),me!==null&&ft!==null&&ab(Z,ft,me,Se,!0)}}e:{if(G=q?Dn(q):window,$=G.nodeName&&G.nodeName.toLowerCase(),$==="select"||$==="input"&&G.type==="file")var Je=Ty;else if(Ey(G))if(Sy)Je=EA;else{Je=_A;var ve=vA}else $=G.nodeName,!$||$.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?q&&Ca(q.elementType)&&(Je=Ty):Je=bA;if(Je&&(Je=Je(r,q))){wy(Z,Je,a,Q);break e}ve&&ve(r,G,q),r==="focusout"&&q&&G.type==="number"&&q.memoizedProps.value!=null&&rl(G,"number",G.value)}switch(ve=q?Dn(q):window,r){case"focusin":(Ey(ve)||ve.contentEditable==="true")&&(La=ve,Zd=q,ml=null);break;case"focusout":ml=Zd=La=null;break;case"mousedown":eh=!0;break;case"contextmenu":case"mouseup":case"dragend":eh=!1,Oy(Z,a,Q);break;case"selectionchange":if(TA)break;case"keydown":case"keyup":Oy(Z,a,Q)}var Pe;if(et)e:{switch(r){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else ka?Fs(r,a)&&(He="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(He="onCompositionStart");He&&(Br&&a.locale!=="ko"&&(ka||He!=="onCompositionStart"?He==="onCompositionEnd"&&ka&&(Pe=ll()):(Lr=Q,ol="value"in Lr?Lr.value:Lr.textContent,ka=!0)),ve=nf(q,He),0<ve.length&&(He=new jr(He,r,null,a,Q),Z.push({event:He,listeners:ve}),Pe?He.data=Pe:(Pe=Pa(a),Pe!==null&&(He.data=Pe)))),(Pe=$n?pA(r,a):mA(r,a))&&(He=nf(q,"onBeforeInput"),0<He.length&&(ve=new jr("onBeforeInput","beforeinput",null,a,Q),Z.push({event:ve,listeners:He}),ve.data=Pe)),ax(Z,r,q,a,Q)}ib(Z,i)})}function jl(r,i,a){return{instance:r,listener:i,currentTarget:a}}function nf(r,i){for(var a=i+"Capture",c=[];r!==null;){var d=r,h=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=dr(r,a),d!=null&&c.unshift(jl(r,d,h)),d=dr(r,i),d!=null&&c.push(jl(r,d,h))),r.tag===3)return c;r=r.return}return[]}function ux(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function ab(r,i,a,c,d){for(var h=i._reactName,b=[];a!==null&&a!==c;){var T=a,M=T.alternate,q=T.stateNode;if(T=T.tag,M!==null&&M===c)break;T!==5&&T!==26&&T!==27||q===null||(M=q,d?(q=dr(a,h),q!=null&&b.unshift(jl(a,q,M))):d||(q=dr(a,h),q!=null&&b.push(jl(a,q,M)))),a=a.return}b.length!==0&&r.push({event:i,listeners:b})}var fx=/\r\n?/g,dx=/\u0000|\uFFFD/g;function ob(r){return(typeof r=="string"?r:""+r).replace(fx,`
`).replace(dx,"")}function lb(r,i){return i=ob(i),ob(r)===i}function ut(r,i,a,c,d,h){switch(a){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||wn(r,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&wn(r,""+c);break;case"className":Nn(r,"class",c);break;case"tabIndex":Nn(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Nn(r,a,c);break;case"style":sl(r,c,h);break;case"data":if(i!=="object"){Nn(r,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||a!=="href")){r.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(a);break}c=Da(""+c),r.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(i!=="input"&&ut(r,i,"name",d.name,d,null),ut(r,i,"formEncType",d.formEncType,d,null),ut(r,i,"formMethod",d.formMethod,d,null),ut(r,i,"formTarget",d.formTarget,d,null)):(ut(r,i,"encType",d.encType,d,null),ut(r,i,"method",d.method,d,null),ut(r,i,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(a);break}c=Da(""+c),r.setAttribute(a,c);break;case"onClick":c!=null&&(r.onclick=fr);break;case"onScroll":c!=null&&je("scroll",r);break;case"onScrollEnd":c!=null&&je("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(a=c.__html,a!=null){if(d.children!=null)throw Error(s(60));r.innerHTML=a}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}a=Da(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(a,""+c):r.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(a,""):r.removeAttribute(a);break;case"capture":case"download":c===!0?r.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(a,c):r.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(a,c):r.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(a):r.setAttribute(a,c);break;case"popover":je("beforetoggle",r),je("toggle",r),Ia(r,"popover",c);break;case"xlinkActuate":Pt(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Pt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Pt(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Pt(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Pt(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Pt(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Pt(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Pt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Pt(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ia(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=nu.get(a)||a,Ia(r,a,c))}}function Ap(r,i,a,c,d,h){switch(a){case"style":sl(r,c,h);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(a=c.__html,a!=null){if(d.children!=null)throw Error(s(60));r.innerHTML=a}}break;case"children":typeof c=="string"?wn(r,c):(typeof c=="number"||typeof c=="bigint")&&wn(r,""+c);break;case"onScroll":c!=null&&je("scroll",r);break;case"onScrollEnd":c!=null&&je("scrollend",r);break;case"onClick":c!=null&&(r.onclick=fr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),h=r[Yt]||null,h=h!=null?h[a]:null,typeof h=="function"&&r.removeEventListener(i,h,d),typeof c=="function")){typeof h!="function"&&h!==null&&(a in r?r[a]=null:r.hasAttribute(a)&&r.removeAttribute(a)),r.addEventListener(i,c,d);break e}a in r?r[a]=c:c===!0?r.setAttribute(a,""):Ia(r,a,c)}}}function sn(r,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",r),je("load",r);var c=!1,d=!1,h;for(h in a)if(a.hasOwnProperty(h)){var b=a[h];if(b!=null)switch(h){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ut(r,i,h,b,a,null)}}d&&ut(r,i,"srcSet",a.srcSet,a,null),c&&ut(r,i,"src",a.src,a,null);return;case"input":je("invalid",r);var T=h=b=d=null,M=null,q=null;for(c in a)if(a.hasOwnProperty(c)){var Q=a[c];if(Q!=null)switch(c){case"name":d=Q;break;case"type":b=Q;break;case"checked":M=Q;break;case"defaultChecked":q=Q;break;case"value":h=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:ut(r,i,c,Q,a,null)}}Zc(r,h,T,M,q,b,d,!1);return;case"select":je("invalid",r),c=b=h=null;for(d in a)if(a.hasOwnProperty(d)&&(T=a[d],T!=null))switch(d){case"value":h=T;break;case"defaultValue":b=T;break;case"multiple":c=T;default:ut(r,i,d,T,a,null)}i=h,a=b,r.multiple=!!c,i!=null?Mi(r,!!c,i,!1):a!=null&&Mi(r,!!c,a,!0);return;case"textarea":je("invalid",r),h=d=c=null;for(b in a)if(a.hasOwnProperty(b)&&(T=a[b],T!=null))switch(b){case"value":c=T;break;case"defaultValue":d=T;break;case"children":h=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:ut(r,i,b,T,a,null)}Vi(r,c,d,h);return;case"option":for(M in a)a.hasOwnProperty(M)&&(c=a[M],c!=null)&&(M==="selected"?r.selected=c&&typeof c!="function"&&typeof c!="symbol":ut(r,i,M,c,a,null));return;case"dialog":je("beforetoggle",r),je("toggle",r),je("cancel",r),je("close",r);break;case"iframe":case"object":je("load",r);break;case"video":case"audio":for(c=0;c<zl.length;c++)je(zl[c],r);break;case"image":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"embed":case"source":case"link":je("error",r),je("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(c=a[q],c!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ut(r,i,q,c,a,null)}return;default:if(Ca(i)){for(Q in a)a.hasOwnProperty(Q)&&(c=a[Q],c!==void 0&&Ap(r,i,Q,c,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(c=a[T],c!=null&&ut(r,i,T,c,a,null))}function hx(r,i,a,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,b=null,T=null,M=null,q=null,Q=null;for($ in a){var Z=a[$];if(a.hasOwnProperty($)&&Z!=null)switch($){case"checked":break;case"value":break;case"defaultValue":M=Z;default:c.hasOwnProperty($)||ut(r,i,$,null,c,Z)}}for(var G in c){var $=c[G];if(Z=a[G],c.hasOwnProperty(G)&&($!=null||Z!=null))switch(G){case"type":h=$;break;case"name":d=$;break;case"checked":q=$;break;case"defaultChecked":Q=$;break;case"value":b=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:$!==Z&&ut(r,i,G,$,c,Z)}}Ra(r,b,T,M,q,Q,h,d);return;case"select":$=b=T=G=null;for(h in a)if(M=a[h],a.hasOwnProperty(h)&&M!=null)switch(h){case"value":break;case"multiple":$=M;default:c.hasOwnProperty(h)||ut(r,i,h,null,c,M)}for(d in c)if(h=c[d],M=a[d],c.hasOwnProperty(d)&&(h!=null||M!=null))switch(d){case"value":G=h;break;case"defaultValue":T=h;break;case"multiple":b=h;default:h!==M&&ut(r,i,d,h,c,M)}i=T,a=b,c=$,G!=null?Mi(r,!!a,G,!1):!!c!=!!a&&(i!=null?Mi(r,!!a,i,!0):Mi(r,!!a,a?[]:"",!1));return;case"textarea":$=G=null;for(T in a)if(d=a[T],a.hasOwnProperty(T)&&d!=null&&!c.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ut(r,i,T,null,c,d)}for(b in c)if(d=c[b],h=a[b],c.hasOwnProperty(b)&&(d!=null||h!=null))switch(b){case"value":G=d;break;case"defaultValue":$=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==h&&ut(r,i,b,d,c,h)}eu(r,G,$);return;case"option":for(var me in a)G=a[me],a.hasOwnProperty(me)&&G!=null&&!c.hasOwnProperty(me)&&(me==="selected"?r.selected=!1:ut(r,i,me,null,c,G));for(M in c)G=c[M],$=a[M],c.hasOwnProperty(M)&&G!==$&&(G!=null||$!=null)&&(M==="selected"?r.selected=G&&typeof G!="function"&&typeof G!="symbol":ut(r,i,M,G,c,$));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in a)G=a[Se],a.hasOwnProperty(Se)&&G!=null&&!c.hasOwnProperty(Se)&&ut(r,i,Se,null,c,G);for(q in c)if(G=c[q],$=a[q],c.hasOwnProperty(q)&&G!==$&&(G!=null||$!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:ut(r,i,q,G,c,$)}return;default:if(Ca(i)){for(var ft in a)G=a[ft],a.hasOwnProperty(ft)&&G!==void 0&&!c.hasOwnProperty(ft)&&Ap(r,i,ft,void 0,c,G);for(Q in c)G=c[Q],$=a[Q],!c.hasOwnProperty(Q)||G===$||G===void 0&&$===void 0||Ap(r,i,Q,G,c,$);return}}for(var j in a)G=a[j],a.hasOwnProperty(j)&&G!=null&&!c.hasOwnProperty(j)&&ut(r,i,j,null,c,G);for(Z in c)G=c[Z],$=a[Z],!c.hasOwnProperty(Z)||G===$||G==null&&$==null||ut(r,i,Z,G,c,$)}function cb(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function px(){if(typeof performance.getEntriesByType=="function"){for(var r=0,i=0,a=performance.getEntriesByType("resource"),c=0;c<a.length;c++){var d=a[c],h=d.transferSize,b=d.initiatorType,T=d.duration;if(h&&T&&cb(b)){for(b=0,T=d.responseEnd,c+=1;c<a.length;c++){var M=a[c],q=M.startTime;if(q>T)break;var Q=M.transferSize,Z=M.initiatorType;Q&&cb(Z)&&(M=M.responseEnd,b+=Q*(M<T?1:(T-q)/(M-q)))}if(--c,i+=8*(h+b)/(d.duration/1e3),r++,10<r)break}}if(0<r)return i/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var xp=null,Ip=null;function rf(r){return r.nodeType===9?r:r.ownerDocument}function ub(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fb(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Rp(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Cp=null;function mx(){var r=window.event;return r&&r.type==="popstate"?r===Cp?!1:(Cp=r,!0):(Cp=null,!1)}var db=typeof setTimeout=="function"?setTimeout:void 0,gx=typeof clearTimeout=="function"?clearTimeout:void 0,hb=typeof Promise=="function"?Promise:void 0,yx=typeof queueMicrotask=="function"?queueMicrotask:typeof hb<"u"?function(r){return hb.resolve(null).then(r).catch(vx)}:db;function vx(r){setTimeout(function(){throw r})}function rs(r){return r==="head"}function pb(r,i){var a=i,c=0;do{var d=a.nextSibling;if(r.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(c===0){r.removeChild(d),uo(i);return}c--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")c++;else if(a==="html")Bl(r.ownerDocument.documentElement);else if(a==="head"){a=r.ownerDocument.head,Bl(a);for(var h=a.firstChild;h;){var b=h.nextSibling,T=h.nodeName;h[Dr]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&h.rel.toLowerCase()==="stylesheet"||a.removeChild(h),h=b}}else a==="body"&&Bl(r.ownerDocument.body);a=d}while(a);uo(i)}function mb(r,i){var a=r;r=0;do{var c=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(r===0)break;r--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||r++;a=c}while(a)}function Dp(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Dp(a),xa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}r.removeChild(a)}}function _x(r,i,a,c){for(;r.nodeType===1;){var d=a;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[Dr])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(h=r.getAttribute("rel"),h==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(h!==d.rel||r.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||r.getAttribute("title")!==(d.title==null?null:d.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(h=r.getAttribute("src"),(h!==(d.src==null?null:d.src)||r.getAttribute("type")!==(d.type==null?null:d.type)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&r.getAttribute("name")===h)return r}else return r;if(r=Zn(r.nextSibling),r===null)break}return null}function bx(r,i,a){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=Zn(r.nextSibling),r===null))return null;return r}function gb(r,i){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!i||(r=Zn(r.nextSibling),r===null))return null;return r}function Np(r){return r.data==="$?"||r.data==="$~"}function Op(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function Ex(r,i){var a=r.ownerDocument;if(r.data==="$~")r._reactRetry=i;else if(r.data!=="$?"||a.readyState!=="loading")i();else{var c=function(){i(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function Zn(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return r}var Mp=null;function yb(r){r=r.nextSibling;for(var i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"||a==="/&"){if(i===0)return Zn(r.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}r=r.nextSibling}return null}function vb(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return r;i--}else a!=="/$"&&a!=="/&"||i++}r=r.previousSibling}return null}function _b(r,i,a){switch(i=rf(a),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function Bl(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);xa(r)}var er=new Map,bb=new Set;function sf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var _i=le.d;le.d={f:wx,r:Tx,D:Sx,C:Ax,L:xx,m:Ix,X:Cx,S:Rx,M:Dx};function wx(){var r=_i.f(),i=Qu();return r||i}function Tx(r){var i=qn(r);i!==null&&i.tag===5&&i.type==="form"?Lv(i):_i.r(r)}var oo=typeof document>"u"?null:document;function Eb(r,i,a){var c=oo;if(c&&typeof i=="string"&&i){var d=En(i);d='link[rel="'+r+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),bb.has(d)||(bb.add(d),r={rel:r,crossOrigin:a,href:i},c.querySelector(d)===null&&(i=c.createElement("link"),sn(i,"link",r),Vt(i),c.head.appendChild(i)))}}function Sx(r){_i.D(r),Eb("dns-prefetch",r,null)}function Ax(r,i){_i.C(r,i),Eb("preconnect",r,i)}function xx(r,i,a){_i.L(r,i,a);var c=oo;if(c&&r&&i){var d='link[rel="preload"][as="'+En(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+En(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+En(a.imageSizes)+'"]')):d+='[href="'+En(r)+'"]';var h=d;switch(i){case"style":h=lo(r);break;case"script":h=co(r)}er.has(h)||(r=_({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:r,as:i},a),er.set(h,r),c.querySelector(d)!==null||i==="style"&&c.querySelector(Hl(h))||i==="script"&&c.querySelector(ql(h))||(i=c.createElement("link"),sn(i,"link",r),Vt(i),c.head.appendChild(i)))}}function Ix(r,i){_i.m(r,i);var a=oo;if(a&&r){var c=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+En(c)+'"][href="'+En(r)+'"]',h=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=co(r)}if(!er.has(h)&&(r=_({rel:"modulepreload",href:r},i),er.set(h,r),a.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ql(h)))return}c=a.createElement("link"),sn(c,"link",r),Vt(c),a.head.appendChild(c)}}}function Rx(r,i,a){_i.S(r,i,a);var c=oo;if(c&&r){var d=Or(c).hoistableStyles,h=lo(r);i=i||"default";var b=d.get(h);if(!b){var T={loading:0,preload:null};if(b=c.querySelector(Hl(h)))T.loading=5;else{r=_({rel:"stylesheet",href:r,"data-precedence":i},a),(a=er.get(h))&&Vp(r,a);var M=b=c.createElement("link");Vt(M),sn(M,"link",r),M._p=new Promise(function(q,Q){M.onload=q,M.onerror=Q}),M.addEventListener("load",function(){T.loading|=1}),M.addEventListener("error",function(){T.loading|=2}),T.loading|=4,af(b,i,c)}b={type:"stylesheet",instance:b,count:1,state:T},d.set(h,b)}}}function Cx(r,i){_i.X(r,i);var a=oo;if(a&&r){var c=Or(a).hoistableScripts,d=co(r),h=c.get(d);h||(h=a.querySelector(ql(d)),h||(r=_({src:r,async:!0},i),(i=er.get(d))&&Pp(r,i),h=a.createElement("script"),Vt(h),sn(h,"link",r),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},c.set(d,h))}}function Dx(r,i){_i.M(r,i);var a=oo;if(a&&r){var c=Or(a).hoistableScripts,d=co(r),h=c.get(d);h||(h=a.querySelector(ql(d)),h||(r=_({src:r,async:!0,type:"module"},i),(i=er.get(d))&&Pp(r,i),h=a.createElement("script"),Vt(h),sn(h,"link",r),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},c.set(d,h))}}function wb(r,i,a,c){var d=(d=xe.current)?sf(d):null;if(!d)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=lo(a.href),a=Or(d).hoistableStyles,c=a.get(i),c||(c={type:"style",instance:null,count:0,state:null},a.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){r=lo(a.href);var h=Or(d).hoistableStyles,b=h.get(r);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(r,b),(h=d.querySelector(Hl(r)))&&!h._p&&(b.instance=h,b.state.loading=5),er.has(r)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},er.set(r,a),h||Nx(d,r,a,b.state))),i&&c===null)throw Error(s(528,""));return b}if(i&&c!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=co(a),a=Or(d).hoistableScripts,c=a.get(i),c||(c={type:"script",instance:null,count:0,state:null},a.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function lo(r){return'href="'+En(r)+'"'}function Hl(r){return'link[rel="stylesheet"]['+r+"]"}function Tb(r){return _({},r,{"data-precedence":r.precedence,precedence:null})}function Nx(r,i,a,c){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=r.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),sn(i,"link",a),Vt(i),r.head.appendChild(i))}function co(r){return'[src="'+En(r)+'"]'}function ql(r){return"script[async]"+r}function Sb(r,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var c=r.querySelector('style[data-href~="'+En(a.href)+'"]');if(c)return i.instance=c,Vt(c),c;var d=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),Vt(c),sn(c,"style",d),af(c,a.precedence,r),i.instance=c;case"stylesheet":d=lo(a.href);var h=r.querySelector(Hl(d));if(h)return i.state.loading|=4,i.instance=h,Vt(h),h;c=Tb(a),(d=er.get(d))&&Vp(c,d),h=(r.ownerDocument||r).createElement("link"),Vt(h);var b=h;return b._p=new Promise(function(T,M){b.onload=T,b.onerror=M}),sn(h,"link",c),i.state.loading|=4,af(h,a.precedence,r),i.instance=h;case"script":return h=co(a.src),(d=r.querySelector(ql(h)))?(i.instance=d,Vt(d),d):(c=a,(d=er.get(h))&&(c=_({},a),Pp(c,d)),r=r.ownerDocument||r,d=r.createElement("script"),Vt(d),sn(d,"link",c),r.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,af(c,a.precedence,r));return i.instance}function af(r,i,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,h=d,b=0;b<c.length;b++){var T=c[b];if(T.dataset.precedence===i)h=T;else if(h!==d)break}h?h.parentNode.insertBefore(r,h.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(r,i.firstChild))}function Vp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Pp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var of=null;function Ab(r,i,a){if(of===null){var c=new Map,d=of=new Map;d.set(a,c)}else d=of,c=d.get(a),c||(c=new Map,d.set(a,c));if(c.has(r))return c;for(c.set(r,null),a=a.getElementsByTagName(r),d=0;d<a.length;d++){var h=a[d];if(!(h[Dr]||h[Mt]||r==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var b=h.getAttribute(i)||"";b=r+b;var T=c.get(b);T?T.push(h):c.set(b,[h])}}return c}function xb(r,i,a){r=r.ownerDocument||r,r.head.insertBefore(a,i==="title"?r.querySelector("head > title"):null)}function Ox(r,i,a){if(a===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(r=i.disabled,typeof i.precedence=="string"&&r==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Ib(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function Mx(r,i,a,c){if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=lo(c.href),h=i.querySelector(Hl(d));if(h){i=h._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(r.count++,r=lf.bind(r),i.then(r,r)),a.state.loading|=4,a.instance=h,Vt(h);return}h=i.ownerDocument||i,c=Tb(c),(d=er.get(d))&&Vp(c,d),h=h.createElement("link"),Vt(h);var b=h;b._p=new Promise(function(T,M){b.onload=T,b.onerror=M}),sn(h,"link",c),a.instance=h}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(r.count++,a=lf.bind(r),i.addEventListener("load",a),i.addEventListener("error",a))}}var kp=0;function Vx(r,i){return r.stylesheets&&r.count===0&&uf(r,r.stylesheets),0<r.count||0<r.imgCount?function(a){var c=setTimeout(function(){if(r.stylesheets&&uf(r,r.stylesheets),r.unsuspend){var h=r.unsuspend;r.unsuspend=null,h()}},6e4+i);0<r.imgBytes&&kp===0&&(kp=62500*px());var d=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&uf(r,r.stylesheets),r.unsuspend)){var h=r.unsuspend;r.unsuspend=null,h()}},(r.imgBytes>kp?50:800)+i);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(c),clearTimeout(d)}}:null}function lf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uf(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var cf=null;function uf(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,cf=new Map,i.forEach(Px,r),cf=null,lf.call(r))}function Px(r,i){if(!(i.state.loading&4)){var a=cf.get(r);if(a)var c=a.get(null);else{a=new Map,cf.set(r,a);for(var d=r.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var b=d[h];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),c=b)}c&&a.set(null,c)}d=i.instance,b=d.getAttribute("data-precedence"),h=a.get(b)||c,h===c&&a.set(null,d),a.set(b,d),this.count++,c=lf.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),h?h.parentNode.insertBefore(d,h.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(d,r.firstChild)),i.state.loading|=4}}var Gl={$$typeof:ae,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function kx(r,i,a,c,d,h,b,T,M){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rr(0),this.hiddenUpdates=Rr(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function Rb(r,i,a,c,d,h,b,T,M,q,Q,Z){return r=new kx(r,i,a,b,M,q,Q,Z,T),i=1,h===!0&&(i|=24),h=Mn(3,null,null,i),r.current=h,h.stateNode=r,i=mh(),i.refCount++,r.pooledCache=i,i.refCount++,h.memoizedState={element:c,isDehydrated:a,cache:i},_h(h),r}function Cb(r){return r?(r=ja,r):ja}function Db(r,i,a,c,d,h){d=Cb(d),c.context===null?c.context=d:c.pendingContext=d,c=$i(i),c.payload={element:a},h=h===void 0?null:h,h!==null&&(c.callback=h),a=Yi(r,c,i),a!==null&&(In(a,r,i),wl(a,r,i))}function Nb(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<i?a:i}}function Lp(r,i){Nb(r,i),(r=r.alternate)&&Nb(r,i)}function Ob(r){if(r.tag===13||r.tag===31){var i=Ks(r,67108864);i!==null&&In(i,r,67108864),Lp(r,67108864)}}function Mb(r){if(r.tag===13||r.tag===31){var i=Un();i=ks(i);var a=Ks(r,i);a!==null&&In(a,r,i),Lp(r,i)}}var ff=!0;function Lx(r,i,a,c){var d=K.T;K.T=null;var h=le.p;try{le.p=2,Up(r,i,a,c)}finally{le.p=h,K.T=d}}function Ux(r,i,a,c){var d=K.T;K.T=null;var h=le.p;try{le.p=8,Up(r,i,a,c)}finally{le.p=h,K.T=d}}function Up(r,i,a,c){if(ff){var d=zp(c);if(d===null)Sp(r,i,c,df,a),Pb(r,c);else if(jx(d,r,i,a,c))c.stopPropagation();else if(Pb(r,c),i&4&&-1<zx.indexOf(r)){for(;d!==null;){var h=qn(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var b=xr(h.pendingLanes);if(b!==0){var T=h;for(T.pendingLanes|=2,T.entangledLanes|=2;b;){var M=1<<31-At(b);T.entanglements[1]|=M,b&=~M}Fr(h),(tt&6)===0&&(Yu=mn()+500,Ul(0))}}break;case 31:case 13:T=Ks(h,2),T!==null&&In(T,h,2),Qu(),Lp(h,2)}if(h=zp(c),h===null&&Sp(r,i,c,df,a),h===d)break;d=h}d!==null&&c.stopPropagation()}else Sp(r,i,c,null,a)}}function zp(r){return r=Gn(r),jp(r)}var df=null;function jp(r){if(df=null,r=Nr(r),r!==null){var i=l(r);if(i===null)r=null;else{var a=i.tag;if(a===13){if(r=u(i),r!==null)return r;r=null}else if(a===31){if(r=p(i),r!==null)return r;r=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return df=r,null}function Vb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Os()){case Yo:return 2;case Ko:return 8;case Ni:case $d:return 32;case qc:return 268435456;default:return 32}default:return 32}}var Bp=!1,is=null,ss=null,as=null,Fl=new Map,$l=new Map,os=[],zx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pb(r,i){switch(r){case"focusin":case"focusout":is=null;break;case"dragenter":case"dragleave":ss=null;break;case"mouseover":case"mouseout":as=null;break;case"pointerover":case"pointerout":Fl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(i.pointerId)}}function Yl(r,i,a,c,d,h){return r===null||r.nativeEvent!==h?(r={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:h,targetContainers:[d]},i!==null&&(i=qn(i),i!==null&&Ob(i)),r):(r.eventSystemFlags|=c,i=r.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),r)}function jx(r,i,a,c,d){switch(i){case"focusin":return is=Yl(is,r,i,a,c,d),!0;case"dragenter":return ss=Yl(ss,r,i,a,c,d),!0;case"mouseover":return as=Yl(as,r,i,a,c,d),!0;case"pointerover":var h=d.pointerId;return Fl.set(h,Yl(Fl.get(h)||null,r,i,a,c,d)),!0;case"gotpointercapture":return h=d.pointerId,$l.set(h,Yl($l.get(h)||null,r,i,a,c,d)),!0}return!1}function kb(r){var i=Nr(r.target);if(i!==null){var a=l(i);if(a!==null){if(i=a.tag,i===13){if(i=u(a),i!==null){r.blockedOn=i,cr(r.priority,function(){Mb(a)});return}}else if(i===31){if(i=p(a),i!==null){r.blockedOn=i,cr(r.priority,function(){Mb(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function hf(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var a=zp(r.nativeEvent);if(a===null){a=r.nativeEvent;var c=new a.constructor(a.type,a);al=c,a.target.dispatchEvent(c),al=null}else return i=qn(a),i!==null&&Ob(i),r.blockedOn=a,!1;i.shift()}return!0}function Lb(r,i,a){hf(r)&&a.delete(i)}function Bx(){Bp=!1,is!==null&&hf(is)&&(is=null),ss!==null&&hf(ss)&&(ss=null),as!==null&&hf(as)&&(as=null),Fl.forEach(Lb),$l.forEach(Lb)}function pf(r,i){r.blockedOn===i&&(r.blockedOn=null,Bp||(Bp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Bx)))}var mf=null;function Ub(r){mf!==r&&(mf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){mf===r&&(mf=null);for(var i=0;i<r.length;i+=3){var a=r[i],c=r[i+1],d=r[i+2];if(typeof c!="function"){if(jp(c||a)===null)continue;break}var h=qn(a);h!==null&&(r.splice(i,3),i-=3,zh(h,{pending:!0,data:d,method:a.method,action:c},c,d))}}))}function uo(r){function i(M){return pf(M,r)}is!==null&&pf(is,r),ss!==null&&pf(ss,r),as!==null&&pf(as,r),Fl.forEach(i),$l.forEach(i);for(var a=0;a<os.length;a++){var c=os[a];c.blockedOn===r&&(c.blockedOn=null)}for(;0<os.length&&(a=os[0],a.blockedOn===null);)kb(a),a.blockedOn===null&&os.shift();if(a=(r.ownerDocument||r).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var d=a[c],h=a[c+1],b=d[Yt]||null;if(typeof h=="function")b||Ub(a);else if(b){var T=null;if(h&&h.hasAttribute("formAction")){if(d=h,b=h[Yt]||null)T=b.formAction;else if(jp(d)!==null)continue}else T=b.action;typeof T=="function"?a[c+1]=T:(a.splice(c,3),c-=3),Ub(a)}}}function zb(){function r(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(b){return d=b})},focusReset:"manual",scroll:"manual"})}function i(){d!==null&&(d(),d=null),c||setTimeout(a,20)}function a(){if(!c&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,d=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){c=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),d!==null&&(d(),d=null)}}}function Hp(r){this._internalRoot=r}gf.prototype.render=Hp.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,c=Un();Db(a,c,r,i,null,null)},gf.prototype.unmount=Hp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Db(r.current,2,null,r,null,null),Qu(),i[Cr]=null}};function gf(r){this._internalRoot=r}gf.prototype.unstable_scheduleHydration=function(r){if(r){var i=Qc();r={blockedOn:null,target:r,priority:i};for(var a=0;a<os.length&&i!==0&&i<os[a].priority;a++);os.splice(a,0,r),a===0&&kb(r)}};var jb=e.version;if(jb!=="19.2.4")throw Error(s(527,jb,"19.2.4"));le.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=g(i),r=r!==null?v(r):null,r=r===null?null:r.stateNode,r};var Hx={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yf.isDisabled&&yf.supportsFiber)try{or=yf.inject(Hx),Zt=yf}catch{}}return Ql.createRoot=function(r,i){if(!o(r))throw Error(s(299));var a=!1,c="",d=Yv,h=Kv,b=Qv;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(h=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError)),i=Rb(r,1,!1,null,null,a,c,null,d,h,b,zb),r[Cr]=i.current,Tp(r),new Hp(i)},Ql.hydrateRoot=function(r,i,a){if(!o(r))throw Error(s(299));var c=!1,d="",h=Yv,b=Kv,T=Qv,M=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(M=a.formState)),i=Rb(r,1,!0,i,a??null,c,d,M,h,b,T,zb),i.context=Cb(null),a=i.current,c=Un(),c=ks(c),d=$i(c),d.callback=null,Yi(a,d,c),a=c,i.current.lanes=a,Vs(i,a),Fr(i),r[Cr]=i.current,Tp(r),new gf(i)},Ql.version="19.2.4",Ql}var Xb;function Wx(){if(Xb)return Fp.exports;Xb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Fp.exports=Xx(),Fp.exports}var Jx=Wx();const Zx=rg(Jx),eI=()=>{};var Wb={};const Ew=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},tI=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],u=n[t++],p=n[t++],m=((o&7)<<18|(l&63)<<12|(u&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],u=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|u&63)}}return e.join("")},ww={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const l=n[o],u=o+1<n.length,p=u?n[o+1]:0,m=o+2<n.length,g=m?n[o+2]:0,v=l>>2,_=(l&3)<<4|p>>4;let E=(p&15)<<2|g>>6,S=g&63;m||(S=64,u||(E=64)),s.push(t[v],t[_],t[E],t[S])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Ew(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):tI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],p=o<n.length?t[n.charAt(o)]:0;++o;const g=o<n.length?t[n.charAt(o)]:64;++o;const _=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||p==null||g==null||_==null)throw new nI;const E=l<<2|p>>4;if(s.push(E),g!==64){const S=p<<4&240|g>>2;if(s.push(S),_!==64){const V=g<<6&192|_;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class nI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rI=function(n){const e=Ew(n);return ww.encodeByteArray(e,!0)},Bf=function(n){return rI(n).replace(/\./g,"")},Tw=function(n){try{return ww.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function iI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const sI=()=>iI().__FIREBASE_DEFAULTS__,aI=()=>{if(typeof process>"u"||typeof Wb>"u")return;const n=Wb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},oI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Tw(n[1]);return e&&JSON.parse(e)},_d=()=>{try{return eI()||sI()||aI()||oI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Sw=n=>_d()?.emulatorHosts?.[n],lI=n=>{const e=Sw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Aw=()=>_d()?.config,xw=n=>_d()?.[`_${n}`];class cI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function Vo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Iw(n){return(await fetch(n,{credentials:"include"})).ok}function uI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Bf(JSON.stringify(t)),Bf(JSON.stringify(u)),""].join(".")}const sc={};function fI(){const n={prod:[],emulator:[]};for(const e of Object.keys(sc))sc[e]?n.emulator.push(e):n.prod.push(e);return n}function dI(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Jb=!1;function Rw(n,e){if(typeof window>"u"||typeof document>"u"||!Vo(window.location.host)||sc[n]===e||sc[n]||Jb)return;sc[n]=e;function t(E){return`__firebase__banner__${E}`}const s="__firebase__banner",l=fI().prod.length>0;function u(){const E=document.getElementById(s);E&&E.remove()}function p(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,S){E.setAttribute("width","24"),E.setAttribute("id",S),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{Jb=!0,u()},E}function v(E,S){E.setAttribute("id",S),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=dI(s),S=t("text"),V=document.getElementById(S)||document.createElement("span"),U=t("learnmore"),L=document.getElementById(U)||document.createElement("a"),Y=t("preprendIcon"),X=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const ae=E.element;p(ae),v(L,U);const se=g();m(X,Y),ae.append(X,V,L,se),document.body.appendChild(ae)}l?(V.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function pI(){const n=_d()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function yI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vI(){const n=pn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function _I(){return!pI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bI(){try{return typeof indexedDB=="object"}catch{return!1}}function EI(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}const wI="FirebaseError";class Ci extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=wI,Object.setPrototypeOf(this,Ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cc.prototype.create)}}class Cc{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],u=l?TI(l,s):"Error",p=`${this.serviceName}: ${u} (${o}).`;return new Ci(o,p,s)}}function TI(n,e){return n.replace(SI,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const SI=/\{\$([^}]+)}/g;function AI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function pa(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=n[o],u=e[o];if(Zb(l)&&Zb(u)){if(!pa(l,u))return!1}else if(l!==u)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Zb(n){return n!==null&&typeof n=="object"}function Dc(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function xI(n,e){const t=new II(n,e);return t.subscribe.bind(t)}class II{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");RI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Qp),o.error===void 0&&(o.error=Qp),o.complete===void 0&&(o.complete=Qp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Qp(){}function bn(n){return n&&n._delegate?n._delegate:n}class ma{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const la="[DEFAULT]";let CI=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new cI;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NI(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,u]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(l);s===p&&u.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:DI(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function DI(n){return n===la?void 0:n}function NI(n){return n.instantiationMode==="EAGER"}class OI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new CI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var qe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(qe||(qe={}));const MI={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},VI=qe.INFO,PI={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},kI=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=PI[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ig{constructor(e){this.name=e,this._logLevel=VI,this._logHandler=kI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const LI=(n,e)=>e.some(t=>n instanceof t);let e0,t0;function UI(){return e0||(e0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zI(){return t0||(t0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Cw=new WeakMap,bm=new WeakMap,Dw=new WeakMap,Xp=new WeakMap,sg=new WeakMap;function jI(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{t(ps(n.result)),o()},u=()=>{s(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Cw.set(t,n)}).catch(()=>{}),sg.set(e,n),e}function BI(n){if(bm.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{t(),o()},u=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});bm.set(n,e)}let Em={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return bm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Dw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ps(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function HI(n){Em=n(Em)}function qI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(Wp(this),e,...t);return Dw.set(s,e.sort?e.sort():[e]),ps(s)}:zI().includes(n)?function(...e){return n.apply(Wp(this),e),ps(Cw.get(this))}:function(...e){return ps(n.apply(Wp(this),e))}}function GI(n){return typeof n=="function"?qI(n):(n instanceof IDBTransaction&&BI(n),LI(n,UI())?new Proxy(n,Em):n)}function ps(n){if(n instanceof IDBRequest)return jI(n);if(Xp.has(n))return Xp.get(n);const e=GI(n);return e!==n&&(Xp.set(n,e),sg.set(e,n)),e}const Wp=n=>sg.get(n);function FI(n,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const u=indexedDB.open(n,e),p=ps(u);return s&&u.addEventListener("upgradeneeded",m=>{s(ps(u.result),m.oldVersion,m.newVersion,ps(u.transaction),m)}),t&&u.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),p.then(m=>{l&&m.addEventListener("close",()=>l()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const $I=["get","getKey","getAll","getAllKeys","count"],YI=["put","add","delete","clear"],Jp=new Map;function n0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Jp.get(e))return Jp.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=YI.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||$I.includes(t)))return;const l=async function(u,...p){const m=this.transaction(u,o?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(p.shift())),(await Promise.all([g[t](...p),o&&m.done]))[0]};return Jp.set(e,l),l}HI(n=>({...n,get:(e,t,s)=>n0(e,t)||n.get(e,t,s),has:(e,t)=>!!n0(e,t)||n.has(e,t)}));class KI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(QI(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function QI(n){return n.getComponent()?.type==="VERSION"}const wm="@firebase/app",r0="0.14.7";const Ai=new ig("@firebase/app"),XI="@firebase/app-compat",WI="@firebase/analytics-compat",JI="@firebase/analytics",ZI="@firebase/app-check-compat",eR="@firebase/app-check",tR="@firebase/auth",nR="@firebase/auth-compat",rR="@firebase/database",iR="@firebase/data-connect",sR="@firebase/database-compat",aR="@firebase/functions",oR="@firebase/functions-compat",lR="@firebase/installations",cR="@firebase/installations-compat",uR="@firebase/messaging",fR="@firebase/messaging-compat",dR="@firebase/performance",hR="@firebase/performance-compat",pR="@firebase/remote-config",mR="@firebase/remote-config-compat",gR="@firebase/storage",yR="@firebase/storage-compat",vR="@firebase/firestore",_R="@firebase/ai",bR="@firebase/firestore-compat",ER="firebase",wR="12.8.0";const Tm="[DEFAULT]",TR={[wm]:"fire-core",[XI]:"fire-core-compat",[JI]:"fire-analytics",[WI]:"fire-analytics-compat",[eR]:"fire-app-check",[ZI]:"fire-app-check-compat",[tR]:"fire-auth",[nR]:"fire-auth-compat",[rR]:"fire-rtdb",[iR]:"fire-data-connect",[sR]:"fire-rtdb-compat",[aR]:"fire-fn",[oR]:"fire-fn-compat",[lR]:"fire-iid",[cR]:"fire-iid-compat",[uR]:"fire-fcm",[fR]:"fire-fcm-compat",[dR]:"fire-perf",[hR]:"fire-perf-compat",[pR]:"fire-rc",[mR]:"fire-rc-compat",[gR]:"fire-gcs",[yR]:"fire-gcs-compat",[vR]:"fire-fst",[bR]:"fire-fst-compat",[_R]:"fire-vertex","fire-js":"fire-js",[ER]:"fire-js-all"};const Hf=new Map,SR=new Map,Sm=new Map;function i0(n,e){try{n.container.addComponent(e)}catch(t){Ai.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function To(n){const e=n.name;if(Sm.has(e))return Ai.debug(`There were multiple attempts to register component ${e}.`),!1;Sm.set(e,n);for(const t of Hf.values())i0(t,n);for(const t of SR.values())i0(t,n);return!0}function ag(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function nr(n){return n==null?!1:n.settings!==void 0}const AR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ms=new Cc("app","Firebase",AR);class xR{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ma("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ms.create("app-deleted",{appName:this._name})}}const Po=wR;function Nw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:Tm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ms.create("bad-app-name",{appName:String(o)});if(t||(t=Aw()),!t)throw ms.create("no-options");const l=Hf.get(o);if(l){if(pa(t,l.options)&&pa(s,l.config))return l;throw ms.create("duplicate-app",{appName:o})}const u=new OI(o);for(const m of Sm.values())u.addComponent(m);const p=new xR(t,s,u);return Hf.set(o,p),p}function Ow(n=Tm){const e=Hf.get(n);if(!e&&n===Tm&&Aw())return Nw();if(!e)throw ms.create("no-app",{appName:n});return e}function gs(n,e,t){let s=TR[n]??n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${s}" with version "${e}":`];o&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ai.warn(u.join(" "));return}To(new ma(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const IR="firebase-heartbeat-database",RR=1,hc="firebase-heartbeat-store";let Zp=null;function Mw(){return Zp||(Zp=FI(IR,RR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(hc)}catch(t){console.warn(t)}}}}).catch(n=>{throw ms.create("idb-open",{originalErrorMessage:n.message})})),Zp}async function CR(n){try{const t=(await Mw()).transaction(hc),s=await t.objectStore(hc).get(Vw(n));return await t.done,s}catch(e){if(e instanceof Ci)Ai.warn(e.message);else{const t=ms.create("idb-get",{originalErrorMessage:e?.message});Ai.warn(t.message)}}}async function s0(n,e){try{const s=(await Mw()).transaction(hc,"readwrite");await s.objectStore(hc).put(e,Vw(n)),await s.done}catch(t){if(t instanceof Ci)Ai.warn(t.message);else{const s=ms.create("idb-set",{originalErrorMessage:t?.message});Ai.warn(s.message)}}}function Vw(n){return`${n.name}!${n.options.appId}`}const DR=1024,NR=30;class OR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new VR(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=a0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>NR){const o=PR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ai.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=a0(),{heartbeatsToSend:t,unsentEntries:s}=MR(this._heartbeatsCache.heartbeats),o=Bf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ai.warn(e),""}}}function a0(){return new Date().toISOString().substring(0,10)}function MR(n,e=DR){const t=[];let s=n.slice();for(const o of n){const l=t.find(u=>u.agent===o.agent);if(l){if(l.dates.push(o.date),o0(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),o0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class VR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bI()?EI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await CR(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return s0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return s0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function o0(n){return Bf(JSON.stringify({version:2,heartbeats:n})).length}function PR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}function kR(n){To(new ma("platform-logger",e=>new KI(e),"PRIVATE")),To(new ma("heartbeat",e=>new OR(e),"PRIVATE")),gs(wm,r0,n),gs(wm,r0,"esm2020"),gs("fire-js","")}kR("");var l0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ys,Pw;(function(){var n;function e(I,x){function R(){}R.prototype=x.prototype,I.F=x.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(O,N,z){for(var D=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)D[$e-2]=arguments[$e];return x.prototype[N].apply(O,D)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,x,R){R||(R=0);const O=Array(16);if(typeof x=="string")for(var N=0;N<16;++N)O[N]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(N=0;N<16;++N)O[N]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=I.g[0],R=I.g[1],N=I.g[2];let z=I.g[3],D;D=x+(z^R&(N^z))+O[0]+3614090360&4294967295,x=R+(D<<7&4294967295|D>>>25),D=z+(N^x&(R^N))+O[1]+3905402710&4294967295,z=x+(D<<12&4294967295|D>>>20),D=N+(R^z&(x^R))+O[2]+606105819&4294967295,N=z+(D<<17&4294967295|D>>>15),D=R+(x^N&(z^x))+O[3]+3250441966&4294967295,R=N+(D<<22&4294967295|D>>>10),D=x+(z^R&(N^z))+O[4]+4118548399&4294967295,x=R+(D<<7&4294967295|D>>>25),D=z+(N^x&(R^N))+O[5]+1200080426&4294967295,z=x+(D<<12&4294967295|D>>>20),D=N+(R^z&(x^R))+O[6]+2821735955&4294967295,N=z+(D<<17&4294967295|D>>>15),D=R+(x^N&(z^x))+O[7]+4249261313&4294967295,R=N+(D<<22&4294967295|D>>>10),D=x+(z^R&(N^z))+O[8]+1770035416&4294967295,x=R+(D<<7&4294967295|D>>>25),D=z+(N^x&(R^N))+O[9]+2336552879&4294967295,z=x+(D<<12&4294967295|D>>>20),D=N+(R^z&(x^R))+O[10]+4294925233&4294967295,N=z+(D<<17&4294967295|D>>>15),D=R+(x^N&(z^x))+O[11]+2304563134&4294967295,R=N+(D<<22&4294967295|D>>>10),D=x+(z^R&(N^z))+O[12]+1804603682&4294967295,x=R+(D<<7&4294967295|D>>>25),D=z+(N^x&(R^N))+O[13]+4254626195&4294967295,z=x+(D<<12&4294967295|D>>>20),D=N+(R^z&(x^R))+O[14]+2792965006&4294967295,N=z+(D<<17&4294967295|D>>>15),D=R+(x^N&(z^x))+O[15]+1236535329&4294967295,R=N+(D<<22&4294967295|D>>>10),D=x+(N^z&(R^N))+O[1]+4129170786&4294967295,x=R+(D<<5&4294967295|D>>>27),D=z+(R^N&(x^R))+O[6]+3225465664&4294967295,z=x+(D<<9&4294967295|D>>>23),D=N+(x^R&(z^x))+O[11]+643717713&4294967295,N=z+(D<<14&4294967295|D>>>18),D=R+(z^x&(N^z))+O[0]+3921069994&4294967295,R=N+(D<<20&4294967295|D>>>12),D=x+(N^z&(R^N))+O[5]+3593408605&4294967295,x=R+(D<<5&4294967295|D>>>27),D=z+(R^N&(x^R))+O[10]+38016083&4294967295,z=x+(D<<9&4294967295|D>>>23),D=N+(x^R&(z^x))+O[15]+3634488961&4294967295,N=z+(D<<14&4294967295|D>>>18),D=R+(z^x&(N^z))+O[4]+3889429448&4294967295,R=N+(D<<20&4294967295|D>>>12),D=x+(N^z&(R^N))+O[9]+568446438&4294967295,x=R+(D<<5&4294967295|D>>>27),D=z+(R^N&(x^R))+O[14]+3275163606&4294967295,z=x+(D<<9&4294967295|D>>>23),D=N+(x^R&(z^x))+O[3]+4107603335&4294967295,N=z+(D<<14&4294967295|D>>>18),D=R+(z^x&(N^z))+O[8]+1163531501&4294967295,R=N+(D<<20&4294967295|D>>>12),D=x+(N^z&(R^N))+O[13]+2850285829&4294967295,x=R+(D<<5&4294967295|D>>>27),D=z+(R^N&(x^R))+O[2]+4243563512&4294967295,z=x+(D<<9&4294967295|D>>>23),D=N+(x^R&(z^x))+O[7]+1735328473&4294967295,N=z+(D<<14&4294967295|D>>>18),D=R+(z^x&(N^z))+O[12]+2368359562&4294967295,R=N+(D<<20&4294967295|D>>>12),D=x+(R^N^z)+O[5]+4294588738&4294967295,x=R+(D<<4&4294967295|D>>>28),D=z+(x^R^N)+O[8]+2272392833&4294967295,z=x+(D<<11&4294967295|D>>>21),D=N+(z^x^R)+O[11]+1839030562&4294967295,N=z+(D<<16&4294967295|D>>>16),D=R+(N^z^x)+O[14]+4259657740&4294967295,R=N+(D<<23&4294967295|D>>>9),D=x+(R^N^z)+O[1]+2763975236&4294967295,x=R+(D<<4&4294967295|D>>>28),D=z+(x^R^N)+O[4]+1272893353&4294967295,z=x+(D<<11&4294967295|D>>>21),D=N+(z^x^R)+O[7]+4139469664&4294967295,N=z+(D<<16&4294967295|D>>>16),D=R+(N^z^x)+O[10]+3200236656&4294967295,R=N+(D<<23&4294967295|D>>>9),D=x+(R^N^z)+O[13]+681279174&4294967295,x=R+(D<<4&4294967295|D>>>28),D=z+(x^R^N)+O[0]+3936430074&4294967295,z=x+(D<<11&4294967295|D>>>21),D=N+(z^x^R)+O[3]+3572445317&4294967295,N=z+(D<<16&4294967295|D>>>16),D=R+(N^z^x)+O[6]+76029189&4294967295,R=N+(D<<23&4294967295|D>>>9),D=x+(R^N^z)+O[9]+3654602809&4294967295,x=R+(D<<4&4294967295|D>>>28),D=z+(x^R^N)+O[12]+3873151461&4294967295,z=x+(D<<11&4294967295|D>>>21),D=N+(z^x^R)+O[15]+530742520&4294967295,N=z+(D<<16&4294967295|D>>>16),D=R+(N^z^x)+O[2]+3299628645&4294967295,R=N+(D<<23&4294967295|D>>>9),D=x+(N^(R|~z))+O[0]+4096336452&4294967295,x=R+(D<<6&4294967295|D>>>26),D=z+(R^(x|~N))+O[7]+1126891415&4294967295,z=x+(D<<10&4294967295|D>>>22),D=N+(x^(z|~R))+O[14]+2878612391&4294967295,N=z+(D<<15&4294967295|D>>>17),D=R+(z^(N|~x))+O[5]+4237533241&4294967295,R=N+(D<<21&4294967295|D>>>11),D=x+(N^(R|~z))+O[12]+1700485571&4294967295,x=R+(D<<6&4294967295|D>>>26),D=z+(R^(x|~N))+O[3]+2399980690&4294967295,z=x+(D<<10&4294967295|D>>>22),D=N+(x^(z|~R))+O[10]+4293915773&4294967295,N=z+(D<<15&4294967295|D>>>17),D=R+(z^(N|~x))+O[1]+2240044497&4294967295,R=N+(D<<21&4294967295|D>>>11),D=x+(N^(R|~z))+O[8]+1873313359&4294967295,x=R+(D<<6&4294967295|D>>>26),D=z+(R^(x|~N))+O[15]+4264355552&4294967295,z=x+(D<<10&4294967295|D>>>22),D=N+(x^(z|~R))+O[6]+2734768916&4294967295,N=z+(D<<15&4294967295|D>>>17),D=R+(z^(N|~x))+O[13]+1309151649&4294967295,R=N+(D<<21&4294967295|D>>>11),D=x+(N^(R|~z))+O[4]+4149444226&4294967295,x=R+(D<<6&4294967295|D>>>26),D=z+(R^(x|~N))+O[11]+3174756917&4294967295,z=x+(D<<10&4294967295|D>>>22),D=N+(x^(z|~R))+O[2]+718787259&4294967295,N=z+(D<<15&4294967295|D>>>17),D=R+(z^(N|~x))+O[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(N+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+z&4294967295}s.prototype.v=function(I,x){x===void 0&&(x=I.length);const R=x-this.blockSize,O=this.C;let N=this.h,z=0;for(;z<x;){if(N==0)for(;z<=R;)o(this,I,z),z+=this.blockSize;if(typeof I=="string"){for(;z<x;)if(O[N++]=I.charCodeAt(z++),N==this.blockSize){o(this,O),N=0;break}}else for(;z<x;)if(O[N++]=I[z++],N==this.blockSize){o(this,O),N=0;break}}this.h=N,this.o+=x},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;x=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=x&255,x/=256;for(this.v(I),I=Array(16),x=0,R=0;R<4;++R)for(let O=0;O<32;O+=8)I[x++]=this.g[R]>>>O&255;return I};function l(I,x){var R=p;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=x(I)}function u(I,x){this.h=x;const R=[];let O=!0;for(let N=I.length-1;N>=0;N--){const z=I[N]|0;O&&z==x||(R[N]=z,O=!1)}this.g=R}var p={};function m(I){return-128<=I&&I<128?l(I,function(x){return new u([x|0],x<0?-1:0)}):new u([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return _;if(I<0)return L(g(-I));const x=[];let R=1;for(let O=0;I>=R;O++)x[O]=I/R|0,R*=4294967296;return new u(x,0)}function v(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return L(v(I.substring(1),x));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(x,8));let O=_;for(let z=0;z<I.length;z+=8){var N=Math.min(8,I.length-z);const D=parseInt(I.substring(z,z+N),x);N<8?(N=g(Math.pow(x,N)),O=O.j(N).add(g(D))):(O=O.j(R),O=O.add(g(D)))}return O}var _=m(0),E=m(1),S=m(16777216);n=u.prototype,n.m=function(){if(U(this))return-L(this).m();let I=0,x=1;for(let R=0;R<this.g.length;R++){const O=this.i(R);I+=(O>=0?O:4294967296+O)*x,x*=4294967296}return I},n.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(V(this))return"0";if(U(this))return"-"+L(this).toString(I);const x=g(Math.pow(I,6));var R=this;let O="";for(;;){const N=se(R,x).g;R=Y(R,N.j(x));let z=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=N,V(R))return z+O;for(;z.length<6;)z="0"+z;O=z+O}},n.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function V(I){if(I.h!=0)return!1;for(let x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function U(I){return I.h==-1}n.l=function(I){return I=Y(this,I),U(I)?-1:V(I)?0:1};function L(I){const x=I.g.length,R=[];for(let O=0;O<x;O++)R[O]=~I.g[O];return new u(R,~I.h).add(E)}n.abs=function(){return U(this)?L(this):this},n.add=function(I){const x=Math.max(this.g.length,I.g.length),R=[];let O=0;for(let N=0;N<=x;N++){let z=O+(this.i(N)&65535)+(I.i(N)&65535),D=(z>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);O=D>>>16,z&=65535,D&=65535,R[N]=D<<16|z}return new u(R,R[R.length-1]&-2147483648?-1:0)};function Y(I,x){return I.add(L(x))}n.j=function(I){if(V(this)||V(I))return _;if(U(this))return U(I)?L(this).j(L(I)):L(L(this).j(I));if(U(I))return L(this.j(L(I)));if(this.l(S)<0&&I.l(S)<0)return g(this.m()*I.m());const x=this.g.length+I.g.length,R=[];for(var O=0;O<2*x;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(let N=0;N<I.g.length;N++){const z=this.i(O)>>>16,D=this.i(O)&65535,$e=I.i(N)>>>16,_e=I.i(N)&65535;R[2*O+2*N]+=D*_e,X(R,2*O+2*N),R[2*O+2*N+1]+=z*_e,X(R,2*O+2*N+1),R[2*O+2*N+1]+=D*$e,X(R,2*O+2*N+1),R[2*O+2*N+2]+=z*$e,X(R,2*O+2*N+2)}for(I=0;I<x;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=x;I<2*x;I++)R[I]=0;return new u(R,0)};function X(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function ae(I,x){this.g=I,this.h=x}function se(I,x){if(V(x))throw Error("division by zero");if(V(I))return new ae(_,_);if(U(I))return x=se(L(I),x),new ae(L(x.g),L(x.h));if(U(x))return x=se(I,L(x)),new ae(L(x.g),x.h);if(I.g.length>30){if(U(I)||U(x))throw Error("slowDivide_ only works with positive integers.");for(var R=E,O=x;O.l(I)<=0;)R=oe(R),O=oe(O);var N=ie(R,1),z=ie(O,1);for(O=ie(O,2),R=ie(R,2);!V(O);){var D=z.add(O);D.l(I)<=0&&(N=N.add(R),z=D),O=ie(O,1),R=ie(R,1)}return x=Y(I,N.j(x)),new ae(N,x)}for(N=_;I.l(x)>=0;){for(R=Math.max(1,Math.floor(I.m()/x.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),z=g(R),D=z.j(x);U(D)||D.l(I)>0;)R-=O,z=g(R),D=z.j(x);V(z)&&(z=E),N=N.add(z),I=Y(I,D)}return new ae(N,I)}n.B=function(I){return se(this,I).h},n.and=function(I){const x=Math.max(this.g.length,I.g.length),R=[];for(let O=0;O<x;O++)R[O]=this.i(O)&I.i(O);return new u(R,this.h&I.h)},n.or=function(I){const x=Math.max(this.g.length,I.g.length),R=[];for(let O=0;O<x;O++)R[O]=this.i(O)|I.i(O);return new u(R,this.h|I.h)},n.xor=function(I){const x=Math.max(this.g.length,I.g.length),R=[];for(let O=0;O<x;O++)R[O]=this.i(O)^I.i(O);return new u(R,this.h^I.h)};function oe(I){const x=I.g.length+1,R=[];for(let O=0;O<x;O++)R[O]=I.i(O)<<1|I.i(O-1)>>>31;return new u(R,I.h)}function ie(I,x){const R=x>>5;x%=32;const O=I.g.length-R,N=[];for(let z=0;z<O;z++)N[z]=x>0?I.i(z+R)>>>x|I.i(z+R+1)<<32-x:I.i(z+R);return new u(N,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Pw=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=v,ys=u}).apply(typeof l0<"u"?l0:typeof self<"u"?self:typeof window<"u"?window:{});var vf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var kw,ec,Lw,Df,Am,Uw,zw,jw;(function(){var n,e=Object.defineProperty;function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof vf=="object"&&vf];for(var y=0;y<f.length;++y){var w=f[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var s=t(this);function o(f,y){if(y)e:{var w=s;f=f.split(".");for(var A=0;A<f.length-1;A++){var B=f[A];if(!(B in w))break e;w=w[B]}f=f[f.length-1],A=w[f],y=y(A),y!=A&&y!=null&&e(w,f,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(f){return f||function(y){var w=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&w.push([A,y[A]]);return w}});var l=l||{},u=this||self;function p(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function m(f,y,w){return f.call.apply(f.bind,arguments)}function g(f,y,w){return g=m,g.apply(null,arguments)}function v(f,y){var w=Array.prototype.slice.call(arguments,1);return function(){var A=w.slice();return A.push.apply(A,arguments),f.apply(this,A)}}function _(f,y){function w(){}w.prototype=y.prototype,f.Z=y.prototype,f.prototype=new w,f.prototype.constructor=f,f.Ob=function(A,B,F){for(var fe=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)fe[Oe-2]=arguments[Oe];return y.prototype[B].apply(A,fe)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function S(f){const y=f.length;if(y>0){const w=Array(y);for(let A=0;A<y;A++)w[A]=f[A];return w}return[]}function V(f,y){for(let A=1;A<arguments.length;A++){const B=arguments[A];var w=typeof B;if(w=w!="object"?w:B?Array.isArray(B)?"array":w:"null",w=="array"||w=="object"&&typeof B.length=="number"){w=f.length||0;const F=B.length||0;f.length=w+F;for(let fe=0;fe<F;fe++)f[w+fe]=B[fe]}else f.push(B)}}class U{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function L(f){u.setTimeout(()=>{throw f},0)}function Y(){var f=I;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class X{constructor(){this.h=this.g=null}add(y,w){const A=ae.get();A.set(y,w),this.h?this.h.next=A:this.g=A,this.h=A}}var ae=new U(()=>new se,f=>f.reset());class se{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,ie=!1,I=new X,x=()=>{const f=Promise.resolve(void 0);oe=()=>{f.then(R)}};function R(){for(var f;f=Y();){try{f.h.call(f.g)}catch(w){L(w)}var y=ae;y.j(f),y.h<100&&(y.h++,f.next=y.g,y.g=f)}ie=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const w=()=>{};u.addEventListener("test",w,y),u.removeEventListener("test",w,y)}catch{}return f})();function D(f){return/^[\s\xa0]*$/.test(f)}function $e(f,y){N.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,y)}_($e,N),$e.prototype.init=function(f,y){const w=this.type=f.type,A=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget,y||(w=="mouseover"?y=f.fromElement:w=="mouseout"&&(y=f.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&$e.Z.h.call(this)},$e.prototype.h=function(){$e.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var _e="closure_listenable_"+(Math.random()*1e6|0),K=0;function le(f,y,w,A,B){this.listener=f,this.proxy=null,this.src=y,this.type=w,this.capture=!!A,this.ha=B,this.key=++K,this.da=this.fa=!1}function ye(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Le(f,y,w){for(const A in f)y.call(w,f[A],A,f)}function Ke(f,y){for(const w in f)y.call(void 0,f[w],w,f)}function P(f){const y={};for(const w in f)y[w]=f[w];return y}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(f,y){let w,A;for(let B=1;B<arguments.length;B++){A=arguments[B];for(w in A)f[w]=A[w];for(let F=0;F<W.length;F++)w=W[F],Object.prototype.hasOwnProperty.call(A,w)&&(f[w]=A[w])}}function de(f){this.src=f,this.g={},this.h=0}de.prototype.add=function(f,y,w,A,B){const F=f.toString();f=this.g[F],f||(f=this.g[F]=[],this.h++);const fe=xe(f,y,A,B);return fe>-1?(y=f[fe],w||(y.fa=!1)):(y=new le(y,this.src,F,!!A,B),y.fa=w,f.push(y)),y};function Te(f,y){const w=y.type;if(w in f.g){var A=f.g[w],B=Array.prototype.indexOf.call(A,y,void 0),F;(F=B>=0)&&Array.prototype.splice.call(A,B,1),F&&(ye(y),f.g[w].length==0&&(delete f.g[w],f.h--))}}function xe(f,y,w,A){for(let B=0;B<f.length;++B){const F=f[B];if(!F.da&&F.listener==y&&F.capture==!!w&&F.ha==A)return B}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),vt={};function ne(f,y,w,A,B){if(Array.isArray(y)){for(let F=0;F<y.length;F++)ne(f,y[F],w,A,B);return null}return w=$o(w),f&&f[_e]?f.J(y,w,p(A)?!!A.capture:!1,B):Ve(f,y,w,!1,A,B)}function Ve(f,y,w,A,B,F){if(!y)throw Error("Invalid event type");const fe=p(B)?!!B.capture:!!B;let Oe=Cn(f);if(Oe||(f[ke]=Oe=new de(f)),w=Oe.add(y,w,A,fe,F),w.proxy)return w;if(A=Ue(),w.proxy=A,A.src=f,A.listener=w,f.addEventListener)z||(B=fe),B===void 0&&(B=!1),f.addEventListener(y.toString(),A,B);else if(f.attachEvent)f.attachEvent(We(y.toString()),A);else if(f.addListener&&f.removeListener)f.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Ue(){function f(w){return y.call(f.src,f.listener,w)}const y=qt;return f}function Ne(f,y,w,A,B){if(Array.isArray(y))for(var F=0;F<y.length;F++)Ne(f,y[F],w,A,B);else A=p(A)?!!A.capture:!!A,w=$o(w),f&&f[_e]?(f=f.i,F=String(y).toString(),F in f.g&&(y=f.g[F],w=xe(y,w,A,B),w>-1&&(ye(y[w]),Array.prototype.splice.call(y,w,1),y.length==0&&(delete f.g[F],f.h--)))):f&&(f=Cn(f))&&(y=f.g[y.toString()],f=-1,y&&(f=xe(y,w,A,B)),(w=f>-1?y[f]:null)&&nt(w))}function nt(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[_e])Te(y.i,f);else{var w=f.type,A=f.proxy;y.removeEventListener?y.removeEventListener(w,A,f.capture):y.detachEvent?y.detachEvent(We(w),A):y.addListener&&y.removeListener&&y.removeListener(A),(w=Cn(y))?(Te(w,f),w.h==0&&(w.src=null,y[ke]=null)):ye(f)}}}function We(f){return f in vt?vt[f]:vt[f]="on"+f}function qt(f,y){if(f.da)f=!0;else{y=new $e(y,this);const w=f.listener,A=f.ha||f.src;f.fa&&nt(f),f=w.call(A,y)}return f}function Cn(f){return f=f[ke],f instanceof de?f:null}var Fo="__closure_events_fn_"+(Math.random()*1e9>>>0);function $o(f){return typeof f=="function"?f:(f[Fo]||(f[Fo]=function(y){return f.handleEvent(y)}),f[Fo])}function Nt(){O.call(this),this.i=new de(this),this.M=this,this.G=null}_(Nt,O),Nt.prototype[_e]=!0,Nt.prototype.removeEventListener=function(f,y,w,A){Ne(this,f,y,w,A)};function Gt(f,y){var w,A=f.G;if(A)for(w=[];A;A=A.G)w.push(A);if(f=f.M,A=y.type||y,typeof y=="string")y=new N(y,f);else if(y instanceof N)y.target=y.target||f;else{var B=y;y=new N(A,f),ce(y,B)}B=!0;let F,fe;if(w)for(fe=w.length-1;fe>=0;fe--)F=y.g=w[fe],B=Di(F,A,!0,y)&&B;if(F=y.g=f,B=Di(F,A,!0,y)&&B,B=Di(F,A,!1,y)&&B,w)for(fe=0;fe<w.length;fe++)F=y.g=w[fe],B=Di(F,A,!1,y)&&B}Nt.prototype.N=function(){if(Nt.Z.N.call(this),this.i){var f=this.i;for(const y in f.g){const w=f.g[y];for(let A=0;A<w.length;A++)ye(w[A]);delete f.g[y],f.h--}}this.G=null},Nt.prototype.J=function(f,y,w,A){return this.i.add(String(f),y,!1,w,A)},Nt.prototype.K=function(f,y,w,A){return this.i.add(String(f),y,!0,w,A)};function Di(f,y,w,A){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();let B=!0;for(let F=0;F<y.length;++F){const fe=y[F];if(fe&&!fe.da&&fe.capture==w){const Oe=fe.listener,xt=fe.ha||fe.src;fe.fa&&Te(f.i,fe),B=Oe.call(xt,A)!==!1&&B}}return B&&!A.defaultPrevented}function Fd(f,y){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=g(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:u.setTimeout(f,y||0)}function Hc(f){f.g=Fd(()=>{f.g=null,f.i&&(f.i=!1,Hc(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class mn extends O{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Hc(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Os(f){O.call(this),this.h=f,this.g={}}_(Os,O);var Yo=[];function Ko(f){Le(f.g,function(y,w){this.g.hasOwnProperty(w)&&nt(y)},f),f.g={}}Os.prototype.N=function(){Os.Z.N.call(this),Ko(this)},Os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ni=u.JSON.stringify,$d=u.JSON.parse,qc=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function Gc(){}function Fc(){}var or={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Zt(){N.call(this,"d")}_(Zt,N);function Hn(){N.call(this,"c")}_(Hn,N);var At={},$c=null;function Sa(){return $c=$c||new Nt}At.Ia="serverreachability";function Yc(f){N.call(this,At.Ia,f)}_(Yc,N);function Ar(f){const y=Sa();Gt(y,new Yc(y))}At.STAT_EVENT="statevent";function Ms(f,y){N.call(this,At.STAT_EVENT,f),this.stat=y}_(Ms,N);function Ot(f){const y=Sa();Gt(y,new Ms(y,f))}At.Ja="timingevent";function xr(f,y){N.call(this,At.Ja,f),this.size=y}_(xr,N);function Ir(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},y)}function lr(){this.g=!0}lr.prototype.ua=function(){this.g=!1};function Yd(f,y,w,A,B,F){f.info(function(){if(f.g)if(F){var fe="",Oe=F.split("&");for(let et=0;et<Oe.length;et++){var xt=Oe[et].split("=");if(xt.length>1){const _t=xt[0];xt=xt[1];const $n=_t.split("_");fe=$n.length>=2&&$n[1]=="type"?fe+(_t+"="+xt+"&"):fe+(_t+"=redacted&")}}}else fe=null;else fe=F;return"XMLHTTP REQ ("+A+") [attempt "+B+"]: "+y+`
`+w+`
`+fe})}function Kc(f,y,w,A,B,F,fe){f.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+B+"]: "+y+`
`+w+`
`+F+" "+fe})}function Rr(f,y,w,A){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+Kd(f,w)+(A?" "+A:"")})}function Vs(f,y){f.info(function(){return"TIMEOUT: "+y})}lr.prototype.info=function(){};function Kd(f,y){if(!f.g)return y;if(!y)return null;try{const F=JSON.parse(y);if(F){for(f=0;f<F.length;f++)if(Array.isArray(F[f])){var w=F[f];if(!(w.length<2)){var A=w[1];if(Array.isArray(A)&&!(A.length<1)){var B=A[0];if(B!="noop"&&B!="stop"&&B!="close")for(let fe=1;fe<A.length;fe++)A[fe]=""}}}}return Ni(F)}catch{return y}}var Ps={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Qo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Xo;function ks(){}_(ks,Gc),ks.prototype.g=function(){return new XMLHttpRequest},Xo=new ks;function ti(f){return encodeURIComponent(String(f))}function Qc(f){var y=1;f=f.split(":");const w=[];for(;y>0&&f.length;)w.push(f.shift()),y--;return f.length&&w.push(f.join(":")),w}function cr(f,y,w,A){this.j=f,this.i=y,this.l=w,this.S=A||1,this.V=new Os(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ur}function ur(){this.i=null,this.g="",this.h=!1}var Mt={},Yt={};function Cr(f,y,w){f.M=1,f.A=Ls(Pt(y)),f.u=w,f.R=!0,Aa(f,null)}function Aa(f,y){f.F=Date.now(),Dr(f),f.B=Pt(f.A);var w=f.B,A=f.S;Array.isArray(A)||(A=[String(A)]),Ca(w.i,"t",A),f.C=0,w=f.j.L,f.h=new ur,f.g=uu(f.j,w?y:null,!f.u),f.P>0&&(f.O=new mn(g(f.Y,f,f.g),f.P)),y=f.V,w=f.g,A=f.ba;var B="readystatechange";Array.isArray(B)||(B&&(Yo[0]=B.toString()),B=Yo);for(let F=0;F<B.length;F++){const fe=ne(w,B[F],A||y.handleEvent,!1,y.h||y);if(!fe)break;y.g[fe.key]=fe}y=f.J?P(f.J):{},f.u?(f.v||(f.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,y)):(f.v="GET",f.g.ea(f.B,f.v,null,y)),Ar(),Yd(f.i,f.v,f.B,f.l,f.S,f.u)}cr.prototype.ba=function(f){f=f.target;const y=this.O;y&&hr(f)==3?y.j():this.Y(f)},cr.prototype.Y=function(f){try{if(f==this.g)e:{const Oe=hr(this.g),xt=this.g.ya(),et=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||Oe!=4||xt==7||(xt==8||et<=0?Ar(3):Ar(2)),Nr(this);var y=this.g.ca();this.X=y;var w=Qd(this);if(this.o=y==200,Kc(this.i,this.v,this.B,this.l,this.S,Oe,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,B=this.g;if((A=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(A)){var F=A;break t}}F=null}if(f=F)Rr(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Or(this,f);else{this.o=!1,this.m=3,Ot(12),Dn(this),qn(this);break e}}if(this.R){f=!0;let _t;for(;!this.K&&this.C<w.length;)if(_t=Wc(this,w),_t==Yt){Oe==4&&(this.m=4,Ot(14),f=!1),Rr(this.i,this.l,null,"[Incomplete Response]");break}else if(_t==Mt){this.m=4,Ot(15),Rr(this.i,this.l,w,"[Invalid Chunk]"),f=!1;break}else Rr(this.i,this.l,_t,null),Or(this,_t);if(Xc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||w.length!=0||this.h.h||(this.m=1,Ot(16),f=!1),this.o=this.o&&f,!f)Rr(this.i,this.l,w,"[Invalid Chunked Response]"),Dn(this),qn(this);else if(w.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),fl(fe),fe.P=!0,Ot(11))}}else Rr(this.i,this.l,w,null),Or(this,w);Oe==4&&Dn(this),this.o&&!this.K&&(Oe==4?au(this.j,this):(this.o=!1,Dr(this)))}else ri(this.g),y==400&&w.indexOf("Unknown SID")>0?(this.m=3,Ot(12)):(this.m=0,Ot(13)),Dn(this),qn(this)}}}catch{}};function Qd(f){if(!Xc(f))return f.g.la();const y=en(f.g);if(y==="")return"";let w="";const A=y.length,B=hr(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Dn(f),qn(f),"";f.h.i=new u.TextDecoder}for(let F=0;F<A;F++)f.h.h=!0,w+=f.h.i.decode(y[F],{stream:!(B&&F==A-1)});return y.length=0,f.h.g+=w,f.C=0,f.h.g}function Xc(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Wc(f,y){var w=f.C,A=y.indexOf(`
`,w);return A==-1?Yt:(w=Number(y.substring(w,A)),isNaN(w)?Mt:(A+=1,A+w>y.length?Yt:(y=y.slice(A,A+w),f.C=A+w,y)))}cr.prototype.cancel=function(){this.K=!0,Dn(this)};function Dr(f){f.T=Date.now()+f.H,xa(f,f.H)}function xa(f,y){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Ir(g(f.aa,f),y)}function Nr(f){f.D&&(u.clearTimeout(f.D),f.D=null)}cr.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Vs(this.i,this.B),this.M!=2&&(Ar(),Ot(17)),Dn(this),this.m=2,qn(this)):xa(this,this.T-f)};function qn(f){f.j.I==0||f.K||au(f.j,f)}function Dn(f){Nr(f);var y=f.O;y&&typeof y.dispose=="function"&&y.dispose(),f.O=null,Ko(f.V),f.g&&(y=f.g,f.g=null,y.abort(),y.dispose())}function Or(f,y){try{var w=f.j;if(w.I!=0&&(w.g==f||Vr(w.h,f))){if(!f.L&&Vr(w.h,f)&&w.I==3){try{var A=w.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var B=A;if(B[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<f.F)Va(w),zi(w);else break e;Gs(w),Ot(18)}}else w.xa=B[1],0<w.xa-w.K&&B[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=Ir(g(w.Va,w),6e3));Mr(w.h)<=1&&w.ta&&(w.ta=void 0)}else jr(w,11)}else if((f.L||w.g==f)&&Va(w),!D(y))for(B=w.Ba.g.parse(y),y=0;y<B.length;y++){let et=B[y];const _t=et[0];if(!(_t<=w.K))if(w.K=_t,et=et[1],w.I==2)if(et[0]=="c"){w.M=et[1],w.ba=et[2];const $n=et[3];$n!=null&&(w.ka=$n,w.j.info("VER="+w.ka));const Br=et[4];Br!=null&&(w.za=Br,w.j.info("SVER="+w.za));const pr=et[5];pr!=null&&typeof pr=="number"&&pr>0&&(A=1.5*pr,w.O=A,w.j.info("backChannelRequestTimeoutMs_="+A)),A=w;const mr=f.g;if(mr){const Fs=mr.g?mr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fs){var F=A.h;F.g||Fs.indexOf("spdy")==-1&&Fs.indexOf("quic")==-1&&Fs.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Zo(F,F.h),F.h=null))}if(A.G){const Pa=mr.g?mr.g.getResponseHeader("X-HTTP-Session-Id"):null;Pa&&(A.wa=Pa,st(A.J,A.G,Pa))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-f.F,w.j.info("Handshake RTT: "+w.T+"ms")),A=w;var fe=f;if(A.na=cu(A,A.L?A.ba:null,A.W),fe.L){el(A.h,fe);var Oe=fe,xt=A.O;xt&&(Oe.H=xt),Oe.D&&(Nr(Oe),Dr(Oe)),A.g=fe}else iu(A);w.i.length>0&&zr(w)}else et[0]!="stop"&&et[0]!="close"||jr(w,7);else w.I==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?jr(w,7):cl(w):et[0]!="noop"&&w.l&&w.l.qa(et),w.A=0)}}Ar(4)}catch{}}var Vt=class{constructor(f,y){this.g=f,this.map=y}};function Wo(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Jo(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Mr(f){return f.h?1:f.g?f.g.size:0}function Vr(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function Zo(f,y){f.g?f.g.add(y):f.h=y}function el(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}Wo.prototype.cancel=function(){if(this.i=tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function tl(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const w of f.g.values())y=y.concat(w.G);return y}return S(f.i)}var Jc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ia(f,y){if(f){f=f.split("&");for(let w=0;w<f.length;w++){const A=f[w].indexOf("=");let B,F=null;A>=0?(B=f[w].substring(0,A),F=f[w].substring(A+1)):B=f[w],y(B,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Nn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;f instanceof Nn?(this.l=f.l,Kt(this,f.j),this.o=f.o,this.g=f.g,Oi(this,f.u),this.h=f.h,nl(this,nu(f.i)),this.m=f.m):f&&(y=String(f).match(Jc))?(this.l=!1,Kt(this,y[1]||"",!0),this.o=Pr(y[2]||""),this.g=Pr(y[3]||"",!0),Oi(this,y[4]),this.h=Pr(y[5]||"",!0),nl(this,y[6]||"",!0),this.m=Pr(y[7]||"")):(this.l=!1,this.i=new Vi(null,this.l))}Nn.prototype.toString=function(){const f=[];var y=this.j;y&&f.push(Us(y,Ra,!0),":");var w=this.g;return(w||y=="file")&&(f.push("//"),(y=this.o)&&f.push(Us(y,Ra,!0),"@"),f.push(ti(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&f.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&f.push("/"),f.push(Us(w,w.charAt(0)=="/"?rl:Zc,!0))),(w=this.i.toString())&&f.push("?",w),(w=this.m)&&f.push("#",Us(w,eu)),f.join("")},Nn.prototype.resolve=function(f){const y=Pt(this);let w=!!f.j;w?Kt(y,f.j):w=!!f.o,w?y.o=f.o:w=!!f.g,w?y.g=f.g:w=f.u!=null;var A=f.h;if(w)Oi(y,f.u);else if(w=!!f.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var B=y.h.lastIndexOf("/");B!=-1&&(A=y.h.slice(0,B+1)+A)}if(B=A,B==".."||B==".")A="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){A=B.lastIndexOf("/",0)==0,B=B.split("/");const F=[];for(let fe=0;fe<B.length;){const Oe=B[fe++];Oe=="."?A&&fe==B.length&&F.push(""):Oe==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),A&&fe==B.length&&F.push("")):(F.push(Oe),A=!0)}A=F.join("/")}else A=B}return w?y.h=A:w=f.i.toString()!=="",w?nl(y,nu(f.i)):w=!!f.m,w&&(y.m=f.m),y};function Pt(f){return new Nn(f)}function Kt(f,y,w){f.j=w?Pr(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function Oi(f,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);f.u=y}else f.u=null}function nl(f,y,w){y instanceof Vi?(f.i=y,Da(f.i,f.l)):(w||(y=Us(y,Mi)),f.i=new Vi(y,f.l))}function st(f,y,w){f.i.set(y,w)}function Ls(f){return st(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Pr(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Us(f,y,w){return typeof f=="string"?(f=encodeURI(f).replace(y,En),w&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function En(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Ra=/[#\/\?@]/g,Zc=/[#\?:]/g,rl=/[#\?]/g,Mi=/[#\?@]/g,eu=/#/g;function Vi(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function wn(f){f.g||(f.g=new Map,f.h=0,f.i&&Ia(f.i,function(y,w){f.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}n=Vi.prototype,n.add=function(f,y){wn(this),this.i=null,f=Pi(this,f);let w=this.g.get(f);return w||this.g.set(f,w=[]),w.push(y),this.h+=1,this};function tu(f,y){wn(f),y=Pi(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function il(f,y){return wn(f),y=Pi(f,y),f.g.has(y)}n.forEach=function(f,y){wn(this),this.g.forEach(function(w,A){w.forEach(function(B){f.call(y,B,A,this)},this)},this)};function sl(f,y){wn(f);let w=[];if(typeof y=="string")il(f,y)&&(w=w.concat(f.g.get(Pi(f,y))));else for(f=Array.from(f.g.values()),y=0;y<f.length;y++)w=w.concat(f[y]);return w}n.set=function(f,y){return wn(this),this.i=null,f=Pi(this,f),il(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},n.get=function(f,y){return f?(f=sl(this,f),f.length>0?String(f[0]):y):y};function Ca(f,y,w){tu(f,y),w.length>0&&(f.i=null,f.g.set(Pi(f,y),S(w)),f.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var w=y[A];const B=ti(w);w=sl(this,w);for(let F=0;F<w.length;F++){let fe=B;w[F]!==""&&(fe+="="+ti(w[F])),f.push(fe)}}return this.i=f.join("&")};function nu(f){const y=new Vi;return y.i=f.i,f.g&&(y.g=new Map(f.g),y.h=f.h),y}function Pi(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function Da(f,y){y&&!f.j&&(wn(f),f.i=null,f.g.forEach(function(w,A){const B=A.toLowerCase();A!=B&&(tu(this,A),Ca(this,B,w))},f)),f.j=y}function fr(f,y){const w=new lr;if(u.Image){const A=new Image;A.onload=v(Gn,w,"TestLoadImage: loaded",!0,y,A),A.onerror=v(Gn,w,"TestLoadImage: error",!1,y,A),A.onabort=v(Gn,w,"TestLoadImage: abort",!1,y,A),A.ontimeout=v(Gn,w,"TestLoadImage: timeout",!1,y,A),u.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=f}else y(!1)}function al(f,y){const w=new lr,A=new AbortController,B=setTimeout(()=>{A.abort(),Gn(w,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:A.signal}).then(F=>{clearTimeout(B),F.ok?Gn(w,"TestPingServer: ok",!0,y):Gn(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Gn(w,"TestPingServer: error",!1,y)})}function Gn(f,y,w,A,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),A(w)}catch{}}function ki(){this.g=new qc}function kr(f){this.i=f.Sb||null,this.h=f.ab||!1}_(kr,Gc),kr.prototype.g=function(){return new zs(this.i,this.h)};function zs(f,y){Nt.call(this),this.H=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(zs,Nt),n=zs.prototype,n.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=y,this.readyState=1,dr(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(y.body=f),(this.H||u).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Li(this)),this.readyState=0},n.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,dr(this)),this.g&&(this.readyState=3,dr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Na(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Na(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}n.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?Li(this):dr(this),this.readyState==3&&Na(this)}},n.Oa=function(f){this.g&&(this.response=this.responseText=f,Li(this))},n.Na=function(f){this.g&&(this.response=f,Li(this))},n.ga=function(){this.g&&Li(this)};function Li(f){f.readyState=4,f.l=null,f.j=null,f.B=null,dr(f)}n.setRequestHeader=function(f,y){this.A.append(f,y)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,f.push(w[0]+": "+w[1]),w=y.next();return f.join(`\r
`)};function dr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(zs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Fn(f){let y="";return Le(f,function(w,A){y+=A,y+=":",y+=w,y+=`\r
`}),y}function js(f,y,w){e:{for(A in w){var A=!1;break e}A=!0}A||(w=Fn(w),typeof f=="string"?w!=null&&ti(w):st(f,y,w))}function lt(f){Nt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(lt,Nt);var Lr=/^https?$/i,ol=["POST","PUT"];n=lt.prototype,n.Fa=function(f){this.H=f},n.ea=function(f,y,w,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Xo.g(),this.g.onreadystatechange=E(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(F){Bs(this,F);return}if(f=w||"",w=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var B in A)w.set(B,A[B]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())w.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(w.keys()).find(F=>F.toLowerCase()=="content-type"),B=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(ol,y,void 0)>=0)||A||B||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,fe]of w)this.g.setRequestHeader(F,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(F){Bs(this,F)}};function Bs(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.o=5,ll(f),ni(f)}function ll(f){f.A||(f.A=!0,Gt(f,"complete"),Gt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Gt(this,"complete"),Gt(this,"abort"),ni(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ni(this,!0)),lt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Hs(this):this.Xa())},n.Xa=function(){Hs(this)};function Hs(f){if(f.h&&typeof l<"u"){if(f.v&&hr(f)==4)setTimeout(f.Ca.bind(f),0);else if(Gt(f,"readystatechange"),hr(f)==4){f.h=!1;try{const F=f.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var A;if(A=F===0){let fe=String(f.D).match(Jc)[1]||null;!fe&&u.self&&u.self.location&&(fe=u.self.location.protocol.slice(0,-1)),A=!Lr.test(fe?fe.toLowerCase():"")}w=A}if(w)Gt(f,"complete"),Gt(f,"success");else{f.o=6;try{var B=hr(f)>2?f.g.statusText:""}catch{B=""}f.l=B+" ["+f.ca()+"]",ll(f)}}finally{ni(f)}}}}function ni(f,y){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const w=f.g;f.g=null,y||Gt(f,"ready");try{w.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function hr(f){return f.g?f.g.readyState:0}n.ca=function(){try{return hr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),$d(y)}};function en(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function ri(f){const y={};f=(f.g&&hr(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<f.length;A++){if(D(f[A]))continue;var w=Qc(f[A]);const B=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const F=y[B]||[];y[B]=F,F.push(w)}Ke(y,function(A){return A.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ur(f,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[f]||y}function Ui(f){this.za=0,this.i=[],this.j=new lr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ur("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ur("baseRetryDelayMs",5e3,f),this.Za=Ur("retryDelaySeedMs",1e4,f),this.Ta=Ur("forwardChannelMaxRetries",2,f),this.va=Ur("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Wo(f&&f.concurrentRequestLimit),this.Ba=new ki,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ui.prototype,n.ka=8,n.I=1,n.connect=function(f,y,w,A){Ot(0),this.W=f,this.H=y||{},w&&A!==void 0&&(this.H.OSID=w,this.H.OAID=A),this.F=this.X,this.J=cu(this,null,this.W),zr(this)};function cl(f){if(Oa(f),f.I==3){var y=f.V++,w=Pt(f.J);if(st(w,"SID",f.M),st(w,"RID",y),st(w,"TYPE","terminate"),qs(f,w),y=new cr(f,f.j,y),y.M=2,y.A=Ls(Pt(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(y.A.toString(),"")}catch{}!w&&u.Image&&(new Image().src=y.A,w=!0),w||(y.g=uu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Dr(y)}lu(f)}function zi(f){f.g&&(fl(f),f.g.cancel(),f.g=null)}function Oa(f){zi(f),f.v&&(u.clearTimeout(f.v),f.v=null),Va(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function zr(f){if(!Jo(f.h)&&!f.m){f.m=!0;var y=f.Ea;oe||x(),ie||(oe(),ie=!0),I.add(y,f),f.D=0}}function Ma(f,y){return Mr(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=y.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Ir(g(f.Ea,f,y),ou(f,f.D)),f.D++,!0)}n.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const B=new cr(this,this.j,f);let F=this.o;if(this.U&&(F?(F=P(F),ce(F,this.U)):F=this.U),this.u!==null||this.R||(B.J=F,F=null),this.S)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var A=this.i[w];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=ru(this,B,y),w=Pt(this.J),st(w,"RID",f),st(w,"CVER",22),this.G&&st(w,"X-HTTP-Session-Id",this.G),qs(this,w),F&&(this.R?y="headers="+ti(Fn(F))+"&"+y:this.u&&js(w,this.u,F)),Zo(this.h,B),this.Ra&&st(w,"TYPE","init"),this.S?(st(w,"$req",y),st(w,"SID","null"),B.U=!0,Cr(B,w,null)):Cr(B,w,y),this.I=2}}else this.I==3&&(f?ul(this,f):this.i.length==0||Jo(this.h)||ul(this))};function ul(f,y){var w;y?w=y.l:w=f.V++;const A=Pt(f.J);st(A,"SID",f.M),st(A,"RID",w),st(A,"AID",f.K),qs(f,A),f.u&&f.o&&js(A,f.u,f.o),w=new cr(f,f.j,w,f.D+1),f.u===null&&(w.J=f.o),y&&(f.i=y.G.concat(f.i)),y=ru(f,w,1e3),w.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Zo(f.h,w),Cr(w,A,y)}function qs(f,y){f.H&&Le(f.H,function(w,A){st(y,A,w)}),f.l&&Le({},function(w,A){st(y,A,w)})}function ru(f,y,w){w=Math.min(f.i.length,w);const A=f.l?g(f.l.Ka,f.l,f):null;e:{var B=f.i;let Oe=-1;for(;;){const xt=["count="+w];Oe==-1?w>0?(Oe=B[0].g,xt.push("ofs="+Oe)):Oe=0:xt.push("ofs="+Oe);let et=!0;for(let _t=0;_t<w;_t++){var F=B[_t].g;const $n=B[_t].map;if(F-=Oe,F<0)Oe=Math.max(0,B[_t].g-100),et=!1;else try{F="req"+F+"_"||"";try{var fe=$n instanceof Map?$n:Object.entries($n);for(const[Br,pr]of fe){let mr=pr;p(pr)&&(mr=Ni(pr)),xt.push(F+Br+"="+encodeURIComponent(mr))}}catch(Br){throw xt.push(F+"type="+encodeURIComponent("_badmap")),Br}}catch{A&&A($n)}}if(et){fe=xt.join("&");break e}}fe=void 0}return f=f.i.splice(0,w),y.G=f,fe}function iu(f){if(!f.g&&!f.v){f.Y=1;var y=f.Da;oe||x(),ie||(oe(),ie=!0),I.add(y,f),f.A=0}}function Gs(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Ir(g(f.Da,f),ou(f,f.A)),f.A++,!0)}n.Da=function(){if(this.v=null,su(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Ir(g(this.Wa,this),f)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ot(10),zi(this),su(this))};function fl(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function su(f){f.g=new cr(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var y=Pt(f.na);st(y,"RID","rpc"),st(y,"SID",f.M),st(y,"AID",f.K),st(y,"CI",f.F?"0":"1"),!f.F&&f.ia&&st(y,"TO",f.ia),st(y,"TYPE","xmlhttp"),qs(f,y),f.u&&f.o&&js(y,f.u,f.o),f.O&&(f.g.H=f.O);var w=f.g;f=f.ba,w.M=1,w.A=Ls(Pt(y)),w.u=null,w.R=!0,Aa(w,f)}n.Va=function(){this.C!=null&&(this.C=null,zi(this),Gs(this),Ot(19))};function Va(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function au(f,y){var w=null;if(f.g==y){Va(f),fl(f),f.g=null;var A=2}else if(Vr(f.h,y))w=y.G,el(f.h,y),A=1;else return;if(f.I!=0){if(y.o)if(A==1){w=y.u?y.u.length:0,y=Date.now()-y.F;var B=f.D;A=Sa(),Gt(A,new xr(A,w)),zr(f)}else iu(f);else if(B=y.m,B==3||B==0&&y.X>0||!(A==1&&Ma(f,y)||A==2&&Gs(f)))switch(w&&w.length>0&&(y=f.h,y.i=y.i.concat(w)),B){case 1:jr(f,5);break;case 4:jr(f,10);break;case 3:jr(f,6);break;default:jr(f,2)}}}function ou(f,y){let w=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(w*=2),w*y}function jr(f,y){if(f.j.info("Error code "+y),y==2){var w=g(f.bb,f),A=f.Ua;const B=!A;A=new Nn(A||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Kt(A,"https"),Ls(A),B?fr(A.toString(),w):al(A.toString(),w)}else Ot(2);f.I=0,f.l&&f.l.pa(y),lu(f),Oa(f)}n.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function lu(f){if(f.I=0,f.ja=[],f.l){const y=tl(f.h);(y.length!=0||f.i.length!=0)&&(V(f.ja,y),V(f.ja,f.i),f.h.i.length=0,S(f.i),f.i.length=0),f.l.oa()}}function cu(f,y,w){var A=w instanceof Nn?Pt(w):new Nn(w);if(A.g!="")y&&(A.g=y+"."+A.g),Oi(A,A.u);else{var B=u.location;A=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;const F=new Nn(null);A&&Kt(F,A),y&&(F.g=y),B&&Oi(F,B),w&&(F.h=w),A=F}return w=f.G,y=f.wa,w&&y&&st(A,w,y),st(A,"VER",f.ka),qs(f,A),A}function uu(f,y,w){if(y&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Aa&&!f.ma?new lt(new kr({ab:w})):new lt(f.ma),y.Fa(f.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function fu(){}n=fu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ji(){}ji.prototype.g=function(f,y){return new gn(f,y)};function gn(f,y){Nt.call(this),this.g=new Ui(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(f?f["X-WebChannel-Client-Profile"]=y.sa:f={"X-WebChannel-Client-Profile":y.sa}),this.g.U=f,(f=y&&y.Qb)&&!D(f)&&(this.g.u=f),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new ii(this)}_(gn,Nt),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){cl(this.g)},gn.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var w={};w.__data__=f,f=w}else this.v&&(w={},w.__data__=Ni(f),f=w);y.i.push(new Vt(y.Ya++,f)),y.I==3&&zr(y)},gn.prototype.N=function(){this.g.l=null,delete this.j,cl(this.g),delete this.g,gn.Z.N.call(this)};function du(f){Zt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const w in y){f=w;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}_(du,Zt);function hu(){Hn.call(this),this.status=1}_(hu,Hn);function ii(f){this.g=f}_(ii,fu),ii.prototype.ra=function(){Gt(this.g,"a")},ii.prototype.qa=function(f){Gt(this.g,new du(f))},ii.prototype.pa=function(f){Gt(this.g,new hu)},ii.prototype.oa=function(){Gt(this.g,"b")},ji.prototype.createWebChannel=ji.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,jw=function(){return new ji},zw=function(){return Sa()},Uw=At,Am={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ps.NO_ERROR=0,Ps.TIMEOUT=8,Ps.HTTP_ERROR=6,Df=Ps,Qo.COMPLETE="complete",Lw=Qo,Fc.EventType=or,or.OPEN="a",or.CLOSE="b",or.ERROR="c",or.MESSAGE="d",Nt.prototype.listen=Nt.prototype.J,ec=Fc,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,kw=lt}).apply(typeof vf<"u"?vf:typeof self<"u"?self:typeof window<"u"?window:{});let dn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");let ko="12.8.0";function LR(n){ko=n}const ga=new ig("@firebase/firestore");function fo(){return ga.logLevel}function pe(n,...e){if(ga.logLevel<=qe.DEBUG){const t=e.map(og);ga.debug(`Firestore (${ko}): ${n}`,...t)}}function xi(n,...e){if(ga.logLevel<=qe.ERROR){const t=e.map(og);ga.error(`Firestore (${ko}): ${n}`,...t)}}function So(n,...e){if(ga.logLevel<=qe.WARN){const t=e.map(og);ga.warn(`Firestore (${ko}): ${n}`,...t)}}function og(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Ae(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,Bw(n,s,t)}function Bw(n,e,t){let s=`FIRESTORE (${ko}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw xi(s),new Error(s)}function it(n,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,n||Bw(e,o,s)}function De(n,e){return n}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Ci{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Hw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(dn.UNAUTHENTICATED)))}shutdown(){}}class zR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class jR{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){it(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,t(m)):Promise.resolve();let l=new vs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new vs,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},p=m=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>p(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new vs)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(it(typeof s.accessToken=="string",31837,{l:s}),new Hw(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class BR{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class HR{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new BR(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class c0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qR{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,nr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){it(this.o===void 0,3512);const s=l=>{l.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const o=l=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new c0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(it(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new c0(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function GR(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}class lg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=GR(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function Ge(n,e){return n<e?-1:n>e?1:0}function xm(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const o=n.charAt(s),l=e.charAt(s);if(o!==l)return em(o)===em(l)?Ge(o,l):em(o)?1:-1}return Ge(n.length,e.length)}const FR=55296,$R=57343;function em(n){const e=n.charCodeAt(0);return e>=FR&&e<=$R}function Ao(n,e,t){return n.length===e.length&&n.every(((s,o)=>t(s,e[o])))}const u0="__name__";class $r{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ae(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ae(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return $r.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $r?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=$r.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Ge(e.length,t.length)}static compareSegments(e,t){const s=$r.isNumericId(e),o=$r.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?$r.extractNumericId(e).compare($r.extractNumericId(t)):xm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ys.fromString(e.substring(4,e.length-2))}}class pt extends $r{construct(e,t,s){return new pt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new pt(t)}static emptyPath(){return new pt([])}}const YR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends $r{construct(e,t,s){return new on(e,t,s)}static isValidIdentifier(e){return YR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===u0}static keyField(){return new on([u0])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let u=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new he(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new he(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else p==="`"?(u=!u,o++):p!=="."||u?(s+=p,o++):(l(),o++)}if(l(),u)throw new he(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(t)}static emptyPath(){return new on([])}}class we{constructor(e){this.path=e}static fromPath(e){return new we(pt.fromString(e))}static fromName(e){return new we(pt.fromString(e).popFirst(5))}static empty(){return new we(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return pt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new pt(e.slice()))}}function qw(n,e,t){if(!t)throw new he(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function KR(n,e,t,s){if(e===!0&&s===!0)throw new he(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function f0(n){if(!we.isDocumentKey(n))throw new he(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function d0(n){if(we.isDocumentKey(n))throw new he(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Gw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function bd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ae(12329,{type:typeof n})}function Si(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new he(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=bd(n);throw new he(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Ht(n,e){const t={typeString:n};return e&&(t.value=e),t}function Nc(n,e){if(!Gw(n))throw new he(ee.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const u=n[s];if(o&&typeof u!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(l!==void 0&&u!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new he(ee.INVALID_ARGUMENT,t);return!0}const h0=-62135596800,p0=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*p0);return new yt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<h0)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/p0}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Nc(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-h0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:Ht("string",yt._jsonSchemaVersion),seconds:Ht("number"),nanoseconds:Ht("number")};class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new yt(0,0))}static max(){return new Re(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const pc=-1;function QR(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(s===1e9?new yt(t+1,0):new yt(t,s));return new Ts(o,we.empty(),e)}function XR(n){return new Ts(n.readTime,n.key,pc)}class Ts{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ts(Re.min(),we.empty(),pc)}static max(){return new Ts(Re.max(),we.empty(),pc)}}function WR(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(n.documentKey,e.documentKey),t!==0?t:Ge(n.largestBatchId,e.largestBatchId))}const JR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Lo(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==JR)throw n;pe("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te(((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):te.reject(t)}static resolve(e){return new te(((t,s)=>{t(e)}))}static reject(e){return new te(((t,s)=>{s(e)}))}static waitFor(e){return new te(((t,s)=>{let o=0,l=0,u=!1;e.forEach((p=>{++o,p.next((()=>{++l,u&&l===o&&t()}),(m=>s(m)))})),u=!0,l===o&&t()}))}static or(e){let t=te.resolve(!1);for(const s of e)t=t.next((o=>o?te.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,l)=>{s.push(t.call(this,o,l))})),this.waitFor(s)}static mapArray(e,t){return new te(((s,o)=>{const l=e.length,u=new Array(l);let p=0;for(let m=0;m<l;m++){const g=m;t(e[g]).next((v=>{u[g]=v,++p,p===l&&s(u)}),(v=>o(v)))}}))}static doWhile(e,t){return new te(((s,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):s()};l()}))}}function eC(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Uo(n){return n.name==="IndexedDbTransactionError"}class Ed{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ed.ce=-1;const cg=-1;function wd(n){return n==null}function qf(n){return n===0&&1/n==-1/0}function tC(n){return typeof n=="number"&&Number.isInteger(n)&&!qf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Fw="";function nC(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=m0(e)),e=rC(n.get(t),e);return m0(e)}function rC(n,e){let t=e;const s=n.length;for(let o=0;o<s;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case Fw:t+="";break;default:t+=l}}return t}function m0(n){return n+Fw+""}function g0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ba(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function $w(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class wt{constructor(e,t){this.comparator=e,this.root=t||an.EMPTY}insert(e,t){return new wt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _f(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _f(this.root,e,this.comparator,!1)}getReverseIterator(){return new _f(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _f(this.root,e,this.comparator,!0)}}class _f{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??an.RED,this.left=o??an.EMPTY,this.right=l??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new an(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return an.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,t,s,o,l){return this}insert(e,t,s){return new an(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $t{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new y0(this.data.getIterator())}getIteratorFrom(e){return new y0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new $t(this.comparator);return t.data=e,t}}class y0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class _r{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new _r([])}unionWith(e){let t=new $t(on.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new _r(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ao(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class Yw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Yw("Invalid base64 string: "+l):l}})(e);return new cn(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);return l})(e);return new cn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const iC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ss(n){if(it(!!n,39018),typeof n=="string"){let e=0;const t=iC.exec(n);if(it(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ct(n.seconds),nanos:Ct(n.nanos)}}function Ct(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function As(n){return typeof n=="string"?cn.fromBase64String(n):cn.fromUint8Array(n)}const Kw="server_timestamp",Qw="__type__",Xw="__previous_value__",Ww="__local_write_time__";function ug(n){return(n?.mapValue?.fields||{})[Qw]?.stringValue===Kw}function Td(n){const e=n.mapValue.fields[Xw];return ug(e)?Td(e):e}function mc(n){const e=Ss(n.mapValue.fields[Ww].timestampValue);return new yt(e.seconds,e.nanos)}class sC{constructor(e,t,s,o,l,u,p,m,g,v,_){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v,this.apiKey=_}}const Gf="(default)";class gc{constructor(e,t){this.projectId=e,this.database=t||Gf}static empty(){return new gc("","")}get isDefaultDatabase(){return this.database===Gf}isEqual(e){return e instanceof gc&&e.projectId===this.projectId&&e.database===this.database}}function aC(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new he(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gc(n.options.projectId,e)}const Jw="__type__",oC="__max__",bf={mapValue:{}},Zw="__vector__",Ff="value";function xs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ug(n)?4:cC(n)?9007199254740991:lC(n)?10:11:Ae(28295,{value:n})}function Zr(n,e){if(n===e)return!0;const t=xs(n);if(t!==xs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return mc(n).isEqual(mc(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const u=Ss(o.timestampValue),p=Ss(l.timestampValue);return u.seconds===p.seconds&&u.nanos===p.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,l){return As(o.bytesValue).isEqual(As(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,l){return Ct(o.geoPointValue.latitude)===Ct(l.geoPointValue.latitude)&&Ct(o.geoPointValue.longitude)===Ct(l.geoPointValue.longitude)})(n,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return Ct(o.integerValue)===Ct(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const u=Ct(o.doubleValue),p=Ct(l.doubleValue);return u===p?qf(u)===qf(p):isNaN(u)&&isNaN(p)}return!1})(n,e);case 9:return Ao(n.arrayValue.values||[],e.arrayValue.values||[],Zr);case 10:case 11:return(function(o,l){const u=o.mapValue.fields||{},p=l.mapValue.fields||{};if(g0(u)!==g0(p))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(p[m]===void 0||!Zr(u[m],p[m])))return!1;return!0})(n,e);default:return Ae(52216,{left:n})}}function yc(n,e){return(n.values||[]).find((t=>Zr(t,e)))!==void 0}function xo(n,e){if(n===e)return 0;const t=xs(n),s=xs(e);if(t!==s)return Ge(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ge(n.booleanValue,e.booleanValue);case 2:return(function(l,u){const p=Ct(l.integerValue||l.doubleValue),m=Ct(u.integerValue||u.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1})(n,e);case 3:return v0(n.timestampValue,e.timestampValue);case 4:return v0(mc(n),mc(e));case 5:return xm(n.stringValue,e.stringValue);case 6:return(function(l,u){const p=As(l),m=As(u);return p.compareTo(m)})(n.bytesValue,e.bytesValue);case 7:return(function(l,u){const p=l.split("/"),m=u.split("/");for(let g=0;g<p.length&&g<m.length;g++){const v=Ge(p[g],m[g]);if(v!==0)return v}return Ge(p.length,m.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,u){const p=Ge(Ct(l.latitude),Ct(u.latitude));return p!==0?p:Ge(Ct(l.longitude),Ct(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return _0(n.arrayValue,e.arrayValue);case 10:return(function(l,u){const p=l.fields||{},m=u.fields||{},g=p[Ff]?.arrayValue,v=m[Ff]?.arrayValue,_=Ge(g?.values?.length||0,v?.values?.length||0);return _!==0?_:_0(g,v)})(n.mapValue,e.mapValue);case 11:return(function(l,u){if(l===bf.mapValue&&u===bf.mapValue)return 0;if(l===bf.mapValue)return 1;if(u===bf.mapValue)return-1;const p=l.fields||{},m=Object.keys(p),g=u.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let _=0;_<m.length&&_<v.length;++_){const E=xm(m[_],v[_]);if(E!==0)return E;const S=xo(p[m[_]],g[v[_]]);if(S!==0)return S}return Ge(m.length,v.length)})(n.mapValue,e.mapValue);default:throw Ae(23264,{he:t})}}function v0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ge(n,e);const t=Ss(n),s=Ss(e),o=Ge(t.seconds,s.seconds);return o!==0?o:Ge(t.nanos,s.nanos)}function _0(n,e){const t=n.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=xo(t[o],s[o]);if(l)return l}return Ge(t.length,s.length)}function Io(n){return Im(n)}function Im(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=Ss(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return As(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return we.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=Im(l);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const u of s)l?l=!1:o+=",",o+=`${u}:${Im(t.fields[u])}`;return o+"}"})(n.mapValue):Ae(61005,{value:n})}function Nf(n){switch(xs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Td(n);return e?16+Nf(e):16;case 5:return 2*n.stringValue.length;case 6:return As(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,l)=>o+Nf(l)),0)})(n.arrayValue);case 10:case 11:return(function(s){let o=0;return ba(s.fields,((l,u)=>{o+=l.length+Nf(u)})),o})(n.mapValue);default:throw Ae(13486,{value:n})}}function b0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Rm(n){return!!n&&"integerValue"in n}function fg(n){return!!n&&"arrayValue"in n}function E0(n){return!!n&&"nullValue"in n}function w0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Of(n){return!!n&&"mapValue"in n}function lC(n){return(n?.mapValue?.fields||{})[Jw]?.stringValue===Zw}function ac(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ba(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=ac(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ac(n.arrayValue.values[t]);return e}return{...n}}function cC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===oC}class rr{constructor(e){this.value=e}static empty(){return new rr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Of(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ac(t)}setAll(e){let t=on.emptyPath(),s={},o=[];e.forEach(((u,p)=>{if(!t.isImmediateParentOf(p)){const m=this.getFieldsMap(t);this.applyChanges(m,s,o),s={},o=[],t=p.popLast()}u?s[p.lastSegment()]=ac(u):o.push(p.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());Of(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Zr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Of(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){ba(t,((o,l)=>e[o]=l));for(const o of s)delete e[o]}clone(){return new rr(ac(this.value))}}function eT(n){const e=[];return ba(n.fields,((t,s)=>{const o=new on([t]);if(Of(s)){const l=eT(s.mapValue).fields;if(l.length===0)e.push(o);else for(const u of l)e.push(o.child(u))}else e.push(o)})),new _r(e)}class hn{constructor(e,t,s,o,l,u,p){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=u,this.documentState=p}static newInvalidDocument(e){return new hn(e,0,Re.min(),Re.min(),Re.min(),rr.empty(),0)}static newFoundDocument(e,t,s,o){return new hn(e,1,t,Re.min(),s,o,0)}static newNoDocument(e,t){return new hn(e,2,t,Re.min(),Re.min(),rr.empty(),0)}static newUnknownDocument(e,t){return new hn(e,3,t,Re.min(),Re.min(),rr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $f{constructor(e,t){this.position=e,this.inclusive=t}}function T0(n,e,t){let s=0;for(let o=0;o<n.position.length;o++){const l=e[o],u=n.position[o];if(l.field.isKeyField()?s=we.comparator(we.fromName(u.referenceValue),t.key):s=xo(u,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function S0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Zr(n.position[t],e.position[t]))return!1;return!0}class vc{constructor(e,t="asc"){this.field=e,this.dir=t}}function uC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class tT{}class Bt extends tT{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new dC(e,t,s):t==="array-contains"?new mC(e,s):t==="in"?new gC(e,s):t==="not-in"?new yC(e,s):t==="array-contains-any"?new vC(e,s):new Bt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new hC(e,s):new pC(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(xo(t,this.value)):t!==null&&xs(this.value)===xs(t)&&this.matchesComparison(xo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sr extends tT{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Sr(e,t)}matches(e){return nT(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function nT(n){return n.op==="and"}function rT(n){return fC(n)&&nT(n)}function fC(n){for(const e of n.filters)if(e instanceof Sr)return!1;return!0}function Cm(n){if(n instanceof Bt)return n.field.canonicalString()+n.op.toString()+Io(n.value);if(rT(n))return n.filters.map((e=>Cm(e))).join(",");{const e=n.filters.map((t=>Cm(t))).join(",");return`${n.op}(${e})`}}function iT(n,e){return n instanceof Bt?(function(s,o){return o instanceof Bt&&s.op===o.op&&s.field.isEqual(o.field)&&Zr(s.value,o.value)})(n,e):n instanceof Sr?(function(s,o){return o instanceof Sr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((l,u,p)=>l&&iT(u,o.filters[p])),!0):!1})(n,e):void Ae(19439)}function sT(n){return n instanceof Bt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Io(t.value)}`})(n):n instanceof Sr?(function(t){return t.op.toString()+" {"+t.getFilters().map(sT).join(" ,")+"}"})(n):"Filter"}class dC extends Bt{constructor(e,t,s){super(e,t,s),this.key=we.fromName(s.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class hC extends Bt{constructor(e,t){super(e,"in",t),this.keys=aT("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class pC extends Bt{constructor(e,t){super(e,"not-in",t),this.keys=aT("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function aT(n,e){return(e.arrayValue?.values||[]).map((t=>we.fromName(t.referenceValue)))}class mC extends Bt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return fg(t)&&yc(t.arrayValue,this.value)}}class gC extends Bt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&yc(this.value.arrayValue,t)}}class yC extends Bt{constructor(e,t){super(e,"not-in",t)}matches(e){if(yc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!yc(this.value.arrayValue,t)}}class vC extends Bt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!fg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>yc(this.value.arrayValue,s)))}}class _C{constructor(e,t=null,s=[],o=[],l=null,u=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=u,this.endAt=p,this.Te=null}}function A0(n,e=null,t=[],s=[],o=null,l=null,u=null){return new _C(n,e,t,s,o,l,u)}function dg(n){const e=De(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>Cm(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),wd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Io(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Io(s))).join(",")),e.Te=t}return e.Te}function hg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!uC(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!iT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!S0(n.startAt,e.startAt)&&S0(n.endAt,e.endAt)}function Dm(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class zo{constructor(e,t=null,s=[],o=[],l=null,u="F",p=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=u,this.startAt=p,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function bC(n,e,t,s,o,l,u,p){return new zo(n,e,t,s,o,l,u,p)}function Sd(n){return new zo(n)}function x0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function EC(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function oT(n){return n.collectionGroup!==null}function oc(n){const e=De(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let p=new $t(on.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(p=p.add(g.field))}))})),p})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new vc(l,s))})),t.has(on.keyField().canonicalString())||e.Ie.push(new vc(on.keyField(),s))}return e.Ie}function Kr(n){const e=De(n);return e.Ee||(e.Ee=wC(e,oc(n))),e.Ee}function wC(n,e){if(n.limitType==="F")return A0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new vc(o.field,l)}));const t=n.endAt?new $f(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new $f(n.startAt.position,n.startAt.inclusive):null;return A0(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function Nm(n,e){const t=n.filters.concat([e]);return new zo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function TC(n,e){const t=n.explicitOrderBy.concat([e]);return new zo(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function Yf(n,e,t){return new zo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ad(n,e){return hg(Kr(n),Kr(e))&&n.limitType===e.limitType}function lT(n){return`${dg(Kr(n))}|lt:${n.limitType}`}function ho(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>sT(o))).join(", ")}]`),wd(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>Io(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>Io(o))).join(",")),`Target(${s})`})(Kr(n))}; limitType=${n.limitType})`}function xd(n,e){return e.isFoundDocument()&&(function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):we.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(n,e)&&(function(s,o){for(const l of oc(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0})(n,e)&&(function(s,o){return!(s.startAt&&!(function(u,p,m){const g=T0(u,p,m);return u.inclusive?g<=0:g<0})(s.startAt,oc(s),o)||s.endAt&&!(function(u,p,m){const g=T0(u,p,m);return u.inclusive?g>=0:g>0})(s.endAt,oc(s),o))})(n,e)}function SC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function cT(n){return(e,t)=>{let s=!1;for(const o of oc(n)){const l=AC(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function AC(n,e,t){const s=n.field.isKeyField()?we.comparator(e.key,t.key):(function(l,u,p){const m=u.data.field(l),g=p.data.field(l);return m!==null&&g!==null?xo(m,g):Ae(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Ae(19790,{direction:n.dir})}}class Ea{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ba(this.inner,((t,s)=>{for(const[o,l]of s)e(o,l)}))}isEmpty(){return $w(this.inner)}size(){return this.innerSize}}const xC=new wt(we.comparator);function Ii(){return xC}const uT=new wt(we.comparator);function tc(...n){let e=uT;for(const t of n)e=e.insert(t.key,t);return e}function fT(n){let e=uT;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function fa(){return lc()}function dT(){return lc()}function lc(){return new Ea((n=>n.toString()),((n,e)=>n.isEqual(e)))}const IC=new wt(we.comparator),RC=new $t(we.comparator);function Fe(...n){let e=RC;for(const t of n)e=e.add(t);return e}const CC=new $t(Ge);function DC(){return CC}function pg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qf(e)?"-0":e}}function hT(n){return{integerValue:""+n}}function NC(n,e){return tC(e)?hT(e):pg(n,e)}class Id{constructor(){this._=void 0}}function OC(n,e,t){return n instanceof Kf?(function(o,l){const u={fields:{[Qw]:{stringValue:Kw},[Ww]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&ug(l)&&(l=Td(l)),l&&(u.fields[Xw]=l),{mapValue:u}})(t,e):n instanceof _c?mT(n,e):n instanceof bc?gT(n,e):(function(o,l){const u=pT(o,l),p=I0(u)+I0(o.Ae);return Rm(u)&&Rm(o.Ae)?hT(p):pg(o.serializer,p)})(n,e)}function MC(n,e,t){return n instanceof _c?mT(n,e):n instanceof bc?gT(n,e):t}function pT(n,e){return n instanceof Qf?(function(s){return Rm(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Kf extends Id{}class _c extends Id{constructor(e){super(),this.elements=e}}function mT(n,e){const t=yT(e);for(const s of n.elements)t.some((o=>Zr(o,s)))||t.push(s);return{arrayValue:{values:t}}}class bc extends Id{constructor(e){super(),this.elements=e}}function gT(n,e){let t=yT(e);for(const s of n.elements)t=t.filter((o=>!Zr(o,s)));return{arrayValue:{values:t}}}class Qf extends Id{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function I0(n){return Ct(n.integerValue||n.doubleValue)}function yT(n){return fg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function VC(n,e){return n.field.isEqual(e.field)&&(function(s,o){return s instanceof _c&&o instanceof _c||s instanceof bc&&o instanceof bc?Ao(s.elements,o.elements,Zr):s instanceof Qf&&o instanceof Qf?Zr(s.Ae,o.Ae):s instanceof Kf&&o instanceof Kf})(n.transform,e.transform)}class PC{constructor(e,t){this.version=e,this.transformResults=t}}class Qr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qr}static exists(e){return new Qr(void 0,e)}static updateTime(e){return new Qr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Rd{}function vT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new bT(n.key,Qr.none()):new Oc(n.key,n.data,Qr.none());{const t=n.data,s=rr.empty();let o=new $t(on.comparator);for(let l of e.fields)if(!o.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?s.delete(l):s.set(l,u),o=o.add(l)}return new wa(n.key,s,new _r(o.toArray()),Qr.none())}}function kC(n,e,t){n instanceof Oc?(function(o,l,u){const p=o.value.clone(),m=C0(o.fieldTransforms,l,u.transformResults);p.setAll(m),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(n,e,t):n instanceof wa?(function(o,l,u){if(!Mf(o.precondition,l))return void l.convertToUnknownDocument(u.version);const p=C0(o.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(_T(o)),m.setAll(p),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(n,e,t):(function(o,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function cc(n,e,t,s){return n instanceof Oc?(function(l,u,p,m){if(!Mf(l.precondition,u))return p;const g=l.value.clone(),v=D0(l.fieldTransforms,m,u);return g.setAll(v),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(n,e,t,s):n instanceof wa?(function(l,u,p,m){if(!Mf(l.precondition,u))return p;const g=D0(l.fieldTransforms,m,u),v=u.data;return v.setAll(_T(l)),v.setAll(g),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),p===null?null:p.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(n,e,t,s):(function(l,u,p){return Mf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):p})(n,e,t)}function LC(n,e){let t=null;for(const s of n.fieldTransforms){const o=e.data.field(s.field),l=pT(s.transform,o||null);l!=null&&(t===null&&(t=rr.empty()),t.set(s.field,l))}return t||null}function R0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ao(s,o,((l,u)=>VC(l,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Oc extends Rd{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class wa extends Rd{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function _T(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function C0(n,e,t){const s=new Map;it(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let o=0;o<t.length;o++){const l=n[o],u=l.transform,p=e.data.field(l.field);s.set(l.field,MC(u,p,t[o]))}return s}function D0(n,e,t){const s=new Map;for(const o of n){const l=o.transform,u=t.data.field(o.field);s.set(o.field,OC(l,u,e))}return s}class bT extends Rd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UC extends Rd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class zC{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&kC(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=cc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=cc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=dT();return this.mutations.forEach((o=>{const l=e.get(o.key),u=l.overlayedDocument;let p=this.applyToLocalView(u,l.mutatedFields);p=t.has(o.key)?null:p;const m=vT(u,p);m!==null&&s.set(o.key,m),u.isValidDocument()||u.convertToNoDocument(Re.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&Ao(this.mutations,e.mutations,((t,s)=>R0(t,s)))&&Ao(this.baseMutations,e.baseMutations,((t,s)=>R0(t,s)))}}class mg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){it(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return IC})();const l=e.mutations;for(let u=0;u<l.length;u++)o=o.insert(l[u].key,s[u].version);return new mg(e,t,s,o)}}class jC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class BC{constructor(e,t){this.count=e,this.unchangedNames=t}}var jt,Qe;function HC(n){switch(n){case ee.OK:return Ae(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ae(15467,{code:n})}}function ET(n){if(n===void 0)return xi("GRPC error has no .code"),ee.UNKNOWN;switch(n){case jt.OK:return ee.OK;case jt.CANCELLED:return ee.CANCELLED;case jt.UNKNOWN:return ee.UNKNOWN;case jt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case jt.INTERNAL:return ee.INTERNAL;case jt.UNAVAILABLE:return ee.UNAVAILABLE;case jt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case jt.NOT_FOUND:return ee.NOT_FOUND;case jt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case jt.ABORTED:return ee.ABORTED;case jt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case jt.DATA_LOSS:return ee.DATA_LOSS;default:return Ae(39323,{code:n})}}(Qe=jt||(jt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";function qC(){return new TextEncoder}const GC=new ys([4294967295,4294967295],0);function N0(n){const e=qC().encode(n),t=new Pw;return t.update(e),new Uint8Array(t.digest())}function O0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ys([t,s],0),new ys([o,l],0)]}class gg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new nc(`Invalid padding: ${t}`);if(s<0)throw new nc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new nc(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new nc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ys.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(ys.fromNumber(s)));return o.compare(GC)===1&&(o=new ys([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=N0(e),[s,o]=O0(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,o,l);if(!this.we(u))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new gg(l,o,t);return s.forEach((p=>u.insert(p))),u}insert(e){if(this.ge===0)return;const t=N0(e),[s,o]=O0(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,o,l);this.be(u)}}be(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class nc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Cd{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Mc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Cd(Re.min(),o,new wt(Ge),Ii(),Fe())}}class Mc{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Mc(s,t,Fe(),Fe(),Fe())}}class Vf{constructor(e,t,s,o){this.Se=e,this.removedTargetIds=t,this.key=s,this.De=o}}class wT{constructor(e,t){this.targetId=e,this.Ce=t}}class TT{constructor(e,t,s=cn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class M0{constructor(){this.ve=0,this.Fe=V0(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),t=Fe(),s=Fe();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ae(38017,{changeType:l})}})),new Mc(this.Me,this.xe,e,t,s)}Ke(){this.Oe=!1,this.Fe=V0()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,it(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class FC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ii(),this.He=Ef(),this.Je=Ef(),this.Ze=new wt(Ge)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(Dm(l))if(s===0){const u=new we(l.path);this.et(t,u,hn.newNoDocument(u,Re.min()))}else it(s===1,20013,{expectedCount:s});else{const u=this._t(t);if(u!==s){const p=this.ut(e),m=p?this.ct(p,e,u):1;if(m!==0){this.it(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let u,p;try{u=As(s).toUint8Array()}catch(m){if(m instanceof Yw)return So("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new gg(u,o,l)}catch(m){return So(m instanceof nc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.ge===0?null:p}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((l=>{const u=this.Ge.ht(),p=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(p)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,u)=>{const p=this.ot(u);if(p){if(l.current&&Dm(p.target)){const m=new we(p.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,hn.newNoDocument(m,e))}l.Be&&(t.set(u,l.ke()),l.Ke())}}));let s=Fe();this.Je.forEach(((l,u)=>{let p=!0;u.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const o=new Cd(e,t,this.Ze,this.je,s);return this.je=Ii(),this.He=Ef(),this.Je=Ef(),this.Ze=new wt(Ge),o}Ye(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,s),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.qe(t,1):o.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new M0,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new $t(Ge),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new $t(Ge),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new M0),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ef(){return new wt(we.comparator)}function V0(){return new wt(we.comparator)}const $C={asc:"ASCENDING",desc:"DESCENDING"},YC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KC={and:"AND",or:"OR"};class QC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Om(n,e){return n.useProto3Json||wd(e)?e:{value:e}}function Xf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ST(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function XC(n,e){return Xf(n,e.toTimestamp())}function Xr(n){return it(!!n,49232),Re.fromTimestamp((function(t){const s=Ss(t);return new yt(s.seconds,s.nanos)})(n))}function yg(n,e){return Mm(n,e).canonicalString()}function Mm(n,e){const t=(function(o){return new pt(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function AT(n){const e=pt.fromString(n);return it(DT(e),10190,{key:e.toString()}),e}function Vm(n,e){return yg(n.databaseId,e.path)}function tm(n,e){const t=AT(e);if(t.get(1)!==n.databaseId.projectId)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new we(IT(t))}function xT(n,e){return yg(n.databaseId,e)}function WC(n){const e=AT(n);return e.length===4?pt.emptyPath():IT(e)}function Pm(n){return new pt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function IT(n){return it(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function P0(n,e,t){return{name:Vm(n,e),fields:t.value.mapValue.fields}}function JC(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ae(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(it(v===void 0||typeof v=="string",58123),cn.fromBase64String(v||"")):(it(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),cn.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,p=u&&(function(g){const v=g.code===void 0?ee.UNKNOWN:ET(g.code);return new he(v,g.message||"")})(u);t=new TT(s,o,l,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=tm(n,s.document.name),l=Xr(s.document.updateTime),u=s.document.createTime?Xr(s.document.createTime):Re.min(),p=new rr({mapValue:{fields:s.document.fields}}),m=hn.newFoundDocument(o,l,u,p),g=s.targetIds||[],v=s.removedTargetIds||[];t=new Vf(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=tm(n,s.document),l=s.readTime?Xr(s.readTime):Re.min(),u=hn.newNoDocument(o,l),p=s.removedTargetIds||[];t=new Vf([],p,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=tm(n,s.document),l=s.removedTargetIds||[];t=new Vf([],l,o,null)}else{if(!("filter"in e))return Ae(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,u=new BC(o,l),p=s.targetId;t=new wT(p,u)}}return t}function ZC(n,e){let t;if(e instanceof Oc)t={update:P0(n,e.key,e.value)};else if(e instanceof bT)t={delete:Vm(n,e.key)};else if(e instanceof wa)t={update:P0(n,e.key,e.data),updateMask:l2(e.fieldMask)};else{if(!(e instanceof UC))return Ae(16599,{dt:e.type});t={verify:Vm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const p=u.transform;if(p instanceof Kf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof _c)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof bc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Qf)return{fieldPath:u.field.canonicalString(),increment:p.Ae};throw Ae(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:XC(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ae(27497)})(n,e.precondition)),t}function e2(n,e){return n&&n.length>0?(it(e!==void 0,14353),n.map((t=>(function(o,l){let u=o.updateTime?Xr(o.updateTime):Xr(l);return u.isEqual(Re.min())&&(u=Xr(l)),new PC(u,o.transformResults||[])})(t,e)))):[]}function t2(n,e){return{documents:[xT(n,e.path)]}}function n2(n,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=xT(n,o);const l=(function(g){if(g.length!==0)return CT(Sr.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const u=(function(g){if(g.length!==0)return g.map((v=>(function(E){return{field:po(E.field),direction:s2(E.dir)}})(v)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const p=Om(n,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:o}}function r2(n){let e=WC(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){it(s===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(_){const E=RT(_);return E instanceof Sr&&rT(E)?E.getFilters():[E]})(t.where));let u=[];t.orderBy&&(u=(function(_){return _.map((E=>(function(V){return new vc(mo(V.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(E)))})(t.orderBy));let p=null;t.limit&&(p=(function(_){let E;return E=typeof _=="object"?_.value:_,wd(E)?null:E})(t.limit));let m=null;t.startAt&&(m=(function(_){const E=!!_.before,S=_.values||[];return new $f(S,E)})(t.startAt));let g=null;return t.endAt&&(g=(function(_){const E=!_.before,S=_.values||[];return new $f(S,E)})(t.endAt)),bC(e,o,u,l,p,"F",m,g)}function i2(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function RT(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=mo(t.unaryFilter.field);return Bt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=mo(t.unaryFilter.field);return Bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=mo(t.unaryFilter.field);return Bt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=mo(t.unaryFilter.field);return Bt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Bt.create(mo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Sr.create(t.compositeFilter.filters.map((s=>RT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(t.compositeFilter.op))})(n):Ae(30097,{filter:n})}function s2(n){return $C[n]}function a2(n){return YC[n]}function o2(n){return KC[n]}function po(n){return{fieldPath:n.canonicalString()}}function mo(n){return on.fromServerFormat(n.fieldPath)}function CT(n){return n instanceof Bt?(function(t){if(t.op==="=="){if(w0(t.value))return{unaryFilter:{field:po(t.field),op:"IS_NAN"}};if(E0(t.value))return{unaryFilter:{field:po(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(w0(t.value))return{unaryFilter:{field:po(t.field),op:"IS_NOT_NAN"}};if(E0(t.value))return{unaryFilter:{field:po(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:po(t.field),op:a2(t.op),value:t.value}}})(n):n instanceof Sr?(function(t){const s=t.getFilters().map((o=>CT(o)));return s.length===1?s[0]:{compositeFilter:{op:o2(t.op),filters:s}}})(n):Ae(54877,{filter:n})}function l2(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function DT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function NT(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class hs{constructor(e,t,s,o,l=Re.min(),u=Re.min(),p=cn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class c2{constructor(e){this.yt=e}}function u2(n){const e=r2({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Yf(e,e.limit,"L"):e}class f2{constructor(){this.Sn=new d2}addToCollectionParentIndex(e,t){return this.Sn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(Ts.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(Ts.min())}updateCollectionGroup(e,t,s){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class d2{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new $t(pt.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new $t(pt.comparator)).toArray()}}const k0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OT=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(OT,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);class Ro{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Ro(0)}static ar(){return new Ro(-1)}}const L0="LruGarbageCollector",h2=1048576;function U0([n,e],[t,s]){const o=Ge(n,t);return o===0?Ge(e,s):o}class p2{constructor(e){this.Pr=e,this.buffer=new $t(U0),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();U0(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class m2{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){pe(L0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Uo(t)?pe(L0,"Ignoring IndexedDB error during garbage collection: ",t):await Lo(t)}await this.Ar(3e5)}))}}class g2{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return te.resolve(Ed.ce);const s=new p2(t);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(k0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),k0):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let s,o,l,u,p,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),o=this.params.maximumSequenceNumbersToCollect):o=_,u=Date.now(),this.nthSequenceNumber(e,o)))).next((_=>(s=_,p=Date.now(),this.removeTargets(e,s,t)))).next((_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((_=>(g=Date.now(),fo()<=qe.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(p-u)+`ms
	Removed ${l} targets in `+(m-p)+`ms
	Removed ${_} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:_}))))}}function y2(n,e){return new g2(n,e)}class v2{constructor(){this.changes=new Ea((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?te.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class _2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class b2{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&cc(s.mutation,o,_r.empty(),yt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Fe()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Fe()){const o=fa();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((l=>{let u=tc();return l.forEach(((p,m)=>{u=u.insert(p,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const s=fa();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Fe())))}populateOverlays(e,t,s){const o=[];return s.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((u,p)=>{t.set(u,p)}))}))}computeViews(e,t,s,o){let l=Ii();const u=lc(),p=(function(){return lc()})();return t.forEach(((m,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof wa)?l=l.insert(g.key,g):v!==void 0?(u.set(g.key,v.mutation.getFieldMask()),cc(v.mutation,g,v.mutation.getFieldMask(),yt.now())):u.set(g.key,_r.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((g,v)=>u.set(g,v))),t.forEach(((g,v)=>p.set(g,new _2(v,u.get(g)??null)))),p)))}recalculateAndSaveOverlays(e,t){const s=lc();let o=new wt(((u,p)=>u-p)),l=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const p of u)p.keys().forEach((m=>{const g=t.get(m);if(g===null)return;let v=s.get(m)||_r.empty();v=p.applyToLocalView(g,v),s.set(m,v);const _=(o.get(p.batchId)||Fe()).add(m);o=o.insert(p.batchId,_)}))})).next((()=>{const u=[],p=o.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),g=m.key,v=m.value,_=dT();v.forEach((E=>{if(!l.has(E)){const S=vT(t.get(E),s.get(E));S!==null&&_.set(E,S),l=l.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,_))}return te.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return EC(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):oT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((l=>{const u=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):te.resolve(fa());let p=pc,m=l;return u.next((g=>te.forEach(g,((v,_)=>(p<_.largestBatchId&&(p=_.largestBatchId),l.get(v)?te.resolve():this.remoteDocumentCache.getEntry(e,v).next((E=>{m=m.insert(v,E)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,m,g,Fe()))).next((v=>({batchId:p,changes:fT(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next((s=>{let o=tc();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let u=tc();return this.indexManager.getCollectionParents(e,l).next((p=>te.forEach(p,(m=>{const g=(function(_,E){return new zo(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((v=>{v.forEach(((_,E)=>{u=u.insert(_,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o)))).next((u=>{l.forEach(((m,g)=>{const v=g.getKey();u.get(v)===null&&(u=u.insert(v,hn.newInvalidDocument(v)))}));let p=tc();return u.forEach(((m,g)=>{const v=l.get(m);v!==void 0&&cc(v.mutation,g,_r.empty(),yt.now()),xd(t,g)&&(p=p.insert(m,g))})),p}))}}class E2{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return te.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Xr(o.createTime)}})(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(o){return{name:o.name,query:u2(o.bundledQuery),readTime:Xr(o.readTime)}})(t)),te.resolve()}}class w2{constructor(){this.overlays=new wt(we.comparator),this.Lr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const s=fa();return te.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&s.set(o,l)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,l)=>{this.bt(e,t,l)})),te.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),te.resolve()}getOverlaysForCollection(e,t,s){const o=fa(),l=t.length+1,u=new we(t.child("")),p=this.overlays.getIteratorFrom(u);for(;p.hasNext();){const m=p.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>s&&o.set(m.getKey(),m)}return te.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new wt(((g,v)=>g-v));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let v=l.get(g.largestBatchId);v===null&&(v=fa(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const p=fa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,v)=>p.set(g,v))),!(p.size()>=o)););return te.resolve(p)}bt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const u=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new jC(t,s));let l=this.Lr.get(t);l===void 0&&(l=Fe(),this.Lr.set(t,l)),this.Lr.set(t,l.add(s.key))}}class T2{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}class vg{constructor(){this.kr=new $t(Xt.Kr),this.qr=new $t(Xt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const s=new Xt(e,t);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Wr(new Xt(e,t))}Qr(e,t){e.forEach((s=>this.removeReference(s,t)))}Gr(e){const t=new we(new pt([])),s=new Xt(t,e),o=new Xt(t,e+1),l=[];return this.qr.forEachInRange([s,o],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new we(new pt([])),s=new Xt(t,e),o=new Xt(t,e+1);let l=Fe();return this.qr.forEachInRange([s,o],(u=>{l=l.add(u.key)})),l}containsKey(e){const t=new Xt(e,0),s=this.kr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Xt{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return we.comparator(e.key,t.key)||Ge(e.Hr,t.Hr)}static Ur(e,t){return Ge(e.Hr,t.Hr)||we.comparator(e.key,t.key)}}class S2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new $t(Xt.Kr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new zC(l,t,s,o);this.mutationQueue.push(u);for(const p of o)this.Jr=this.Jr.add(new Xt(p.key,l)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return te.resolve(u)}lookupMutationBatch(e,t){return te.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Xr(s),l=o<0?0:o;return te.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?cg:this.Yn-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Xt(t,0),o=new Xt(t,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,o],(u=>{const p=this.Zr(u.Hr);l.push(p)})),te.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new $t(Ge);return t.forEach((o=>{const l=new Xt(o,0),u=new Xt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(p=>{s=s.add(p.Hr)}))})),te.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;we.isDocumentKey(l)||(l=l.child(""));const u=new Xt(new we(l),0);let p=new $t(Ge);return this.Jr.forEachWhile((m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(p=p.add(m.Hr)),!0)}),u),te.resolve(this.Yr(p))}Yr(e){const t=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){it(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return te.forEach(t.mutations,(o=>{const l=new Xt(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,t){const s=new Xt(t,0),o=this.Jr.firstAfterOrEqual(s);return te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class A2{constructor(e){this.ti=e,this.docs=(function(){return new wt(we.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,u=this.ti(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return te.resolve(s?s.document.mutableCopy():hn.newInvalidDocument(t))}getEntries(e,t){let s=Ii();return t.forEach((o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():hn.newInvalidDocument(o))})),te.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=Ii();const u=t.path,p=new we(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||WR(XR(v),s)<=0||(o.has(v.key)||xd(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return te.resolve(l)}getAllFromCollectionGroup(e,t,s,o){Ae(9500)}ni(e,t){return te.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new x2(this)}getSize(e){return te.resolve(this.size)}}class x2 extends v2{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),te.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class I2{constructor(e){this.persistence=e,this.ri=new Ea((t=>dg(t)),hg),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.ii=0,this.si=new vg,this.targetCount=0,this.oi=Ro._r()}forEachTarget(e,t){return this.ri.forEach(((s,o)=>t(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.ii&&(this.ii=t),te.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Ro(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.lr(t),te.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.ri.forEach(((u,p)=>{p.sequenceNumber<=t&&s.get(p.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),te.waitFor(l).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const s=this.ri.get(t)||null;return te.resolve(s)}addMatchingKeys(e,t,s){return this.si.$r(t,s),te.resolve()}removeMatchingKeys(e,t,s){this.si.Qr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((u=>{l.push(o.markPotentiallyOrphaned(e,u))})),te.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const s=this.si.jr(t);return te.resolve(s)}containsKey(e,t){return te.resolve(this.si.containsKey(t))}}class MT{constructor(e,t){this._i={},this.overlays={},this.ai=new Ed(0),this.ui=!1,this.ui=!0,this.ci=new T2,this.referenceDelegate=e(this),this.li=new I2(this),this.indexManager=new f2,this.remoteDocumentCache=(function(o){return new A2(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new c2(t),this.Pi=new E2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new w2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this._i[e.toKey()];return s||(s=new S2(t,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,s){pe("MemoryPersistence","Starting transaction:",e);const o=new R2(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((l=>this.referenceDelegate.Ii(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ei(e,t){return te.or(Object.values(this._i).map((s=>()=>s.containsKey(e,t))))}}class R2 extends ZR{constructor(e){super(),this.currentSequenceNumber=e}}class _g{constructor(e){this.persistence=e,this.Ri=new vg,this.Ai=null}static Vi(e){return new _g(e)}get di(){if(this.Ai)return this.Ai;throw Ae(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.di.delete(s.toString()),te.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.di.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),te.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.di,(s=>{const o=we.fromPath(s);return this.mi(e,o).next((l=>{l||t.removeEntry(o,Re.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((s=>{s?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return te.or([()=>te.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Wf{constructor(e,t){this.persistence=e,this.fi=new Ea((s=>nC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=y2(this,t)}static Vi(e,t){return new Wf(e,t)}Ti(){}Ii(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}pr(e){let t=0;return this.mr(e,(s=>{t++})).next((()=>t))}mr(e,t){return te.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((l=>l?te.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ni(e,(u=>this.wr(e,u,t).next((p=>{p||(s++,l.removeEntry(u,Re.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),te.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Nf(e.data.value)),t}wr(e,t,s){return te.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.fi.get(t);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class bg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Ts=s,this.Is=o}static Es(e,t){let s=Fe(),o=Fe();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new bg(e,t.fromCache,s,o)}}class C2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class D2{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return _I()?8:eC(pn())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.gs(e,t).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(e,t,o,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new C2;return this.ys(e,t,u).next((p=>{if(l.result=p,this.As)return this.ws(e,t,u,p.size)}))})).next((()=>l.result))}ws(e,t,s,o){return s.documentReadCount<this.Vs?(fo()<=qe.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",ho(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),te.resolve()):(fo()<=qe.DEBUG&&pe("QueryEngine","Query:",ho(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(fo()<=qe.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",ho(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kr(t))):te.resolve())}gs(e,t){if(x0(t))return te.resolve(null);let s=Kr(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Yf(t,null,"F"),s=Kr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=Fe(...l);return this.fs.getDocuments(e,u).next((p=>this.indexManager.getMinOffset(e,s).next((m=>{const g=this.bs(t,p);return this.Ss(t,g,u,m.readTime)?this.gs(e,Yf(t,null,"F")):this.Ds(e,g,t,m)}))))})))))}ps(e,t,s,o){return x0(t)||o.isEqual(Re.min())?te.resolve(null):this.fs.getDocuments(e,s).next((l=>{const u=this.bs(t,l);return this.Ss(t,u,s,o)?te.resolve(null):(fo()<=qe.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ho(t)),this.Ds(e,u,t,QR(o,pc)).next((p=>p)))}))}bs(e,t){let s=new $t(cT(e));return t.forEach(((o,l)=>{xd(e,l)&&(s=s.add(l))})),s}Ss(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ys(e,t,s){return fo()<=qe.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",ho(t)),this.fs.getDocumentsMatchingQuery(e,t,Ts.min(),s)}Ds(e,t,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((l=>(t.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const Eg="LocalStore",N2=3e8;class O2{constructor(e,t,s,o){this.persistence=e,this.Cs=t,this.serializer=o,this.vs=new wt(Ge),this.Fs=new Ea((l=>dg(l)),hg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new b2(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function M2(n,e,t,s){return new O2(n,e,t,s)}async function VT(n,e){const t=De(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((l=>(o=l,t.Os(e),t.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],p=[];let m=Fe();for(const g of o){u.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of l){p.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return t.localDocuments.getDocuments(s,m).next((g=>({Ns:g,removedBatchIds:u,addedBatchIds:p})))}))}))}function V2(n,e){const t=De(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),l=t.xs.newChangeBuffer({trackRemovals:!0});return(function(p,m,g,v){const _=g.batch,E=_.keys();let S=te.resolve();return E.forEach((V=>{S=S.next((()=>v.getEntry(m,V))).next((U=>{const L=g.docVersions.get(V);it(L!==null,48541),U.version.compareTo(L)<0&&(_.applyToRemoteDocument(U,g),U.isValidDocument()&&(U.setReadTime(g.commitVersion),v.addEntry(U)))}))})),S.next((()=>p.mutationQueue.removeMutationBatch(m,_)))})(t,s,e,l).next((()=>l.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let m=Fe();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(m=m.add(p.batch.mutations[g].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function PT(n){const e=De(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function P2(n,e){const t=De(n),s=e.snapshotVersion;let o=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=t.xs.newChangeBuffer({trackRemovals:!0});o=t.vs;const p=[];e.targetChanges.forEach(((v,_)=>{const E=o.get(_);if(!E)return;p.push(t.li.removeMatchingKeys(l,v.removedDocuments,_).next((()=>t.li.addMatchingKeys(l,v.addedDocuments,_))));let S=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?S=S.withResumeToken(cn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):v.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(v.resumeToken,s)),o=o.insert(_,S),(function(U,L,Y){return U.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=N2?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(E,S,v)&&p.push(t.li.updateTargetData(l,S))}));let m=Ii(),g=Fe();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),p.push(k2(l,u,e.documentUpdates).next((v=>{m=v.Bs,g=v.Ls}))),!s.isEqual(Re.min())){const v=t.li.getLastRemoteSnapshotVersion(l).next((_=>t.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));p.push(v)}return te.waitFor(p).next((()=>u.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(t.vs=o,l)))}function k2(n,e,t){let s=Fe(),o=Fe();return t.forEach((l=>s=s.add(l))),e.getEntries(n,s).next((l=>{let u=Ii();return t.forEach(((p,m)=>{const g=l.get(p);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(p)),m.isNoDocument()&&m.version.isEqual(Re.min())?(e.removeEntry(p,m.readTime),u=u.insert(p,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),u=u.insert(p,m)):pe(Eg,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",m.version)})),{Bs:u,Ls:o}}))}function L2(n,e){const t=De(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=cg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function U2(n,e){const t=De(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.li.getTargetData(s,e).next((l=>l?(o=l,te.resolve(o)):t.li.allocateTargetId(s).next((u=>(o=new hs(e,u,"TargetPurposeListen",s.currentSequenceNumber),t.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.vs=t.vs.insert(s.targetId,s),t.Fs.set(e,s.targetId)),s}))}async function km(n,e,t){const s=De(n),o=s.vs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!Uo(u))throw u;pe(Eg,`Failed to update sequence numbers for target ${e}: ${u}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function z0(n,e,t){const s=De(n);let o=Re.min(),l=Fe();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,g,v){const _=De(m),E=_.Fs.get(v);return E!==void 0?te.resolve(_.vs.get(E)):_.li.getTargetData(g,v)})(s,u,Kr(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(u,p.targetId).next((m=>{l=m}))})).next((()=>s.Cs.getDocumentsMatchingQuery(u,e,t?o:Re.min(),t?l:Fe()))).next((p=>(z2(s,SC(e),p),{documents:p,ks:l})))))}function z2(n,e,t){let s=n.Ms.get(e)||Re.min();t.forEach(((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),n.Ms.set(e,s)}class j0{constructor(){this.activeTargetIds=DC()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class j2{constructor(){this.vo=new j0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,s){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new j0,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class B2{Mo(e){}shutdown(){}}const B0="ConnectivityMonitor";class H0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){pe(B0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){pe(B0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let wf=null;function Lm(){return wf===null?wf=(function(){return 268435456+Math.round(2147483648*Math.random())})():wf++,"0x"+wf.toString(16)}const nm="RestConnection",H2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class q2{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Gf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,t,s,o,l){const u=Lm(),p=this.Qo(e,t.toUriEncodedString());pe(nm,`Sending RPC '${e}' ${u}:`,p,s);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,o,l);const{host:g}=new URL(p),v=Vo(g);return this.zo(e,p,m,s,v).then((_=>(pe(nm,`Received RPC '${e}' ${u}: `,_),_)),(_=>{throw So(nm,`RPC '${e}' ${u} failed with error: `,_,"url: ",p,"request:",s),_}))}jo(e,t,s,o,l,u){return this.Wo(e,t,s,o,l)}Go(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ko})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),s&&s.headers.forEach(((o,l)=>e[l]=o))}Qo(e,t){const s=H2[e];let o=`${this.qo}/v1/${t}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class G2{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const fn="WebChannelConnection",Xl=(n,e,t)=>{n.listen(e,(s=>{try{t(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class yo extends q2{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!yo.c_){const e=zw();Xl(e,Uw.STAT_EVENT,(t=>{t.stat===Am.PROXY?pe(fn,"STAT_EVENT: detected buffering proxy"):t.stat===Am.NOPROXY&&pe(fn,"STAT_EVENT: detected no buffering proxy")})),yo.c_=!0}}zo(e,t,s,o,l){const u=Lm();return new Promise(((p,m)=>{const g=new kw;g.setWithCredentials(!0),g.listenOnce(Lw.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Df.NO_ERROR:const _=g.getResponseJson();pe(fn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),p(_);break;case Df.TIMEOUT:pe(fn,`RPC '${e}' ${u} timed out`),m(new he(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Df.HTTP_ERROR:const E=g.getStatus();if(pe(fn,`RPC '${e}' ${u} failed with status:`,E,"response text:",g.getResponseText()),E>0){let S=g.getResponseJson();Array.isArray(S)&&(S=S[0]);const V=S?.error;if(V&&V.status&&V.message){const U=(function(Y){const X=Y.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(X)>=0?X:ee.UNKNOWN})(V.status);m(new he(U,V.message))}else m(new he(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new he(ee.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{pe(fn,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(o);pe(fn,`RPC '${e}' ${u} sending request:`,o),g.send(t,"POST",v,s,15)}))}T_(e,t,s){const o=Lm(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const g=l.join("");pe(fn,`Creating RPC '${e}' stream ${o}: ${g}`,p);const v=u.createWebChannel(g,p);this.I_(v);let _=!1,E=!1;const S=new G2({Ho:V=>{E?pe(fn,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(_||(pe(fn,`Opening RPC '${e}' stream ${o} transport.`),v.open(),_=!0),pe(fn,`RPC '${e}' stream ${o} sending:`,V),v.send(V))},Jo:()=>v.close()});return Xl(v,ec.EventType.OPEN,(()=>{E||(pe(fn,`RPC '${e}' stream ${o} transport opened.`),S.i_())})),Xl(v,ec.EventType.CLOSE,(()=>{E||(E=!0,pe(fn,`RPC '${e}' stream ${o} transport closed`),S.o_(),this.E_(v))})),Xl(v,ec.EventType.ERROR,(V=>{E||(E=!0,So(fn,`RPC '${e}' stream ${o} transport errored. Name:`,V.name,"Message:",V.message),S.o_(new he(ee.UNAVAILABLE,"The operation could not be completed")))})),Xl(v,ec.EventType.MESSAGE,(V=>{if(!E){const U=V.data[0];it(!!U,16349);const L=U,Y=L?.error||L[0]?.error;if(Y){pe(fn,`RPC '${e}' stream ${o} received error:`,Y);const X=Y.status;let ae=(function(ie){const I=jt[ie];if(I!==void 0)return ET(I)})(X),se=Y.message;ae===void 0&&(ae=ee.INTERNAL,se="Unknown error status: "+X+" with message "+Y.message),E=!0,S.o_(new he(ae,se)),v.close()}else pe(fn,`RPC '${e}' stream ${o} received:`,U),S.__(U)}})),yo.u_(),setTimeout((()=>{S.s_()}),0),S}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,s){super.Go(e,t,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return jw()}}function F2(n){return new yo(n)}function rm(){return typeof document<"u"?document:null}function Dd(n){return new QC(n,!0)}yo.c_=!1;class kT{constructor(e,t,s=1e3,o=1.5,l=6e4){this.Ci=e,this.timerId=t,this.R_=s,this.A_=o,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const q0="PersistentStream";class LT{constructor(e,t,s,o,l,u,p,m){this.Ci=e,this.b_=s,this.S_=o,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new kT(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(xi(t.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new he(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(q0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(pe(q0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $2 extends LT{constructor(e,t,s,o,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,u),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=JC(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Re.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Re.min():u.readTime?Xr(u.readTime):Re.min()})(e);return this.listener.J_(t,s)}Z_(e){const t={};t.database=Pm(this.serializer),t.addTarget=(function(l,u){let p;const m=u.target;if(p=Dm(m)?{documents:t2(l,m)}:{query:n2(l,m).ft},p.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){p.resumeToken=ST(l,u.resumeToken);const g=Om(l,u.expectedCount);g!==null&&(p.expectedCount=g)}else if(u.snapshotVersion.compareTo(Re.min())>0){p.readTime=Xf(l,u.snapshotVersion.toTimestamp());const g=Om(l,u.expectedCount);g!==null&&(p.expectedCount=g)}return p})(this.serializer,e);const s=i2(this.serializer,e);s&&(t.labels=s),this.K_(t)}X_(e){const t={};t.database=Pm(this.serializer),t.removeTarget=e,this.K_(t)}}class Y2 extends LT{constructor(e,t,s,o,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return it(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){it(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=e2(e.writeResults,e.commitTime),s=Xr(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Pm(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>ZC(this.serializer,s)))};this.K_(t)}}class K2{}class Q2 extends K2{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(e,Mm(t,s),o,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(ee.UNKNOWN,l.toString())}))}jo(e,t,s,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,p])=>this.connection.jo(e,Mm(t,s),o,u,p,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ee.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function X2(n,e,t,s){return new Q2(n,e,t,s)}class W2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xi(t),this.aa=!1):pe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ya="RemoteStore";class J2{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{s.enqueueAndForget((async()=>{Ta(this)&&(pe(ya,"Restarting streams for network reachability change."),await(async function(m){const g=De(m);g.Ea.add(4),await Vc(g),g.Va.set("Unknown"),g.Ea.delete(4),await Nd(g)})(this))}))})),this.Va=new W2(s,o)}}async function Nd(n){if(Ta(n))for(const e of n.Ra)await e(!0)}async function Vc(n){for(const e of n.Ra)await e(!1)}function UT(n,e){const t=De(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Ag(t)?Sg(t):jo(t).O_()&&Tg(t,e))}function wg(n,e){const t=De(n),s=jo(t);t.Ia.delete(e),s.O_()&&zT(t,e),t.Ia.size===0&&(s.O_()?s.L_():Ta(t)&&t.Va.set("Unknown"))}function Tg(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}jo(n).Z_(e)}function zT(n,e){n.da.$e(e),jo(n).X_(e)}function Sg(n){n.da=new FC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),jo(n).start(),n.Va.ua()}function Ag(n){return Ta(n)&&!jo(n).x_()&&n.Ia.size>0}function Ta(n){return De(n).Ea.size===0}function jT(n){n.da=void 0}async function Z2(n){n.Va.set("Online")}async function eD(n){n.Ia.forEach(((e,t)=>{Tg(n,e)}))}async function tD(n,e){jT(n),Ag(n)?(n.Va.ha(e),Sg(n)):n.Va.set("Unknown")}async function nD(n,e,t){if(n.Va.set("Online"),e instanceof TT&&e.state===2&&e.cause)try{await(async function(o,l){const u=l.cause;for(const p of l.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,u),o.Ia.delete(p),o.da.removeTarget(p))})(n,e)}catch(s){pe(ya,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Jf(n,s)}else if(e instanceof Vf?n.da.Xe(e):e instanceof wT?n.da.st(e):n.da.tt(e),!t.isEqual(Re.min()))try{const s=await PT(n.localStore);t.compareTo(s)>=0&&await(function(l,u){const p=l.da.Tt(u);return p.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(m.resumeToken,u))}})),p.targetMismatches.forEach(((m,g)=>{const v=l.Ia.get(m);if(!v)return;l.Ia.set(m,v.withResumeToken(cn.EMPTY_BYTE_STRING,v.snapshotVersion)),zT(l,m);const _=new hs(v.target,m,g,v.sequenceNumber);Tg(l,_)})),l.remoteSyncer.applyRemoteEvent(p)})(n,t)}catch(s){pe(ya,"Failed to raise snapshot:",s),await Jf(n,s)}}async function Jf(n,e,t){if(!Uo(e))throw e;n.Ea.add(1),await Vc(n),n.Va.set("Offline"),t||(t=()=>PT(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{pe(ya,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Nd(n)}))}function BT(n,e){return e().catch((t=>Jf(n,t,e)))}async function Od(n){const e=De(n),t=Is(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:cg;for(;rD(e);)try{const o=await L2(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,iD(e,o)}catch(o){await Jf(e,o)}HT(e)&&qT(e)}function rD(n){return Ta(n)&&n.Ta.length<10}function iD(n,e){n.Ta.push(e);const t=Is(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function HT(n){return Ta(n)&&!Is(n).x_()&&n.Ta.length>0}function qT(n){Is(n).start()}async function sD(n){Is(n).ra()}async function aD(n){const e=Is(n);for(const t of n.Ta)e.ea(t.mutations)}async function oD(n,e,t){const s=n.Ta.shift(),o=mg.from(s,e,t);await BT(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Od(n)}async function lD(n,e){e&&Is(n).Y_&&await(async function(s,o){if((function(u){return HC(u)&&u!==ee.ABORTED})(o.code)){const l=s.Ta.shift();Is(s).B_(),await BT(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o))),await Od(s)}})(n,e),HT(n)&&qT(n)}async function G0(n,e){const t=De(n);t.asyncQueue.verifyOperationInProgress(),pe(ya,"RemoteStore received new credentials");const s=Ta(t);t.Ea.add(3),await Vc(t),s&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Nd(t)}async function cD(n,e){const t=De(n);e?(t.Ea.delete(2),await Nd(t)):e||(t.Ea.add(2),await Vc(t),t.Va.set("Unknown"))}function jo(n){return n.ma||(n.ma=(function(t,s,o){const l=De(t);return l.sa(),new $2(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Zo:Z2.bind(null,n),Yo:eD.bind(null,n),t_:tD.bind(null,n),J_:nD.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),Ag(n)?Sg(n):n.Va.set("Unknown")):(await n.ma.stop(),jT(n))}))),n.ma}function Is(n){return n.fa||(n.fa=(function(t,s,o){const l=De(t);return l.sa(),new Y2(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:sD.bind(null,n),t_:lD.bind(null,n),ta:aD.bind(null,n),na:oD.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await Od(n)):(await n.fa.stop(),n.Ta.length>0&&(pe(ya,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class xg{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const u=Date.now()+s,p=new xg(e,t,u,o,l);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ig(n,e){if(xi("AsyncQueue",`${e}: ${n}`),Uo(n))return new he(ee.UNAVAILABLE,`${e}: ${n}`);throw n}class vo{static emptySet(e){return new vo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||we.comparator(t.key,s.key):(t,s)=>we.comparator(t.key,s.key),this.keyedMap=tc(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof vo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new vo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class F0{constructor(){this.ga=new wt(we.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ae(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Co{constructor(e,t,s,o,l,u,p,m,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,l){const u=[];return t.forEach((p=>{u.push({type:0,doc:p})})),new Co(e,t,vo.emptySet(t),u,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ad(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}class uD{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class fD{constructor(){this.queries=$0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=De(t),l=o.queries;o.queries=$0(),l.forEach(((u,p)=>{for(const m of p.ba)m.onError(s)}))})(this,new he(ee.ABORTED,"Firestore shutting down"))}}function $0(){return new Ea((n=>lT(n)),Ad)}async function GT(n,e){const t=De(n);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.Sa()&&e.Da()&&(s=2):(l=new uD,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const p=Ig(u,`Initialization of query '${ho(e.query)}' failed`);return void e.onError(p)}t.queries.set(o,l),l.ba.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Rg(t)}async function FT(n,e){const t=De(n),s=e.query;let o=3;const l=t.queries.get(s);if(l){const u=l.ba.indexOf(e);u>=0&&(l.ba.splice(u,1),l.ba.length===0?o=e.Da()?0:1:!l.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function dD(n,e){const t=De(n);let s=!1;for(const o of e){const l=o.query,u=t.queries.get(l);if(u){for(const p of u.ba)p.Fa(o)&&(s=!0);u.wa=o}}s&&Rg(t)}function hD(n,e,t){const s=De(n),o=s.queries.get(e);if(o)for(const l of o.ba)l.onError(t);s.queries.delete(e)}function Rg(n){n.Ca.forEach((e=>{e.next()}))}var Um,Y0;(Y0=Um||(Um={})).Ma="default",Y0.Cache="cache";class $T{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Co(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Um.Cache}}class YT{constructor(e){this.key=e}}class KT{constructor(e){this.key=e}}class pD{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Fe(),this.mutatedKeys=Fe(),this.eu=cT(e),this.tu=new vo(this.eu)}get nu(){return this.Za}ru(e,t){const s=t?t.iu:new F0,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,u=o,p=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,_)=>{const E=o.get(v),S=xd(this.query,_)?_:null,V=!!E&&this.mutatedKeys.has(E.key),U=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let L=!1;E&&S?E.data.isEqual(S.data)?V!==U&&(s.track({type:3,doc:S}),L=!0):this.su(E,S)||(s.track({type:2,doc:S}),L=!0,(m&&this.eu(S,m)>0||g&&this.eu(S,g)<0)&&(p=!0)):!E&&S?(s.track({type:0,doc:S}),L=!0):E&&!S&&(s.track({type:1,doc:E}),L=!0,(m||g)&&(p=!0)),L&&(S?(u=u.add(S),l=U?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{tu:u,iu:s,Ss:p,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,_)=>(function(S,V){const U=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Vt:L})}};return U(S)-U(V)})(v.type,_.type)||this.eu(v.doc,_.doc))),this.ou(s),o=o??!1;const p=t&&!o?this._u():[],m=this.Ya.size===0&&this.current&&!o?1:0,g=m!==this.Xa;return this.Xa=m,u.length!==0||g?{snapshot:new Co(this.query,e.tu,l,u,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new F0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Fe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const t=[];return e.forEach((s=>{this.Ya.has(s)||t.push(new KT(s))})),this.Ya.forEach((s=>{e.has(s)||t.push(new YT(s))})),t}cu(e){this.Za=e.ks,this.Ya=Fe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Co.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Cg="SyncEngine";class mD{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class gD{constructor(e){this.key=e,this.hu=!1}}class yD{constructor(e,t,s,o,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ea((p=>lT(p)),Ad),this.Iu=new Map,this.Eu=new Set,this.Ru=new wt(we.comparator),this.Au=new Map,this.Vu=new vg,this.du={},this.mu=new Map,this.fu=Ro.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vD(n,e,t=!0){const s=eS(n);let o;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await QT(s,e,t,!0),o}async function _D(n,e){const t=eS(n);await QT(t,e,!0,!1)}async function QT(n,e,t,s){const o=await U2(n.localStore,Kr(e)),l=o.targetId,u=n.sharedClientState.addLocalQueryTarget(l,t);let p;return s&&(p=await bD(n,e,l,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&UT(n.remoteStore,o),p}async function bD(n,e,t,s,o){n.pu=(_,E,S)=>(async function(U,L,Y,X){let ae=L.view.ru(Y);ae.Ss&&(ae=await z0(U.localStore,L.query,!1).then((({documents:I})=>L.view.ru(I,ae))));const se=X&&X.targetChanges.get(L.targetId),oe=X&&X.targetMismatches.get(L.targetId)!=null,ie=L.view.applyChanges(ae,U.isPrimaryClient,se,oe);return Q0(U,L.targetId,ie.au),ie.snapshot})(n,_,E,S);const l=await z0(n.localStore,e,!0),u=new pD(e,l.ks),p=u.ru(l.documents),m=Mc.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",o),g=u.applyChanges(p,n.isPrimaryClient,m);Q0(n,t,g.au);const v=new mD(e,t,u);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),g.snapshot}async function ED(n,e,t){const s=De(n),o=s.Tu.get(e),l=s.Iu.get(o.targetId);if(l.length>1)return s.Iu.set(o.targetId,l.filter((u=>!Ad(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await km(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&wg(s.remoteStore,o.targetId),zm(s,o.targetId)})).catch(Lo)):(zm(s,o.targetId),await km(s.localStore,o.targetId,!0))}async function wD(n,e){const t=De(n),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),wg(t.remoteStore,s.targetId))}async function TD(n,e,t){const s=DD(n);try{const o=await(function(u,p){const m=De(u),g=yt.now(),v=p.reduce(((S,V)=>S.add(V.key)),Fe());let _,E;return m.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let V=Ii(),U=Fe();return m.xs.getEntries(S,v).next((L=>{V=L,V.forEach(((Y,X)=>{X.isValidDocument()||(U=U.add(Y))}))})).next((()=>m.localDocuments.getOverlayedDocuments(S,V))).next((L=>{_=L;const Y=[];for(const X of p){const ae=LC(X,_.get(X.key).overlayedDocument);ae!=null&&Y.push(new wa(X.key,ae,eT(ae.value.mapValue),Qr.exists(!0)))}return m.mutationQueue.addMutationBatch(S,g,Y,p)})).next((L=>{E=L;const Y=L.applyToLocalDocumentSet(_,U);return m.documentOverlayCache.saveOverlays(S,L.batchId,Y)}))})).then((()=>({batchId:E.batchId,changes:fT(_)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(u,p,m){let g=u.du[u.currentUser.toKey()];g||(g=new wt(Ge)),g=g.insert(p,m),u.du[u.currentUser.toKey()]=g})(s,o.batchId,t),await Pc(s,o.changes),await Od(s.remoteStore)}catch(o){const l=Ig(o,"Failed to persist write");t.reject(l)}}async function XT(n,e){const t=De(n);try{const s=await P2(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const u=t.Au.get(l);u&&(it(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?it(u.hu,14607):o.removedDocuments.size>0&&(it(u.hu,42227),u.hu=!1))})),await Pc(t,s,e)}catch(s){await Lo(s)}}function K0(n,e,t){const s=De(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((l,u)=>{const p=u.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(u,p){const m=De(u);m.onlineState=p;let g=!1;m.queries.forEach(((v,_)=>{for(const E of _.ba)E.va(p)&&(g=!0)})),g&&Rg(m)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function SD(n,e,t){const s=De(n);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),l=o&&o.key;if(l){let u=new wt(we.comparator);u=u.insert(l,hn.newNoDocument(l,Re.min()));const p=Fe().add(l),m=new Cd(Re.min(),new Map,new wt(Ge),u,p);await XT(s,m),s.Ru=s.Ru.remove(l),s.Au.delete(e),Dg(s)}else await km(s.localStore,e,!1).then((()=>zm(s,e,t))).catch(Lo)}async function AD(n,e){const t=De(n),s=e.batch.batchId;try{const o=await V2(t.localStore,e);JT(t,s,null),WT(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Pc(t,o)}catch(o){await Lo(o)}}async function xD(n,e,t){const s=De(n);try{const o=await(function(u,p){const m=De(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return m.mutationQueue.lookupMutationBatch(g,p).next((_=>(it(_!==null,37113),v=_.keys(),m.mutationQueue.removeMutationBatch(g,_)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,p))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>m.localDocuments.getDocuments(g,v)))}))})(s.localStore,e);JT(s,e,t),WT(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Pc(s,o)}catch(o){await Lo(o)}}function WT(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function JT(n,e,t){const s=De(n);let o=s.du[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function zm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((s=>{n.Vu.containsKey(s)||ZT(n,s)}))}function ZT(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(wg(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),Dg(n))}function Q0(n,e,t){for(const s of t)s instanceof YT?(n.Vu.addReference(s.key,e),ID(n,s)):s instanceof KT?(pe(Cg,"Document no longer in limbo: "+s.key),n.Vu.removeReference(s.key,e),n.Vu.containsKey(s.key)||ZT(n,s.key)):Ae(19791,{wu:s})}function ID(n,e){const t=e.key,s=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(s)||(pe(Cg,"New document in limbo: "+t),n.Eu.add(s),Dg(n))}function Dg(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new we(pt.fromString(e)),s=n.fu.next();n.Au.set(s,new gD(t)),n.Ru=n.Ru.insert(t,s),UT(n.remoteStore,new hs(Kr(Sd(t.path)),s,"TargetPurposeLimboResolution",Ed.ce))}}async function Pc(n,e,t){const s=De(n),o=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,m)=>{u.push(s.pu(m,e,t).then((g=>{if((g||t)&&s.isPrimaryClient){const v=g?!g.fromCache:t?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(g){o.push(g);const v=bg.Es(m.targetId,g);l.push(v)}})))})),await Promise.all(u),s.Pu.J_(o),await(async function(m,g){const v=De(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>te.forEach(g,(E=>te.forEach(E.Ts,(S=>v.persistence.referenceDelegate.addReference(_,E.targetId,S))).next((()=>te.forEach(E.Is,(S=>v.persistence.referenceDelegate.removeReference(_,E.targetId,S)))))))))}catch(_){if(!Uo(_))throw _;pe(Eg,"Failed to update sequence numbers: "+_)}for(const _ of g){const E=_.targetId;if(!_.fromCache){const S=v.vs.get(E),V=S.snapshotVersion,U=S.withLastLimboFreeSnapshotVersion(V);v.vs=v.vs.insert(E,U)}}})(s.localStore,l))}async function RD(n,e){const t=De(n);if(!t.currentUser.isEqual(e)){pe(Cg,"User change. New user:",e.toKey());const s=await VT(t.localStore,e);t.currentUser=e,(function(l,u){l.mu.forEach((p=>{p.forEach((m=>{m.reject(new he(ee.CANCELLED,u))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Pc(t,s.Ns)}}function CD(n,e){const t=De(n),s=t.Au.get(e);if(s&&s.hu)return Fe().add(s.key);{let o=Fe();const l=t.Iu.get(e);if(!l)return o;for(const u of l){const p=t.Tu.get(u);o=o.unionWith(p.view.nu)}return o}}function eS(n){const e=De(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=XT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=SD.bind(null,e),e.Pu.J_=dD.bind(null,e.eventManager),e.Pu.yu=hD.bind(null,e.eventManager),e}function DD(n){const e=De(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xD.bind(null,e),e}class Zf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return M2(this.persistence,new D2,e.initialUser,this.serializer)}Cu(e){return new MT(_g.Vi,this.serializer)}Du(e){return new j2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zf.provider={build:()=>new Zf};class ND extends Zf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){it(this.persistence.referenceDelegate instanceof Wf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new m2(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new MT((s=>Wf.Vi(s,t)),this.serializer)}}class jm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>K0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=RD.bind(null,this.syncEngine),await cD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new fD})()}createDatastore(e){const t=Dd(e.databaseInfo.databaseId),s=F2(e.databaseInfo);return X2(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,l,u,p){return new J2(s,o,l,u,p)})(this.localStore,this.datastore,e.asyncQueue,(t=>K0(this.syncEngine,t,0)),(function(){return H0.v()?new H0:new B2})())}createSyncEngine(e,t){return(function(o,l,u,p,m,g,v){const _=new yD(o,l,u,p,m,g);return v&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=De(t);pe(ya,"RemoteStore shutting down."),s.Ea.add(5),await Vc(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}jm.provider={build:()=>new jm};class tS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Rs="FirestoreClient";class OD{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this._databaseInfo=o,this.user=dn.UNAUTHENTICATED,this.clientId=lg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{pe(Rs,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(pe(Rs,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Ig(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function im(n,e){n.asyncQueue.verifyOperationInProgress(),pe(Rs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async o=>{s.isEqual(o)||(await VT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function X0(n,e){n.asyncQueue.verifyOperationInProgress();const t=await MD(n);pe(Rs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>G0(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,o)=>G0(e.remoteStore,o))),n._onlineComponents=e}async function MD(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(Rs,"Using user provided OfflineComponentProvider");try{await im(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;So("Error using user provided cache. Falling back to memory cache: "+t),await im(n,new Zf)}}else pe(Rs,"Using default OfflineComponentProvider"),await im(n,new ND(void 0));return n._offlineComponents}async function nS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(Rs,"Using user provided OnlineComponentProvider"),await X0(n,n._uninitializedComponentsProvider._online)):(pe(Rs,"Using default OnlineComponentProvider"),await X0(n,new jm))),n._onlineComponents}function VD(n){return nS(n).then((e=>e.syncEngine))}async function Bm(n){const e=await nS(n),t=e.eventManager;return t.onListen=vD.bind(null,e.syncEngine),t.onUnlisten=ED.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=_D.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=wD.bind(null,e.syncEngine),t}function PD(n,e,t,s){const o=new tS(s),l=new $T(e,o,t);return n.asyncQueue.enqueueAndForget((async()=>GT(await Bm(n),l))),()=>{o.Nu(),n.asyncQueue.enqueueAndForget((async()=>FT(await Bm(n),l)))}}function kD(n,e,t={}){const s=new vs;return n.asyncQueue.enqueueAndForget((async()=>(function(l,u,p,m,g){const v=new tS({next:E=>{v.Nu(),u.enqueueAndForget((()=>FT(l,_)));const S=E.docs.has(p);!S&&E.fromCache?g.reject(new he(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&E.fromCache&&m&&m.source==="server"?g.reject(new he(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:E=>g.reject(E)}),_=new $T(Sd(p.path),v,{includeMetadataChanges:!0,Ka:!0});return GT(l,_)})(await Bm(n),n.asyncQueue,e,t,s))),s.promise}function LD(n,e){const t=new vs;return n.asyncQueue.enqueueAndForget((async()=>TD(await VD(n),e,t))),t.promise}function rS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const UD="ComponentProvider",W0=new Map;function zD(n,e,t,s,o){return new sC(n,e,t,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,rS(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const iS="firestore.googleapis.com",J0=!0;class Z0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iS,this.ssl=J0}else this.host=e.host,this.ssl=e.ssl??J0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=OT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<h2)throw new he(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Md{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new UR;switch(s.type){case"firstParty":return new HR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=W0.get(t);s&&(pe(UD,"Removing Datastore"),W0.delete(t),s.terminate())})(this),Promise.resolve()}}function jD(n,e,t,s={}){n=Si(n,Md);const o=Vo(e),l=n._getSettings(),u={...l,emulatorOptions:n._getEmulatorOptions()},p=`${e}:${t}`;o&&(Iw(`https://${p}`),Rw("Firestore",!0)),l.host!==iS&&l.host!==p&&So("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:p,ssl:o,emulatorOptions:s};if(!pa(m,u)&&(n._setSettings(m),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=dn.MOCK_USER;else{g=uI(s.mockUserToken,n._app?.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new he(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new dn(_)}n._authCredentials=new zR(new Hw(g,v))}}class Ns{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ns(this.firestore,e,this._query)}}class Dt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dt(this.firestore,e,this._key)}toJSON(){return{type:Dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Nc(t,Dt._jsonSchema))return new Dt(e,s||null,new we(pt.fromString(t.referencePath)))}}Dt._jsonSchemaVersion="firestore/documentReference/1.0",Dt._jsonSchema={type:Ht("string",Dt._jsonSchemaVersion),referencePath:Ht("string")};class _s extends Ns{constructor(e,t,s){super(e,t,Sd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new we(e))}withConverter(e){return new _s(this.firestore,e,this._path)}}function Hm(n,e,...t){if(n=bn(n),qw("collection","path",e),n instanceof Md){const s=pt.fromString(e,...t);return d0(s),new _s(n,null,s)}{if(!(n instanceof Dt||n instanceof _s))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(pt.fromString(e,...t));return d0(s),new _s(n.firestore,null,s)}}function ua(n,e,...t){if(n=bn(n),arguments.length===1&&(e=lg.newId()),qw("doc","path",e),n instanceof Md){const s=pt.fromString(e,...t);return f0(s),new Dt(n,null,new we(s))}{if(!(n instanceof Dt||n instanceof _s))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(pt.fromString(e,...t));return f0(s),new Dt(n.firestore,n instanceof _s?n.converter:null,new we(s))}}const eE="AsyncQueue";class tE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new kT(this,"async_queue_retry"),this._c=()=>{const s=rm();s&&pe(eE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=rm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=rm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new vs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Uo(e))throw e;pe(eE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,xi("INTERNAL UNHANDLED ERROR: ",nE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=xg.createAndSchedule(this,e,t,s,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&Ae(47125,{Pc:nE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function nE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Do extends Md{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new tE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tE(e),this._firestoreClient=void 0,await e}}}function BD(n,e){const t=typeof n=="object"?n:Ow(),s=typeof n=="string"?n:Gf,o=ag(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=lI("firestore");l&&jD(o,...l)}return o}function Ng(n){if(n._terminated)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||HD(n),n._firestoreClient}function HD(n){const e=n._freezeSettings(),t=zD(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new OD(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(n._componentsProvider))}class ir{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ir(cn.fromBase64String(e))}catch(t){throw new he(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ir(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ir._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Nc(e,ir._jsonSchema))return ir.fromBase64String(e.bytes)}}ir._jsonSchemaVersion="firestore/bytes/1.0",ir._jsonSchema={type:Ht("string",ir._jsonSchemaVersion),bytes:Ht("string")};class sS{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class aS{constructor(e){this._methodName=e}}class Wr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wr._jsonSchemaVersion}}static fromJSON(e){if(Nc(e,Wr._jsonSchema))return new Wr(e.latitude,e.longitude)}}Wr._jsonSchemaVersion="firestore/geoPoint/1.0",Wr._jsonSchema={type:Ht("string",Wr._jsonSchemaVersion),latitude:Ht("number"),longitude:Ht("number")};class wr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:wr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Nc(e,wr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new wr(e.vectorValues);throw new he(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wr._jsonSchemaVersion="firestore/vectorValue/1.0",wr._jsonSchema={type:Ht("string",wr._jsonSchemaVersion),vectorValues:Ht("object")};const qD=/^__.*__$/;class GD{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new wa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Oc(e,this.data,t,this.fieldTransforms)}}function oS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{dataSource:n})}}class Og{constructor(e,t,s,o,l,u){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Og({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const t=this.path?.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return ed(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(oS(this.dataSource)&&qD.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class FD{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Dd(e)}createContext(e,t,s,o=!1){return new Og({dataSource:e,methodName:t,targetDoc:s,path:on.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mg(n){const e=n._freezeSettings(),t=Dd(n._databaseId);return new FD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function lS(n,e,t,s,o,l={}){const u=n.createContext(l.merge||l.mergeFields?2:0,e,t,o);fS("Data must be an object, but it was:",u,s);const p=cS(s,u);let m,g;if(l.merge)m=new _r(u.fieldMask),g=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const _ of l.mergeFields){const E=Vd(e,_,t);if(!u.contains(E))throw new he(ee.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);QD(v,E)||v.push(E)}m=new _r(v),g=u.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,g=u.fieldTransforms;return new GD(new rr(p),m,g)}function $D(n,e,t,s=!1){return Vg(t,n.createContext(s?4:3,e))}function Vg(n,e){if(uS(n=bn(n)))return fS("Unsupported field value:",e,n),cS(n,e);if(n instanceof aS)return(function(s,o){if(!oS(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const l=[];let u=0;for(const p of s){let m=Vg(p,o.childContextForArray(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(n,e)}return(function(s,o){if((s=bn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return NC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=yt.fromDate(s);return{timestampValue:Xf(o.serializer,l)}}if(s instanceof yt){const l=new yt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Xf(o.serializer,l)}}if(s instanceof Wr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ir)return{bytesValue:ST(o.serializer,s._byteString)};if(s instanceof Dt){const l=o.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw o.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:yg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof wr)return(function(u,p){const m=u instanceof wr?u.toArray():u;return{mapValue:{fields:{[Jw]:{stringValue:Zw},[Ff]:{arrayValue:{values:m.map((v=>{if(typeof v!="number")throw p.createError("VectorValues must only contain numeric values.");return pg(p.serializer,v)}))}}}}}})(s,o);if(NT(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${bd(s)}`)})(n,e)}function cS(n,e){const t={};return $w(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ba(n,((s,o)=>{const l=Vg(o,e.childContextForField(s));l!=null&&(t[s]=l)})),{mapValue:{fields:t}}}function uS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof yt||n instanceof Wr||n instanceof ir||n instanceof Dt||n instanceof aS||n instanceof wr||NT(n))}function fS(n,e,t){if(!uS(t)||!Gw(t)){const s=bd(t);throw s==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+s)}}function Vd(n,e,t){if((e=bn(e))instanceof sS)return e._internalPath;if(typeof e=="string")return KD(n,e);throw ed("Field path arguments must be of type string or ",n,!1,void 0,t)}const YD=new RegExp("[~\\*/\\[\\]]");function KD(n,e,t){if(e.search(YD)>=0)throw ed(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new sS(...e.split("."))._internalPath}catch{throw ed(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ed(n,e,t,s,o){const l=s&&!s.isEmpty(),u=o!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${s}`),u&&(m+=` in document ${o}`),m+=")"),new he(ee.INVALID_ARGUMENT,p+n+m)}function QD(n,e){return n.some((t=>t.isEqual(e)))}class XD{convertValue(e,t="none"){switch(xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(As(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ba(e,((o,l)=>{s[o]=this.convertValue(l,t)})),s}convertVectorValue(e){const t=e.fields?.[Ff].arrayValue?.values?.map((s=>Ct(s.doubleValue)));return new wr(t)}convertGeoPoint(e){return new Wr(Ct(e.latitude),Ct(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Td(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(mc(e));default:return null}}convertTimestamp(e){const t=Ss(e);return new yt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=pt.fromString(e);it(DT(s),9688,{name:e});const o=new gc(s.get(1),s.get(3)),l=new we(s.popFirst(5));return o.isEqual(t)||xi(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}class dS extends XD{constructor(e){super(),this.firestore=e}convertBytes(e){return new ir(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,t)}}const rE="@firebase/firestore",iE="4.10.0";function sE(n){return(function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of s)if(l in o&&typeof o[l]=="function")return!0;return!1})(n,["next","error","complete"])}class hS{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Vd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class WD extends hS{data(){return super.data()}}function JD(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new he(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pg{}class kg extends Pg{}function ZD(n,e,...t){let s=[];e instanceof Pg&&s.push(e),s=s.concat(t),(function(l){const u=l.filter((m=>m instanceof Ug)).length,p=l.filter((m=>m instanceof Lg)).length;if(u>1||u>0&&p>0)throw new he(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)n=o._apply(n);return n}class Lg extends kg{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Lg(e,t,s)}_apply(e){const t=this._parse(e);return pS(e._query,t),new Ns(e.firestore,e.converter,Nm(e._query,t))}_parse(e){const t=Mg(e.firestore);return(function(l,u,p,m,g,v,_){let E;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new he(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){oE(_,v);const V=[];for(const U of _)V.push(aE(m,l,U));E={arrayValue:{values:V}}}else E=aE(m,l,_)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||oE(_,v),E=$D(p,u,_,v==="in"||v==="not-in");return Bt.create(g,v,E)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Ug extends Pg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ug(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:Sr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,l){let u=o;const p=l.getFlattenedFilters();for(const m of p)pS(u,m),u=Nm(u,m)})(e._query,t),new Ns(e.firestore,e.converter,Nm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class zg extends kg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new zg(e,t)}_apply(e){const t=(function(o,l,u){if(o.startAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vc(l,u)})(e._query,this._field,this._direction);return new Ns(e.firestore,e.converter,TC(e._query,t))}}function eN(n,e="asc"){const t=e,s=Vd("orderBy",n);return zg._create(s,t)}class jg extends kg{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new jg(e,t,s)}_apply(e){return new Ns(e.firestore,e.converter,Yf(e._query,this._limit,this._limitType))}}function tN(n){return jg._create("limit",n,"F")}function aE(n,e,t){if(typeof(t=bn(t))=="string"){if(t==="")throw new he(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oT(e)&&t.indexOf("/")!==-1)throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(pt.fromString(t));if(!we.isDocumentKey(s))throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return b0(n,new we(s))}if(t instanceof Dt)return b0(n,t._key);throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bd(t)}.`)}function oE(n,e){if(!Array.isArray(n)||n.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pS(n,e){const t=(function(o,l){for(const u of o)for(const p of u.getFlattenedFilters())if(l.indexOf(p.op)>=0)return p.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function mS(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}class rc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ha extends hS{constructor(e,t,s,o,l,u){super(e,t,s,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Pf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Vd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ha._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ha._jsonSchemaVersion="firestore/documentSnapshot/1.0",ha._jsonSchema={type:Ht("string",ha._jsonSchemaVersion),bundleSource:Ht("string","DocumentSnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class Pf extends ha{data(e={}){return super.data(e)}}class _o{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new rc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Pf(this._firestore,this._userDataWriter,s.key,s,new rc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((p=>{const m=new Pf(o._firestore,o._userDataWriter,p.doc.key,p.doc,new rc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>l||p.type!==3)).map((p=>{const m=new Pf(o._firestore,o._userDataWriter,p.doc.key,p.doc,new rc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return p.type!==0&&(g=u.indexOf(p.doc.key),u=u.delete(p.doc.key)),p.type!==1&&(u=u.add(p.doc),v=u.indexOf(p.doc.key)),{type:nN(p.type),doc:m,oldIndex:g,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_o._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=lg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function nN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:n})}}_o._jsonSchemaVersion="firestore/querySnapshot/1.0",_o._jsonSchema={type:Ht("string",_o._jsonSchemaVersion),bundleSource:Ht("string","QuerySnapshot"),bundleName:Ht("string"),bundle:Ht("string")};function qm(n){n=Si(n,Dt);const e=Si(n.firestore,Do),t=Ng(e);return kD(t,n._key).then((s=>vS(e,n,s)))}function ic(n,e,t){n=Si(n,Dt);const s=Si(n.firestore,Do),o=mS(n.converter,e,t),l=Mg(s);return yS(s,[lS(l,"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Qr.none())])}function rN(n,e){const t=Si(n.firestore,Do),s=ua(n),o=mS(n.converter,e),l=Mg(n.firestore);return yS(t,[lS(l,"addDoc",s._key,o,n.converter!==null,{}).toMutation(s._key,Qr.exists(!1))]).then((()=>s))}function gS(n,...e){n=bn(n);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||sE(e[s])||(t=e[s++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(sE(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let l,u,p;if(n instanceof Dt)u=Si(n.firestore,Do),p=Sd(n._key.path),l={next:g=>{e[s]&&e[s](vS(u,n,g))},error:e[s+1],complete:e[s+2]};else{const g=Si(n,Ns);u=Si(g.firestore,Do),p=g._query;const v=new dS(u);l={next:_=>{e[s]&&e[s](new _o(u,v,g,_))},error:e[s+1],complete:e[s+2]},JD(n._query)}const m=Ng(u);return PD(m,p,o,l)}function yS(n,e){const t=Ng(n);return LD(t,e)}function vS(n,e,t){const s=t.docs.get(e._key),o=new dS(n);return new ha(n,o,e._key,s,new rc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){LR(Po),To(new ma("firestore",((s,{instanceIdentifier:o,options:l})=>{const u=s.getProvider("app").getImmediate(),p=new Do(new jR(s.getProvider("auth-internal")),new qR(u,s.getProvider("app-check-internal")),aC(u,o),u);return l={useFetchStreams:t,...l},p._setSettings(l),p}),"PUBLIC").setMultipleInstances(!0)),gs(rE,iE,e),gs(rE,iE,"esm2020")})();function _S(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iN=_S,bS=new Cc("auth","Firebase",_S());const td=new ig("@firebase/auth");function sN(n,...e){td.logLevel<=qe.WARN&&td.warn(`Auth (${Po}): ${n}`,...e)}function kf(n,...e){td.logLevel<=qe.ERROR&&td.error(`Auth (${Po}): ${n}`,...e)}function ei(n,...e){throw Hg(n,...e)}function Tr(n,...e){return Hg(n,...e)}function Bg(n,e,t){const s={...iN(),[e]:t};return new Cc("auth","Firebase",s).create(e,{appName:n.name})}function bs(n){return Bg(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function aN(n,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&ei(n,"argument-error"),Bg(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Hg(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return bS.create(n,...e)}function Ie(n,e,...t){if(!n)throw Hg(e,...t)}function wi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw kf(e),new Error(e)}function Ri(n,e){n||wi(e)}function Gm(){return typeof self<"u"&&self.location?.href||""}function oN(){return lE()==="http:"||lE()==="https:"}function lE(){return typeof self<"u"&&self.location?.protocol||null}function lN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oN()||gI()||"connection"in navigator)?navigator.onLine:!0}function cN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class kc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ri(t>e,"Short delay should be less than long delay!"),this.isMobile=hI()||yI()}get(){return lN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function qg(n,e){Ri(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class ES{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const uN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const fN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],dN=new kc(3e4,6e4);function Pd(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Bo(n,e,t,s,o={}){return wS(n,o,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const p=Dc({key:n.config.apiKey,...u}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const g={method:e,headers:m,...l};return mI()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Vo(n.emulatorConfig.host)&&(g.credentials="include"),ES.fetch()(await SS(n,n.config.apiHost,t,p),g)})}async function wS(n,e,t){n._canInitEmulator=!1;const s={...uN,...e};try{const o=new hN(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Tf(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const p=l.ok?u.errorMessage:u.error.message,[m,g]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tf(n,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw Tf(n,"email-already-in-use",u);if(m==="USER_DISABLED")throw Tf(n,"user-disabled",u);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Bg(n,v,g);ei(n,v)}}catch(o){if(o instanceof Ci)throw o;ei(n,"network-request-failed",{message:String(o)})}}async function TS(n,e,t,s,o={}){const l=await Bo(n,e,t,s,o);return"mfaPendingCredential"in l&&ei(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function SS(n,e,t,s){const o=`${e}${t}?${s}`,l=n,u=l.config.emulator?qg(n.config,o):`${n.config.apiScheme}://${o}`;return fN.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}class hN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Tr(this.auth,"network-request-failed")),dN.get())})}}function Tf(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Tr(n,e,s);return o.customData._tokenResponse=t,o}async function pN(n,e){return Bo(n,"POST","/v1/accounts:delete",e)}async function nd(n,e){return Bo(n,"POST","/v1/accounts:lookup",e)}function uc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mN(n,e=!1){const t=bn(n),s=await t.getIdToken(e),o=Gg(s);Ie(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,u=l?.sign_in_provider;return{claims:o,token:s,authTime:uc(sm(o.auth_time)),issuedAtTime:uc(sm(o.iat)),expirationTime:uc(sm(o.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function sm(n){return Number(n)*1e3}function Gg(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return kf("JWT malformed, contained fewer than 3 sections"),null;try{const o=Tw(t);return o?JSON.parse(o):(kf("Failed to decode base64 JWT payload"),null)}catch(o){return kf("Caught error parsing JWT payload as JSON",o?.toString()),null}}function cE(n){const e=Gg(n);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ec(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Ci&&gN(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function gN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class yN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Fm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=uc(this.lastLoginAt),this.creationTime=uc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function rd(n){const e=n.auth,t=await n.getIdToken(),s=await Ec(n,nd(e,{idToken:t}));Ie(s?.users.length,e,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const l=o.providerUserInfo?.length?AS(o.providerUserInfo):[],u=_N(n.providerData,l),p=n.isAnonymous,m=!(n.email&&o.passwordHash)&&!u?.length,g=p?m:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Fm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,v)}async function vN(n){const e=bn(n);await rd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _N(n,e){return[...n.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function AS(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function bN(n,e){const t=await wS(n,{},async()=>{const s=Dc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,u=await SS(n,o,"/v1/token",`key=${l}`),p=await n._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:p,body:s};return n.emulatorConfig&&Vo(n.emulatorConfig.host)&&(m.credentials="include"),ES.fetch()(u,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function EN(n,e){return Bo(n,"POST","/v2/accounts:revokeToken",Pd(n,e))}class bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const t=cE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await bN(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,u=new bo;return s&&(Ie(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),o&&(Ie(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),l&&(Ie(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bo,this.toJSON())}_performRefresh(){return wi("not implemented")}}function cs(n,e){Ie(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class br{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new yN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Fm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Ec(this,this.stsTokenManager.getToken(this.auth,e));return Ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return mN(this,e)}reload(){return vN(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new br({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await rd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(nr(this.auth.app))return Promise.reject(bs(this.auth));const e=await this.getIdToken();return await Ec(this,pN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,u=t.photoURL??void 0,p=t.tenantId??void 0,m=t._redirectEventId??void 0,g=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:S,providerData:V,stsTokenManager:U}=t;Ie(_&&U,e,"internal-error");const L=bo.fromJSON(this.name,U);Ie(typeof _=="string",e,"internal-error"),cs(s,e.name),cs(o,e.name),Ie(typeof E=="boolean",e,"internal-error"),Ie(typeof S=="boolean",e,"internal-error"),cs(l,e.name),cs(u,e.name),cs(p,e.name),cs(m,e.name),cs(g,e.name),cs(v,e.name);const Y=new br({uid:_,auth:e,email:o,emailVerified:E,displayName:s,isAnonymous:S,photoURL:u,phoneNumber:l,tenantId:p,stsTokenManager:L,createdAt:g,lastLoginAt:v});return V&&Array.isArray(V)&&(Y.providerData=V.map(X=>({...X}))),m&&(Y._redirectEventId=m),Y}static async _fromIdTokenResponse(e,t,s=!1){const o=new bo;o.updateFromServerResponse(t);const l=new br({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await rd(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ie(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?AS(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!l?.length,p=new bo;p.updateFromIdToken(s);const m=new br({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:u}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Fm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(m,g),m}}const uE=new Map;function Ti(n){Ri(n instanceof Function,"Expected a class definition");let e=uE.get(n);return e?(Ri(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,uE.set(n,e),e)}class xS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}xS.type="NONE";const fE=xS;function Lf(n,e,t){return`firebase:${n}:${e}:${t}`}class Eo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=Lf(this.userKey,o.apiKey,l),this.fullPersistenceKey=Lf("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await nd(this.auth,{idToken:e}).catch(()=>{});return t?br._fromGetAccountInfoResponse(this.auth,t,e):null}return br._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Eo(Ti(fE),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||Ti(fE);const u=Lf(s,e.config.apiKey,e.name);let p=null;for(const g of t)try{const v=await g._get(u);if(v){let _;if(typeof v=="string"){const E=await nd(e,{idToken:v}).catch(()=>{});if(!E)break;_=await br._fromGetAccountInfoResponse(e,E,v)}else _=br._fromJSON(e,v);g!==l&&(p=_),l=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Eo(l,e,s):(l=m[0],p&&await l._set(u,p.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(u)}catch{}})),new Eo(l,e,s))}}function dE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(IS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OS(e))return"Blackberry";if(MS(e))return"Webos";if(RS(e))return"Safari";if((e.includes("chrome/")||CS(e))&&!e.includes("edge/"))return"Chrome";if(NS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if(s?.length===2)return s[1]}return"Other"}function IS(n=pn()){return/firefox\//i.test(n)}function RS(n=pn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CS(n=pn()){return/crios\//i.test(n)}function DS(n=pn()){return/iemobile/i.test(n)}function NS(n=pn()){return/android/i.test(n)}function OS(n=pn()){return/blackberry/i.test(n)}function MS(n=pn()){return/webos/i.test(n)}function Fg(n=pn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function wN(n=pn()){return Fg(n)&&!!window.navigator?.standalone}function TN(){return vI()&&document.documentMode===10}function VS(n=pn()){return Fg(n)||NS(n)||MS(n)||OS(n)||/windows phone/i.test(n)||DS(n)}function PS(n,e=[]){let t;switch(n){case"Browser":t=dE(pn());break;case"Worker":t=`${dE(pn())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Po}/${s}`}class SN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((u,p)=>{try{const m=e(l);u(m)}catch(m){p(m)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function AN(n,e={}){return Bo(n,"GET","/v2/passwordPolicy",Pd(n,e))}const xN=6;class IN{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??xN,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class RN{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hE(this),this.idTokenSubscription=new hE(this),this.beforeStateQueue=new SN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ti(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Eo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await nd(this,{idToken:e}),s=await br._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(nr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!l||l===u)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await rd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(nr(this.app))return Promise.reject(bs(this));const t=e?bn(e):null;return t&&Ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return nr(this.app)?Promise.reject(bs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return nr(this.app)?Promise.reject(bs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await AN(this),t=new IN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cc("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await EN(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ti(e)||this._popupRedirectResolver;Ie(t,this,"argument-error"),this.redirectPersistenceManager=await Eo.create(this,[Ti(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(p,this,"internal-error"),p.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,s,o);return()=>{u=!0,m()}}else{const m=e.addObserver(t);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(nr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&sN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Lc(n){return bn(n)}class hE{constructor(e){this.auth=e,this.observer=null,this.addObserver=xI(t=>this.observer=t)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let $g={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CN(n){$g=n}function DN(n){return $g.loadJS(n)}function NN(){return $g.gapiScript}function ON(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function MN(n,e){const t=ag(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(pa(l,e??{}))return o;ei(o,"already-initialized")}return t.initialize({options:e})}function VN(n,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Ti);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e?.popupRedirectResolver)}function PN(n,e,t){const s=Lc(n);Ie(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=kS(e),{host:u,port:p}=kN(e),m=p===null?"":`:${p}`,g={url:`${l}//${u}${m}/`},v=Object.freeze({host:u,port:p,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ie(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ie(pa(g,s.config.emulator)&&pa(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Vo(u)?(Iw(`${l}//${u}${m}`),Rw("Auth",!0)):LN()}function kS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function kN(n){const e=kS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:pE(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:pE(u)}}}function pE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function LN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class LS{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return wi("not implemented")}_getIdTokenResponse(e){return wi("not implemented")}_linkToIdToken(e,t){return wi("not implemented")}_getReauthenticationResolver(e){return wi("not implemented")}}async function wo(n,e){return TS(n,"POST","/v1/accounts:signInWithIdp",Pd(n,e))}const UN="http://localhost";class va extends LS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new va(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ei("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...l}=t;if(!s||!o)return null;const u=new va(s,o);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return wo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,wo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,wo(e,t)}buildRequest(){const e={requestUri:UN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Dc(t)}return e}}class Yg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Uc extends Yg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class us extends Uc{constructor(){super("facebook.com")}static credential(e){return va._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return us.credential(e.oauthAccessToken)}catch{return null}}}us.FACEBOOK_SIGN_IN_METHOD="facebook.com";us.PROVIDER_ID="facebook.com";class Yr extends Uc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return va._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Yr.credential(t,s)}catch{return null}}}Yr.GOOGLE_SIGN_IN_METHOD="google.com";Yr.PROVIDER_ID="google.com";class fs extends Uc{constructor(){super("github.com")}static credential(e){return va._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fs.credential(e.oauthAccessToken)}catch{return null}}}fs.GITHUB_SIGN_IN_METHOD="github.com";fs.PROVIDER_ID="github.com";class ds extends Uc{constructor(){super("twitter.com")}static credential(e,t){return va._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ds.credential(t,s)}catch{return null}}}ds.TWITTER_SIGN_IN_METHOD="twitter.com";ds.PROVIDER_ID="twitter.com";async function zN(n,e){return TS(n,"POST","/v1/accounts:signUp",Pd(n,e))}class Cs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await br._fromIdTokenResponse(e,s,o),u=mE(s);return new Cs({user:l,providerId:u,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=mE(s);return new Cs({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function mE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}async function jN(n){if(nr(n.app))return Promise.reject(bs(n));const e=Lc(n);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Cs({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await zN(e,{returnSecureToken:!0}),s=await Cs._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(s.user),s}class id extends Ci{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,id.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new id(e,t,s,o)}}function US(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?id._fromErrorAndOperation(n,l,e,s):l})}async function BN(n,e,t=!1){const s=await Ec(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Cs._forOperation(n,"link",s)}async function HN(n,e,t=!1){const{auth:s}=n;if(nr(s.app))return Promise.reject(bs(s));const o="reauthenticate";try{const l=await Ec(n,US(s,o,e,n),t);Ie(l.idToken,s,"internal-error");const u=Gg(l.idToken);Ie(u,s,"internal-error");const{sub:p}=u;return Ie(n.uid===p,s,"user-mismatch"),Cs._forOperation(n,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&ei(s,"user-mismatch"),l}}async function qN(n,e,t=!1){if(nr(n.app))return Promise.reject(bs(n));const s="signIn",o=await US(n,s,e),l=await Cs._fromIdTokenResponse(n,s,o);return t||await n._updateCurrentUser(l.user),l}function GN(n,e,t,s){return bn(n).onIdTokenChanged(e,t,s)}function FN(n,e,t){return bn(n).beforeAuthStateChanged(e,t)}function $N(n,e,t,s){return bn(n).onAuthStateChanged(e,t,s)}function YN(n){return bn(n).signOut()}const sd="__sak";class zS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(sd,"1"),this.storage.removeItem(sd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const KN=1e3,QN=10;class jS extends zS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,p,m)=>{this.notifyListeners(u,m)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(s);!t&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);TN()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,QN):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},KN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}jS.type="LOCAL";const XN=jS;class BS extends zS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}BS.type="SESSION";const HS=BS;function WN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class kd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new kd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,u=this.handlersMap[o];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(u).map(async g=>g(t.origin,l)),m=await WN(p);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kd.receivers=[];function Kg(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}class JN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,u;return new Promise((p,m)=>{const g=Kg("",20);o.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);u={messageChannel:o,onMessage(_){const E=_;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),p(E.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Jr(){return window}function ZN(n){Jr().location.href=n}function qS(){return typeof Jr().WorkerGlobalScope<"u"&&typeof Jr().importScripts=="function"}async function e4(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function t4(){return navigator?.serviceWorker?.controller||null}function n4(){return qS()?self:null}const GS="firebaseLocalStorageDb",r4=1,ad="firebaseLocalStorage",FS="fbase_key";class zc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ld(n,e){return n.transaction([ad],e?"readwrite":"readonly").objectStore(ad)}function i4(){const n=indexedDB.deleteDatabase(GS);return new zc(n).toPromise()}function $m(){const n=indexedDB.open(GS,r4);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(ad,{keyPath:FS})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(ad)?e(s):(s.close(),await i4(),e(await $m()))})})}async function gE(n,e,t){const s=Ld(n,!0).put({[FS]:e,value:t});return new zc(s).toPromise()}async function s4(n,e){const t=Ld(n,!1).get(e),s=await new zc(t).toPromise();return s===void 0?null:s.value}function yE(n,e){const t=Ld(n,!0).delete(e);return new zc(t).toPromise()}const a4=800,o4=3;class $S{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $m(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>o4)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kd._getInstance(n4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await e4(),!this.activeServiceWorker)return;this.sender=new JN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||t4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $m();return await gE(e,sd,"1"),await yE(e,sd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>gE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>s4(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>yE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Ld(o,!1).getAll();return new zc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),a4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$S.type="LOCAL";const l4=$S;new kc(3e4,6e4);function YS(n,e){return e?Ti(e):(Ie(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Qg extends LS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return wo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function c4(n){return qN(n.auth,new Qg(n),n.bypassAuthState)}function u4(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),HN(t,new Qg(n),n.bypassAuthState)}async function f4(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),BN(t,new Qg(n),n.bypassAuthState)}class KS{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:u,type:p}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return c4;case"linkViaPopup":case"linkViaRedirect":return f4;case"reauthViaPopup":case"reauthViaRedirect":return u4;default:ei(this.auth,"internal-error")}}resolve(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const d4=new kc(2e3,1e4);async function h4(n,e,t){if(nr(n.app))return Promise.reject(Tr(n,"operation-not-supported-in-this-environment"));const s=Lc(n);aN(n,e,Yg);const o=YS(s,t);return new da(s,"signInViaPopup",e,o).executeNotNull()}class da extends KS{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,da.currentPopupAction&&da.currentPopupAction.cancel(),da.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){Ri(this.filter.length===1,"Popup operations only handle one event");const e=Kg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,da.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,d4.get())};e()}}da.currentPopupAction=null;const p4="pendingRedirect",Uf=new Map;class m4 extends KS{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Uf.get(this.auth._key());if(!e){try{const s=await g4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Uf.set(this.auth._key(),e)}return this.bypassAuthState||Uf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function g4(n,e){const t=_4(e),s=v4(n);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function y4(n,e){Uf.set(n._key(),e)}function v4(n){return Ti(n._redirectPersistence)}function _4(n){return Lf(p4,n.config.apiKey,n.name)}async function b4(n,e,t=!1){if(nr(n.app))return Promise.reject(bs(n));const s=Lc(n),o=YS(s,e),u=await new m4(s,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const E4=600*1e3;class w4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!T4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!QS(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Tr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=E4&&this.cachedEventUids.clear(),this.cachedEventUids.has(vE(e))}saveEventToCache(e){this.cachedEventUids.add(vE(e)),this.lastProcessedEventTime=Date.now()}}function vE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function QS({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function T4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QS(n);default:return!1}}async function S4(n,e={}){return Bo(n,"GET","/v1/projects",e)}const A4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,x4=/^https?/;async function I4(n){if(n.config.emulator)return;const{authorizedDomains:e}=await S4(n);for(const t of e)try{if(R4(t))return}catch{}ei(n,"unauthorized-domain")}function R4(n){const e=Gm(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===s}if(!x4.test(t))return!1;if(A4.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const C4=new kc(3e4,6e4);function _E(){const n=Jr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function D4(n){return new Promise((e,t)=>{function s(){_E(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_E(),t(Tr(n,"network-request-failed"))},timeout:C4.get()})}if(Jr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Jr().gapi?.load)s();else{const o=ON("iframefcb");return Jr()[o]=()=>{gapi.load?s():t(Tr(n,"network-request-failed"))},DN(`${NN()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw zf=null,e})}let zf=null;function N4(n){return zf=zf||D4(n),zf}const O4=new kc(5e3,15e3),M4="__/auth/iframe",V4="emulator/auth/iframe",P4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},k4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function L4(n){const e=n.config;Ie(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?qg(e,V4):`https://${n.config.authDomain}/${M4}`,s={apiKey:e.apiKey,appName:n.name,v:Po},o=k4.get(n.config.apiHost);o&&(s.eid=o);const l=n._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${Dc(s).slice(1)}`}async function U4(n){const e=await N4(n),t=Jr().gapi;return Ie(t,n,"internal-error"),e.open({where:document.body,url:L4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:P4,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const u=Tr(n,"network-request-failed"),p=Jr().setTimeout(()=>{l(u)},O4.get());function m(){Jr().clearTimeout(p),o(s)}s.ping(m).then(m,()=>{l(u)})}))}const z4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},j4=500,B4=600,H4="_blank",q4="http://localhost";class bE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function G4(n,e,t,s=j4,o=B4){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const m={...z4,width:s.toString(),height:o.toString(),top:l,left:u},g=pn().toLowerCase();t&&(p=CS(g)?H4:t),IS(g)&&(e=e||q4,m.scrollbars="yes");const v=Object.entries(m).reduce((E,[S,V])=>`${E}${S}=${V},`,"");if(wN(g)&&p!=="_self")return F4(e||"",p),new bE(null);const _=window.open(e||"",p,v);Ie(_,n,"popup-blocked");try{_.focus()}catch{}return new bE(_)}function F4(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const $4="__/auth/handler",Y4="emulator/auth/handler",K4=encodeURIComponent("fac");async function EE(n,e,t,s,o,l){Ie(n.config.authDomain,n,"auth-domain-config-required"),Ie(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:Po,eventId:o};if(e instanceof Yg){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",AI(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries({}))u[v]=_}if(e instanceof Uc){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const p=u;for(const v of Object.keys(p))p[v]===void 0&&delete p[v];const m=await n._getAppCheckToken(),g=m?`#${K4}=${encodeURIComponent(m)}`:"";return`${Q4(n)}?${Dc(p).slice(1)}${g}`}function Q4({config:n}){return n.emulator?qg(n,Y4):`https://${n.authDomain}/${$4}`}const am="webStorageSupport";class X4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HS,this._completeRedirectFn=b4,this._overrideRedirectResult=y4}async _openPopup(e,t,s,o){Ri(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await EE(e,t,s,Gm(),o);return G4(e,l,Kg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await EE(e,t,s,Gm(),o);return ZN(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Ri(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await U4(e),s=new w4(e);return t.register("authEvent",o=>(Ie(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(am,{type:am},o=>{const l=o?.[0]?.[am];l!==void 0&&t(!!l),ei(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=I4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return VS()||RS()||Fg()}}const W4=X4;var wE="@firebase/auth",TE="1.12.0";class J4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Z4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eO(n){To(new ma("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:p}=s.options;Ie(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:u,authDomain:p,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PS(n)},g=new RN(s,o,l,m);return VN(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),To(new ma("auth-internal",e=>{const t=Lc(e.getProvider("auth").getImmediate());return(s=>new J4(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),gs(wE,TE,Z4(n)),gs(wE,TE,"esm2020")}const tO=300,nO=xw("authIdTokenMaxAge")||tO;let SE=null;const rO=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>nO)return;const o=t?.token;SE!==o&&(SE=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function iO(n=Ow()){const e=ag(n,"auth");if(e.isInitialized())return e.getImmediate();const t=MN(n,{popupRedirectResolver:W4,persistence:[l4,XN,HS]}),s=xw("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=rO(l.toString());FN(t,u,()=>u(t.currentUser)),GN(t,p=>u(p))}}const o=Sw("auth");return o&&PN(t,`http://${o}`),t}function sO(){return document.getElementsByTagName("head")?.[0]??document}CN({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=o=>{const l=Tr("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",sO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eO("Browser");var aO="firebase",oO="12.8.0";gs(aO,oO,"app");const lO={apiKey:"AIzaSyAfHofjsLtR0L9xrbv4rbKRTDYfieQBOUc",authDomain:"ff14-hunt.firebaseapp.com",projectId:"ff14-hunt",storageBucket:"ff14-hunt.firebasestorage.app",messagingSenderId:"685554694198",appId:"1:685554694198:web:6878dc79d6a5876e0d4097",measurementId:"G-55QRR4WL2E"},XS=Nw(lO),Sf=iO(XS),Ei=BD(XS);new Yr;const cO=["","","","","","",""],uO=[{id:"all",name:"ALL ",sub:"ALL",color:"bg-slate-500"},{id:"dt",name:"7.0 ",sub:"7.0",color:"bg-yellow-600"},{id:"ew",name:"6.0 ",sub:"6.0",color:"bg-indigo-600"},{id:"shb",name:"5.0 ",sub:"5.0",color:"bg-purple-700"},{id:"sb",name:"4.0 ",sub:"4.0",color:"bg-red-600"},{id:"hw",name:"3.0 ",sub:"3.0",color:"bg-blue-600"},{id:"arr",name:"2.0 ",sub:"2.0",color:"bg-emerald-600"}],bi={dt:{s:[{cn:"",jp:"",zone:"",window:84,rank:"ss",trigger:"SS A "},{cn:" ",jp:"",zone:"",window:84,trigger:"ET  (1-4) 00:00-08:00 + ",windowType:"full-combined",moon:[1,4],time:[0,8],weather:""},{cn:"",jp:"",zone:"",window:84,trigger:""},{cn:"",jp:"",zone:"",window:84,trigger:" 50 "},{cn:"",jp:"",zone:"",window:84,trigger:" FATE FATE "},{cn:" ",jp:"",zone:"",window:84,trigger:" (HQ) (99)"},{cn:"",jp:"",zone:"",window:84,trigger:""}],a:[{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4}]},ew:{s:[{cn:"",jp:"",zone:"",window:84,rank:"ss",trigger:"SS"},{cn:"",jp:"",zone:"",window:84,trigger:"ET 09:00-17:00 + /",windowType:"full-combined",time:[9,17],weather:"/"},{cn:"",jp:"",zone:"",window:84,trigger:" 100  + 100  + 100 "},{cn:"",jp:"",zone:"",window:84,trigger:""},{cn:"",jp:"",zone:"",window:84,trigger:" 100  + 100  + 100 "},{cn:"",jp:"",zone:"",window:84,trigger:" 5 "},{cn:"",jp:"",zone:"",window:84,trigger:"10"}],a:[{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4}]},shb:{s:[{cn:"",jp:"",zone:"",window:84,rank:"ss",trigger:"SS S  4 "},{cn:"",jp:"",zone:"",window:84,trigger:""},{cn:"",jp:"",zone:"",window:84,trigger:"50 "},{cn:"",jp:"",zone:"",window:84,trigger:""},{cn:"",jp:"",zone:"",window:84,trigger:""},{cn:"",jp:"",zone:"",window:84,trigger:" 100  + 100  + 100 "},{cn:"",jp:"",zone:"",window:84,trigger:" (X: 26, Y: 7) 3 "}],a:[{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4}]},sb:{s:[{cn:"",jp:"",zone:"",window:84,trigger:" 100  + 100  ( FATE )"},{cn:"",jp:"",zone:"",window:84,trigger:""},{cn:"",jp:"",zone:"",window:84,trigger:" 50 "},{cn:"",jp:"",zone:"",window:84,trigger:" 100  + 100  (16-20)  12:00 ",windowType:"moon",moon:[16,20]},{cn:"",jp:"",zone:"",window:84,trigger:" FATE"},{cn:"",jp:"",zone:"",window:84,trigger:"ET 17:00-08:00 ",windowType:"time",time:[17,8]}],a:[{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4}]},hw:{s:[{cn:"",jp:"",zone:"",window:84,trigger:"50 + 50 + 50"},{cn:"",jp:"",zone:"",window:84,trigger:""},{cn:"",jp:"",zone:"",window:84,trigger:""},{cn:"",jp:"",zone:"",window:84,trigger:"G7"},{cn:"",jp:"",zone:"",window:84,trigger:"50"},{cn:"",jp:"",zone:"",window:84,trigger:"B"}],a:[{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4}]},arr:{s:[{cn:"",jp:"",zone:"",window:50,trigger:" 2  ET  47 ",windowType:"continuous-rain",weather:""},{cn:"",jp:"",zone:"",window:50,trigger:"/"},{cn:"",jp:"",zone:"",window:50,trigger:"ET 1-417:00-03:00  0:00 ",windowType:"moon-time",moon:[1,4],time:[17,3]},{cn:"",jp:"",zone:"",window:50,trigger:" (X: 21, Y: 26.2)"},{cn:"",jp:"",zone:"",window:50,trigger:"     (X: 24.4, Y: 21.5)",windowType:"weather-special",weather:"/"},{cn:"",jp:"",zone:"",window:50,trigger:""},{cn:"",jp:"",zone:"",window:50,trigger:"/"},{cn:"",jp:"",zone:"",window:50,trigger:" 1 fate"},{cn:"",jp:"",zone:"",window:50,trigger:" 100  ( FATE )"},{cn:"",jp:"",zone:"",window:50,trigger:" 19:00 - 22:00  (X: 24.3, Y: 26.9)3",windowType:"time",time:[19,22]},{cn:"",jp:"",zone:"",window:50,trigger:"16-20 17:00 - 03:00 ",windowType:"moon-time",moon:[16,20],time:[17,3]},{cn:"",jp:"",zone:"",window:50,trigger:" 200 ",windowType:"weather-special",weather:""},{cn:"",jp:"",zone:"",window:50,trigger:" 08:00 - 11:00  (X: 34.2, Y: 28.2)",windowType:"time",time:[8,11]},{cn:"",jp:"",zone:"",window:50,trigger:""},{cn:"",jp:"",zone:"",window:50,trigger:""},{cn:"",jp:"",zone:"",window:50,trigger:" 1 "},{cn:"",jp:"",zone:"",window:50,trigger:"G3G4G5"}],a:[{cn:" ",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4}]}},WS=1440/70,JS=175*1e3,fO=JS/60,go=1400,od=n=>{const e=Math.floor(n/go),t=(e+1)%3*8,o=Math.floor(e/3)*100+t,l=(o<<11^o)>>>0;return((l>>>8^l)>>>0)%100},ld=(n,e)=>{switch(n){case"":return e<20?"":e<40?"":e<55?"":e<70?"":e<85?"":"";case"":return e<15?"":e<60?"":e<75?"":e<85?"":e<95?"":"";case"":case"":return e<5?"":e<20?"":e<30?"":e<40?"":e<70?"":"";case"":case"":return e<5?"":e<50?"":e<80?"":e<90?"":e<95?"":"";case"":return e<40?"":e<60?"":e<80?"":e<90?"":"";default:return""}},dO=(n,e)=>{if(!n.windowType)return null;const t=Math.floor(e/1e3),s=Math.floor(t/go)*go;for(let o=0;o<450;o++){const l=s+o*go,u=l*WS,p=u/3600%24,m=od(Math.floor(l)),g=ld(n.zone,m);let v=!0;if(n.windowType==="continuous-rain"){const V=od(Math.floor(l-go)),U=ld(n.zone,V);v=g===""&&U===""}else v=n.weather?n.weather.includes(g):!0;const _=(Math.floor(u/86400)+1)%32,E=_===0?32:_,S=n.moon?E>=n.moon[0]&&E<=n.moon[1]:!0;if(v&&S)for(let V=0;V<8;V++){const U=Math.floor(l+V*175),L=U+175,Y=Math.floor((p+V)%24),X=["","",""," "],ae=E===1||E===16;if(X.includes(n.cn)&&ae&&Y<12)continue;let se=!0;if(n.time){const[oe,ie]=n.time;se=oe<ie?Y>=oe&&Y<ie:Y>=oe||Y<ie}if(se){if(t>=U&&t<L){const ie=Math.min(l+go,L)-t;if(ie<=0)continue;if(n.windowType==="continuous-rain")return"";const I=Math.floor(ie/60),x=ie%60;return`00 00 ${String(I).padStart(2,"0")} ${String(x).padStart(2,"0")}`}if(U>t){const oe=U-t,ie=Math.floor(oe/86400),I=Math.floor(oe%86400/3600),x=Math.floor(oe%3600/60),R=oe%60;let O="";return ie>0?O=`${String(ie).padStart(2,"0")} ${String(I).padStart(2,"0")} ${String(x).padStart(2,"0")}`:O=`${String(I).padStart(2,"0")} ${String(x).padStart(2,"0")} ${String(R).padStart(2,"0")}`,` ${O}`}}}}return""},hO=()=>{const[n,e]=re.useState(Date.now());return re.useEffect(()=>{const s=setInterval(()=>e(Date.now()),1e3);return()=>clearInterval(s)},[]),re.useMemo(()=>{const s=n*WS/1e3,o=Math.floor(s/3600)%24,l=Math.floor(s/86400)%32+1;let u="";l<=4?u="":l<=8?u="":l<=20&&l>=16&&(u="");const p=n/1e3,m=od(p),g=od(p+1400),_=((Math.floor(o/8)+1)*8-o)*JS-Math.floor(s/60)%60*fO,E=`${o.toString().padStart(2,"0")}:${(Math.floor(s/60)%60).toString().padStart(2,"0")}`,S=`${Math.floor(_/6e4)}m ${Math.floor(_%6e4/1e3)}s`;return{currentTime:n,hours:o,day:l,moonLabel:u,curVal:m,nxtVal:g,displayTime:E,nextIn:S}},[n])};function ZS(n){var e,t,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=ZS(n[e]))&&(s&&(s+=" "),s+=t)}else for(t in n)n[t]&&(s&&(s+=" "),s+=t);return s}function ge(){for(var n,e,t=0,s="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=ZS(n))&&(s&&(s+=" "),s+=e);return s}const e1=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();const pO=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const mO=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());const AE=n=>{const e=mO(n);return e.charAt(0).toUpperCase()+e.slice(1)};var gO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const yO=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const vO=re.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:u,...p},m)=>re.createElement("svg",{ref:m,...gO,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:e1("lucide",o),...!l&&!yO(p)&&{"aria-hidden":"true"},...p},[...u.map(([g,v])=>re.createElement(g,v)),...Array.isArray(l)?l:[l]]));const Et=(n,e)=>{const t=re.forwardRef(({className:s,...o},l)=>re.createElement(vO,{ref:l,iconNode:e,className:e1(`lucide-${pO(AE(n))}`,`lucide-${n}`,s),...o}));return t.displayName=AE(n),t};const _O=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],xE=Et("check",_O);const bO=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],IE=Et("circle-check-big",bO);const EO=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],t1=Et("clock",EO);const wO=[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128",key:"dpwdj0"}],["path",{d:"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z",key:"s09mg5"}]],TO=Et("cloud-sun",wO);const SO=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],RE=Et("crown",SO);const AO=[["path",{d:"M16 22h2a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v2.85",key:"ryk6xj"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 14v2.2l1.6 1",key:"6m4bie"}],["circle",{cx:"8",cy:"16",r:"6",key:"10v15b"}]],Ym=Et("file-clock",AO);const xO=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],IO=Et("layout-grid",xO);const RO=[["path",{d:"M16 5H3",key:"m91uny"}],["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 19H3",key:"zzsher"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]],CE=Et("list-plus",RO);const CO=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],DO=Et("list",CO);const NO=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Xg=Et("loader-circle",NO);const OO=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],MO=Et("log-in",OO);const VO=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],PO=Et("log-out",VO);const kO=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],LO=Et("map-pin",kO);const UO=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],zO=Et("megaphone",UO);const jO=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],BO=Et("moon",jO);const HO=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],DE=Et("pen-line",HO);const qO=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],NE=Et("rotate-ccw",qO);const GO=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],FO=Et("share-2",GO);const $O=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],YO=Et("shield",$O);const KO=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],QO=Et("sun",KO);const XO=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],WO=Et("sword",XO);const JO=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ZO=Et("trash-2",JO);const eM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],tM=Et("user",eM);const nM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Wg=Et("x",nM);var n1=function(n,e){return(n1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var o in s)s.hasOwnProperty(o)&&(t[o]=s[o])})(n,e)},rM,Af,iM=((function(n){(function(){var e={}.hasOwnProperty;function t(){for(var s=[],o=0;o<arguments.length;o++){var l=arguments[o];if(l){var u=typeof l;if(u==="string"||u==="number")s.push(l);else if(Array.isArray(l)&&l.length){var p=t.apply(null,l);p&&s.push(p)}else if(u==="object")for(var m in l)e.call(l,m)&&l[m]&&s.push(m)}}return s.join(" ")}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(Af={path:rM,exports:{},require:function(n,e){return(function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")})(e==null&&Af.path)}},Af.exports),Af.exports);function Km(n,e,t){var s,o,l,u,p;function m(){var v=Date.now()-u;v<e&&v>=0?s=setTimeout(m,e-v):(s=null,t||(p=n.apply(l,o),l=o=null))}e==null&&(e=100);var g=function(){l=this,o=arguments,u=Date.now();var v=t&&!s;return s||(s=setTimeout(m,e)),v&&(p=n.apply(l,o),l=o=null),p};return g.clear=function(){s&&(clearTimeout(s),s=null)},g.flush=function(){s&&(p=n.apply(l,o),l=o=null,clearTimeout(s),s=null)},g}Km.debounce=Km;var sM=Km;(function(n,e){e===void 0&&(e={});var t=e.insertAt;if(typeof document<"u"){var s=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",t==="top"&&s.firstChild?s.insertBefore(o,s.firstChild):s.appendChild(o),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n))}})(`.indiana-scroll-container {
  overflow: auto;
}
.indiana-scroll-container--dragging {
  scroll-behavior: auto !important;
}
.indiana-scroll-container--dragging > * {
  pointer-events: none;
  cursor: -webkit-grab;
  cursor: grab;
}
.indiana-scroll-container--hide-scrollbars {
  overflow: hidden;
  overflow: -moz-scrollbars-none;
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.indiana-scroll-container--hide-scrollbars::-webkit-scrollbar {
  display: none !important;
  height: 0 !important;
  width: 0 !important;
  background: transparent !important;
  -webkit-appearance: none !important;
}
.indiana-scroll-container--native-scroll {
  overflow: auto;
}

.indiana-dragging {
  cursor: -webkit-grab;
  cursor: grab;
}`);var om,aM=(om="indiana-scroll-container",function(n,e){if(!n)return om;var t;typeof n=="string"?t=n:e=n;var s=om;return t&&(s+="__"+t),s+(e?Object.keys(e).reduce((function(o,l){var u=e[l];return u&&(o+=" "+(typeof u=="boolean"?s+"--"+l:s+"--"+l+"_"+u)),o}),""):"")}),r1=(function(n){function e(t){var s=n.call(this,t)||this;return s.onEndScroll=function(){s.scrolling=!1,!s.pressed&&s.started&&s.processEnd()},s.onScroll=function(o){var l=s.container.current;l.scrollLeft===s.scrollLeft&&l.scrollTop===s.scrollTop||(s.scrolling=!0,s.processScroll(o),s.onEndScroll())},s.onTouchStart=function(o){var l=s.props.nativeMobileScroll;if(s.isDraggable(o.target))if(s.internal=!0,l&&s.scrolling)s.pressed=!0;else{var u=o.touches[0];s.processClick(o,u.clientX,u.clientY),!l&&s.props.stopPropagation&&o.stopPropagation()}},s.onTouchEnd=function(o){var l=s.props.nativeMobileScroll;s.pressed&&(!s.started||s.scrolling&&l?s.pressed=!1:s.processEnd(),s.forceUpdate())},s.onTouchMove=function(o){var l=s.props.nativeMobileScroll;if(s.pressed&&(!l||!s.isMobile)){var u=o.touches[0];u&&s.processMove(o,u.clientX,u.clientY),o.preventDefault(),s.props.stopPropagation&&o.stopPropagation()}},s.onMouseDown=function(o){s.isDraggable(o.target)&&s.isScrollable()&&(s.internal=!0,s.props.buttons.indexOf(o.button)!==-1&&(s.processClick(o,o.clientX,o.clientY),o.preventDefault(),s.props.stopPropagation&&o.stopPropagation()))},s.onMouseMove=function(o){s.pressed&&(s.processMove(o,o.clientX,o.clientY),o.preventDefault(),s.props.stopPropagation&&o.stopPropagation())},s.onMouseUp=function(o){s.pressed&&(s.started?s.processEnd():(s.internal=!1,s.pressed=!1,s.forceUpdate(),s.props.onClick&&s.props.onClick(o)),o.preventDefault(),s.props.stopPropagation&&o.stopPropagation())},s.container=ht.createRef(),s.onEndScroll=sM(s.onEndScroll,300),s.scrolling=!1,s.started=!1,s.pressed=!1,s.internal=!1,s.getRef=s.getRef.bind(s),s}return(function(t,s){function o(){this.constructor=t}n1(t,s),t.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)})(e,n),e.prototype.componentDidMount=function(){var t=this.props.nativeMobileScroll,s=this.container.current;window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd),s.addEventListener("touchstart",this.onTouchStart,{passive:!1}),s.addEventListener("mousedown",this.onMouseDown,{passive:!1}),t&&(this.isMobile=this.isMobileDevice(),this.isMobile&&this.forceUpdate())},e.prototype.componentWillUnmount=function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},e.prototype.getElement=function(){return this.container.current},e.prototype.isMobileDevice=function(){return window.orientation!==void 0||navigator.userAgent.indexOf("IEMobile")!==-1},e.prototype.isDraggable=function(t){var s=this.props.ignoreElements;if(s){var o=t.closest(s);return o===null||o.contains(this.getElement())}return!0},e.prototype.isScrollable=function(){var t=this.container.current;return t&&(t.scrollWidth>t.clientWidth||t.scrollHeight>t.clientHeight)},e.prototype.processClick=function(t,s,o){var l=this.container.current;this.scrollLeft=l.scrollLeft,this.scrollTop=l.scrollTop,this.clientX=s,this.clientY=o,this.pressed=!0},e.prototype.processStart=function(t){t===void 0&&(t=!0);var s=this.props.onStartScroll;this.started=!0,t&&document.body.classList.add("indiana-dragging"),s&&s({external:!this.internal}),this.forceUpdate()},e.prototype.processScroll=function(t){if(this.started){var s=this.props.onScroll;s&&s({external:!this.internal})}else this.processStart(!1)},e.prototype.processMove=function(t,s,o){var l=this.props,u=l.horizontal,p=l.vertical,m=l.activationDistance,g=l.onScroll,v=this.container.current;this.started?(u&&(v.scrollLeft-=s-this.clientX),p&&(v.scrollTop-=o-this.clientY),g&&g({external:!this.internal}),this.clientX=s,this.clientY=o,this.scrollLeft=v.scrollLeft,this.scrollTop=v.scrollTop):(u&&Math.abs(s-this.clientX)>m||p&&Math.abs(o-this.clientY)>m)&&(this.clientX=s,this.clientY=o,this.processStart())},e.prototype.processEnd=function(){var t=this.props.onEndScroll;this.container.current&&t&&t({external:!this.internal}),this.pressed=!1,this.started=!1,this.scrolling=!1,this.internal=!1,document.body.classList.remove("indiana-dragging"),this.forceUpdate()},e.prototype.getRef=function(t){[this.container,this.props.innerRef].forEach((function(s){s&&(typeof s=="function"?s(t):s.current=t)}))},e.prototype.render=function(){var t=this.props,s=t.children,o=t.draggingClassName,l=t.className,u=t.style,p=t.hideScrollbars,m=t.component;return ht.createElement(m,{className:iM(l,this.pressed&&o,aM({dragging:this.pressed,"hide-scrollbars":p,"native-scroll":this.isMobile})),style:u,ref:this.getRef,onScroll:this.onScroll},s)},e.defaultProps={nativeMobileScroll:!0,hideScrollbars:!0,activationDistance:10,vertical:!0,horizontal:!0,stopPropagation:!1,style:{},component:"div",buttons:[0]},e})(re.PureComponent);const oM=({user:n,hunterName:e,setHunterName:t,onLogin:s,onLogout:o,eorzeaData:l,isMidnight:u,onShowWeather:p,currentTime:m,isAdmin:g,onToggleAdmin:v,setTheme:_})=>{const[E,S]=ht.useState(!1),[V,U]=ht.useState(e),[L,Y]=ht.useState(!1),X={headerBg:u?"bg-[#12141e]/90 border-white/5 backdrop-blur-xl":"bg-white/80 border-slate-200 shadow-sm",btn:u?"bg-[#252a3a] border-white/10 text-slate-300 hover:text-white":"bg-white border-slate-200 text-slate-600 hover:bg-slate-100"},ae=async()=>{if(!(L||!n||n.isAnonymous)){if(!V.trim()||V===e){S(!1);return}Y(!0);try{const se=ua(Ei,"users",n.uid),oe=await qm(se),ie=Date.now();if(oe.exists()){const x=oe.data();if(x.lockExpiry&&ie<x.lockExpiry){const R=Math.ceil((x.lockExpiry-ie)/864e5);alert(` 

 30  ${R} `),U(e),S(!1),Y(!1);return}}const I=e?` 

${V}

 30 `:` 

${V}

 30 `;if(window.confirm(I)){const x=ie+2592e6;await ic(se,{hunterName:V,lockExpiry:x,updatedAt:ie},{merge:!0}),t(V),alert("  30 ")}else U(e)}catch(se){console.error("Update Name Error:",se),alert("")}finally{S(!1),Y(!1)}}};return C.jsxs("header",{className:`mb-4 md:mb-8 border-b ${X.headerBg} p-4 md:p-8 rounded-[2rem] md:rounded-[2.5rem] relative z-20 font-black`,children:[C.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center md:items-start gap-4 mb-6 font-black",children:[C.jsxs("div",{className:"flex items-center gap-3 md:gap-4 w-full md:w-auto",children:[C.jsx("img",{src:"https://ff14hunt.blob.core.windows.net/image/icon.webp",alt:"Hunt Logo",className:"w-12 h-12 md:w-16 md:h-16 rounded-2xl border-2 border-yellow-500/30 shrink-0 shadow-lg"}),C.jsxs("div",{className:"text-left font-black",children:[C.jsx("h1",{className:"text-2xl md:text-4xl font-black tracking-tighter leading-none",children:"FFXIV "}),C.jsx("p",{className:"text-slate-500 text-[10px] md:text-xs uppercase tracking-widest font-black opacity-80",children:"FFXIV Hunt Tracker v3.5"})]})]}),C.jsx("div",{className:`w-full md:w-auto px-4 py-2.5 rounded-2xl border-2 flex items-center justify-between md:justify-start gap-3 transition-all ${u?"bg-white/5 border-white/5":"bg-white border-slate-200"}`,children:n&&!n.isAnonymous?C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[C.jsx("img",{src:n.photoURL,alt:"Avatar",className:"w-8 h-8 md:w-10 md:h-10 rounded-full border-2 border-white/20 shrink-0"}),C.jsxs("div",{className:"flex flex-col items-start md:items-end min-w-0",children:[C.jsxs("div",{className:"flex items-center gap-1 text-[9px] md:text-[10px] text-slate-500 uppercase font-bold tracking-wider",children:[C.jsx(tM,{className:"w-3 h-3"})," ",C.jsx("span",{children:""})]}),E?C.jsx("input",{autoFocus:!0,type:"text",value:V,disabled:L,onChange:se=>U(se.target.value),onKeyDown:se=>{se.key==="Enter"&&ae(),se.key==="Escape"&&(U(e),S(!1))},onBlur:()=>{V===e&&S(!1)},className:ge("text-sm md:text-xs font-bold bg-transparent border-b-2 w-24 focus:outline-none transition-colors",u?"border-blue-500 text-white":"border-blue-500 text-black",L&&"opacity-50")}):C.jsx("div",{onClick:()=>{L||(U(e),S(!0))},className:`text-sm md:text-xs font-bold cursor-pointer truncate max-w-[100px] ${e?u?"text-slate-200":"text-slate-800":"text-blue-500 animate-pulse"}`,children:e||"..."})]})]}),C.jsx("button",{onClick:o,className:"p-2 bg-red-500/10 text-red-500 rounded-xl hover:bg-red-500 hover:text-white transition-all shrink-0",children:C.jsx(PO,{className:"w-4 h-4"})})]}):C.jsxs("button",{onClick:s,className:"w-full flex items-center justify-center gap-2 text-xs font-bold text-blue-500 hover:text-blue-400 transition-all py-1",children:[C.jsx("div",{className:"p-1.5 bg-blue-500 text-white rounded-lg",children:C.jsx(MO,{className:"w-4 h-4"})}),C.jsx("span",{children:"Google  ()"})]})})]}),C.jsxs("div",{className:"flex flex-col xl:flex-row justify-between items-end gap-4 font-black",children:[C.jsxs("div",{className:"grid grid-cols-3 gap-2 w-full xl:w-auto",children:[C.jsx("button",{onClick:v,className:ge("py-3 rounded-xl border-2 text-[10px] uppercase transition-all font-black flex items-center justify-center gap-1",g?"bg-emerald-600/20 border-emerald-500 text-emerald-400":X.btn),children:g?" ON":""}),C.jsx("button",{onClick:p,className:`py-3 rounded-xl border-2 text-[10px] uppercase font-black ${X.btn}`,children:""}),C.jsx("button",{onClick:()=>_(u?"sunlight":"midnight"),className:`py-3 rounded-xl border-2 text-[10px] uppercase font-black ${X.btn}`,children:u?"":""})]}),C.jsxs("div",{className:"grid grid-cols-3 md:flex md:flex-row gap-2 w-full xl:w-auto",children:[C.jsxs("div",{className:`p-2 md:px-4 md:py-3 rounded-2xl border-2 flex flex-col md:flex-row items-center justify-center md:justify-start gap-1 md:gap-3 ${u?"bg-white/5 border-white/5":"bg-white border-slate-200"}`,children:[C.jsx(BO,{className:"w-4 h-4 md:w-5 md:h-5 text-indigo-400"}),C.jsxs("div",{className:"text-center md:text-left",children:[C.jsx("div",{className:"text-[9px] text-slate-500 uppercase font-black leading-none mb-0.5",children:"Moon"}),C.jsx("div",{className:"text-xs md:text-lg font-black leading-none",children:l.moonLabel})]})]}),C.jsxs("div",{className:`p-2 md:px-4 md:py-3 rounded-2xl border-2 flex flex-col md:flex-row items-center justify-center md:justify-start gap-1 md:gap-3 ${u?"bg-white/5 border-white/5":"bg-white border-slate-200"}`,children:[C.jsx(QO,{className:"w-4 h-4 md:w-5 md:h-5 text-yellow-500"}),C.jsxs("div",{className:"text-center md:text-left",children:[C.jsx("div",{className:"text-[9px] text-slate-500 uppercase font-black leading-none mb-0.5",children:"ET"}),C.jsx("div",{className:"text-sm md:text-2xl font-mono font-black leading-none",children:l.displayTime})]})]}),C.jsxs("div",{className:`p-2 md:px-4 md:py-3 rounded-2xl border-2 flex flex-col md:flex-row items-center justify-center md:justify-start gap-1 md:gap-3 ${u?"bg-blue-500/10 border-blue-500/20":"bg-white border-blue-500/20"}`,children:[C.jsx(t1,{className:"w-4 h-4 md:w-5 md:h-5 text-blue-500"}),C.jsxs("div",{className:"text-center md:text-left",children:[C.jsx("div",{className:"text-[9px] text-slate-500 uppercase font-black leading-none mb-0.5",children:"LT"}),C.jsx("div",{className:"text-sm md:text-xl font-mono font-black leading-none",children:new Date(m).toLocaleTimeString([],{hour12:!1})})]})]})]})]})]})},lM=({alerts:n,onTabChange:e,isMidnight:t,selectedServer:s})=>{const o=l=>l==="s"?{border:"border-amber-500/50",dot:"bg-amber-500 shadow-[0_0_10px_rgba(245,158,11,0.8)]",text:"text-amber-400"}:{border:"border-emerald-500/50",dot:"bg-emerald-500 shadow-[0_0_10px_rgba(16,185,129,0.8)] animate-pulse",text:"text-emerald-400"};return C.jsxs("div",{className:ge("relative flex items-center w-full h-14 md:h-16 rounded-2xl overflow-hidden border backdrop-blur-md transition-all duration-500 font-black mb-6",t?"bg-slate-950/60 border-white/5 shadow-2xl shadow-black/50":"bg-white/70 border-slate-200 shadow-lg shadow-slate-200/50"),children:[C.jsxs("div",{className:"flex flex-col items-center justify-center w-14 md:w-20 h-full bg-gradient-to-br from-blue-600 to-indigo-700 text-white shrink-0 shadow-[4px_0_15px_rgba(79,70,229,0.3)] z-20",children:[C.jsx(zO,{size:18,className:"animate-bounce mb-0.5"}),C.jsx("span",{className:"text-[8px] font-black uppercase tracking-tighter opacity-80",children:"Live"})]}),C.jsxs("div",{className:"relative flex-1 h-full overflow-hidden",children:[C.jsx("div",{className:ge("absolute inset-y-0 left-0 w-8 z-10 pointer-events-none bg-gradient-to-r",t?"from-slate-950/80 to-transparent":"from-white/80 to-transparent")}),C.jsx("div",{className:ge("absolute inset-y-0 right-0 w-8 z-10 pointer-events-none bg-gradient-to-l",t?"from-slate-950/80 to-transparent":"from-white/80 to-transparent")}),C.jsx(r1,{className:"flex items-center h-full no-scrollbar px-6 gap-3 cursor-grab active:cursor-grabbing",horizontal:!0,nativeMobileScroll:!0,hideScrollbars:!0,children:n.length>0?n.map(l=>{const u=o(l.rank);return C.jsxs("div",{onClick:()=>e(l.expKey),className:ge("flex items-center gap-3 px-4 py-2 rounded-xl border-l-4 shrink-0 cursor-pointer transition-all hover:scale-105 active:scale-95 group",u.border,t?"bg-white/5 border-white/10 hover:bg-white/10":"bg-white border-slate-200 hover:border-indigo-300 shadow-sm"),children:[C.jsx("div",{className:ge("h-2 w-2 rounded-full",u.dot)}),C.jsxs("div",{className:"flex flex-col min-w-0",children:[C.jsxs("div",{className:"flex items-center gap-1.5 leading-none mb-1",children:[C.jsxs("span",{className:"text-[9px] font-black text-blue-500 uppercase opacity-70",children:["[",s.slice(0,2),"]"]}),C.jsx("span",{className:ge("text-sm font-black tracking-tight truncate max-w-[100px] md:max-w-none",t?"text-slate-100":"text-slate-800"),children:l.cn})]}),C.jsxs("div",{className:"flex items-center text-[9px] font-bold text-slate-500 gap-1 leading-none",children:[C.jsx(LO,{size:8}),l.zone.split(" ")[0]]})]})]},l.id)}):C.jsxs("div",{className:"flex items-center gap-3 px-4 opacity-40",children:[C.jsx(Xg,{size:16,className:"animate-spin text-blue-500"}),C.jsx("span",{className:"text-xs font-black tracking-[0.2em] uppercase",children:"Scanning Eorzea..."})]})})]})]})},cM={:"https://ff14hunt.blob.core.windows.net/image/arch_aethereater.webp"," ":"https://ff14hunt.blob.core.windows.net/image/Kirlirger_the_Abhorren.webp",:"https://ff14hunt.blob.core.windows.net/image/Ihnuxokiy.webp",:"https://ff14hunt.blob.core.windows.net/image/Neyoozoteel.webp",:"https://ff14hunt.blob.core.windows.net/image/Sansheya.webp"," ":"https://ff14hunt.blob.core.windows.net/image/Atticus_the_Primogenitor.webp",:"https://ff14hunt.blob.core.windows.net/image/The_Forecaster.webp",:"https://ff14hunt.blob.core.windows.net/image/Ker.webp",:"https://ff14hunt.blob.core.windows.net/image/Burfurlur_the_Canny.webp",:"https://ff14hunt.blob.core.windows.net/image/Sphatika.webp",:"https://ff14hunt.blob.core.windows.net/image/Armstrong.webp",:"https://ff14hunt.blob.core.windows.net/image/Ruminator.webp",:"https://ff14hunt.blob.core.windows.net/image/Ophioneus.webp",:"https://ff14hunt.blob.core.windows.net/image/Narrow-rift.webp",:"https://ff14hunt.blob.core.windows.net/image/The_Forgiven_Rebellion.webp",:"https://ff14hunt.blob.core.windows.net/image/Tyger.webp",:"https://ff14hunt.blob.core.windows.net/image/Forgiven_Pedantry.webp",:"https://ff14hunt.blob.core.windows.net/image/Tarchia.webp",:"https://ff14hunt.blob.core.windows.net/image/Aglaope.webp",:"https://ff14hunt.blob.core.windows.net/image/Ixtab.webp",:"https://ff14hunt.blob.core.windows.net/image/Gunitt.webp",:"https://ff14hunt.blob.core.windows.net/image/Udumbara.webp",:"https://ff14hunt.blob.core.windows.net/image/Bone_Crawler.webp",:"https://ff14hunt.blob.core.windows.net/image/Salt_and_Light.webp",:"https://ff14hunt.blob.core.windows.net/image/Okina.webp",:"https://ff14hunt.blob.core.windows.net/image/Orghana.webp",:"https://ff14hunt.blob.core.windows.net/image/Gamma.webp",:"https://ff14hunt.blob.core.windows.net/image/Leucrotta.webp",:"https://ff14hunt.blob.core.windows.net/image/Kaiser_Behemoth.webp",:"https://ff14hunt.blob.core.windows.net/image/Senmurv.webp",:"https://ff14hunt.blob.core.windows.net/image/The_Pale_Rider.webp",:"https://ff14hunt.blob.core.windows.net/image/Gandarewa.webp",:"https://ff14hunt.blob.core.windows.net/image/Bird_of_Paradise.webp",:"https://ff14hunt.blob.core.windows.net/image/Laideronnette.webp",:"https://ff14hunt.blob.core.windows.net/image/Wulgaru.webp",:"https://ff14hunt.blob.core.windows.net/image/Mindflayer.webp",:"https://ff14hunt.blob.core.windows.net/image/Thousand-cast_Theda.webp",:"https://ff14hunt.blob.core.windows.net/image/Zona_Seeker.webp",:"https://ff14hunt.blob.core.windows.net/image/Brontes.webp",:"https://ff14hunt.blob.core.windows.net/image/Lampalagua.webp",:"https://ff14hunt.blob.core.windows.net/image/Nunyunuwi.webp",:"https://ff14hunt.blob.core.windows.net/image/Minhocao.webp",:"https://ff14hunt.blob.core.windows.net/image/Croque-Mitaine.webp",:"https://ff14hunt.blob.core.windows.net/image/Croakadile.webp",:"https://ff14hunt.blob.core.windows.net/image/the_Garlok.webp",:"https://ff14hunt.blob.core.windows.net/image/Bonnacon.webp",:"https://ff14hunt.blob.core.windows.net/image/Nandi.webp",:"https://ff14hunt.blob.core.windows.net/image/Chernobog.webp",:"https://ff14hunt.blob.core.windows.net/image/Safat.webp",:"https://ff14hunt.blob.core.windows.net/image/Agrippa_the_Mighty.webp"},uM=n=>{if(!n)return"";const e=new Date(n);return`${e.getFullYear()}/${String(e.getMonth()+1).padStart(2,"0")}/${String(e.getDate()).padStart(2,"0")} ${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}`},OE=n=>{if(n<=0)return"00 00 00";const e=Math.floor(n/1e3),t=Math.floor(e/86400),s=Math.floor(e%86400/3600),o=Math.floor(e%3600/60),l=e%60;return t>0?`${String(t).padStart(2,"0")} ${String(s).padStart(2,"0")} ${String(o).padStart(2,"0")}`:`${String(s).padStart(2,"0")} ${String(o).padStart(2,"0")} ${String(l).padStart(2,"0")}`},ME=({mob:n,timer:e,currentTime:t,isMidnight:s,isAdmin:o,server:l,inTrain:u,viewMode:p,onToggleKill:m,onToggleTrain:g,onOpenHistory:v,isEditing:_,editTimeVal:E,setEditTimeVal:S,onToggleEdit:V,onManualSubmit:U})=>{const[L,Y]=re.useState(!1),X=e?.endTime>t,ae=["","",""].includes(n.cn),se=n.rank==="ss"||ae,oe=dO(n,t),ie=oe&&oe.includes(""),I=oe?oe.replace("","").replace(" ","").replace("",""):"",x=cM[n.cn],R={card:s?"bg-[#101218] border-white/5 shadow-2xl shadow-black/50":"bg-white border-slate-200 shadow-sm",btn:s?"bg-[#252a3a] border-white/10 text-slate-300 hover:text-white":"bg-white border-slate-200 text-slate-600 hover:bg-slate-100",specialKing:s?"bg-gradient-to-br from-amber-900/60 via-purple-900/40 to-[#0a0a0a] border-amber-500/40":"bg-gradient-to-br from-amber-50 to-purple-50 border-amber-300/60",readyGlowS:s?"border-yellow-500/40 shadow-[0_0_25px_rgba(234,179,8,0.25)] ring-2 ring-yellow-500/20":"border-yellow-500/50 bg-yellow-50/5",readyGlowA:s?"border-blue-500/40 shadow-[0_0_25px_rgba(59,130,246,0.25)] ring-2 ring-blue-500/20":"border-blue-500/50 bg-blue-50/5"};let O="",N=s?"text-slate-400 font-black":"text-slate-500 font-black";if(X)O=" ",N=s?"text-blue-400 font-black":"text-blue-600 font-black";else if(e?.endTime){const K=(t-e.endTime)/(1e3*60*60);n.rank==="s"?K<24?(O=" ",N=s?"text-emerald-400 font-black":"text-emerald-600 font-black"):K<48?(O=" ",N="text-amber-500 font-black animate-pulse"):(O="  ()",N="text-red-500 font-black animate-bounce"):K<1?(O=" ",N=s?"text-emerald-400 font-black":"text-emerald-600 font-black"):K<5?(O=" ",N="text-amber-500 font-black animate-pulse"):(O="  ()",N="text-red-500 font-black")}se&&(O="  ()",N="text-purple-500 font-black animate-pulse");const z=s?"text-white":"text-slate-900",D=s?"text-slate-400":"text-slate-500",$e=C.jsxs("div",{className:ge("mt-4 p-4 rounded-2xl border flex flex-col md:flex-row gap-3 animate-in slide-in-from-top-2",s?"bg-black/40 border-white/10":"bg-slate-50 border-slate-200"),children:[C.jsxs("div",{className:"flex-1",children:[C.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-500 mb-1 block",children:""}),C.jsx("input",{type:"datetime-local",value:E,onChange:_e=>S?.(_e.target.value),onClick:_e=>_e.stopPropagation(),className:ge("w-full p-2 rounded-xl text-sm font-mono outline-none border transition-all",s?"bg-black/20 border-white/10 focus:border-blue-500 text-white":"bg-white border-slate-300 focus:border-blue-500")})]}),C.jsx("button",{onClick:_e=>{_e.stopPropagation(),U?.()},className:"self-end px-6 py-2.5 bg-blue-600 text-white rounded-xl text-xs font-black shadow-lg hover:bg-blue-500 transition-all active:scale-95",children:""})]});return p==="list"?C.jsxs("div",{className:ge("flex flex-col border-b last:border-0 font-black",s?"border-white/5":"border-slate-100"),children:[C.jsxs("div",{onClick:()=>Y(!L),className:ge("p-4 flex items-center justify-between cursor-pointer transition-all",X?"hover:bg-white/5":s?"bg-emerald-500/10":"bg-emerald-50/5"),children:[C.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[C.jsxs("span",{className:"text-[10px] text-blue-500 w-12 shrink-0 font-black",children:["[",l.slice(0,2),"]"]}),C.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[C.jsxs("div",{className:"flex flex-wrap items-baseline gap-2 mb-0.5",children:[C.jsx("span",{className:"text-[10px] text-slate-500 uppercase truncate font-black",children:n.zone}),C.jsx("span",{className:ge("md:hidden text-[10px] font-bold",N),children:O})]}),C.jsxs("div",{className:ge("flex items-center gap-2 text-base font-black truncate",z),children:[n.cn," ",se&&C.jsx(RE,{className:"w-3 h-3 text-amber-500 fill-current"})]}),C.jsx("div",{className:"mt-1",children:X?C.jsxs("div",{className:"flex items-center gap-1 text-blue-500 font-mono text-[10px] font-bold",children:[C.jsx(t1,{className:"w-3 h-3"}),C.jsxs("span",{children:[" ",OE(e.endTime-t)]})]}):oe&&oe!==""&&(ie?C.jsxs("span",{className:"text-[10px] text-emerald-500 font-mono font-bold flex items-center gap-1 animate-pulse",children:["  ",I]}):C.jsxs("span",{className:ge("text-[10px] font-mono font-bold flex items-center gap-1",s?"text-purple-400":"text-purple-600"),children:["  ",I]}))})]}),C.jsx("div",{className:ge("hidden md:block text-sm font-black whitespace-nowrap min-w-[100px] text-right",N),children:O})]}),!ae&&C.jsxs("div",{className:"flex gap-2 shrink-0 ml-4",children:[o&&C.jsx("button",{onClick:_e=>{_e.stopPropagation(),V?.()},className:ge("p-2 rounded-lg border transition-colors font-black",R.btn),children:C.jsx(DE,{className:"w-4 h-4"})}),C.jsx("button",{onClick:_e=>{_e.stopPropagation(),v()},className:ge("p-2 rounded-lg border transition-colors font-black",R.btn),children:C.jsx(Ym,{className:"w-4 h-4"})}),C.jsx("button",{onClick:_e=>{_e.stopPropagation(),g()},className:ge("p-2 rounded-lg border transition-colors font-black",u?"bg-emerald-600 text-white border-emerald-500":R.btn),children:u?C.jsx(xE,{className:"w-4 h-4"}):C.jsx(CE,{className:"w-4 h-4"})}),C.jsx("button",{onClick:_e=>{_e.stopPropagation(),m()},className:ge("p-2 rounded-lg text-white shadow-lg active:scale-95 transition-transform font-black",X?"bg-red-600":"bg-emerald-600"),children:X?C.jsx(NE,{className:"w-4 h-4"}):C.jsx(IE,{className:"w-4 h-4"})})]})]}),(L||_)&&C.jsxs("div",{className:ge("px-4 pb-4 md:px-12 md:pb-6",s?"bg-[#0c0e14]/50":"bg-slate-50"),children:[_&&$e,L&&C.jsxs("div",{className:ge("p-4 mt-2 text-xs font-mono border-l-4 border-blue-500 rounded-r-xl",s?"bg-black/20 text-slate-400":"bg-white text-slate-600 border"),children:[e?.startTime&&C.jsxs("div",{className:"mb-2 opacity-70 font-bold",children:[": ",uM(e.startTime)]}),C.jsx("div",{className:"leading-relaxed",children:n.trigger||""})]})]})]}):C.jsxs("div",{className:ge(R.card,"relative overflow-hidden rounded-[2rem] md:rounded-[3.5rem] border-2 p-5 md:p-12 transition-all duration-300 font-black group",!X&&!se?n.rank==="s"?R.readyGlowS:R.readyGlowA:"",se?R.specialKing:""),children:[x&&C.jsx("div",{className:ge("monster-bg-art absolute inset-0 z-0",s?"theme-midnight":"theme-sunlight"),children:C.jsx("img",{src:x,alt:n.cn,className:"w-full h-full object-cover"})}),C.jsx("div",{className:"relative z-10 flex flex-col font-black w-full text-left",children:C.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start mb-4",children:[C.jsxs("div",{className:"w-full md:pr-10",children:[C.jsxs("div",{className:"flex items-center flex-wrap gap-2 mb-4",children:[C.jsx("span",{className:ge("text-[10px] px-3 py-1 rounded-lg font-black uppercase tracking-wider",n.expKey==="arr"?"bg-emerald-600 text-white":"bg-blue-600 text-white"),children:n.zone.split(" ")[0]}),se&&C.jsxs("span",{className:"bg-purple-500 text-white text-[10px] px-3 py-1 rounded-lg flex items-center gap-1 shadow-md font-black uppercase",children:[C.jsx(RE,{className:"w-3 h-3 fill-current"})," SPECIAL"]})]}),C.jsx("h3",{className:ge("text-3xl md:text-5xl mb-2 font-black tracking-tight leading-tight drop-shadow-md",z),children:n.cn}),C.jsx("p",{className:ge("text-sm md:text-base opacity-40 mb-2 italic font-black",D),children:n.jp}),C.jsx("div",{className:"text-xs md:text-sm text-slate-500 mb-4 uppercase tracking-widest font-black",children:n.zone}),C.jsx("div",{className:ge("text-base md:text-2xl font-black tracking-widest uppercase mb-2 flex items-center gap-3",N),children:O}),X?C.jsxs("div",{className:"mb-6 flex flex-col gap-1",children:[C.jsx("span",{className:"text-[10px] font-bold opacity-60",children:" "}),C.jsx("span",{className:ge("text-sm md:text-lg font-mono font-black px-2 py-1 rounded-lg w-fit",s?"bg-blue-900/40 text-blue-400":"bg-blue-50 text-blue-600"),children:OE(e.endTime-t)})]}):oe&&oe!==""&&!se&&C.jsxs("div",{className:"mb-6 flex flex-col gap-1",children:[C.jsx("span",{className:ge("text-[10px] font-bold",ie?"text-red-500 animate-pulse":"opacity-60"),children:ie?" ":" "}),C.jsx("span",{className:ge("text-sm md:text-lg font-mono font-black px-2 py-1 rounded-lg w-fit",ie?"bg-emerald-600 text-white shadow-lg animate-pulse":"bg-slate-200 text-slate-600"),children:ie?I:` ${I}`})]}),n.trigger&&C.jsxs("div",{className:ge("mb-4 p-4 rounded-2xl text-xs md:text-sm leading-relaxed border-l-4 backdrop-blur-sm shadow-sm",s?"bg-blue-900/30 border-blue-500 text-slate-200":"bg-white/60 border-blue-400 text-slate-800"),children:[C.jsx("span",{className:"block font-bold mb-1 opacity-80 text-blue-400 uppercase tracking-wider text-[10px]",children:"Trigger Condition"}),n.trigger]}),_&&$e]}),!ae&&C.jsxs("div",{className:"flex flex-row md:flex-col items-center gap-2 md:gap-5 mt-6 md:mt-0 pt-4 md:pt-0 border-t md:border-t-0 border-dashed border-white/10 w-full md:w-auto shrink-0",children:[o&&C.jsx("button",{onClick:_e=>{_e.stopPropagation(),V?.()},className:ge("flex-1 md:flex-none p-3.5 md:p-6 rounded-2xl border-2 justify-center flex items-center transition-all hover:scale-110 font-black",R.btn),children:C.jsx(DE,{className:"w-6 h-6 md:w-8 md:h-8"})}),C.jsx("button",{onClick:_e=>{_e.stopPropagation(),v()},className:ge("flex-1 md:flex-none p-3.5 md:p-6 rounded-2xl border-2 justify-center flex items-center transition-all hover:scale-110 font-black",R.btn),children:C.jsx(Ym,{className:"w-6 h-6 md:w-8 md:h-8"})}),C.jsx("button",{onClick:_e=>{_e.stopPropagation(),g()},className:ge("flex-1 md:flex-none p-3.5 md:p-6 rounded-2xl border-2 justify-center flex items-center transition-all hover:scale-110 font-black",u?"bg-emerald-600 text-white border-emerald-500":R.btn),children:u?C.jsx(xE,{className:"w-6 h-6 md:w-8 md:h-8"}):C.jsx(CE,{className:"w-6 h-6 md:w-8 md:h-8"})}),C.jsx("button",{onClick:_e=>{_e.stopPropagation(),m()},className:ge("flex-[2] md:flex-none p-3.5 md:p-6 rounded-2xl border-2 shadow-lg justify-center flex items-center transition-all active:scale-95 hover:scale-110 font-black",X?s?"bg-red-950/40 border-red-500/50 text-red-500":"bg-red-600 text-white":s?"bg-emerald-950/40 border-emerald-500/50 text-emerald-400":"bg-emerald-600 text-white"),children:X?C.jsx(NE,{className:"w-6 h-6 md:w-8 md:h-8 font-black"}):C.jsx(IE,{className:"w-6 h-6 md:w-8 md:h-8"})})]})]})})]})};var Jg=bw();const fM=rg(Jg);function _n(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var dM=typeof Symbol=="function"&&Symbol.observable||"@@observable",VE=dM,PE=()=>Math.random().toString(36).substring(7).split("").join("."),hM={INIT:`@@redux/INIT${PE()}`,REPLACE:`@@redux/REPLACE${PE()}`},kE=hM;function pM(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function i1(n,e,t){if(typeof n!="function")throw new Error(_n(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(_n(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(_n(1));return t(i1)(n,e)}let s=n,o=e,l=new Map,u=l,p=0,m=!1;function g(){u===l&&(u=new Map,l.forEach((L,Y)=>{u.set(Y,L)}))}function v(){if(m)throw new Error(_n(3));return o}function _(L){if(typeof L!="function")throw new Error(_n(4));if(m)throw new Error(_n(5));let Y=!0;g();const X=p++;return u.set(X,L),function(){if(Y){if(m)throw new Error(_n(6));Y=!1,g(),u.delete(X),l=null}}}function E(L){if(!pM(L))throw new Error(_n(7));if(typeof L.type>"u")throw new Error(_n(8));if(typeof L.type!="string")throw new Error(_n(17));if(m)throw new Error(_n(9));try{m=!0,o=s(o,L)}finally{m=!1}return(l=u).forEach(X=>{X()}),L}function S(L){if(typeof L!="function")throw new Error(_n(10));s=L,E({type:kE.REPLACE})}function V(){const L=_;return{subscribe(Y){if(typeof Y!="object"||Y===null)throw new Error(_n(11));function X(){const se=Y;se.next&&se.next(v())}return X(),{unsubscribe:L(X)}},[VE](){return this}}}return E({type:kE.INIT}),{dispatch:E,subscribe:_,getState:v,replaceReducer:S,[VE]:V}}function LE(n,e){return function(...t){return e(n.apply(this,t))}}function UE(n,e){if(typeof n=="function")return LE(n,e);if(typeof n!="object"||n===null)throw new Error(_n(16));const t={};for(const s in n){const o=n[s];typeof o=="function"&&(t[s]=LE(o,e))}return t}function s1(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...s)=>e(t(...s)))}function mM(...n){return e=>(t,s)=>{const o=e(t,s);let l=()=>{throw new Error(_n(15))};const u={getState:o.getState,dispatch:(m,...g)=>l(m,...g)},p=n.map(m=>m(u));return l=s1(...p)(o.dispatch),{...o,dispatch:l}}}var lm={exports:{}},cm={};var zE;function gM(){if(zE)return cm;zE=1;var n=vd();function e(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var t=typeof Object.is=="function"?Object.is:e,s=n.useSyncExternalStore,o=n.useRef,l=n.useEffect,u=n.useMemo,p=n.useDebugValue;return cm.useSyncExternalStoreWithSelector=function(m,g,v,_,E){var S=o(null);if(S.current===null){var V={hasValue:!1,value:null};S.current=V}else V=S.current;S=u(function(){function L(oe){if(!Y){if(Y=!0,X=oe,oe=_(oe),E!==void 0&&V.hasValue){var ie=V.value;if(E(ie,oe))return ae=ie}return ae=oe}if(ie=ae,t(X,oe))return ie;var I=_(oe);return E!==void 0&&E(ie,I)?(X=oe,ie):(X=oe,ae=I)}var Y=!1,X,ae,se=v===void 0?null:v;return[function(){return L(g())},se===null?void 0:function(){return L(se())}]},[g,v,_,E]);var U=s(m,S[0],S[1]);return l(function(){V.hasValue=!0,V.value=U},[U]),p(U),U},cm}var jE;function yM(){return jE||(jE=1,lm.exports=gM()),lm.exports}yM();var vM=re.version.startsWith("19"),_M=Symbol.for(vM?"react.transitional.element":"react.element"),bM=Symbol.for("react.portal"),EM=Symbol.for("react.fragment"),wM=Symbol.for("react.strict_mode"),TM=Symbol.for("react.profiler"),SM=Symbol.for("react.consumer"),AM=Symbol.for("react.context"),a1=Symbol.for("react.forward_ref"),xM=Symbol.for("react.suspense"),IM=Symbol.for("react.suspense_list"),Zg=Symbol.for("react.memo"),RM=Symbol.for("react.lazy"),CM=a1,DM=Zg;function NM(n){if(typeof n=="object"&&n!==null){const{$$typeof:e}=n;switch(e){case _M:switch(n=n.type,n){case EM:case TM:case wM:case xM:case IM:return n;default:switch(n=n&&n.$$typeof,n){case AM:case a1:case RM:case Zg:return n;case SM:return n;default:return e}}case bM:return e}}}function OM(n){return NM(n)===Zg}function MM(n,e,t,s,{areStatesEqual:o,areOwnPropsEqual:l,areStatePropsEqual:u}){let p=!1,m,g,v,_,E;function S(X,ae){return m=X,g=ae,v=n(m,g),_=e(s,g),E=t(v,_,g),p=!0,E}function V(){return v=n(m,g),e.dependsOnOwnProps&&(_=e(s,g)),E=t(v,_,g),E}function U(){return n.dependsOnOwnProps&&(v=n(m,g)),e.dependsOnOwnProps&&(_=e(s,g)),E=t(v,_,g),E}function L(){const X=n(m,g),ae=!u(X,v);return v=X,ae&&(E=t(v,_,g)),E}function Y(X,ae){const se=!l(ae,g),oe=!o(X,m,ae,g);return m=X,g=ae,se&&oe?V():se?U():oe?L():E}return function(ae,se){return p?Y(ae,se):S(ae,se)}}function VM(n,{initMapStateToProps:e,initMapDispatchToProps:t,initMergeProps:s,...o}){const l=e(n,o),u=t(n,o),p=s(n,o);return MM(l,u,p,n,o)}function PM(n,e){const t={};for(const s in n){const o=n[s];typeof o=="function"&&(t[s]=(...l)=>e(o(...l)))}return t}function Qm(n){return function(t){const s=n(t);function o(){return s}return o.dependsOnOwnProps=!1,o}}function BE(n){return n.dependsOnOwnProps?!!n.dependsOnOwnProps:n.length!==1}function o1(n,e){return function(s,{displayName:o}){const l=function(p,m){return l.dependsOnOwnProps?l.mapToProps(p,m):l.mapToProps(p,void 0)};return l.dependsOnOwnProps=!0,l.mapToProps=function(p,m){l.mapToProps=n,l.dependsOnOwnProps=BE(n);let g=l(p,m);return typeof g=="function"&&(l.mapToProps=g,l.dependsOnOwnProps=BE(g),g=l(p,m)),g},l}}function ey(n,e){return(t,s)=>{throw new Error(`Invalid value of type ${typeof n} for ${e} argument when connecting component ${s.wrappedComponentName}.`)}}function kM(n){return n&&typeof n=="object"?Qm(e=>PM(n,e)):n?typeof n=="function"?o1(n):ey(n,"mapDispatchToProps"):Qm(e=>({dispatch:e}))}function LM(n){return n?typeof n=="function"?o1(n):ey(n,"mapStateToProps"):Qm(()=>({}))}function UM(n,e,t){return{...t,...n,...e}}function zM(n){return function(t,{displayName:s,areMergedPropsEqual:o}){let l=!1,u;return function(m,g,v){const _=n(m,g,v);return l?o(_,u)||(u=_):(l=!0,u=_),u}}}function jM(n){return n?typeof n=="function"?zM(n):ey(n,"mergeProps"):()=>UM}function BM(n){n()}function HM(){let n=null,e=null;return{clear(){n=null,e=null},notify(){BM(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let s=n;for(;s;)t.push(s),s=s.next;return t},subscribe(t){let s=!0;const o=e={callback:t,next:null,prev:e};return o.prev?o.prev.next=o:n=o,function(){!s||n===null||(s=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:n=o.next)}}}}var HE={notify(){},get:()=>[]};function l1(n,e){let t,s=HE,o=0,l=!1;function u(U){v();const L=s.subscribe(U);let Y=!1;return()=>{Y||(Y=!0,L(),_())}}function p(){s.notify()}function m(){V.onStateChange&&V.onStateChange()}function g(){return l}function v(){o++,t||(t=e?e.addNestedSub(m):n.subscribe(m),s=HM())}function _(){o--,t&&o===0&&(t(),t=void 0,s.clear(),s=HE)}function E(){l||(l=!0,v())}function S(){l&&(l=!1,_())}const V={addNestedSub:u,notifyNestedSubs:p,handleChangeWrapper:m,isSubscribed:g,trySubscribe:E,tryUnsubscribe:S,getListeners:()=>s};return V}var qM=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GM=qM(),FM=()=>typeof navigator<"u"&&navigator.product==="ReactNative",$M=FM(),YM=()=>GM||$M?re.useLayoutEffect:re.useEffect,cd=YM();function qE(n,e){return n===e?n!==0||e!==0||1/n===1/e:n!==n&&e!==e}function um(n,e){if(qE(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n),s=Object.keys(e);if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(!Object.prototype.hasOwnProperty.call(e,t[o])||!qE(n[t[o]],e[t[o]]))return!1;return!0}var KM={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},QM={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},XM={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},c1={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},WM={[CM]:XM,[DM]:c1};function GE(n){return OM(n)?c1:WM[n.$$typeof]||KM}var JM=Object.defineProperty,ZM=Object.getOwnPropertyNames,FE=Object.getOwnPropertySymbols,eV=Object.getOwnPropertyDescriptor,tV=Object.getPrototypeOf,$E=Object.prototype;function Xm(n,e){if(typeof e!="string"){if($E){const l=tV(e);l&&l!==$E&&Xm(n,l)}let t=ZM(e);FE&&(t=t.concat(FE(e)));const s=GE(n),o=GE(e);for(let l=0;l<t.length;++l){const u=t[l];if(!QM[u]&&!(o&&o[u])&&!(s&&s[u])){const p=eV(e,u);try{JM(n,u,p)}catch{}}}}return n}var nV=Symbol.for("react-redux-context"),rV=typeof globalThis<"u"?globalThis:{};function iV(){if(!re.createContext)return{};const n=rV[nV]??=new Map;let e=n.get(re.createContext);return e||(e=re.createContext(null),n.set(re.createContext,e)),e}var u1=iV(),sV=[null,null];function aV(n,e,t){cd(()=>n(...e),t)}function oV(n,e,t,s,o,l){n.current=s,t.current=!1,o.current&&(o.current=null,l())}function lV(n,e,t,s,o,l,u,p,m,g,v){if(!n)return()=>{};let _=!1,E=null;const S=()=>{if(_||!p.current)return;const U=e.getState();let L,Y;try{L=s(U,o.current)}catch(X){Y=X,E=X}Y||(E=null),L===l.current?u.current||g():(l.current=L,m.current=L,u.current=!0,v())};return t.onStateChange=S,t.trySubscribe(),S(),()=>{if(_=!0,t.tryUnsubscribe(),t.onStateChange=null,E)throw E}}function cV(n,e){return n===e}function uV(n,e,t,{pure:s,areStatesEqual:o=cV,areOwnPropsEqual:l=um,areStatePropsEqual:u=um,areMergedPropsEqual:p=um,forwardRef:m=!1,context:g=u1}={}){const v=g,_=LM(n),E=kM(e),S=jM(t),V=!!n;return L=>{const Y=L.displayName||L.name||"Component",X=`Connect(${Y})`,ae={shouldHandleStateChanges:V,displayName:X,wrappedComponentName:Y,WrappedComponent:L,initMapStateToProps:_,initMapDispatchToProps:E,initMergeProps:S,areStatesEqual:o,areStatePropsEqual:u,areOwnPropsEqual:l,areMergedPropsEqual:p};function se(I){const[x,R,O]=re.useMemo(()=>{const{reactReduxForwardedRef:Ne,...nt}=I;return[I.context,Ne,nt]},[I]),N=re.useMemo(()=>{let Ne=v;return x?.Consumer,Ne},[x,v]),z=re.useContext(N),D=!!I.store&&!!I.store.getState&&!!I.store.dispatch,$e=!!z&&!!z.store,_e=D?I.store:z.store,K=$e?z.getServerState:_e.getState,le=re.useMemo(()=>VM(_e.dispatch,ae),[_e]),[ye,Le]=re.useMemo(()=>{if(!V)return sV;const Ne=l1(_e,D?void 0:z.subscription),nt=Ne.notifyNestedSubs.bind(Ne);return[Ne,nt]},[_e,D,z]),Ke=re.useMemo(()=>D?z:{...z,subscription:ye},[D,z,ye]),P=re.useRef(void 0),W=re.useRef(O),ce=re.useRef(void 0),de=re.useRef(!1),Te=re.useRef(!1),xe=re.useRef(void 0);cd(()=>(Te.current=!0,()=>{Te.current=!1}),[]);const ke=re.useMemo(()=>()=>ce.current&&O===W.current?ce.current:le(_e.getState(),O),[_e,O]),vt=re.useMemo(()=>nt=>ye?lV(V,_e,ye,le,W,P,de,Te,ce,Le,nt):()=>{},[ye]);aV(oV,[W,P,de,O,ce,Le]);let ne;try{ne=re.useSyncExternalStore(vt,ke,K?()=>le(K(),O):ke)}catch(Ne){throw xe.current&&(Ne.message+=`
The error may be correlated with this previous error:
${xe.current.stack}

`),Ne}cd(()=>{xe.current=void 0,ce.current=void 0,P.current=ne});const Ve=re.useMemo(()=>re.createElement(L,{...ne,ref:R}),[R,L,ne]);return re.useMemo(()=>V?re.createElement(N.Provider,{value:Ke},Ve):Ve,[N,Ve,Ke])}const ie=re.memo(se);if(ie.WrappedComponent=L,ie.displayName=se.displayName=X,m){const x=re.forwardRef(function(O,N){return re.createElement(ie,{...O,reactReduxForwardedRef:N})});return x.displayName=X,x.WrappedComponent=L,Xm(x,L)}return Xm(ie,L)}}var f1=uV;function fV(n){const{children:e,context:t,serverState:s,store:o}=n,l=re.useMemo(()=>{const m=l1(o);return{store:o,subscription:m,getServerState:s?()=>s:void 0}},[o,s]),u=re.useMemo(()=>o.getState(),[o]);cd(()=>{const{subscription:m}=l;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),u!==o.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[l,u]);const p=t||u1;return re.createElement(p.Provider,{value:l},e)}var dV=fV,hV="Invariant failed";function pV(n,e){throw new Error(hV)}var Er=function(e){var t=e.top,s=e.right,o=e.bottom,l=e.left,u=s-l,p=o-t,m={top:t,right:s,bottom:o,left:l,width:u,height:p,x:l,y:t,center:{x:(s+l)/2,y:(o+t)/2}};return m},ty=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},YE=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},mV=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},fm={top:0,right:0,bottom:0,left:0},ny=function(e){var t=e.borderBox,s=e.margin,o=s===void 0?fm:s,l=e.border,u=l===void 0?fm:l,p=e.padding,m=p===void 0?fm:p,g=Er(ty(t,o)),v=Er(YE(t,u)),_=Er(YE(v,m));return{marginBox:g,borderBox:Er(t),paddingBox:v,contentBox:_,margin:o,border:u,padding:m}},tr=function(e){var t=e.slice(0,-2),s=e.slice(-2);if(s!=="px")return 0;var o=Number(t);return isNaN(o)&&pV(),o},gV=function(){return{x:window.pageXOffset,y:window.pageYOffset}},ud=function(e,t){var s=e.borderBox,o=e.border,l=e.margin,u=e.padding,p=mV(s,t);return ny({borderBox:p,border:o,margin:l,padding:u})},fd=function(e,t){return t===void 0&&(t=gV()),ud(e,t)},d1=function(e,t){var s={top:tr(t.marginTop),right:tr(t.marginRight),bottom:tr(t.marginBottom),left:tr(t.marginLeft)},o={top:tr(t.paddingTop),right:tr(t.paddingRight),bottom:tr(t.paddingBottom),left:tr(t.paddingLeft)},l={top:tr(t.borderTopWidth),right:tr(t.borderRightWidth),bottom:tr(t.borderBottomWidth),left:tr(t.borderLeftWidth)};return ny({borderBox:e,margin:s,padding:o,border:l})},h1=function(e){var t=e.getBoundingClientRect(),s=window.getComputedStyle(e);return d1(t,s)},wc=function(e){var t=[],s=null,o=function(){for(var u=arguments.length,p=new Array(u),m=0;m<u;m++)p[m]=arguments[m];t=p,!s&&(s=requestAnimationFrame(function(){s=null,e.apply(void 0,t)}))};return o.cancel=function(){s&&(cancelAnimationFrame(s),s=null)},o};function dd(){return dd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)({}).hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},dd.apply(null,arguments)}function p1(n,e){}p1.bind(null,"warn");p1.bind(null,"error");function Es(){}function yV(n,e){return{...n,...e}}function sr(n,e,t){const s=e.map(o=>{const l=yV(t,o.options);return n.addEventListener(o.eventName,o.fn,l),function(){n.removeEventListener(o.eventName,o.fn,l)}});return function(){s.forEach(l=>{l()})}}const vV="Invariant failed";class hd extends Error{}hd.prototype.toString=function(){return this.message};function ue(n,e){throw new hd(vV)}class _V extends ht.Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=Es,this.onWindowError=t=>{const s=this.getCallbacks();s.isDragging()&&s.tryAbort(),t.error instanceof hd&&t.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=t=>{this.callbacks=t}}componentDidMount(){this.unbind=sr(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(e instanceof hd){this.setState({});return}throw e}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const bV=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,pd=n=>n+1,EV=n=>`
  You have lifted an item in position ${pd(n.source.index)}
`,m1=(n,e)=>{const t=n.droppableId===e.droppableId,s=pd(n.index),o=pd(e.index);return t?`
      You have moved the item from position ${s}
      to position ${o}
    `:`
    You have moved the item from position ${s}
    in list ${n.droppableId}
    to list ${e.droppableId}
    in position ${o}
  `},g1=(n,e,t)=>e.droppableId===t.droppableId?`
      The item ${n}
      has been combined with ${t.draggableId}`:`
      The item ${n}
      in list ${e.droppableId}
      has been combined with ${t.draggableId}
      in list ${t.droppableId}
    `,wV=n=>{const e=n.destination;if(e)return m1(n.source,e);const t=n.combine;return t?g1(n.draggableId,n.source,t):"You are over an area that cannot be dropped on"},KE=n=>`
  The item has returned to its starting position
  of ${pd(n.index)}
`,TV=n=>{if(n.reason==="CANCEL")return`
      Movement cancelled.
      ${KE(n.source)}
    `;const e=n.destination,t=n.combine;return e?`
      You have dropped the item.
      ${m1(n.source,e)}
    `:t?`
      You have dropped the item.
      ${g1(n.draggableId,n.source,t)}
    `:`
    The item has been dropped while not over a drop area.
    ${KE(n.source)}
  `},jf={dragHandleUsageInstructions:bV,onDragStart:EV,onDragUpdate:wV,onDragEnd:TV};function SV(n,e){return!!(n===e||Number.isNaN(n)&&Number.isNaN(e))}function y1(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(!SV(n[t],e[t]))return!1;return!0}function Xe(n,e){const t=re.useState(()=>({inputs:e,result:n()}))[0],s=re.useRef(!0),o=re.useRef(t),u=s.current||!!(e&&o.current.inputs&&y1(e,o.current.inputs))?o.current:{inputs:e,result:n()};return re.useEffect(()=>{s.current=!1,o.current=u},[u]),u.result}function be(n,e){return Xe(()=>n,e)}const Jt={x:0,y:0},ln=(n,e)=>({x:n.x+e.x,y:n.y+e.y}),zn=(n,e)=>({x:n.x-e.x,y:n.y-e.y}),ws=(n,e)=>n.x===e.x&&n.y===e.y,Ho=n=>({x:n.x!==0?-n.x:0,y:n.y!==0?-n.y:0}),_a=(n,e,t=0)=>n==="x"?{x:e,y:t}:{x:t,y:e},Tc=(n,e)=>Math.sqrt((e.x-n.x)**2+(e.y-n.y)**2),QE=(n,e)=>Math.min(...e.map(t=>Tc(n,t))),v1=n=>e=>({x:n(e.x),y:n(e.y)});var AV=(n,e)=>{const t=Er({top:Math.max(e.top,n.top),right:Math.min(e.right,n.right),bottom:Math.min(e.bottom,n.bottom),left:Math.max(e.left,n.left)});return t.width<=0||t.height<=0?null:t};const jc=(n,e)=>({top:n.top+e.y,left:n.left+e.x,bottom:n.bottom+e.y,right:n.right+e.x}),XE=n=>[{x:n.left,y:n.top},{x:n.right,y:n.top},{x:n.left,y:n.bottom},{x:n.right,y:n.bottom}],xV={top:0,right:0,bottom:0,left:0},IV=(n,e)=>e?jc(n,e.scroll.diff.displacement):n,RV=(n,e,t)=>t&&t.increasedBy?{...n,[e.end]:n[e.end]+t.increasedBy[e.line]}:n,CV=(n,e)=>e&&e.shouldClipSubject?AV(e.pageMarginBox,n):Er(n);var No=({page:n,withPlaceholder:e,axis:t,frame:s})=>{const o=IV(n.marginBox,s),l=RV(o,t,e),u=CV(l,s);return{page:n,withPlaceholder:e,active:u}},ry=(n,e)=>{n.frame||ue();const t=n.frame,s=zn(e,t.scroll.initial),o=Ho(s),l={...t,scroll:{initial:t.scroll.initial,current:e,diff:{value:s,displacement:o},max:t.scroll.max}},u=No({page:n.subject.page,withPlaceholder:n.subject.withPlaceholder,axis:n.axis,frame:l});return{...n,frame:l,subject:u}};function Wt(n,e=y1){let t=null;function s(...o){if(t&&t.lastThis===this&&e(o,t.lastArgs))return t.lastResult;const l=n.apply(this,o);return t={lastResult:l,lastArgs:o,lastThis:this},l}return s.clear=function(){t=null},s}const _1=Wt(n=>n.reduce((e,t)=>(e[t.descriptor.id]=t,e),{})),b1=Wt(n=>n.reduce((e,t)=>(e[t.descriptor.id]=t,e),{})),Ud=Wt(n=>Object.values(n)),DV=Wt(n=>Object.values(n));var qo=Wt((n,e)=>DV(e).filter(s=>n===s.descriptor.droppableId).sort((s,o)=>s.descriptor.index-o.descriptor.index));function iy(n){return n.at&&n.at.type==="REORDER"?n.at.destination:null}function zd(n){return n.at&&n.at.type==="COMBINE"?n.at.combine:null}var jd=Wt((n,e)=>e.filter(t=>t.descriptor.id!==n.descriptor.id)),NV=({isMovingForward:n,draggable:e,destination:t,insideDestination:s,previousImpact:o})=>{if(!t.isCombineEnabled||!iy(o))return null;function u(S){const V={type:"COMBINE",combine:{draggableId:S,droppableId:t.descriptor.id}};return{...o,at:V}}const p=o.displaced.all,m=p.length?p[0]:null;if(n)return m?u(m):null;const g=jd(e,s);if(!m){if(!g.length)return null;const S=g[g.length-1];return u(S.descriptor.id)}const v=g.findIndex(S=>S.descriptor.id===m);v===-1&&ue();const _=v-1;if(_<0)return null;const E=g[_];return u(E.descriptor.id)},Go=(n,e)=>n.descriptor.droppableId===e.descriptor.id;const E1={point:Jt,value:0},Sc={invisible:{},visible:{},all:[]},OV={displaced:Sc,displacedBy:E1,at:null};var ar=(n,e)=>t=>n<=t&&t<=e,w1=n=>{const e=ar(n.top,n.bottom),t=ar(n.left,n.right);return s=>{if(e(s.top)&&e(s.bottom)&&t(s.left)&&t(s.right))return!0;const l=e(s.top)||e(s.bottom),u=t(s.left)||t(s.right);if(l&&u)return!0;const m=s.top<n.top&&s.bottom>n.bottom,g=s.left<n.left&&s.right>n.right;return m&&g?!0:m&&u||g&&l}},MV=n=>{const e=ar(n.top,n.bottom),t=ar(n.left,n.right);return s=>e(s.top)&&e(s.bottom)&&t(s.left)&&t(s.right)};const sy={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},T1={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var VV=n=>e=>{const t=ar(e.top,e.bottom),s=ar(e.left,e.right);return o=>n===sy?t(o.top)&&t(o.bottom):s(o.left)&&s(o.right)};const PV=(n,e)=>{const t=e.frame?e.frame.scroll.diff.displacement:Jt;return jc(n,t)},kV=(n,e,t)=>e.subject.active?t(e.subject.active)(n):!1,LV=(n,e,t)=>t(e)(n),ay=({target:n,destination:e,viewport:t,withDroppableDisplacement:s,isVisibleThroughFrameFn:o})=>{const l=s?PV(n,e):n;return kV(l,e,o)&&LV(l,t,o)},UV=n=>ay({...n,isVisibleThroughFrameFn:w1}),S1=n=>ay({...n,isVisibleThroughFrameFn:MV}),zV=n=>ay({...n,isVisibleThroughFrameFn:VV(n.destination.axis)}),jV=(n,e,t)=>{if(typeof t=="boolean")return t;if(!e)return!0;const{invisible:s,visible:o}=e;if(s[n])return!1;const l=o[n];return l?l.shouldAnimate:!0};function BV(n,e){const t=n.page.marginBox,s={top:e.point.y,right:0,bottom:0,left:e.point.x};return Er(ty(t,s))}function Ac({afterDragging:n,destination:e,displacedBy:t,viewport:s,forceShouldAnimate:o,last:l}){return n.reduce(function(p,m){const g=BV(m,t),v=m.descriptor.id;if(p.all.push(v),!UV({target:g,destination:e,viewport:s,withDroppableDisplacement:!0}))return p.invisible[m.descriptor.id]=!0,p;const E=jV(v,l,o),S={draggableId:v,shouldAnimate:E};return p.visible[v]=S,p},{all:[],visible:{},invisible:{}})}function HV(n,e){if(!n.length)return 0;const t=n[n.length-1].descriptor.index;return e.inHomeList?t:t+1}function WE({insideDestination:n,inHomeList:e,displacedBy:t,destination:s}){const o=HV(n,{inHomeList:e});return{displaced:Sc,displacedBy:t,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:o}}}}function md({draggable:n,insideDestination:e,destination:t,viewport:s,displacedBy:o,last:l,index:u,forceShouldAnimate:p}){const m=Go(n,t);if(u==null)return WE({insideDestination:e,inHomeList:m,displacedBy:o,destination:t});const g=e.find(V=>V.descriptor.index===u);if(!g)return WE({insideDestination:e,inHomeList:m,displacedBy:o,destination:t});const v=jd(n,e),_=e.indexOf(g),E=v.slice(_);return{displaced:Ac({afterDragging:E,destination:t,displacedBy:o,last:l,viewport:s.frame,forceShouldAnimate:p}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:t.descriptor.id,index:u}}}}function Ds(n,e){return!!e.effected[n]}var qV=({isMovingForward:n,destination:e,draggables:t,combine:s,afterCritical:o})=>{if(!e.isCombineEnabled)return null;const l=s.draggableId,p=t[l].descriptor.index;return Ds(l,o)?n?p:p-1:n?p+1:p},GV=({isMovingForward:n,isInHomeList:e,insideDestination:t,location:s})=>{if(!t.length)return null;const o=s.index,l=n?o+1:o-1,u=t[0].descriptor.index,p=t[t.length-1].descriptor.index,m=e?p:p+1;return l<u||l>m?null:l},FV=({isMovingForward:n,isInHomeList:e,draggable:t,draggables:s,destination:o,insideDestination:l,previousImpact:u,viewport:p,afterCritical:m})=>{const g=u.at;if(g||ue(),g.type==="REORDER"){const _=GV({isMovingForward:n,isInHomeList:e,location:g.destination,insideDestination:l});return _==null?null:md({draggable:t,insideDestination:l,destination:o,viewport:p,last:u.displaced,displacedBy:u.displacedBy,index:_})}const v=qV({isMovingForward:n,destination:o,displaced:u.displaced,draggables:s,combine:g.combine,afterCritical:m});return v==null?null:md({draggable:t,insideDestination:l,destination:o,viewport:p,last:u.displaced,displacedBy:u.displacedBy,index:v})},$V=({displaced:n,afterCritical:e,combineWith:t,displacedBy:s})=>{const o=!!(n.visible[t]||n.invisible[t]);return Ds(t,e)?o?Jt:Ho(s.point):o?s.point:Jt},YV=({afterCritical:n,impact:e,draggables:t})=>{const s=zd(e);s||ue();const o=s.draggableId,l=t[o].page.borderBox.center,u=$V({displaced:e.displaced,afterCritical:n,combineWith:o,displacedBy:e.displacedBy});return ln(l,u)};const A1=(n,e)=>e.margin[n.start]+e.borderBox[n.size]/2,KV=(n,e)=>e.margin[n.end]+e.borderBox[n.size]/2,oy=(n,e,t)=>e[n.crossAxisStart]+t.margin[n.crossAxisStart]+t.borderBox[n.crossAxisSize]/2,JE=({axis:n,moveRelativeTo:e,isMoving:t})=>_a(n.line,e.marginBox[n.end]+A1(n,t),oy(n,e.marginBox,t)),ZE=({axis:n,moveRelativeTo:e,isMoving:t})=>_a(n.line,e.marginBox[n.start]-KV(n,t),oy(n,e.marginBox,t)),QV=({axis:n,moveInto:e,isMoving:t})=>_a(n.line,e.contentBox[n.start]+A1(n,t),oy(n,e.contentBox,t));var XV=({impact:n,draggable:e,draggables:t,droppable:s,afterCritical:o})=>{const l=qo(s.descriptor.id,t),u=e.page,p=s.axis;if(!l.length)return QV({axis:p,moveInto:s.page,isMoving:u});const{displaced:m,displacedBy:g}=n,v=m.all[0];if(v){const E=t[v];if(Ds(v,o))return ZE({axis:p,moveRelativeTo:E.page,isMoving:u});const S=ud(E.page,g.point);return ZE({axis:p,moveRelativeTo:S,isMoving:u})}const _=l[l.length-1];if(_.descriptor.id===e.descriptor.id)return u.borderBox.center;if(Ds(_.descriptor.id,o)){const E=ud(_.page,Ho(o.displacedBy.point));return JE({axis:p,moveRelativeTo:E,isMoving:u})}return JE({axis:p,moveRelativeTo:_.page,isMoving:u})},Wm=(n,e)=>{const t=n.frame;return t?ln(e,t.scroll.diff.displacement):e};const WV=({impact:n,draggable:e,droppable:t,draggables:s,afterCritical:o})=>{const l=e.page.borderBox.center,u=n.at;return!t||!u?l:u.type==="REORDER"?XV({impact:n,draggable:e,draggables:s,droppable:t,afterCritical:o}):YV({impact:n,draggables:s,afterCritical:o})};var Bd=n=>{const e=WV(n),t=n.droppable;return t?Wm(t,e):e},x1=(n,e)=>{const t=zn(e,n.scroll.initial),s=Ho(t);return{frame:Er({top:e.y,bottom:e.y+n.frame.height,left:e.x,right:e.x+n.frame.width}),scroll:{initial:n.scroll.initial,max:n.scroll.max,current:e,diff:{value:t,displacement:s}}}};function ew(n,e){return n.map(t=>e[t])}function JV(n,e){for(let t=0;t<e.length;t++){const s=e[t].visible[n];if(s)return s}return null}var ZV=({impact:n,viewport:e,destination:t,draggables:s,maxScrollChange:o})=>{const l=x1(e,ln(e.scroll.current,o)),u=t.frame?ry(t,ln(t.frame.scroll.current,o)):t,p=n.displaced,m=Ac({afterDragging:ew(p.all,s),destination:t,displacedBy:n.displacedBy,viewport:l.frame,last:p,forceShouldAnimate:!1}),g=Ac({afterDragging:ew(p.all,s),destination:u,displacedBy:n.displacedBy,viewport:e.frame,last:p,forceShouldAnimate:!1}),v={},_={},E=[p,m,g];return p.all.forEach(V=>{const U=JV(V,E);if(U){_[V]=U;return}v[V]=!0}),{...n,displaced:{all:p.all,invisible:v,visible:_}}},e6=(n,e)=>ln(n.scroll.diff.displacement,e),ly=({pageBorderBoxCenter:n,draggable:e,viewport:t})=>{const s=e6(t,n),o=zn(s,e.page.borderBox.center);return ln(e.client.borderBox.center,o)},I1=({draggable:n,destination:e,newPageBorderBoxCenter:t,viewport:s,withDroppableDisplacement:o,onlyOnMainAxis:l=!1})=>{const u=zn(t,n.page.borderBox.center),m={target:jc(n.page.borderBox,u),destination:e,withDroppableDisplacement:o,viewport:s};return l?zV(m):S1(m)},t6=({isMovingForward:n,draggable:e,destination:t,draggables:s,previousImpact:o,viewport:l,previousPageBorderBoxCenter:u,previousClientSelection:p,afterCritical:m})=>{if(!t.isEnabled)return null;const g=qo(t.descriptor.id,s),v=Go(e,t),_=NV({isMovingForward:n,draggable:e,destination:t,insideDestination:g,previousImpact:o})||FV({isMovingForward:n,isInHomeList:v,draggable:e,draggables:s,destination:t,insideDestination:g,previousImpact:o,viewport:l,afterCritical:m});if(!_)return null;const E=Bd({impact:_,draggable:e,droppable:t,draggables:s,afterCritical:m});if(I1({draggable:e,destination:t,newPageBorderBoxCenter:E,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:ly({pageBorderBoxCenter:E,draggable:e,viewport:l}),impact:_,scrollJumpRequest:null};const V=zn(E,u),U=ZV({impact:_,viewport:l,destination:t,draggables:s,maxScrollChange:V});return{clientSelection:p,impact:U,scrollJumpRequest:V}};const vn=n=>{const e=n.subject.active;return e||ue(),e};var n6=({isMovingForward:n,pageBorderBoxCenter:e,source:t,droppables:s,viewport:o})=>{const l=t.subject.active;if(!l)return null;const u=t.axis,p=ar(l[u.start],l[u.end]),m=Ud(s).filter(v=>v!==t).filter(v=>v.isEnabled).filter(v=>!!v.subject.active).filter(v=>w1(o.frame)(vn(v))).filter(v=>{const _=vn(v);return n?l[u.crossAxisEnd]<_[u.crossAxisEnd]:_[u.crossAxisStart]<l[u.crossAxisStart]}).filter(v=>{const _=vn(v),E=ar(_[u.start],_[u.end]);return p(_[u.start])||p(_[u.end])||E(l[u.start])||E(l[u.end])}).sort((v,_)=>{const E=vn(v)[u.crossAxisStart],S=vn(_)[u.crossAxisStart];return n?E-S:S-E}).filter((v,_,E)=>vn(v)[u.crossAxisStart]===vn(E[0])[u.crossAxisStart]);if(!m.length)return null;if(m.length===1)return m[0];const g=m.filter(v=>ar(vn(v)[u.start],vn(v)[u.end])(e[u.line]));return g.length===1?g[0]:g.length>1?g.sort((v,_)=>vn(v)[u.start]-vn(_)[u.start])[0]:m.sort((v,_)=>{const E=QE(e,XE(vn(v))),S=QE(e,XE(vn(_)));return E!==S?E-S:vn(v)[u.start]-vn(_)[u.start]})[0]};const tw=(n,e)=>{const t=n.page.borderBox.center;return Ds(n.descriptor.id,e)?zn(t,e.displacedBy.point):t},r6=(n,e)=>{const t=n.page.borderBox;return Ds(n.descriptor.id,e)?jc(t,Ho(e.displacedBy.point)):t};var i6=({pageBorderBoxCenter:n,viewport:e,destination:t,insideDestination:s,afterCritical:o})=>s.filter(u=>S1({target:r6(u,o),destination:t,viewport:e.frame,withDroppableDisplacement:!0})).sort((u,p)=>{const m=Tc(n,Wm(t,tw(u,o))),g=Tc(n,Wm(t,tw(p,o)));return m<g?-1:g<m?1:u.descriptor.index-p.descriptor.index})[0]||null,Bc=Wt(function(e,t){const s=t[e.line];return{value:s,point:_a(e.line,s)}});const s6=(n,e,t)=>{const s=n.axis;if(n.descriptor.mode==="virtual")return _a(s.line,e[s.line]);const o=n.subject.page.contentBox[s.size],m=qo(n.descriptor.id,t).reduce((g,v)=>g+v.client.marginBox[s.size],0)+e[s.line]-o;return m<=0?null:_a(s.line,m)},R1=(n,e)=>({...n,scroll:{...n.scroll,max:e}}),C1=(n,e,t)=>{const s=n.frame;Go(e,n)&&ue(),n.subject.withPlaceholder&&ue();const o=Bc(n.axis,e.displaceBy).point,l=s6(n,o,t),u={placeholderSize:o,increasedBy:l,oldFrameMaxScroll:n.frame?n.frame.scroll.max:null};if(!s){const v=No({page:n.subject.page,withPlaceholder:u,axis:n.axis,frame:n.frame});return{...n,subject:v}}const p=l?ln(s.scroll.max,l):s.scroll.max,m=R1(s,p),g=No({page:n.subject.page,withPlaceholder:u,axis:n.axis,frame:m});return{...n,subject:g,frame:m}},a6=n=>{const e=n.subject.withPlaceholder;e||ue();const t=n.frame;if(!t){const u=No({page:n.subject.page,axis:n.axis,frame:null,withPlaceholder:null});return{...n,subject:u}}const s=e.oldFrameMaxScroll;s||ue();const o=R1(t,s),l=No({page:n.subject.page,axis:n.axis,frame:o,withPlaceholder:null});return{...n,subject:l,frame:o}};var o6=({previousPageBorderBoxCenter:n,moveRelativeTo:e,insideDestination:t,draggable:s,draggables:o,destination:l,viewport:u,afterCritical:p})=>{if(!e){if(t.length)return null;const _={displaced:Sc,displacedBy:E1,at:{type:"REORDER",destination:{droppableId:l.descriptor.id,index:0}}},E=Bd({impact:_,draggable:s,droppable:l,draggables:o,afterCritical:p}),S=Go(s,l)?l:C1(l,s,o);return I1({draggable:s,destination:S,newPageBorderBoxCenter:E,viewport:u.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?_:null}const m=n[l.axis.line]<=e.page.borderBox.center[l.axis.line],g=(()=>{const _=e.descriptor.index;return e.descriptor.id===s.descriptor.id||m?_:_+1})(),v=Bc(l.axis,s.displaceBy);return md({draggable:s,insideDestination:t,destination:l,viewport:u,displacedBy:v,last:Sc,index:g})},l6=({isMovingForward:n,previousPageBorderBoxCenter:e,draggable:t,isOver:s,draggables:o,droppables:l,viewport:u,afterCritical:p})=>{const m=n6({isMovingForward:n,pageBorderBoxCenter:e,source:s,droppables:l,viewport:u});if(!m)return null;const g=qo(m.descriptor.id,o),v=i6({pageBorderBoxCenter:e,viewport:u,destination:m,insideDestination:g,afterCritical:p}),_=o6({previousPageBorderBoxCenter:e,destination:m,draggable:t,draggables:o,moveRelativeTo:v,insideDestination:g,viewport:u,afterCritical:p});if(!_)return null;const E=Bd({impact:_,draggable:t,droppable:m,draggables:o,afterCritical:p});return{clientSelection:ly({pageBorderBoxCenter:E,draggable:t,viewport:u}),impact:_,scrollJumpRequest:null}},jn=n=>{const e=n.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null};const c6=(n,e)=>{const t=jn(n);return t?e[t]:null};var u6=({state:n,type:e})=>{const t=c6(n.impact,n.dimensions.droppables),s=!!t,o=n.dimensions.droppables[n.critical.droppable.id],l=t||o,u=l.axis.direction,p=u==="vertical"&&(e==="MOVE_UP"||e==="MOVE_DOWN")||u==="horizontal"&&(e==="MOVE_LEFT"||e==="MOVE_RIGHT");if(p&&!s)return null;const m=e==="MOVE_DOWN"||e==="MOVE_RIGHT",g=n.dimensions.draggables[n.critical.draggable.id],v=n.current.page.borderBoxCenter,{draggables:_,droppables:E}=n.dimensions;return p?t6({isMovingForward:m,previousPageBorderBoxCenter:v,draggable:g,destination:l,draggables:_,viewport:n.viewport,previousClientSelection:n.current.client.selection,previousImpact:n.impact,afterCritical:n.afterCritical}):l6({isMovingForward:m,previousPageBorderBoxCenter:v,draggable:g,isOver:l,draggables:_,droppables:E,viewport:n.viewport,afterCritical:n.afterCritical})};function ca(n){return n.phase==="DRAGGING"||n.phase==="COLLECTING"}function D1(n){const e=ar(n.top,n.bottom),t=ar(n.left,n.right);return function(o){return e(o.y)&&t(o.x)}}function f6(n,e){return n.left<e.right&&n.right>e.left&&n.top<e.bottom&&n.bottom>e.top}function d6({pageBorderBox:n,draggable:e,candidates:t}){const s=e.page.borderBox.center,o=t.map(l=>{const u=l.axis,p=_a(l.axis.line,n.center[u.line],l.page.borderBox.center[u.crossAxisLine]);return{id:l.descriptor.id,distance:Tc(s,p)}}).sort((l,u)=>u.distance-l.distance);return o[0]?o[0].id:null}function h6({pageBorderBox:n,draggable:e,droppables:t}){const s=Ud(t).filter(o=>{if(!o.isEnabled)return!1;const l=o.subject.active;if(!l||!f6(n,l))return!1;if(D1(l)(n.center))return!0;const u=o.axis,p=l.center[u.crossAxisLine],m=n[u.crossAxisStart],g=n[u.crossAxisEnd],v=ar(l[u.crossAxisStart],l[u.crossAxisEnd]),_=v(m),E=v(g);return!_&&!E?!0:_?m<p:g>p});return s.length?s.length===1?s[0].descriptor.id:d6({pageBorderBox:n,draggable:e,candidates:s}):null}const N1=(n,e)=>Er(jc(n,e));var p6=(n,e)=>{const t=n.frame;return t?N1(e,t.scroll.diff.value):e};function O1({displaced:n,id:e}){return!!(n.visible[e]||n.invisible[e])}function m6({draggable:n,closest:e,inHomeList:t}){return e?t&&e.descriptor.index>n.descriptor.index?e.descriptor.index-1:e.descriptor.index:null}var g6=({pageBorderBoxWithDroppableScroll:n,draggable:e,destination:t,insideDestination:s,last:o,viewport:l,afterCritical:u})=>{const p=t.axis,m=Bc(t.axis,e.displaceBy),g=m.value,v=n[p.start],_=n[p.end],S=jd(e,s).find(U=>{const L=U.descriptor.id,Y=U.page.borderBox.center[p.line],X=Ds(L,u),ae=O1({displaced:o,id:L});return X?ae?_<=Y:v<Y-g:ae?_<=Y+g:v<Y})||null,V=m6({draggable:e,closest:S,inHomeList:Go(e,t)});return md({draggable:e,insideDestination:s,destination:t,viewport:l,last:o,displacedBy:m,index:V})};const y6=4;var v6=({draggable:n,pageBorderBoxWithDroppableScroll:e,previousImpact:t,destination:s,insideDestination:o,afterCritical:l})=>{if(!s.isCombineEnabled)return null;const u=s.axis,p=Bc(s.axis,n.displaceBy),m=p.value,g=e[u.start],v=e[u.end],E=jd(n,o).find(V=>{const U=V.descriptor.id,L=V.page.borderBox,X=L[u.size]/y6,ae=Ds(U,l),se=O1({displaced:t.displaced,id:U});return ae?se?v>L[u.start]+X&&v<L[u.end]-X:g>L[u.start]-m+X&&g<L[u.end]-m-X:se?v>L[u.start]+m+X&&v<L[u.end]+m-X:g>L[u.start]+X&&g<L[u.end]-X});return E?{displacedBy:p,displaced:t.displaced,at:{type:"COMBINE",combine:{draggableId:E.descriptor.id,droppableId:s.descriptor.id}}}:null},M1=({pageOffset:n,draggable:e,draggables:t,droppables:s,previousImpact:o,viewport:l,afterCritical:u})=>{const p=N1(e.page.borderBox,n),m=h6({pageBorderBox:p,draggable:e,droppables:s});if(!m)return OV;const g=s[m],v=qo(g.descriptor.id,t),_=p6(g,p);return v6({pageBorderBoxWithDroppableScroll:_,draggable:e,previousImpact:o,destination:g,insideDestination:v,afterCritical:u})||g6({pageBorderBoxWithDroppableScroll:_,draggable:e,destination:g,insideDestination:v,last:o.displaced,viewport:l,afterCritical:u})},cy=(n,e)=>({...n,[e.descriptor.id]:e});const _6=({previousImpact:n,impact:e,droppables:t})=>{const s=jn(n),o=jn(e);if(!s||s===o)return t;const l=t[s];if(!l.subject.withPlaceholder)return t;const u=a6(l);return cy(t,u)};var b6=({draggable:n,draggables:e,droppables:t,previousImpact:s,impact:o})=>{const l=_6({previousImpact:s,impact:o,droppables:t}),u=jn(o);if(!u)return l;const p=t[u];if(Go(n,p)||p.subject.withPlaceholder)return l;const m=C1(p,n,e);return cy(l,m)},fc=({state:n,clientSelection:e,dimensions:t,viewport:s,impact:o,scrollJumpRequest:l})=>{const u=s||n.viewport,p=t||n.dimensions,m=e||n.current.client.selection,g=zn(m,n.initial.client.selection),v={offset:g,selection:m,borderBoxCenter:ln(n.initial.client.borderBoxCenter,g)},_={selection:ln(v.selection,u.scroll.current),borderBoxCenter:ln(v.borderBoxCenter,u.scroll.current),offset:ln(v.offset,u.scroll.diff.value)},E={client:v,page:_};if(n.phase==="COLLECTING")return{...n,dimensions:p,viewport:u,current:E};const S=p.draggables[n.critical.draggable.id],V=o||M1({pageOffset:_.offset,draggable:S,draggables:p.draggables,droppables:p.droppables,previousImpact:n.impact,viewport:u,afterCritical:n.afterCritical}),U=b6({draggable:S,impact:V,previousImpact:n.impact,draggables:p.draggables,droppables:p.droppables});return{...n,current:E,dimensions:{draggables:p.draggables,droppables:U},impact:V,viewport:u,scrollJumpRequest:l||null,forceShouldAnimate:l?!1:null}};function E6(n,e){return n.map(t=>e[t])}var V1=({impact:n,viewport:e,draggables:t,destination:s,forceShouldAnimate:o})=>{const l=n.displaced,u=E6(l.all,t),p=Ac({afterDragging:u,destination:s,displacedBy:n.displacedBy,viewport:e.frame,forceShouldAnimate:o,last:l});return{...n,displaced:p}},P1=({impact:n,draggable:e,droppable:t,draggables:s,viewport:o,afterCritical:l})=>{const u=Bd({impact:n,draggable:e,draggables:s,droppable:t,afterCritical:l});return ly({pageBorderBoxCenter:u,draggable:e,viewport:o})},k1=({state:n,dimensions:e,viewport:t})=>{n.movementMode!=="SNAP"&&ue();const s=n.impact,o=t||n.viewport,l=e||n.dimensions,{draggables:u,droppables:p}=l,m=u[n.critical.draggable.id],g=jn(s);g||ue();const v=p[g],_=V1({impact:s,viewport:o,destination:v,draggables:u}),E=P1({impact:_,draggable:m,droppable:v,draggables:u,viewport:o,afterCritical:n.afterCritical});return fc({impact:_,clientSelection:E,state:n,dimensions:l,viewport:o})},w6=n=>({index:n.index,droppableId:n.droppableId}),L1=({draggable:n,home:e,draggables:t,viewport:s})=>{const o=Bc(e.axis,n.displaceBy),l=qo(e.descriptor.id,t),u=l.indexOf(n);u===-1&&ue();const p=l.slice(u+1),m=p.reduce((E,S)=>(E[S.descriptor.id]=!0,E),{}),g={inVirtualList:e.descriptor.mode==="virtual",displacedBy:o,effected:m};return{impact:{displaced:Ac({afterDragging:p,destination:e,displacedBy:o,last:null,viewport:s.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:w6(n.descriptor)}},afterCritical:g}},T6=(n,e)=>({draggables:n.draggables,droppables:cy(n.droppables,e)}),S6=({draggable:n,offset:e,initialWindowScroll:t})=>{const s=ud(n.client,e),o=fd(s,t);return{...n,placeholder:{...n.placeholder,client:s},client:s,page:o}},A6=n=>{const e=n.frame;return e||ue(),e},x6=({additions:n,updatedDroppables:e,viewport:t})=>{const s=t.scroll.diff.value;return n.map(o=>{const l=o.descriptor.droppableId,u=e[l],m=A6(u).scroll.diff.value,g=ln(s,m);return S6({draggable:o,offset:g,initialWindowScroll:t.scroll.initial})})},I6=({state:n,published:e})=>{const t=e.modified.map(Y=>{const X=n.dimensions.droppables[Y.droppableId];return ry(X,Y.scroll)}),s={...n.dimensions.droppables,..._1(t)},o=b1(x6({additions:e.additions,updatedDroppables:s,viewport:n.viewport})),l={...n.dimensions.draggables,...o};e.removals.forEach(Y=>{delete l[Y]});const u={droppables:s,draggables:l},p=jn(n.impact),m=p?u.droppables[p]:null,g=u.draggables[n.critical.draggable.id],v=u.droppables[n.critical.droppable.id],{impact:_,afterCritical:E}=L1({draggable:g,home:v,draggables:l,viewport:n.viewport}),S=m&&m.isCombineEnabled?n.impact:_,V=M1({pageOffset:n.current.page.offset,draggable:u.draggables[n.critical.draggable.id],draggables:u.draggables,droppables:u.droppables,previousImpact:S,viewport:n.viewport,afterCritical:E}),U={...n,phase:"DRAGGING",impact:V,onLiftImpact:_,dimensions:u,afterCritical:E,forceShouldAnimate:!1};return n.phase==="COLLECTING"?U:{...U,phase:"DROP_PENDING",reason:n.reason,isWaiting:!1}};const Jm=n=>n.movementMode==="SNAP",dm=(n,e,t)=>{const s=T6(n.dimensions,e);return!Jm(n)||t?fc({state:n,dimensions:s}):k1({state:n,dimensions:s})};function hm(n){return n.isDragging&&n.movementMode==="SNAP"?{...n,scrollJumpRequest:null}:n}const nw={phase:"IDLE",completed:null,shouldFlush:!1};var R6=(n=nw,e)=>{if(e.type==="FLUSH")return{...nw,shouldFlush:!0};if(e.type==="INITIAL_PUBLISH"){n.phase!=="IDLE"&&ue();const{critical:t,clientSelection:s,viewport:o,dimensions:l,movementMode:u}=e.payload,p=l.draggables[t.draggable.id],m=l.droppables[t.droppable.id],g={selection:s,borderBoxCenter:p.client.borderBox.center,offset:Jt},v={client:g,page:{selection:ln(g.selection,o.scroll.initial),borderBoxCenter:ln(g.selection,o.scroll.initial),offset:ln(g.selection,o.scroll.diff.value)}},_=Ud(l.droppables).every(U=>!U.isFixedOnPage),{impact:E,afterCritical:S}=L1({draggable:p,home:m,draggables:l.draggables,viewport:o});return{phase:"DRAGGING",isDragging:!0,critical:t,movementMode:u,dimensions:l,initial:v,current:v,isWindowScrollAllowed:_,impact:E,afterCritical:S,onLiftImpact:E,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if(e.type==="COLLECTION_STARTING")return n.phase==="COLLECTING"||n.phase==="DROP_PENDING"?n:(n.phase!=="DRAGGING"&&ue(),{...n,phase:"COLLECTING"});if(e.type==="PUBLISH_WHILE_DRAGGING")return n.phase==="COLLECTING"||n.phase==="DROP_PENDING"||ue(),I6({state:n,published:e.payload});if(e.type==="MOVE"){if(n.phase==="DROP_PENDING")return n;ca(n)||ue();const{client:t}=e.payload;return ws(t,n.current.client.selection)?n:fc({state:n,clientSelection:t,impact:Jm(n)?n.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(n.phase==="DROP_PENDING"||n.phase==="COLLECTING")return hm(n);ca(n)||ue();const{id:t,newScroll:s}=e.payload,o=n.dimensions.droppables[t];if(!o)return n;const l=ry(o,s);return dm(n,l,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(n.phase==="DROP_PENDING")return n;ca(n)||ue();const{id:t,isEnabled:s}=e.payload,o=n.dimensions.droppables[t];o||ue(),o.isEnabled===s&&ue();const l={...o,isEnabled:s};return dm(n,l,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(n.phase==="DROP_PENDING")return n;ca(n)||ue();const{id:t,isCombineEnabled:s}=e.payload,o=n.dimensions.droppables[t];o||ue(),o.isCombineEnabled===s&&ue();const l={...o,isCombineEnabled:s};return dm(n,l,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(n.phase==="DROP_PENDING"||n.phase==="DROP_ANIMATING")return n;ca(n)||ue(),n.isWindowScrollAllowed||ue();const t=e.payload.newScroll;if(ws(n.viewport.scroll.current,t))return hm(n);const s=x1(n.viewport,t);return Jm(n)?k1({state:n,viewport:s}):fc({state:n,viewport:s})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!ca(n))return n;const t=e.payload.maxScroll;if(ws(t,n.viewport.scroll.max))return n;const s={...n.viewport,scroll:{...n.viewport.scroll,max:t}};return{...n,viewport:s}}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(n.phase==="COLLECTING"||n.phase==="DROP_PENDING")return n;n.phase!=="DRAGGING"&&ue();const t=u6({state:n,type:e.type});return t?fc({state:n,impact:t.impact,clientSelection:t.clientSelection,scrollJumpRequest:t.scrollJumpRequest}):n}if(e.type==="DROP_PENDING"){const t=e.payload.reason;return n.phase!=="COLLECTING"&&ue(),{...n,phase:"DROP_PENDING",isWaiting:!0,reason:t}}if(e.type==="DROP_ANIMATE"){const{completed:t,dropDuration:s,newHomeClientOffset:o}=e.payload;return n.phase==="DRAGGING"||n.phase==="DROP_PENDING"||ue(),{phase:"DROP_ANIMATING",completed:t,dropDuration:s,newHomeClientOffset:o,dimensions:n.dimensions}}if(e.type==="DROP_COMPLETE"){const{completed:t}=e.payload;return{phase:"IDLE",completed:t,shouldFlush:!1}}return n};function rt(n,e){return n instanceof Object&&"type"in n&&n.type===e}const C6=n=>({type:"BEFORE_INITIAL_CAPTURE",payload:n}),D6=n=>({type:"LIFT",payload:n}),N6=n=>({type:"INITIAL_PUBLISH",payload:n}),O6=n=>({type:"PUBLISH_WHILE_DRAGGING",payload:n}),M6=()=>({type:"COLLECTION_STARTING",payload:null}),V6=n=>({type:"UPDATE_DROPPABLE_SCROLL",payload:n}),P6=n=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:n}),k6=n=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:n}),U1=n=>({type:"MOVE",payload:n}),L6=n=>({type:"MOVE_BY_WINDOW_SCROLL",payload:n}),U6=n=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:n}),z6=()=>({type:"MOVE_UP",payload:null}),j6=()=>({type:"MOVE_DOWN",payload:null}),B6=()=>({type:"MOVE_RIGHT",payload:null}),H6=()=>({type:"MOVE_LEFT",payload:null}),uy=()=>({type:"FLUSH",payload:null}),q6=n=>({type:"DROP_ANIMATE",payload:n}),fy=n=>({type:"DROP_COMPLETE",payload:n}),z1=n=>({type:"DROP",payload:n}),G6=n=>({type:"DROP_PENDING",payload:n}),j1=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var F6=n=>({getState:e,dispatch:t})=>s=>o=>{if(!rt(o,"LIFT")){s(o);return}const{id:l,clientSelection:u,movementMode:p}=o.payload,m=e();m.phase==="DROP_ANIMATING"&&t(fy({completed:m.completed})),e().phase!=="IDLE"&&ue(),t(uy()),t(C6({draggableId:l,movementMode:p}));const v={draggableId:l,scrollOptions:{shouldPublishImmediately:p==="SNAP"}},{critical:_,dimensions:E,viewport:S}=n.startPublishing(v);t(N6({critical:_,dimensions:E,clientSelection:u,movementMode:p,viewport:S}))},$6=n=>()=>e=>t=>{rt(t,"INITIAL_PUBLISH")&&n.dragging(),rt(t,"DROP_ANIMATE")&&n.dropping(t.payload.completed.result.reason),(rt(t,"FLUSH")||rt(t,"DROP_COMPLETE"))&&n.resting(),e(t)};const dy={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},xc={opacity:{drop:0,combining:.7},scale:{drop:.75}},B1={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},oa=`${B1.outOfTheWay}s ${dy.outOfTheWay}`,dc={fluid:`opacity ${oa}`,snap:`transform ${oa}, opacity ${oa}`,drop:n=>{const e=`${n}s ${dy.drop}`;return`transform ${e}, opacity ${e}`},outOfTheWay:`transform ${oa}`,placeholder:`height ${oa}, width ${oa}, margin ${oa}`},rw=n=>ws(n,Jt)?void 0:`translate(${n.x}px, ${n.y}px)`,Zm={moveTo:rw,drop:(n,e)=>{const t=rw(n);if(t)return e?`${t} scale(${xc.scale.drop})`:t}},{minDropTime:eg,maxDropTime:H1}=B1,Y6=H1-eg,iw=1500,K6=.6;var Q6=({current:n,destination:e,reason:t})=>{const s=Tc(n,e);if(s<=0)return eg;if(s>=iw)return H1;const o=s/iw,l=eg+Y6*o,u=t==="CANCEL"?l*K6:l;return Number(u.toFixed(2))},X6=({impact:n,draggable:e,dimensions:t,viewport:s,afterCritical:o})=>{const{draggables:l,droppables:u}=t,p=jn(n),m=p?u[p]:null,g=u[e.descriptor.droppableId],v=P1({impact:n,draggable:e,draggables:l,afterCritical:o,droppable:m||g,viewport:s});return zn(v,e.client.borderBox.center)},W6=({draggables:n,reason:e,lastImpact:t,home:s,viewport:o,onLiftImpact:l})=>!t.at||e!=="DROP"?{impact:V1({draggables:n,impact:l,destination:s,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:t.at.type==="REORDER"?{impact:t,didDropInsideDroppable:!0}:{impact:{...t,displaced:Sc},didDropInsideDroppable:!0};const J6=({getState:n,dispatch:e})=>t=>s=>{if(!rt(s,"DROP")){t(s);return}const o=n(),l=s.payload.reason;if(o.phase==="COLLECTING"){e(G6({reason:l}));return}if(o.phase==="IDLE")return;o.phase==="DROP_PENDING"&&o.isWaiting&&ue(),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||ue();const p=o.critical,m=o.dimensions,g=m.draggables[o.critical.draggable.id],{impact:v,didDropInsideDroppable:_}=W6({reason:l,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),E=_?iy(v):null,S=_?zd(v):null,V={index:p.draggable.index,droppableId:p.droppable.id},U={draggableId:g.descriptor.id,type:g.descriptor.type,source:V,reason:l,mode:o.movementMode,destination:E,combine:S},L=X6({impact:v,draggable:g,dimensions:m,viewport:o.viewport,afterCritical:o.afterCritical}),Y={critical:o.critical,afterCritical:o.afterCritical,result:U,impact:v};if(!(!ws(o.current.client.offset,L)||!!U.combine)){e(fy({completed:Y}));return}const ae=Q6({current:o.current.client.offset,destination:L,reason:l});e(q6({newHomeClientOffset:L,dropDuration:ae,completed:Y}))};var q1=()=>({x:window.pageXOffset,y:window.pageYOffset});function Z6(n){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:e=>{e.target!==window&&e.target!==window.document||n()}}}function e3({onWindowScroll:n}){function e(){n(q1())}const t=wc(e),s=Z6(t);let o=Es;function l(){return o!==Es}function u(){l()&&ue(),o=sr(window,[s])}function p(){l()||ue(),t.cancel(),o(),o=Es}return{start:u,stop:p,isActive:l}}const t3=n=>rt(n,"DROP_COMPLETE")||rt(n,"DROP_ANIMATE")||rt(n,"FLUSH"),n3=n=>{const e=e3({onWindowScroll:t=>{n.dispatch(L6({newScroll:t}))}});return t=>s=>{!e.isActive()&&rt(s,"INITIAL_PUBLISH")&&e.start(),e.isActive()&&t3(s)&&e.stop(),t(s)}};var r3=n=>{let e=!1,t=!1;const s=setTimeout(()=>{t=!0}),o=l=>{e||t||(e=!0,n(l),clearTimeout(s))};return o.wasCalled=()=>e,o},i3=()=>{const n=[],e=o=>{const l=n.findIndex(p=>p.timerId===o);l===-1&&ue();const[u]=n.splice(l,1);u.callback()};return{add:o=>{const l=setTimeout(()=>e(l)),u={timerId:l,callback:o};n.push(u)},flush:()=>{if(!n.length)return;const o=[...n];n.length=0,o.forEach(l=>{clearTimeout(l.timerId),l.callback()})}}};const s3=(n,e)=>n==null&&e==null?!0:n==null||e==null?!1:n.droppableId===e.droppableId&&n.index===e.index,a3=(n,e)=>n==null&&e==null?!0:n==null||e==null?!1:n.draggableId===e.draggableId&&n.droppableId===e.droppableId,o3=(n,e)=>{if(n===e)return!0;const t=n.draggable.id===e.draggable.id&&n.draggable.droppableId===e.draggable.droppableId&&n.draggable.type===e.draggable.type&&n.draggable.index===e.draggable.index,s=n.droppable.id===e.droppable.id&&n.droppable.type===e.droppable.type;return t&&s},Wl=(n,e)=>{e()},xf=(n,e)=>({draggableId:n.draggable.id,type:n.droppable.type,source:{droppableId:n.droppable.id,index:n.draggable.index},mode:e});function pm(n,e,t,s){if(!n){t(s(e));return}const o=r3(t);n(e,{announce:o}),o.wasCalled()||t(s(e))}var l3=(n,e)=>{const t=i3();let s=null;const o=(_,E)=>{s&&ue(),Wl("onBeforeCapture",()=>{const S=n().onBeforeCapture;S&&S({draggableId:_,mode:E})})},l=(_,E)=>{s&&ue(),Wl("onBeforeDragStart",()=>{const S=n().onBeforeDragStart;S&&S(xf(_,E))})},u=(_,E)=>{s&&ue();const S=xf(_,E);s={mode:E,lastCritical:_,lastLocation:S.source,lastCombine:null},t.add(()=>{Wl("onDragStart",()=>pm(n().onDragStart,S,e,jf.onDragStart))})},p=(_,E)=>{const S=iy(E),V=zd(E);s||ue();const U=!o3(_,s.lastCritical);U&&(s.lastCritical=_);const L=!s3(s.lastLocation,S);L&&(s.lastLocation=S);const Y=!a3(s.lastCombine,V);if(Y&&(s.lastCombine=V),!U&&!L&&!Y)return;const X={...xf(_,s.mode),combine:V,destination:S};t.add(()=>{Wl("onDragUpdate",()=>pm(n().onDragUpdate,X,e,jf.onDragUpdate))})},m=()=>{s||ue(),t.flush()},g=_=>{s||ue(),s=null,Wl("onDragEnd",()=>pm(n().onDragEnd,_,e,jf.onDragEnd))};return{beforeCapture:o,beforeStart:l,start:u,update:p,flush:m,drop:g,abort:()=>{if(!s)return;const _={...xf(s.lastCritical,s.mode),combine:null,destination:null,reason:"CANCEL"};g(_)}}},c3=(n,e)=>{const t=l3(n,e);return s=>o=>l=>{if(rt(l,"BEFORE_INITIAL_CAPTURE")){t.beforeCapture(l.payload.draggableId,l.payload.movementMode);return}if(rt(l,"INITIAL_PUBLISH")){const p=l.payload.critical;t.beforeStart(p,l.payload.movementMode),o(l),t.start(p,l.payload.movementMode);return}if(rt(l,"DROP_COMPLETE")){const p=l.payload.completed.result;t.flush(),o(l),t.drop(p);return}if(o(l),rt(l,"FLUSH")){t.abort();return}const u=s.getState();u.phase==="DRAGGING"&&t.update(u.critical,u.impact)}};const u3=n=>e=>t=>{if(!rt(t,"DROP_ANIMATION_FINISHED")){e(t);return}const s=n.getState();s.phase!=="DROP_ANIMATING"&&ue(),n.dispatch(fy({completed:s.completed}))},f3=n=>{let e=null,t=null;function s(){t&&(cancelAnimationFrame(t),t=null),e&&(e(),e=null)}return o=>l=>{if((rt(l,"FLUSH")||rt(l,"DROP_COMPLETE")||rt(l,"DROP_ANIMATION_FINISHED"))&&s(),o(l),!rt(l,"DROP_ANIMATE"))return;const u={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){n.getState().phase==="DROP_ANIMATING"&&n.dispatch(j1())}};t=requestAnimationFrame(()=>{t=null,e=sr(window,[u])})}};var d3=n=>()=>e=>t=>{(rt(t,"DROP_COMPLETE")||rt(t,"FLUSH")||rt(t,"DROP_ANIMATE"))&&n.stopPublishing(),e(t)},h3=n=>{let e=!1;return()=>t=>s=>{if(rt(s,"INITIAL_PUBLISH")){e=!0,n.tryRecordFocus(s.payload.critical.draggable.id),t(s),n.tryRestoreFocusRecorded();return}if(t(s),!!e){if(rt(s,"FLUSH")){e=!1,n.tryRestoreFocusRecorded();return}if(rt(s,"DROP_COMPLETE")){e=!1;const o=s.payload.completed.result;o.combine&&n.tryShiftRecord(o.draggableId,o.combine.draggableId),n.tryRestoreFocusRecorded()}}}};const p3=n=>rt(n,"DROP_COMPLETE")||rt(n,"DROP_ANIMATE")||rt(n,"FLUSH");var m3=n=>e=>t=>s=>{if(p3(s)){n.stop(),t(s);return}if(rt(s,"INITIAL_PUBLISH")){t(s);const o=e.getState();o.phase!=="DRAGGING"&&ue(),n.start(o);return}t(s),n.scroll(e.getState())};const g3=n=>e=>t=>{if(e(t),!rt(t,"PUBLISH_WHILE_DRAGGING"))return;const s=n.getState();s.phase==="DROP_PENDING"&&(s.isWaiting||n.dispatch(z1({reason:s.reason})))},y3=s1;var v3=({dimensionMarshal:n,focusMarshal:e,styleMarshal:t,getResponders:s,announce:o,autoScroller:l})=>i1(R6,y3(mM($6(t),d3(n),F6(n),J6,u3,f3,g3,m3(l),n3,h3(e),c3(s,o))));const mm=()=>({additions:{},removals:{},modified:{}});function _3({registry:n,callbacks:e}){let t=mm(),s=null;const o=()=>{s||(e.collectionStarting(),s=requestAnimationFrame(()=>{s=null;const{additions:m,removals:g,modified:v}=t,_=Object.keys(m).map(V=>n.draggable.getById(V).getDimension(Jt)).sort((V,U)=>V.descriptor.index-U.descriptor.index),E=Object.keys(v).map(V=>{const L=n.droppable.getById(V).callbacks.getScrollWhileDragging();return{droppableId:V,scroll:L}}),S={additions:_,removals:Object.keys(g),modified:E};t=mm(),e.publish(S)}))};return{add:m=>{const g=m.descriptor.id;t.additions[g]=m,t.modified[m.descriptor.droppableId]=!0,t.removals[g]&&delete t.removals[g],o()},remove:m=>{const g=m.descriptor;t.removals[g.id]=!0,t.modified[g.droppableId]=!0,t.additions[g.id]&&delete t.additions[g.id],o()},stop:()=>{s&&(cancelAnimationFrame(s),s=null,t=mm())}}}var G1=({scrollHeight:n,scrollWidth:e,height:t,width:s})=>{const o=zn({x:e,y:n},{x:s,y:t});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},F1=()=>{const n=document.documentElement;return n||ue(),n},$1=()=>{const n=F1();return G1({scrollHeight:n.scrollHeight,scrollWidth:n.scrollWidth,width:n.clientWidth,height:n.clientHeight})},b3=()=>{const n=q1(),e=$1(),t=n.y,s=n.x,o=F1(),l=o.clientWidth,u=o.clientHeight,p=s+l,m=t+u;return{frame:Er({top:t,left:s,right:p,bottom:m}),scroll:{initial:n,current:n,max:e,diff:{value:Jt,displacement:Jt}}}},E3=({critical:n,scrollOptions:e,registry:t})=>{const s=b3(),o=s.scroll.current,l=n.droppable,u=t.droppable.getAllByType(l.type).map(v=>v.callbacks.getDimensionAndWatchScroll(o,e)),p=t.draggable.getAllByType(n.draggable.type).map(v=>v.getDimension(o));return{dimensions:{draggables:b1(p),droppables:_1(u)},critical:n,viewport:s}};function sw(n,e,t){return!(t.descriptor.id===e.id||t.descriptor.type!==e.type||n.droppable.getById(t.descriptor.droppableId).descriptor.mode!=="virtual")}var w3=(n,e)=>{let t=null;const s=_3({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:n}),o=(E,S)=>{n.droppable.exists(E)||ue(),t&&e.updateDroppableIsEnabled({id:E,isEnabled:S})},l=(E,S)=>{t&&(n.droppable.exists(E)||ue(),e.updateDroppableIsCombineEnabled({id:E,isCombineEnabled:S}))},u=(E,S)=>{t&&(n.droppable.exists(E)||ue(),e.updateDroppableScroll({id:E,newScroll:S}))},p=(E,S)=>{t&&n.droppable.getById(E).callbacks.scroll(S)},m=()=>{if(!t)return;s.stop();const E=t.critical.droppable;n.droppable.getAllByType(E.type).forEach(S=>S.callbacks.dragStopped()),t.unsubscribe(),t=null},g=E=>{t||ue();const S=t.critical.draggable;E.type==="ADDITION"&&sw(n,S,E.value)&&s.add(E.value),E.type==="REMOVAL"&&sw(n,S,E.value)&&s.remove(E.value)};return{updateDroppableIsEnabled:o,updateDroppableIsCombineEnabled:l,scrollDroppable:p,updateDroppableScroll:u,startPublishing:E=>{t&&ue();const S=n.draggable.getById(E.draggableId),V=n.droppable.getById(S.descriptor.droppableId),U={draggable:S.descriptor,droppable:V.descriptor},L=n.subscribe(g);return t={critical:U,unsubscribe:L},E3({critical:U,registry:n,scrollOptions:E.scrollOptions})},stopPublishing:m}},Y1=(n,e)=>n.phase==="IDLE"?!0:n.phase!=="DROP_ANIMATING"||n.completed.result.draggableId===e?!1:n.completed.result.reason==="DROP",T3=n=>{window.scrollBy(n.x,n.y)};const S3=Wt(n=>Ud(n).filter(e=>!(!e.isEnabled||!e.frame))),A3=(n,e)=>S3(e).find(s=>(s.frame||ue(),D1(s.frame.pageMarginBox)(n)))||null;var x3=({center:n,destination:e,droppables:t})=>{if(e){const o=t[e];return o.frame?o:null}return A3(n,t)};const Ic={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:n=>n**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var I3=(n,e,t=()=>Ic)=>{const s=t(),o=n[e.size]*s.startFromPercentage,l=n[e.size]*s.maxScrollAtPercentage;return{startScrollingFrom:o,maxScrollValueAt:l}},K1=({startOfRange:n,endOfRange:e,current:t})=>{const s=e-n;return s===0?0:(t-n)/s},hy=1,R3=(n,e,t=()=>Ic)=>{const s=t();if(n>e.startScrollingFrom)return 0;if(n<=e.maxScrollValueAt)return s.maxPixelScroll;if(n===e.startScrollingFrom)return hy;const l=1-K1({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:n}),u=s.maxPixelScroll*s.ease(l);return Math.ceil(u)},C3=(n,e,t)=>{const s=t(),o=s.durationDampening.accelerateAt,l=s.durationDampening.stopDampeningAt,u=e,p=l,g=Date.now()-u;if(g>=l)return n;if(g<o)return hy;const v=K1({startOfRange:o,endOfRange:p,current:g}),_=n*s.ease(v);return Math.ceil(_)},aw=({distanceToEdge:n,thresholds:e,dragStartTime:t,shouldUseTimeDampening:s,getAutoScrollerOptions:o})=>{const l=R3(n,e,o);return l===0?0:s?Math.max(C3(l,t,o),hy):l},ow=({container:n,distanceToEdges:e,dragStartTime:t,axis:s,shouldUseTimeDampening:o,getAutoScrollerOptions:l})=>{const u=I3(n,s,l);return e[s.end]<e[s.start]?aw({distanceToEdge:e[s.end],thresholds:u,dragStartTime:t,shouldUseTimeDampening:o,getAutoScrollerOptions:l}):-1*aw({distanceToEdge:e[s.start],thresholds:u,dragStartTime:t,shouldUseTimeDampening:o,getAutoScrollerOptions:l})},D3=({container:n,subject:e,proposedScroll:t})=>{const s=e.height>n.height,o=e.width>n.width;return!o&&!s?t:o&&s?null:{x:o?0:t.x,y:s?0:t.y}};const N3=v1(n=>n===0?0:n);var Q1=({dragStartTime:n,container:e,subject:t,center:s,shouldUseTimeDampening:o,getAutoScrollerOptions:l})=>{const u={top:s.y-e.top,right:e.right-s.x,bottom:e.bottom-s.y,left:s.x-e.left},p=ow({container:e,distanceToEdges:u,dragStartTime:n,axis:sy,shouldUseTimeDampening:o,getAutoScrollerOptions:l}),m=ow({container:e,distanceToEdges:u,dragStartTime:n,axis:T1,shouldUseTimeDampening:o,getAutoScrollerOptions:l}),g=N3({x:m,y:p});if(ws(g,Jt))return null;const v=D3({container:e,subject:t,proposedScroll:g});return v?ws(v,Jt)?null:v:null};const O3=v1(n=>n===0?0:n>0?1:-1),py=(()=>{const n=(e,t)=>e<0?e:e>t?e-t:0;return({current:e,max:t,change:s})=>{const o=ln(e,s),l={x:n(o.x,t.x),y:n(o.y,t.y)};return ws(l,Jt)?null:l}})(),X1=({max:n,current:e,change:t})=>{const s={x:Math.max(e.x,n.x),y:Math.max(e.y,n.y)},o=O3(t),l=py({max:s,current:e,change:o});return!l||o.x!==0&&l.x===0||o.y!==0&&l.y===0},my=(n,e)=>X1({current:n.scroll.current,max:n.scroll.max,change:e}),M3=(n,e)=>{if(!my(n,e))return null;const t=n.scroll.max,s=n.scroll.current;return py({current:s,max:t,change:e})},gy=(n,e)=>{const t=n.frame;return t?X1({current:t.scroll.current,max:t.scroll.max,change:e}):!1},V3=(n,e)=>{const t=n.frame;return!t||!gy(n,e)?null:py({current:t.scroll.current,max:t.scroll.max,change:e})};var P3=({viewport:n,subject:e,center:t,dragStartTime:s,shouldUseTimeDampening:o,getAutoScrollerOptions:l})=>{const u=Q1({dragStartTime:s,container:n.frame,subject:e,center:t,shouldUseTimeDampening:o,getAutoScrollerOptions:l});return u&&my(n,u)?u:null},k3=({droppable:n,subject:e,center:t,dragStartTime:s,shouldUseTimeDampening:o,getAutoScrollerOptions:l})=>{const u=n.frame;if(!u)return null;const p=Q1({dragStartTime:s,container:u.pageMarginBox,subject:e,center:t,shouldUseTimeDampening:o,getAutoScrollerOptions:l});return p&&gy(n,p)?p:null},lw=({state:n,dragStartTime:e,shouldUseTimeDampening:t,scrollWindow:s,scrollDroppable:o,getAutoScrollerOptions:l})=>{const u=n.current.page.borderBoxCenter,m=n.dimensions.draggables[n.critical.draggable.id].page.marginBox;if(n.isWindowScrollAllowed){const _=n.viewport,E=P3({dragStartTime:e,viewport:_,subject:m,center:u,shouldUseTimeDampening:t,getAutoScrollerOptions:l});if(E){s(E);return}}const g=x3({center:u,destination:jn(n.impact),droppables:n.dimensions.droppables});if(!g)return;const v=k3({dragStartTime:e,droppable:g,subject:m,center:u,shouldUseTimeDampening:t,getAutoScrollerOptions:l});v&&o(g.descriptor.id,v)},L3=({scrollWindow:n,scrollDroppable:e,getAutoScrollerOptions:t=()=>Ic})=>{const s=wc(n),o=wc(e);let l=null;const u=g=>{l||ue();const{shouldUseTimeDampening:v,dragStartTime:_}=l;lw({state:g,scrollWindow:s,scrollDroppable:o,dragStartTime:_,shouldUseTimeDampening:v,getAutoScrollerOptions:t})};return{start:g=>{l&&ue();const v=Date.now();let _=!1;const E=()=>{_=!0};lw({state:g,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:E,scrollDroppable:E,getAutoScrollerOptions:t}),l={dragStartTime:v,shouldUseTimeDampening:_},_&&u(g)},stop:()=>{l&&(s.cancel(),o.cancel(),l=null)},scroll:u}},U3=({move:n,scrollDroppable:e,scrollWindow:t})=>{const s=(p,m)=>{const g=ln(p.current.client.selection,m);n({client:g})},o=(p,m)=>{if(!gy(p,m))return m;const g=V3(p,m);if(!g)return e(p.descriptor.id,m),null;const v=zn(m,g);return e(p.descriptor.id,v),zn(m,v)},l=(p,m,g)=>{if(!p||!my(m,g))return g;const v=M3(m,g);if(!v)return t(g),null;const _=zn(g,v);return t(_),zn(g,_)};return p=>{const m=p.scrollJumpRequest;if(!m)return;const g=jn(p.impact);g||ue();const v=o(p.dimensions.droppables[g],m);if(!v)return;const _=p.viewport,E=l(p.isWindowScrollAllowed,_,v);E&&s(p,E)}},z3=({scrollDroppable:n,scrollWindow:e,move:t,getAutoScrollerOptions:s})=>{const o=L3({scrollWindow:e,scrollDroppable:n,getAutoScrollerOptions:s}),l=U3({move:t,scrollWindow:e,scrollDroppable:n});return{scroll:m=>{if(!(s().disabled||m.phase!=="DRAGGING")){if(m.movementMode==="FLUID"){o.scroll(m);return}m.scrollJumpRequest&&l(m)}},start:o.start,stop:o.stop}};const Oo="data-rfd",Mo=(()=>{const n=`${Oo}-drag-handle`;return{base:n,draggableId:`${n}-draggable-id`,contextId:`${n}-context-id`}})(),tg=(()=>{const n=`${Oo}-draggable`;return{base:n,contextId:`${n}-context-id`,id:`${n}-id`}})(),j3=(()=>{const n=`${Oo}-droppable`;return{base:n,contextId:`${n}-context-id`,id:`${n}-id`}})(),cw={contextId:`${Oo}-scroll-container-context-id`},B3=n=>e=>`[${e}="${n}"]`,Jl=(n,e)=>n.map(t=>{const s=t.styles[e];return s?`${t.selector} { ${s} }`:""}).join(" "),H3="pointer-events: none;";var q3=n=>{const e=B3(n),t=(()=>{const p=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(Mo.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:p,dragging:H3,dropAnimating:p}}})(),s=(()=>{const p=`
      transition: ${dc.outOfTheWay};
    `;return{selector:e(tg.contextId),styles:{dragging:p,dropAnimating:p,userCancel:p}}})(),o={selector:e(j3.contextId),styles:{always:"overflow-anchor: none;"}},u=[s,t,o,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Jl(u,"always"),resting:Jl(u,"resting"),dragging:Jl(u,"dragging"),dropAnimating:Jl(u,"dropAnimating"),userCancel:Jl(u,"userCancel")}};const Bn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?re.useLayoutEffect:re.useEffect,gm=()=>{const n=document.querySelector("head");return n||ue(),n},uw=n=>{const e=document.createElement("style");return n&&e.setAttribute("nonce",n),e.type="text/css",e};function G3(n,e){const t=Xe(()=>q3(n),[n]),s=re.useRef(null),o=re.useRef(null),l=be(Wt(_=>{const E=o.current;E||ue(),E.textContent=_}),[]),u=be(_=>{const E=s.current;E||ue(),E.textContent=_},[]);Bn(()=>{!s.current&&!o.current||ue();const _=uw(e),E=uw(e);return s.current=_,o.current=E,_.setAttribute(`${Oo}-always`,n),E.setAttribute(`${Oo}-dynamic`,n),gm().appendChild(_),gm().appendChild(E),u(t.always),l(t.resting),()=>{const S=V=>{const U=V.current;U||ue(),gm().removeChild(U),V.current=null};S(s),S(o)}},[e,u,l,t.always,t.resting,n]);const p=be(()=>l(t.dragging),[l,t.dragging]),m=be(_=>{if(_==="DROP"){l(t.dropAnimating);return}l(t.userCancel)},[l,t.dropAnimating,t.userCancel]),g=be(()=>{o.current&&l(t.resting)},[l,t.resting]);return Xe(()=>({dragging:p,dropping:m,resting:g}),[p,m,g])}function W1(n,e){return Array.from(n.querySelectorAll(e))}var J1=n=>n&&n.ownerDocument&&n.ownerDocument.defaultView?n.ownerDocument.defaultView:window;function Hd(n){return n instanceof J1(n).HTMLElement}function F3(n,e){const t=`[${Mo.contextId}="${n}"]`,s=W1(document,t);if(!s.length)return null;const o=s.find(l=>l.getAttribute(Mo.draggableId)===e);return!o||!Hd(o)?null:o}function $3(n){const e=re.useRef({}),t=re.useRef(null),s=re.useRef(null),o=re.useRef(!1),l=be(function(E,S){const V={id:E,focus:S};return e.current[E]=V,function(){const L=e.current;L[E]!==V&&delete L[E]}},[]),u=be(function(E){const S=F3(n,E);S&&S!==document.activeElement&&S.focus()},[n]),p=be(function(E,S){t.current===E&&(t.current=S)},[]),m=be(function(){s.current||o.current&&(s.current=requestAnimationFrame(()=>{s.current=null;const E=t.current;E&&u(E)}))},[u]),g=be(function(E){t.current=null;const S=document.activeElement;S&&S.getAttribute(Mo.draggableId)===E&&(t.current=E)},[]);return Bn(()=>(o.current=!0,function(){o.current=!1;const E=s.current;E&&cancelAnimationFrame(E)}),[]),Xe(()=>({register:l,tryRecordFocus:g,tryRestoreFocusRecorded:m,tryShiftRecord:p}),[l,g,m,p])}function Y3(){const n={draggables:{},droppables:{}},e=[];function t(_){return e.push(_),function(){const S=e.indexOf(_);S!==-1&&e.splice(S,1)}}function s(_){e.length&&e.forEach(E=>E(_))}function o(_){return n.draggables[_]||null}function l(_){const E=o(_);return E||ue(),E}const u={register:_=>{n.draggables[_.descriptor.id]=_,s({type:"ADDITION",value:_})},update:(_,E)=>{const S=n.draggables[E.descriptor.id];S&&S.uniqueId===_.uniqueId&&(delete n.draggables[E.descriptor.id],n.draggables[_.descriptor.id]=_)},unregister:_=>{const E=_.descriptor.id,S=o(E);S&&_.uniqueId===S.uniqueId&&(delete n.draggables[E],n.droppables[_.descriptor.droppableId]&&s({type:"REMOVAL",value:_}))},getById:l,findById:o,exists:_=>!!o(_),getAllByType:_=>Object.values(n.draggables).filter(E=>E.descriptor.type===_)};function p(_){return n.droppables[_]||null}function m(_){const E=p(_);return E||ue(),E}const g={register:_=>{n.droppables[_.descriptor.id]=_},unregister:_=>{const E=p(_.descriptor.id);E&&_.uniqueId===E.uniqueId&&delete n.droppables[_.descriptor.id]},getById:m,findById:p,exists:_=>!!p(_),getAllByType:_=>Object.values(n.droppables).filter(E=>E.descriptor.type===_)};function v(){n.draggables={},n.droppables={},e.length=0}return{draggable:u,droppable:g,subscribe:t,clean:v}}function K3(){const n=Xe(Y3,[]);return re.useEffect(()=>function(){n.clean()},[n]),n}var yy=ht.createContext(null),gd=()=>{const n=document.body;return n||ue(),n};const Q3={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},X3=n=>`rfd-announcement-${n}`;function W3(n){const e=Xe(()=>X3(n),[n]),t=re.useRef(null);return re.useEffect(function(){const l=document.createElement("div");return t.current=l,l.id=e,l.setAttribute("aria-live","assertive"),l.setAttribute("aria-atomic","true"),dd(l.style,Q3),gd().appendChild(l),function(){setTimeout(function(){const m=gd();m.contains(l)&&m.removeChild(l),l===t.current&&(t.current=null)})}},[e]),be(o=>{const l=t.current;if(l){l.textContent=o;return}},[])}const J3={separator:"::"};function vy(n,e=J3){const t=ht.useId();return Xe(()=>`${n}${e.separator}${t}`,[e.separator,n,t])}function Z3({contextId:n,uniqueId:e}){return`rfd-hidden-text-${n}-${e}`}function e5({contextId:n,text:e}){const t=vy("hidden-text",{separator:"-"}),s=Xe(()=>Z3({contextId:n,uniqueId:t}),[t,n]);return re.useEffect(function(){const l=document.createElement("div");return l.id=s,l.textContent=e,l.style.display="none",gd().appendChild(l),function(){const p=gd();p.contains(l)&&p.removeChild(l)}},[s,e]),s}var qd=ht.createContext(null);function Z1(n){const e=re.useRef(n);return re.useEffect(()=>{e.current=n}),e}function t5(){let n=null;function e(){return!!n}function t(u){return u===n}function s(u){n&&ue();const p={abandon:u};return n=p,p}function o(){n||ue(),n=null}function l(){n&&(n.abandon(),o())}return{isClaimed:e,isActive:t,claim:s,release:o,tryAbandon:l}}function Rc(n){return n.phase==="IDLE"||n.phase==="DROP_ANIMATING"?!1:n.isDragging}const n5=9,r5=13,_y=27,eA=32,i5=33,s5=34,a5=35,o5=36,l5=37,c5=38,u5=39,f5=40,d5={[r5]:!0,[n5]:!0};var tA=n=>{d5[n.keyCode]&&n.preventDefault()};const Gd=(()=>{const n="visibilitychange";return typeof document>"u"?n:[n,`ms${n}`,`webkit${n}`,`moz${n}`,`o${n}`].find(s=>`on${s}`in document)||n})(),nA=0,fw=5;function h5(n,e){return Math.abs(e.x-n.x)>=fw||Math.abs(e.y-n.y)>=fw}const dw={type:"IDLE"};function p5({cancel:n,completed:e,getPhase:t,setPhase:s}){return[{eventName:"mousemove",fn:o=>{const{button:l,clientX:u,clientY:p}=o;if(l!==nA)return;const m={x:u,y:p},g=t();if(g.type==="DRAGGING"){o.preventDefault(),g.actions.move(m);return}g.type!=="PENDING"&&ue();const v=g.point;if(!h5(v,m))return;o.preventDefault();const _=g.actions.fluidLift(m);s({type:"DRAGGING",actions:_})}},{eventName:"mouseup",fn:o=>{const l=t();if(l.type!=="DRAGGING"){n();return}o.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"mousedown",fn:o=>{t().type==="DRAGGING"&&o.preventDefault(),n()}},{eventName:"keydown",fn:o=>{if(t().type==="PENDING"){n();return}if(o.keyCode===_y){o.preventDefault(),n();return}tA(o)}},{eventName:"resize",fn:n},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{t().type==="PENDING"&&n()}},{eventName:"webkitmouseforcedown",fn:o=>{const l=t();if(l.type==="IDLE"&&ue(),l.actions.shouldRespectForcePress()){n();return}o.preventDefault()}},{eventName:Gd,fn:n}]}function m5(n){const e=re.useRef(dw),t=re.useRef(Es),s=Xe(()=>({eventName:"mousedown",fn:function(_){if(_.defaultPrevented||_.button!==nA||_.ctrlKey||_.metaKey||_.shiftKey||_.altKey)return;const E=n.findClosestDraggableId(_);if(!E)return;const S=n.tryGetLock(E,u,{sourceEvent:_});if(!S)return;_.preventDefault();const V={x:_.clientX,y:_.clientY};t.current(),g(S,V)}}),[n]),o=Xe(()=>({eventName:"webkitmouseforcewillbegin",fn:v=>{if(v.defaultPrevented)return;const _=n.findClosestDraggableId(v);if(!_)return;const E=n.findOptionsForDraggable(_);E&&(E.shouldRespectForcePress||n.canGetLock(_)&&v.preventDefault())}}),[n]),l=be(function(){const _={passive:!1,capture:!0};t.current=sr(window,[o,s],_)},[o,s]),u=be(()=>{e.current.type!=="IDLE"&&(e.current=dw,t.current(),l())},[l]),p=be(()=>{const v=e.current;u(),v.type==="DRAGGING"&&v.actions.cancel({shouldBlockNextClick:!0}),v.type==="PENDING"&&v.actions.abort()},[u]),m=be(function(){const _={capture:!0,passive:!1},E=p5({cancel:p,completed:u,getPhase:()=>e.current,setPhase:S=>{e.current=S}});t.current=sr(window,E,_)},[p,u]),g=be(function(_,E){e.current.type!=="IDLE"&&ue(),e.current={type:"PENDING",point:E,actions:_},m()},[m]);Bn(function(){return l(),function(){t.current()}},[l])}function g5(){}const y5={[s5]:!0,[i5]:!0,[o5]:!0,[a5]:!0};function v5(n,e){function t(){e(),n.cancel()}function s(){e(),n.drop()}return[{eventName:"keydown",fn:o=>{if(o.keyCode===_y){o.preventDefault(),t();return}if(o.keyCode===eA){o.preventDefault(),s();return}if(o.keyCode===f5){o.preventDefault(),n.moveDown();return}if(o.keyCode===c5){o.preventDefault(),n.moveUp();return}if(o.keyCode===u5){o.preventDefault(),n.moveRight();return}if(o.keyCode===l5){o.preventDefault(),n.moveLeft();return}if(y5[o.keyCode]){o.preventDefault();return}tA(o)}},{eventName:"mousedown",fn:t},{eventName:"mouseup",fn:t},{eventName:"click",fn:t},{eventName:"touchstart",fn:t},{eventName:"resize",fn:t},{eventName:"wheel",fn:t,options:{passive:!0}},{eventName:Gd,fn:t}]}function _5(n){const e=re.useRef(g5),t=Xe(()=>({eventName:"keydown",fn:function(l){if(l.defaultPrevented||l.keyCode!==eA)return;const u=n.findClosestDraggableId(l);if(!u)return;const p=n.tryGetLock(u,v,{sourceEvent:l});if(!p)return;l.preventDefault();let m=!0;const g=p.snapLift();e.current();function v(){m||ue(),m=!1,e.current(),s()}e.current=sr(window,v5(g,v),{capture:!0,passive:!1})}}),[n]),s=be(function(){const l={passive:!1,capture:!0};e.current=sr(window,[t],l)},[t]);Bn(function(){return s(),function(){e.current()}},[s])}const ym={type:"IDLE"},b5=120,E5=.15;function w5({cancel:n,getPhase:e}){return[{eventName:"orientationchange",fn:n},{eventName:"resize",fn:n},{eventName:"contextmenu",fn:t=>{t.preventDefault()}},{eventName:"keydown",fn:t=>{if(e().type!=="DRAGGING"){n();return}t.keyCode===_y&&t.preventDefault(),n()}},{eventName:Gd,fn:n}]}function T5({cancel:n,completed:e,getPhase:t}){return[{eventName:"touchmove",options:{capture:!1},fn:s=>{const o=t();if(o.type!=="DRAGGING"){n();return}o.hasMoved=!0;const{clientX:l,clientY:u}=s.touches[0],p={x:l,y:u};s.preventDefault(),o.actions.move(p)}},{eventName:"touchend",fn:s=>{const o=t();if(o.type!=="DRAGGING"){n();return}s.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"touchcancel",fn:s=>{if(t().type!=="DRAGGING"){n();return}s.preventDefault(),n()}},{eventName:"touchforcechange",fn:s=>{const o=t();o.type==="IDLE"&&ue();const l=s.touches[0];if(!l||!(l.force>=E5))return;const p=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){p&&n();return}if(p){if(o.hasMoved){s.preventDefault();return}n();return}s.preventDefault()}},{eventName:Gd,fn:n}]}function S5(n){const e=re.useRef(ym),t=re.useRef(Es),s=be(function(){return e.current},[]),o=be(function(S){e.current=S},[]),l=Xe(()=>({eventName:"touchstart",fn:function(S){if(S.defaultPrevented)return;const V=n.findClosestDraggableId(S);if(!V)return;const U=n.tryGetLock(V,p,{sourceEvent:S});if(!U)return;const L=S.touches[0],{clientX:Y,clientY:X}=L,ae={x:Y,y:X};t.current(),_(U,ae)}}),[n]),u=be(function(){const S={capture:!0,passive:!1};t.current=sr(window,[l],S)},[l]),p=be(()=>{const E=e.current;E.type!=="IDLE"&&(E.type==="PENDING"&&clearTimeout(E.longPressTimerId),o(ym),t.current(),u())},[u,o]),m=be(()=>{const E=e.current;p(),E.type==="DRAGGING"&&E.actions.cancel({shouldBlockNextClick:!0}),E.type==="PENDING"&&E.actions.abort()},[p]),g=be(function(){const S={capture:!0,passive:!1},V={cancel:m,completed:p,getPhase:s},U=sr(window,T5(V),S),L=sr(window,w5(V),S);t.current=function(){U(),L()}},[m,s,p]),v=be(function(){const S=s();S.type!=="PENDING"&&ue();const V=S.actions.fluidLift(S.point);o({type:"DRAGGING",actions:V,hasMoved:!1})},[s,o]),_=be(function(S,V){s().type!=="IDLE"&&ue();const U=setTimeout(v,b5);o({type:"PENDING",point:V,actions:S,longPressTimerId:U}),g()},[g,s,o,v]);Bn(function(){return u(),function(){t.current();const V=s();V.type==="PENDING"&&(clearTimeout(V.longPressTimerId),o(ym))}},[s,u,o]),Bn(function(){return sr(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const A5=["input","button","textarea","select","option","optgroup","video","audio"];function rA(n,e){if(e==null)return!1;if(A5.includes(e.tagName.toLowerCase()))return!0;const s=e.getAttribute("contenteditable");return s==="true"||s===""?!0:e===n?!1:rA(n,e.parentElement)}function x5(n,e){const t=e.target;return Hd(t)?rA(n,t):!1}var I5=n=>Er(n.getBoundingClientRect()).center;function R5(n){return n instanceof J1(n).Element}const C5=(()=>{const n="matches";return typeof document>"u"?n:[n,"msMatchesSelector","webkitMatchesSelector"].find(s=>s in Element.prototype)||n})();function iA(n,e){return n==null?null:n[C5](e)?n:iA(n.parentElement,e)}function D5(n,e){return n.closest?n.closest(e):iA(n,e)}function N5(n){return`[${Mo.contextId}="${n}"]`}function O5(n,e){const t=e.target;if(!R5(t))return null;const s=N5(n),o=D5(t,s);return!o||!Hd(o)?null:o}function M5(n,e){const t=O5(n,e);return t?t.getAttribute(Mo.draggableId):null}function V5(n,e){const t=`[${tg.contextId}="${n}"]`,o=W1(document,t).find(l=>l.getAttribute(tg.id)===e);return!o||!Hd(o)?null:o}function P5(n){n.preventDefault()}function If({expected:n,phase:e,isLockActive:t,shouldWarn:s}){return!(!t()||n!==e)}function sA({lockAPI:n,store:e,registry:t,draggableId:s}){if(n.isClaimed())return!1;const o=t.draggable.findById(s);return!(!o||!o.options.isEnabled||!Y1(e.getState(),s))}function k5({lockAPI:n,contextId:e,store:t,registry:s,draggableId:o,forceSensorStop:l,sourceEvent:u}){if(!sA({lockAPI:n,store:t,registry:s,draggableId:o}))return null;const m=s.draggable.getById(o),g=V5(e,m.descriptor.id);if(!g||u&&!m.options.canDragInteractiveElements&&x5(g,u))return null;const v=n.claim(l||Es);let _="PRE_DRAG";function E(){return m.options.shouldRespectForcePress}function S(){return n.isActive(v)}function V(oe,ie){If({expected:oe,phase:_,isLockActive:S,shouldWarn:!0})&&t.dispatch(ie())}const U=V.bind(null,"DRAGGING");function L(oe){function ie(){n.release(),_="COMPLETED"}_!=="PRE_DRAG"&&(ie(),ue()),t.dispatch(D6(oe.liftActionArgs)),_="DRAGGING";function I(x,R={shouldBlockNextClick:!1}){if(oe.cleanup(),R.shouldBlockNextClick){const O=sr(window,[{eventName:"click",fn:P5,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(O)}ie(),t.dispatch(z1({reason:x}))}return{isActive:()=>If({expected:"DRAGGING",phase:_,isLockActive:S,shouldWarn:!1}),shouldRespectForcePress:E,drop:x=>I("DROP",x),cancel:x=>I("CANCEL",x),...oe.actions}}function Y(oe){const ie=wc(x=>{U(()=>U1({client:x}))});return{...L({liftActionArgs:{id:o,clientSelection:oe,movementMode:"FLUID"},cleanup:()=>ie.cancel(),actions:{move:ie}}),move:ie}}function X(){const oe={moveUp:()=>U(z6),moveRight:()=>U(B6),moveDown:()=>U(j6),moveLeft:()=>U(H6)};return L({liftActionArgs:{id:o,clientSelection:I5(g),movementMode:"SNAP"},cleanup:Es,actions:oe})}function ae(){If({expected:"PRE_DRAG",phase:_,isLockActive:S,shouldWarn:!0})&&n.release()}return{isActive:()=>If({expected:"PRE_DRAG",phase:_,isLockActive:S,shouldWarn:!1}),shouldRespectForcePress:E,fluidLift:Y,snapLift:X,abort:ae}}const L5=[m5,_5,S5];function U5({contextId:n,store:e,registry:t,customSensors:s,enableDefaultSensors:o}){const l=[...o?L5:[],...s||[]],u=re.useState(()=>t5())[0],p=be(function(L,Y){Rc(L)&&!Rc(Y)&&u.tryAbandon()},[u]);Bn(function(){let L=e.getState();return e.subscribe(()=>{const X=e.getState();p(L,X),L=X})},[u,e,p]),Bn(()=>u.tryAbandon,[u.tryAbandon]);const m=be(U=>sA({lockAPI:u,registry:t,store:e,draggableId:U}),[u,t,e]),g=be((U,L,Y)=>k5({lockAPI:u,registry:t,contextId:n,store:e,draggableId:U,forceSensorStop:L||null,sourceEvent:Y&&Y.sourceEvent?Y.sourceEvent:null}),[n,u,t,e]),v=be(U=>M5(n,U),[n]),_=be(U=>{const L=t.draggable.findById(U);return L?L.options:null},[t.draggable]),E=be(function(){u.isClaimed()&&(u.tryAbandon(),e.getState().phase!=="IDLE"&&e.dispatch(uy()))},[u,e]),S=be(()=>u.isClaimed(),[u]),V=Xe(()=>({canGetLock:m,tryGetLock:g,findClosestDraggableId:v,findOptionsForDraggable:_,tryReleaseLock:E,isLockClaimed:S}),[m,g,v,_,E,S]);for(let U=0;U<l.length;U++)l[U](V)}const z5=n=>({onBeforeCapture:e=>{const t=()=>{n.onBeforeCapture&&n.onBeforeCapture(e)};Jg.flushSync(t)},onBeforeDragStart:n.onBeforeDragStart,onDragStart:n.onDragStart,onDragEnd:n.onDragEnd,onDragUpdate:n.onDragUpdate}),j5=n=>({...Ic,...n.autoScrollerOptions,durationDampening:{...Ic.durationDampening,...n.autoScrollerOptions}});function Zl(n){return n.current||ue(),n.current}function B5(n){const{contextId:e,setCallbacks:t,sensors:s,nonce:o,dragHandleUsageInstructions:l}=n,u=re.useRef(null),p=Z1(n),m=be(()=>z5(p.current),[p]),g=be(()=>j5(p.current),[p]),v=W3(e),_=e5({contextId:e,text:l}),E=G3(e,o),S=be(O=>{Zl(u).dispatch(O)},[]),V=Xe(()=>UE({publishWhileDragging:O6,updateDroppableScroll:V6,updateDroppableIsEnabled:P6,updateDroppableIsCombineEnabled:k6,collectionStarting:M6},S),[S]),U=K3(),L=Xe(()=>w3(U,V),[U,V]),Y=Xe(()=>z3({scrollWindow:T3,scrollDroppable:L.scrollDroppable,getAutoScrollerOptions:g,...UE({move:U1},S)}),[L.scrollDroppable,S,g]),X=$3(e),ae=Xe(()=>v3({announce:v,autoScroller:Y,dimensionMarshal:L,focusMarshal:X,getResponders:m,styleMarshal:E}),[v,Y,L,X,m,E]);u.current=ae;const se=be(()=>{const O=Zl(u);O.getState().phase!=="IDLE"&&O.dispatch(uy())},[]),oe=be(()=>{const O=Zl(u).getState();return O.phase==="DROP_ANIMATING"?!0:O.phase==="IDLE"?!1:O.isDragging},[]),ie=Xe(()=>({isDragging:oe,tryAbort:se}),[oe,se]);t(ie);const I=be(O=>Y1(Zl(u).getState(),O),[]),x=be(()=>ca(Zl(u).getState()),[]),R=Xe(()=>({marshal:L,focus:X,contextId:e,canLift:I,isMovementAllowed:x,dragHandleUsageInstructionsId:_,registry:U}),[e,L,_,X,I,x,U]);return U5({contextId:e,store:ae,registry:U,customSensors:s||null,enableDefaultSensors:n.enableDefaultSensors!==!1}),re.useEffect(()=>se,[se]),ht.createElement(qd.Provider,{value:R},ht.createElement(dV,{context:yy,store:ae},n.children))}function H5(){return ht.useId()}function q5(n){const e=H5(),t=n.dragHandleUsageInstructions||jf.dragHandleUsageInstructions;return ht.createElement(_V,null,s=>ht.createElement(B5,{nonce:n.nonce,contextId:e,setCallbacks:s,dragHandleUsageInstructions:t,enableDefaultSensors:n.enableDefaultSensors,sensors:n.sensors,onBeforeCapture:n.onBeforeCapture,onBeforeDragStart:n.onBeforeDragStart,onDragStart:n.onDragStart,onDragUpdate:n.onDragUpdate,onDragEnd:n.onDragEnd,autoScrollerOptions:n.autoScrollerOptions},n.children))}const hw={dragging:5e3,dropAnimating:4500},G5=(n,e)=>e?dc.drop(e.duration):n?dc.snap:dc.fluid,F5=(n,e)=>{if(n)return e?xc.opacity.drop:xc.opacity.combining},$5=n=>n.forceShouldAnimate!=null?n.forceShouldAnimate:n.mode==="SNAP";function Y5(n){const t=n.dimension.client,{offset:s,combineWith:o,dropping:l}=n,u=!!o,p=$5(n),m=!!l,g=m?Zm.drop(s,u):Zm.moveTo(s);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:G5(p,l),transform:g,opacity:F5(u,m),zIndex:m?hw.dropAnimating:hw.dragging,pointerEvents:"none"}}function K5(n){return{transform:Zm.moveTo(n.offset),transition:n.shouldAnimateDisplacement?void 0:"none"}}function Q5(n){return n.type==="DRAGGING"?Y5(n):K5(n)}function X5(n,e,t=Jt){const s=window.getComputedStyle(e),o=e.getBoundingClientRect(),l=d1(o,s),u=fd(l,t),p={client:l,tagName:e.tagName.toLowerCase(),display:s.display},m={x:l.marginBox.width,y:l.marginBox.height};return{descriptor:n,placeholder:p,displaceBy:m,client:l,page:u}}function W5(n){const e=vy("draggable"),{descriptor:t,registry:s,getDraggableRef:o,canDragInteractiveElements:l,shouldRespectForcePress:u,isEnabled:p}=n,m=Xe(()=>({canDragInteractiveElements:l,shouldRespectForcePress:u,isEnabled:p}),[l,p,u]),g=be(S=>{const V=o();return V||ue(),X5(t,V,S)},[t,o]),v=Xe(()=>({uniqueId:e,descriptor:t,options:m,getDimension:g}),[t,g,m,e]),_=re.useRef(v),E=re.useRef(!0);Bn(()=>(s.draggable.register(_.current),()=>s.draggable.unregister(_.current)),[s.draggable]),Bn(()=>{if(E.current){E.current=!1;return}const S=_.current;_.current=v,s.draggable.update(v,S)},[v,s.draggable])}var by=ht.createContext(null);function yd(n){const e=re.useContext(n);return e||ue(),e}function J5(n){n.preventDefault()}const Z5=n=>{const e=re.useRef(null),t=be((ie=null)=>{e.current=ie},[]),s=be(()=>e.current,[]),{contextId:o,dragHandleUsageInstructionsId:l,registry:u}=yd(qd),{type:p,droppableId:m}=yd(by),g=Xe(()=>({id:n.draggableId,index:n.index,type:p,droppableId:m}),[n.draggableId,n.index,p,m]),{children:v,draggableId:_,isEnabled:E,shouldRespectForcePress:S,canDragInteractiveElements:V,isClone:U,mapped:L,dropAnimationFinished:Y}=n;if(!U){const ie=Xe(()=>({descriptor:g,registry:u,getDraggableRef:s,canDragInteractiveElements:V,shouldRespectForcePress:S,isEnabled:E}),[g,u,s,V,S,E]);W5(ie)}const X=Xe(()=>E?{tabIndex:0,role:"button","aria-describedby":l,"data-rfd-drag-handle-draggable-id":_,"data-rfd-drag-handle-context-id":o,draggable:!1,onDragStart:J5}:null,[o,l,_,E]),ae=be(ie=>{L.type==="DRAGGING"&&L.dropping&&ie.propertyName==="transform"&&Jg.flushSync(Y)},[Y,L]),se=Xe(()=>{const ie=Q5(L),I=L.type==="DRAGGING"&&L.dropping?ae:void 0;return{innerRef:t,draggableProps:{"data-rfd-draggable-context-id":o,"data-rfd-draggable-id":_,style:ie,onTransitionEnd:I},dragHandleProps:X}},[o,X,_,L,ae,t]),oe=Xe(()=>({draggableId:g.id,type:g.type,source:{index:g.index,droppableId:g.droppableId}}),[g.droppableId,g.id,g.index,g.type]);return ht.createElement(ht.Fragment,null,v(se,L.snapshot,oe))};var aA=(n,e)=>n===e,oA=n=>{const{combine:e,destination:t}=n;return t?t.droppableId:e?e.droppableId:null};const eP=n=>n.combine?n.combine.draggableId:null,tP=n=>n.at&&n.at.type==="COMBINE"?n.at.combine.draggableId:null;function nP(){const n=Wt((o,l)=>({x:o,y:l})),e=Wt((o,l,u=null,p=null,m=null)=>({isDragging:!0,isClone:l,isDropAnimating:!!m,dropAnimation:m,mode:o,draggingOver:u,combineWith:p,combineTargetFor:null})),t=Wt((o,l,u,p,m=null,g=null,v=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:m,combineWith:g,mode:l,offset:o,dimension:u,forceShouldAnimate:v,snapshot:e(l,p,m,g,null)}}));return(o,l)=>{if(Rc(o)){if(o.critical.draggable.id!==l.draggableId)return null;const u=o.current.client.offset,p=o.dimensions.draggables[l.draggableId],m=jn(o.impact),g=tP(o.impact),v=o.forceShouldAnimate;return t(n(u.x,u.y),o.movementMode,p,l.isClone,m,g,v)}if(o.phase==="DROP_ANIMATING"){const u=o.completed;if(u.result.draggableId!==l.draggableId)return null;const p=l.isClone,m=o.dimensions.draggables[l.draggableId],g=u.result,v=g.mode,_=oA(g),E=eP(g),V={duration:o.dropDuration,curve:dy.drop,moveTo:o.newHomeClientOffset,opacity:E?xc.opacity.drop:null,scale:E?xc.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:m,dropping:V,draggingOver:_,combineWith:E,mode:v,forceShouldAnimate:null,snapshot:e(v,p,_,E,V)}}}return null}}function lA(n=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:n,combineWith:null}}const rP={mapped:{type:"SECONDARY",offset:Jt,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:lA(null)}};function iP(){const n=Wt((u,p)=>({x:u,y:p})),e=Wt(lA),t=Wt((u,p=null,m)=>({mapped:{type:"SECONDARY",offset:u,combineTargetFor:p,shouldAnimateDisplacement:m,snapshot:e(p)}})),s=u=>u?t(Jt,u,!0):null,o=(u,p,m,g)=>{const v=m.displaced.visible[u],_=!!(g.inVirtualList&&g.effected[u]),E=zd(m),S=E&&E.draggableId===u?p:null;if(!v){if(!_)return s(S);if(m.displaced.invisible[u])return null;const L=Ho(g.displacedBy.point),Y=n(L.x,L.y);return t(Y,S,!0)}if(_)return s(S);const V=m.displacedBy.point,U=n(V.x,V.y);return t(U,S,v.shouldAnimate)};return(u,p)=>{if(Rc(u))return u.critical.draggable.id===p.draggableId?null:o(p.draggableId,u.critical.draggable.id,u.impact,u.afterCritical);if(u.phase==="DROP_ANIMATING"){const m=u.completed;return m.result.draggableId===p.draggableId?null:o(p.draggableId,m.result.draggableId,m.impact,m.afterCritical)}return null}}const sP=()=>{const n=nP(),e=iP();return(s,o)=>n(s,o)||e(s,o)||rP},aP={dropAnimationFinished:j1},oP=f1(sP,aP,null,{context:yy,areStatePropsEqual:aA})(Z5);function cA(n){return yd(by).isUsingCloneFor===n.draggableId&&!n.isClone?null:ht.createElement(oP,n)}function lP(n){const e=typeof n.isDragDisabled=="boolean"?!n.isDragDisabled:!0,t=!!n.disableInteractiveElementBlocking,s=!!n.shouldRespectForcePress;return ht.createElement(cA,dd({},n,{isClone:!1,isEnabled:e,canDragInteractiveElements:t,shouldRespectForcePress:s}))}const uA=n=>e=>n===e,cP=uA("scroll"),uP=uA("auto"),pw=(n,e)=>e(n.overflowX)||e(n.overflowY),fP=n=>{const e=window.getComputedStyle(n),t={overflowX:e.overflowX,overflowY:e.overflowY};return pw(t,cP)||pw(t,uP)},dP=()=>!1,fA=n=>n==null?null:n===document.body?dP()?n:null:n===document.documentElement?null:fP(n)?n:fA(n.parentElement);var ng=n=>({x:n.scrollLeft,y:n.scrollTop});const dA=n=>n?window.getComputedStyle(n).position==="fixed"?!0:dA(n.parentElement):!1;var hP=n=>{const e=fA(n),t=dA(n);return{closestScrollable:e,isFixedOnPage:t}},pP=({descriptor:n,isEnabled:e,isCombineEnabled:t,isFixedOnPage:s,direction:o,client:l,page:u,closest:p})=>{const m=(()=>{if(!p)return null;const{scrollSize:E,client:S}=p,V=G1({scrollHeight:E.scrollHeight,scrollWidth:E.scrollWidth,height:S.paddingBox.height,width:S.paddingBox.width});return{pageMarginBox:p.page.marginBox,frameClient:S,scrollSize:E,shouldClipSubject:p.shouldClipSubject,scroll:{initial:p.scroll,current:p.scroll,max:V,diff:{value:Jt,displacement:Jt}}}})(),g=o==="vertical"?sy:T1,v=No({page:u,withPlaceholder:null,axis:g,frame:m});return{descriptor:n,isCombineEnabled:t,isFixedOnPage:s,axis:g,isEnabled:e,client:l,page:u,frame:m,subject:v}};const mP=(n,e)=>{const t=h1(n);if(!e||n!==e)return t;const s=t.paddingBox.top-e.scrollTop,o=t.paddingBox.left-e.scrollLeft,l=s+e.scrollHeight,u=o+e.scrollWidth,m=ty({top:s,right:u,bottom:l,left:o},t.border);return ny({borderBox:m,margin:t.margin,border:t.border,padding:t.padding})};var gP=({ref:n,descriptor:e,env:t,windowScroll:s,direction:o,isDropDisabled:l,isCombineEnabled:u,shouldClipSubject:p})=>{const m=t.closestScrollable,g=mP(n,m),v=fd(g,s),_=(()=>{if(!m)return null;const S=h1(m),V={scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth};return{client:S,page:fd(S,s),scroll:ng(m),scrollSize:V,shouldClipSubject:p}})();return pP({descriptor:e,isEnabled:!l,isCombineEnabled:u,isFixedOnPage:t.isFixedOnPage,direction:o,client:g,page:v,closest:_})};const yP={passive:!1},vP={passive:!0};var mw=n=>n.shouldPublishImmediately?yP:vP;const Rf=n=>n&&n.env.closestScrollable||null;function _P(n){const e=re.useRef(null),t=yd(qd),s=vy("droppable"),{registry:o,marshal:l}=t,u=Z1(n),p=Xe(()=>({id:n.droppableId,type:n.type,mode:n.mode}),[n.droppableId,n.mode,n.type]),m=re.useRef(p),g=Xe(()=>Wt((se,oe)=>{e.current||ue();const ie={x:se,y:oe};l.updateDroppableScroll(p.id,ie)}),[p.id,l]),v=be(()=>{const se=e.current;return!se||!se.env.closestScrollable?Jt:ng(se.env.closestScrollable)},[]),_=be(()=>{const se=v();g(se.x,se.y)},[v,g]),E=Xe(()=>wc(_),[_]),S=be(()=>{const se=e.current,oe=Rf(se);if(se&&oe||ue(),se.scrollOptions.shouldPublishImmediately){_();return}E()},[E,_]),V=be((se,oe)=>{e.current&&ue();const ie=u.current,I=ie.getDroppableRef();I||ue();const x=hP(I),R={ref:I,descriptor:p,env:x,scrollOptions:oe};e.current=R;const O=gP({ref:I,descriptor:p,env:x,windowScroll:se,direction:ie.direction,isDropDisabled:ie.isDropDisabled,isCombineEnabled:ie.isCombineEnabled,shouldClipSubject:!ie.ignoreContainerClipping}),N=x.closestScrollable;return N&&(N.setAttribute(cw.contextId,t.contextId),N.addEventListener("scroll",S,mw(R.scrollOptions))),O},[t.contextId,p,S,u]),U=be(()=>{const se=e.current,oe=Rf(se);return se&&oe||ue(),ng(oe)},[]),L=be(()=>{const se=e.current;se||ue();const oe=Rf(se);e.current=null,oe&&(E.cancel(),oe.removeAttribute(cw.contextId),oe.removeEventListener("scroll",S,mw(se.scrollOptions)))},[S,E]),Y=be(se=>{const oe=e.current;oe||ue();const ie=Rf(oe);ie||ue(),ie.scrollTop+=se.y,ie.scrollLeft+=se.x},[]),X=Xe(()=>({getDimensionAndWatchScroll:V,getScrollWhileDragging:U,dragStopped:L,scroll:Y}),[L,V,U,Y]),ae=Xe(()=>({uniqueId:s,descriptor:p,callbacks:X}),[X,p,s]);Bn(()=>(m.current=ae.descriptor,o.droppable.register(ae),()=>{e.current&&L(),o.droppable.unregister(ae)}),[X,p,L,ae,l,o.droppable]),Bn(()=>{e.current&&l.updateDroppableIsEnabled(m.current.id,!n.isDropDisabled)},[n.isDropDisabled,l]),Bn(()=>{e.current&&l.updateDroppableIsCombineEnabled(m.current.id,n.isCombineEnabled)},[n.isCombineEnabled,l])}function vm(){}const gw={width:0,height:0,margin:xV},bP=({isAnimatingOpenOnMount:n,placeholder:e,animate:t})=>n||t==="close"?gw:{height:e.client.borderBox.height,width:e.client.borderBox.width,margin:e.client.margin},EP=({isAnimatingOpenOnMount:n,placeholder:e,animate:t})=>{const s=bP({isAnimatingOpenOnMount:n,placeholder:e,animate:t});return{display:e.display,boxSizing:"border-box",width:s.width,height:s.height,marginTop:s.margin.top,marginRight:s.margin.right,marginBottom:s.margin.bottom,marginLeft:s.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:t!=="none"?dc.placeholder:null}},wP=n=>{const e=re.useRef(null),t=be(()=>{e.current&&(clearTimeout(e.current),e.current=null)},[]),{animate:s,onTransitionEnd:o,onClose:l,contextId:u}=n,[p,m]=re.useState(n.animate==="open");re.useEffect(()=>p?s!=="open"?(t(),m(!1),vm):e.current?vm:(e.current=setTimeout(()=>{e.current=null,m(!1)}),t):vm,[s,p,t]);const g=be(_=>{_.propertyName==="height"&&(o(),s==="close"&&l())},[s,l,o]),v=EP({isAnimatingOpenOnMount:p,animate:n.animate,placeholder:n.placeholder});return ht.createElement(n.placeholder.tagName,{style:v,"data-rfd-placeholder-context-id":u,onTransitionEnd:g,ref:n.innerRef})};var TP=ht.memo(wP);class SP extends ht.PureComponent{constructor(...e){super(...e),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!e.on,data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const AP=n=>{const e=re.useContext(qd);e||ue();const{contextId:t,isMovementAllowed:s}=e,o=re.useRef(null),l=re.useRef(null),{children:u,droppableId:p,type:m,mode:g,direction:v,ignoreContainerClipping:_,isDropDisabled:E,isCombineEnabled:S,snapshot:V,useClone:U,updateViewportMaxScroll:L,getContainerForClone:Y}=n,X=be(()=>o.current,[]),ae=be((N=null)=>{o.current=N},[]);be(()=>l.current,[]);const se=be((N=null)=>{l.current=N},[]),oe=be(()=>{s()&&L({maxScroll:$1()})},[s,L]);_P({droppableId:p,type:m,mode:g,direction:v,isDropDisabled:E,isCombineEnabled:S,ignoreContainerClipping:_,getDroppableRef:X});const ie=Xe(()=>ht.createElement(SP,{on:n.placeholder,shouldAnimate:n.shouldAnimatePlaceholder},({onClose:N,data:z,animate:D})=>ht.createElement(TP,{placeholder:z,onClose:N,innerRef:se,animate:D,contextId:t,onTransitionEnd:oe})),[t,oe,n.placeholder,n.shouldAnimatePlaceholder,se]),I=Xe(()=>({innerRef:ae,placeholder:ie,droppableProps:{"data-rfd-droppable-id":p,"data-rfd-droppable-context-id":t}}),[t,p,ie,ae]),x=U?U.dragging.draggableId:null,R=Xe(()=>({droppableId:p,type:m,isUsingCloneFor:x}),[p,x,m]);function O(){if(!U)return null;const{dragging:N,render:z}=U,D=ht.createElement(cA,{draggableId:N.draggableId,index:N.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},($e,_e)=>z($e,_e,N));return fM.createPortal(D,Y())}return ht.createElement(by.Provider,{value:R},u(I,V),O())};function xP(){return document.body||ue(),document.body}const yw={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:xP},hA=n=>{let e={...n},t;for(t in yw)n[t]===void 0&&(e={...e,[t]:yw[t]});return e},_m=(n,e)=>n===e.droppable.type,vw=(n,e)=>e.draggables[n.draggable.id],IP=()=>{const n={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},e={...n,shouldAnimatePlaceholder:!1},t=Wt(l=>({draggableId:l.id,type:l.type,source:{index:l.index,droppableId:l.droppableId}})),s=Wt((l,u,p,m,g,v)=>{const _=g.descriptor.id;if(g.descriptor.droppableId===l){const V=v?{render:v,dragging:t(g.descriptor)}:null,U={isDraggingOver:p,draggingOverWith:p?_:null,draggingFromThisWith:_,isUsingPlaceholder:!0};return{placeholder:g.placeholder,shouldAnimatePlaceholder:!1,snapshot:U,useClone:V}}if(!u)return e;if(!m)return n;const S={isDraggingOver:p,draggingOverWith:_,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:g.placeholder,shouldAnimatePlaceholder:!0,snapshot:S,useClone:null}});return(l,u)=>{const p=hA(u),m=p.droppableId,g=p.type,v=!p.isDropDisabled,_=p.renderClone;if(Rc(l)){const E=l.critical;if(!_m(g,E))return e;const S=vw(E,l.dimensions),V=jn(l.impact)===m;return s(m,v,V,V,S,_)}if(l.phase==="DROP_ANIMATING"){const E=l.completed;if(!_m(g,E.critical))return e;const S=vw(E.critical,l.dimensions);return s(m,v,oA(E.result)===m,jn(E.impact)===m,S,_)}if(l.phase==="IDLE"&&l.completed&&!l.shouldFlush){const E=l.completed;if(!_m(g,E.critical))return e;const S=jn(E.impact)===m,V=!!(E.impact.at&&E.impact.at.type==="COMBINE"),U=E.critical.droppable.id===m;return S?V?n:e:U?n:e}return e}},RP={updateViewportMaxScroll:U6},CP=f1(IP,RP,(n,e,t)=>({...hA(t),...n,...e}),{context:yy,areStatePropsEqual:aA})(AP),DP=({list:n,setList:e,isMidnight:t})=>{if(!n||n.length===0)return null;const[s,o]=re.useState(null),l=()=>{const p=`[]
`+n.map((m,g)=>`${g+1}. [${m.server}] ${m.zone} | ${m.mobName}`).join(`
`);navigator.clipboard.writeText(p).then(()=>{o(""),setTimeout(()=>o(null),2e3)})},u=p=>{if(!p.destination)return;const m=Array.from(n),[g]=m.splice(p.source.index,1);m.splice(p.destination.index,0,g),e(m)};return C.jsx(q5,{onDragEnd:u,children:C.jsxs("div",{className:ge("fixed bottom-4 left-2 right-2 md:left-8 md:right-8 z-50 rounded-3xl border shadow-2xl backdrop-blur-xl animate-in slide-in-from-bottom-10 font-black",t?"bg-[#12141e]/95 border-white/10":"bg-white/95 border-slate-200"),children:[C.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/5",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:ge("p-2 rounded-xl",t?"bg-blue-600/20 text-blue-400":"bg-blue-100 text-blue-600"),children:C.jsx(FO,{className:"w-5 h-5"})}),C.jsxs("div",{children:[C.jsx("div",{className:"text-xs opacity-50 uppercase font-bold",children:"Hunt Train"}),C.jsxs("div",{className:ge("font-black",t?"text-white":"text-slate-900"),children:[" (",n.length,")"]})]})]}),C.jsxs("div",{className:"flex gap-2",children:[C.jsx("button",{onClick:()=>e([]),className:"p-2.5 hover:bg-red-500/20 rounded-xl text-red-500 transition-colors",children:C.jsx(ZO,{className:"w-5 h-5"})}),C.jsx("button",{onClick:l,className:"px-4 py-2 bg-blue-600 text-white rounded-xl text-xs font-black shadow-lg shadow-blue-500/30 active:scale-95 transition-all",children:s||""})]})]}),C.jsx(CP,{droppableId:"train-list",direction:"horizontal",children:p=>C.jsxs("div",{ref:p.innerRef,...p.droppableProps,className:"flex overflow-x-auto gap-3 p-4 custom-scrollbar scroll-smooth",children:[n.map((m,g)=>C.jsx(lP,{draggableId:m.id,index:g,children:(v,_)=>C.jsxs("div",{ref:v.innerRef,...v.draggableProps,...v.dragHandleProps,style:{...v.draggableProps.style},className:ge("shrink-0 p-3 pr-8 rounded-2xl border min-w-[160px] relative group select-none transition-colors",_.isDragging?t?"bg-blue-900/40 border-blue-500 shadow-xl":"bg-blue-50 border-blue-500 shadow-xl":t?"bg-black/20 border-white/5 hover:border-white/20":"bg-slate-50 border-slate-200 hover:border-blue-300"),children:[C.jsxs("div",{className:"text-[9px] font-bold opacity-50 mb-1 flex items-center gap-1",children:[C.jsx("span",{className:"bg-blue-600 text-white px-1.5 rounded-md",children:g+1}),C.jsxs("span",{children:["[",m.server,"] ",m.zone]})]}),C.jsx("div",{className:ge("font-black text-sm truncate",t?"text-slate-200":"text-slate-800"),children:m.mobName}),C.jsx("button",{onPointerDown:E=>E.stopPropagation(),onClick:()=>e(n.filter(E=>E.id!==m.id)),className:ge("absolute top-2 right-2 rounded-full p-1 opacity-0 group-hover:opacity-100 transition-all",t?"bg-red-900 text-red-200":"bg-red-100 text-red-600"),children:C.jsx(Wg,{className:"w-3 h-3"})})]})},m.id)),p.placeholder,C.jsx("div",{className:"w-2 shrink-0"})]})})]})})},NP=["","","","",""],OP=({isOpen:n,onClose:e,eorzeaData:t,isMidnight:s})=>n?C.jsx("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-4 bg-black/90 backdrop-blur-xl animate-in fade-in",children:C.jsxs("div",{className:`border-2 p-8 rounded-[3rem] max-w-4xl w-full shadow-2xl ${s?"bg-[#12141e] border-white/5 text-white":"bg-white border-slate-200"}`,children:[C.jsxs("div",{className:"flex justify-between items-center mb-8",children:[C.jsxs("h2",{className:"text-3xl font-black flex items-center gap-3",children:[C.jsx(TO,{className:"text-blue-400"})," "]}),C.jsx("button",{onClick:e,className:"p-3 rounded-full border-2 hover:bg-white/10",children:C.jsx(Wg,{})})]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[C.jsxs("div",{className:`p-8 rounded-[2.5rem] border flex flex-col justify-center ${s?"bg-white/5 border-white/5":"bg-slate-50"}`,children:[C.jsx("div",{className:"text-xs uppercase tracking-widest opacity-50 mb-2",children:"Current Eorzea Day"}),C.jsxs("div",{className:"text-6xl font-mono font-black mb-4",children:["Day ",t.day]}),C.jsxs("div",{className:"text-2xl text-yellow-500 font-black",children:["Next: ",t.nextIn]})]}),C.jsx("div",{className:"space-y-3",children:NP.map(o=>C.jsxs("div",{className:`p-4 rounded-2xl border flex justify-between items-center ${s?"border-white/10 hover:bg-white/5":"border-slate-200"}`,children:[C.jsx("span",{className:"font-bold",children:o}),C.jsxs("div",{className:"text-right",children:[C.jsx("div",{className:"text-blue-400 font-black",children:ld(o,t.curVal)}),C.jsxs("div",{className:"text-xs opacity-50",children:["Next: ",ld(o,t.nxtVal)]})]})]},o))})]})]})}):null,MP=({isOpen:n,onClose:e,onVerify:t,isMidnight:s})=>{const[o,l]=re.useState("");return n?C.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-6 bg-black/98 backdrop-blur-2xl",children:C.jsxs("div",{className:ge("border-2 p-12 rounded-[4rem] shadow-2xl max-w-sm w-full text-center font-black",s?"bg-[#12141e] border-white/5 text-white":"bg-white border-slate-200 text-slate-900"),children:[C.jsx("h2",{className:"text-3xl mb-12 italic uppercase font-black tracking-tight",children:""}),C.jsx("input",{type:"password",value:o,onChange:u=>l(u.target.value),placeholder:"******",className:ge("w-full border-2 p-6 rounded-[2rem] mb-12 text-center text-4xl outline-none transition-all shadow-inner font-mono font-black",s?"bg-black/50 border-white/10 text-yellow-500 focus:border-yellow-500":"bg-black/5 border-slate-200 focus:border-blue-500"),onKeyDown:u=>u.key==="Enter"&&t(o),autoFocus:!0}),C.jsxs("div",{className:"flex gap-4",children:[C.jsx("button",{onClick:e,className:ge("flex-1 py-5 rounded-3xl border-2 uppercase text-xs font-black hover:opacity-70",s?"border-white/10":"border-slate-200"),children:""}),C.jsx("button",{onClick:()=>t(o),className:"flex-1 py-5 bg-yellow-600 text-white rounded-3xl text-xs font-black uppercase hover:bg-yellow-500 shadow-xl active:scale-95 transition-all",children:""})]})]})}):null},VP="ffxiv-hunt-stable-final-v24",PP=({isOpen:n,onClose:e,server:t,mobId:s,mobName:o,isMidnight:l})=>{const[u,p]=re.useState([]),[m,g]=re.useState(!1);return re.useEffect(()=>{if(!n||!s)return;g(!0);const v=ZD(Hm(Ei,"artifacts",VP,"public","data",`timers-${t}`,s,"history"),eN("timestamp","desc"),tN(50)),_=gS(v,E=>{const S=[];E.forEach(V=>S.push({...V.data(),id:V.id})),p(S),g(!1)},E=>{console.error("History fetch error:",E),g(!1)});return()=>_()},[n,t,s]),n?C.jsx("div",{className:"fixed inset-0 z-[300] flex items-center justify-center p-6 bg-black/80 backdrop-blur-md animate-in fade-in duration-200",children:C.jsxs("div",{className:ge("border-2 rounded-[2.5rem] shadow-2xl w-full max-w-2xl flex flex-col max-h-[80vh] overflow-hidden transition-all",l?"bg-[#12141e] border-white/10 text-slate-300":"bg-white border-slate-200 text-slate-700"),children:[C.jsxs("div",{className:"p-6 md:p-8 border-b border-white/5 flex justify-between items-center shrink-0",children:[C.jsxs("h3",{className:"text-xl md:text-2xl font-black flex items-center gap-3",children:[C.jsx("span",{className:"bg-blue-600 text-white p-2 md:p-2.5 rounded-xl",children:C.jsx(Ym,{className:"w-5 h-5 md:w-6 md:h-6"})}),C.jsxs("div",{className:"flex flex-col md:flex-row md:items-baseline gap-1 md:gap-2",children:[C.jsx("span",{children:o}),C.jsxs("span",{className:"text-xs md:text-sm opacity-50 font-normal",children:["(",t,")"]})]})]}),C.jsx("button",{onClick:e,className:ge("p-3 rounded-xl transition-colors",l?"bg-white/5 hover:bg-white/10":"bg-slate-100 hover:bg-slate-200"),children:C.jsx(Wg,{className:"w-6 h-6"})})]}),C.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 custom-scrollbar space-y-3",children:m?C.jsx("div",{className:"flex justify-center py-10 opacity-50",children:C.jsx(Xg,{className:"w-8 h-8 animate-spin"})}):u.length===0?C.jsx("div",{className:"text-center opacity-40 py-10 font-black tracking-widest text-sm",children:""}):u.map(v=>C.jsxs("div",{className:ge("p-4 rounded-2xl border flex flex-col md:flex-row md:items-center justify-between gap-3 text-sm transition-all hover:scale-[1.01]",l?"bg-white/5 border-white/5 hover:bg-white/10":"bg-slate-50 border-slate-100 hover:bg-slate-100"),children:[C.jsxs("div",{className:"flex items-start md:items-center gap-4",children:[C.jsxs("div",{className:ge("text-[10px] font-mono px-2 py-1 rounded shrink-0 text-center",l?"bg-black/40 text-slate-400":"bg-slate-200 text-slate-500"),children:[C.jsx("div",{className:"font-bold",children:new Date(v.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),C.jsx("div",{className:"opacity-60 text-[9px]",children:new Date(v.timestamp).toLocaleDateString()})]}),C.jsxs("div",{children:[C.jsx("div",{className:"font-bold text-base flex items-center gap-2",children:C.jsx("span",{className:ge("text-[10px] px-2 py-0.5 rounded border font-black",v.action==="KILL"?"border-red-500/50 text-red-500 bg-red-500/10":v.action==="RESET"?"border-blue-500/50 text-blue-500 bg-blue-500/10":"border-amber-500/50 text-amber-500 bg-amber-500/10"),children:v.action==="KILL"?"":v.action==="RESET"?"":""})}),C.jsx("div",{className:"opacity-60 text-xs mt-1 font-medium",children:v.details})]})]}),C.jsxs("div",{className:"text-[10px] opacity-40 text-right font-mono flex items-center justify-end gap-1",children:[C.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-current"}),"by ",v.userLabel]})]},v.id))})]})}):null},Cf="ffxiv-hunt-stable-final-v24",_w=["","",""];async function kP(n){const e=new TextEncoder().encode(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(s=>s.toString(16).padStart(2,"0")).join("")}function LP(){const n=hO(),[e,t]=re.useState(()=>localStorage.getItem("ff-theme")||"sunlight"),[s,o]=re.useState(()=>localStorage.getItem("ff-server")||""),[l,u]=re.useState("all"),[p,m]=re.useState("card"),[g,v]=re.useState(!0),[_,E]=re.useState(null),[S,V]=re.useState(""),[U,L]=re.useState(()=>localStorage.getItem("ff-is-admin")==="true"),[Y,X]=re.useState({}),[ae,se]=re.useState([]),[oe,ie]=re.useState(!0),[I,x]=re.useState(null),[R,O]=re.useState(""),[N,z]=re.useState(!1),[D,$e]=re.useState(!1),[_e,K]=re.useState({isOpen:!1,mobId:null,mobName:""}),le=e==="midnight";re.useEffect(()=>{const ne=$N(Sf,async Ve=>{if(Ve){if(E(Ve),!Ve.isAnonymous)try{const Ue=await qm(ua(Ei,"users",Ve.uid));Ue.exists()&&V(Ue.data().hunterName||"")}catch(Ue){console.error(Ue)}}else jN(Sf).catch(console.error),V("")});return()=>ne()},[]);const ye=()=>h4(Sf,new Yr).catch(console.error),Le=()=>YN(Sf).catch(console.error),Ke=async ne=>{if(!(!_||_.isAnonymous))try{await ic(ua(Ei,"users",_.uid),{hunterName:ne,updatedAt:Date.now()},{merge:!0}),V(ne)}catch{alert("")}},P=async ne=>{try{const Ve=await kP(ne),Ue=await qm(ua(Ei,"config","admin_settings"));Ue.exists()&&Ve===Ue.data().password_hash?(L(!0),localStorage.setItem("ff-is-admin","true"),$e(!1),alert(" ")):alert(" ")}catch{alert("")}},W=()=>{U?(L(!1),localStorage.removeItem("ff-is-admin")):$e(!0)};re.useEffect(()=>{ie(!0);const ne=gS(Hm(Ei,"artifacts",Cf,"public","data",`timers-${s}`),Ve=>{const Ue={};Ve.forEach(Ne=>Ue[Ne.id]=Ne.data()),X(Ue),ie(!1)},Ve=>{console.error(Ve),ie(!1)});return()=>ne()},[s]);const ce=async(ne,Ve,Ue,Ne="")=>{try{const nt=Hm(Ei,"artifacts",Cf,"public","data",`timers-${s}`,ne,"history");await rN(nt,{mobName:Ve,action:Ue,details:Ne,timestamp:Date.now(),userLabel:U?" (Admin)":S||"",uid:_?.uid||"ANONYMOUS"})}catch(nt){console.error(nt)}},de=async(ne,Ve,Ue)=>{if(!(!U||!R))try{const Ne=new Date(R).getTime(),nt=ua(Ei,"artifacts",Cf,"public","data",`timers-${s}`,ne);await ic(nt,{startTime:Ne,endTime:Ne+Ue*36e5,updatedAt:Date.now()},{merge:!0}),ce(ne,Ve,"EDIT",""),x(null),O("")}catch{alert("")}},Te=re.useMemo(()=>{const ne=[],Ve=[];(l==="all"?Object.keys(bi):[l]).forEach(We=>{bi[We]&&(bi[We].s.forEach((qt,Cn)=>ne.push({...qt,id:`${We}-s-${Cn}`,rank:"s",expKey:We})),bi[We].a.forEach((qt,Cn)=>Ve.push({...qt,id:`${We}-a-${Cn}`,rank:"a",expKey:We})))});const Ne=We=>{const qt=Y[We.id]?.endTime>n.currentTime,Cn=_w.includes(We.cn);return(qt?0:3e3)+(Cn?500:We.rank==="s"?200:100)},nt=(We,qt)=>g?Ne(qt)-Ne(We):We.zone.localeCompare(qt.zone);return{s:ne.sort(nt),a:Ve.sort(nt)}},[l,Y,g,n.currentTime]),xe=re.useMemo(()=>{const ne=[];return(l==="all"?Object.keys(bi):[l]).forEach(Ue=>{bi[Ue]&&[...bi[Ue].s,...bi[Ue].a].forEach((Ne,nt)=>{if(_w.includes(Ne.cn))return;const We=bi[Ue].s.includes(Ne)?"s":"a",qt=`${Ue}-${We}-${nt}`;(!Y[qt]?.endTime||Y[qt].endTime<=n.currentTime)&&ne.push({...Ne,id:qt,expKey:Ue,rank:We,timer:Y[qt]})})}),ne.sort(Ue=>Ue.rank==="s"?-1:1).slice(0,30)},[Y,n.currentTime,l]),ke=async(ne,Ve,Ue)=>{if(!ne)return;const Ne=Y[ne]?.endTime>n.currentTime;if(!Ne&&_?.isAnonymous&&window.confirm(" Google "))ye();else if(!Ne||U){const nt=ua(Ei,"artifacts",Cf,"public","data",`timers-${s}`,ne);if(Ne)await ic(nt,{}),ce(ne,Ve,"RESET","");else{const We=Date.now();await ic(nt,{startTime:We,endTime:We+Ue*36e5,updatedAt:We},{merge:!0}),ce(ne,Ve,"KILL","")}}},vt=(ne,Ve)=>{const Ue=`${ne}-${s}`;se(Ne=>Ne.some(nt=>nt.id===Ue)?Ne.filter(nt=>nt.id!==Ue):[...Ne,{id:Ue,mobName:ne,zone:Ve,server:s,uniqueId:Date.now().toString()}])};return C.jsxs("div",{className:ge("min-h-screen p-4 pb-96 transition-all duration-500 font-black",le?"bg-[#0a0b10] text-slate-200":"bg-slate-50 text-slate-900"),children:[C.jsx(oM,{user:_,hunterName:S,setHunterName:Ke,onLogin:ye,onLogout:Le,selectedServer:s,setSelectedServer:o,eorzeaData:n,theme:e,setTheme:ne=>{t(ne),localStorage.setItem("ff-theme",ne)},onShowWeather:()=>z(!0),currentTime:n.currentTime,isMidnight:le,isAdmin:U,onToggleAdmin:W}),C.jsx(lM,{alerts:xe,currentTime:n.currentTime,onTabChange:u,isMidnight:le,timers:Y,selectedServer:s}),C.jsx("div",{className:"flex flex-wrap gap-2 mb-6 bg-black/10 p-2 rounded-2xl font-black",children:cO.map(ne=>C.jsx("button",{onClick:()=>o(ne),className:ge("flex-1 py-4 rounded-xl text-xs font-black transition-all",s===ne?"bg-blue-600 text-white shadow-xl":"bg-transparent text-slate-500 hover:bg-white/5"),children:ne},ne))}),C.jsxs("div",{className:"flex flex-col gap-6 mb-12 font-black",children:[C.jsx("div",{className:"relative scroll-gradient-mask",children:C.jsx(r1,{className:"flex flex-nowrap gap-3 overflow-x-auto pb-4 no-scrollbar px-1 cursor-grab active:cursor-grabbing",nativeMobileScroll:!0,children:uO.map(ne=>C.jsx("button",{onClick:()=>u(ne.id),className:ge("flex-shrink-0 px-7 py-4 rounded-3xl text-xs font-black transition-all border-2 whitespace-nowrap",l===ne.id?ge(ne.color||"bg-blue-600","border-transparent text-white shadow-xl scale-105"):le?"bg-[#252a3a] border-white/10 text-slate-300":"bg-white border-slate-200 text-slate-600"),children:ne.name},ne.id))})}),C.jsxs("div",{className:"flex justify-end items-center gap-4",children:[C.jsxs("div",{className:ge("border-2 rounded-2xl p-1 flex gap-1",le?"bg-black/40 border-white/5":"bg-white border-slate-200"),children:[C.jsx("button",{onClick:()=>m("card"),className:ge("p-2.5 rounded-xl transition-all",p==="card"?"bg-blue-600 text-white shadow-lg":""),children:C.jsx(IO,{className:"w-5 h-5"})}),C.jsx("button",{onClick:()=>m("list"),className:ge("p-2.5 rounded-xl transition-all",p==="list"?"bg-blue-600 text-white shadow-lg":""),children:C.jsx(DO,{className:"w-5 h-5"})})]}),C.jsxs("button",{onClick:()=>v(!g),className:ge("px-6 py-3 rounded-2xl border-2 text-[11px] uppercase transition-all font-black",le?"bg-[#252a3a] border-white/10 text-slate-300":"bg-white border-slate-200 text-slate-600"),children:["",g?"":""]})]})]}),oe?C.jsxs("div",{className:"flex flex-col items-center justify-center py-48 opacity-50",children:[C.jsx(Xg,{className:"animate-spin w-12 h-12 mb-4 text-blue-500"}),C.jsx("span",{className:"font-black animate-pulse uppercase",children:"Syncing Server Data..."})]}):C.jsxs("div",{className:ge(p==="card"?"grid grid-cols-1 lg:grid-cols-2 gap-8 md:gap-16":"flex flex-col gap-10"),children:[C.jsxs("section",{className:ge(p==="list"?"w-full":""),children:[C.jsxs("h2",{className:"text-3xl md:text-4xl mb-6 flex items-center gap-3 px-6 font-black",children:[C.jsx(YO,{className:"w-8 h-8 text-yellow-500"})," S-Rank"]}),C.jsx("div",{className:ge(p==="card"?"flex flex-col gap-4 md:gap-10":ge("flex flex-col border-2 rounded-[2rem] overflow-hidden divide-y divide-white/5",le?"bg-white/5 border-white/5":"bg-white border-slate-200")),children:Te.s.map(ne=>C.jsx(ME,{mob:ne,timer:Y[ne.id],currentTime:n.currentTime,isMidnight:le,isAdmin:U,server:s,inTrain:ae.some(Ve=>Ve.mobName===ne.cn),viewMode:p,onToggleKill:()=>ke(ne.id,ne.cn,ne.window),onToggleTrain:()=>vt(ne.cn,ne.zone),onOpenHistory:()=>K({isOpen:!0,mobId:ne.id,mobName:ne.cn}),isEditing:I===ne.id,editTimeVal:R,setEditTimeVal:O,onToggleEdit:()=>x(I===ne.id?null:ne.id),onManualSubmit:()=>de(ne.id,ne.cn,ne.window)},ne.id))})]}),C.jsxs("section",{className:ge(p==="list"?"w-full":""),children:[C.jsxs("h2",{className:"text-3xl md:text-4xl mb-6 flex items-center gap-3 px-6 font-black",children:[C.jsx(WO,{className:"w-8 h-8 text-blue-500"})," A-Rank"]}),C.jsx("div",{className:ge(p==="card"?"flex flex-col gap-4 md:gap-8":ge("flex flex-col border-2 rounded-[2rem] overflow-hidden divide-y divide-white/5",le?"bg-white/5 border-white/5":"bg-white border-slate-200")),children:Te.a.map(ne=>C.jsx(ME,{mob:ne,timer:Y[ne.id],currentTime:n.currentTime,isMidnight:le,isAdmin:U,server:s,inTrain:ae.some(Ve=>Ve.mobName===ne.cn),viewMode:p,onToggleKill:()=>ke(ne.id,ne.cn,ne.window),onToggleTrain:()=>vt(ne.cn,ne.zone),onOpenHistory:()=>K({isOpen:!0,mobId:ne.id,mobName:ne.cn}),isEditing:I===ne.id,editTimeVal:R,setEditTimeVal:O,onToggleEdit:()=>x(I===ne.id?null:ne.id),onManualSubmit:()=>de(ne.id,ne.cn,ne.window)},ne.id))})]})]}),C.jsx(DP,{list:ae,setList:se,isMidnight:le}),C.jsx(OP,{isOpen:N,onClose:()=>z(!1),eorzeaData:n,isMidnight:le}),C.jsx(MP,{isOpen:D,onClose:()=>$e(!1),onVerify:P,isMidnight:le}),C.jsx(PP,{isOpen:_e.isOpen,onClose:()=>K({..._e,isOpen:!1}),server:s,mobId:_e.mobId,mobName:_e.mobName,isMidnight:le})]})}Zx.createRoot(document.getElementById("root")).render(C.jsx(ht.StrictMode,{children:C.jsx(LP,{})}));
