(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();function Jm(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Bp={exports:{}},Kl={};var Vb;function Mx(){if(Vb)return Kl;Vb=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:u,ref:o!==void 0?o:null,props:c}}return Kl.Fragment=e,Kl.jsx=t,Kl.jsxs=t,Kl}var Pb;function Vx(){return Pb||(Pb=1,Bp.exports=Mx()),Bp.exports}var D=Vx(),Hp={exports:{}},Ce={};var kb;function Px(){if(kb)return Ce;kb=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),E=Symbol.iterator;function A(P){return P===null||typeof P!="object"?null:(P=E&&P[E]||P["@@iterator"],typeof P=="function"?P:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,L={};function Y(P,W,oe){this.props=P,this.context=W,this.refs=L,this.updater=oe||V}Y.prototype.isReactComponent={},Y.prototype.setState=function(P,W){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,W,"setState")},Y.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function X(){}X.prototype=Y.prototype;function te(P,W,oe){this.props=P,this.context=W,this.refs=L,this.updater=oe||V}var ie=te.prototype=new X;ie.constructor=te,z(ie,Y.prototype),ie.isPureReactComponent=!0;var fe=Array.isArray;function ae(){}var I={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function C(P,W,oe){var de=oe.ref;return{$$typeof:r,type:P,key:W,ref:de!==void 0?de:null,props:oe}}function M(P,W){return C(P.type,W,P.props)}function O(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function U(P){var W={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(oe){return W[oe]})}var R=/\/+/g;function Xe(P,W){return typeof P=="object"&&P!==null&&P.key!=null?U(""+P.key):W.toString(36)}function Ge(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(ae,ae):(P.status="pending",P.then(function(W){P.status==="pending"&&(P.status="fulfilled",P.value=W)},function(W){P.status==="pending"&&(P.status="rejected",P.reason=W)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function K(P,W,oe,de,Te){var Se=typeof P;(Se==="undefined"||Se==="boolean")&&(P=null);var ke=!1;if(P===null)ke=!0;else switch(Se){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(P.$$typeof){case r:case e:ke=!0;break;case _:return ke=P._init,K(ke(P._payload),W,oe,de,Te)}}if(ke)return Te=Te(P),ke=de===""?"."+Xe(P,0):de,fe(Te)?(oe="",ke!=null&&(oe=ke.replace(R,"$&/")+"/"),K(Te,W,oe,"",function(Dn){return Dn})):Te!=null&&(O(Te)&&(Te=M(Te,oe+(Te.key==null||P&&P.key===Te.key?"":(""+Te.key).replace(R,"$&/")+"/")+ke)),W.push(Te)),1;ke=0;var Et=de===""?".":de+":";if(fe(P))for(var Ze=0;Ze<P.length;Ze++)de=P[Ze],Se=Et+Xe(de,Ze),ke+=K(de,W,oe,Se,Te);else if(Ze=A(P),typeof Ze=="function")for(P=Ze.call(P),Ze=0;!(de=P.next()).done;)de=de.value,Se=Et+Xe(de,Ze++),ke+=K(de,W,oe,Se,Te);else if(Se==="object"){if(typeof P.then=="function")return K(Ge(P),W,oe,de,Te);throw W=String(P),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return ke}function se(P,W,oe){if(P==null)return P;var de=[],Te=0;return K(P,de,"","",function(Se){return W.call(oe,Se,Te++)}),de}function me(P){if(P._status===-1){var W=P._result;W=W(),W.then(function(oe){(P._status===0||P._status===-1)&&(P._status=1,P._result=oe)},function(oe){(P._status===0||P._status===-1)&&(P._status=2,P._result=oe)}),P._status===-1&&(P._status=0,P._result=W)}if(P._status===1)return P._result.default;throw P._result}var Me=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},Fe={map:se,forEach:function(P,W,oe){se(P,function(){W.apply(this,arguments)},oe)},count:function(P){var W=0;return se(P,function(){W++}),W},toArray:function(P){return se(P,function(W){return W})||[]},only:function(P){if(!O(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Ce.Activity=v,Ce.Children=Fe,Ce.Component=Y,Ce.Fragment=t,Ce.Profiler=o,Ce.PureComponent=te,Ce.StrictMode=s,Ce.Suspense=m,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(P){return I.H.useMemoCache(P)}},Ce.cache=function(P){return function(){return P.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(P,W,oe){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var de=z({},P.props),Te=P.key;if(W!=null)for(Se in W.key!==void 0&&(Te=""+W.key),W)!x.call(W,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&W.ref===void 0||(de[Se]=W[Se]);var Se=arguments.length-2;if(Se===1)de.children=oe;else if(1<Se){for(var ke=Array(Se),Et=0;Et<Se;Et++)ke[Et]=arguments[Et+2];de.children=ke}return C(P.type,Te,de)},Ce.createContext=function(P){return P={$$typeof:u,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:c,_context:P},P},Ce.createElement=function(P,W,oe){var de,Te={},Se=null;if(W!=null)for(de in W.key!==void 0&&(Se=""+W.key),W)x.call(W,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Te[de]=W[de]);var ke=arguments.length-2;if(ke===1)Te.children=oe;else if(1<ke){for(var Et=Array(ke),Ze=0;Ze<ke;Ze++)Et[Ze]=arguments[Ze+2];Te.children=Et}if(P&&P.defaultProps)for(de in ke=P.defaultProps,ke)Te[de]===void 0&&(Te[de]=ke[de]);return C(P,Se,Te)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(P){return{$$typeof:p,render:P}},Ce.isValidElement=O,Ce.lazy=function(P){return{$$typeof:_,_payload:{_status:-1,_result:P},_init:me}},Ce.memo=function(P,W){return{$$typeof:g,type:P,compare:W===void 0?null:W}},Ce.startTransition=function(P){var W=I.T,oe={};I.T=oe;try{var de=P(),Te=I.S;Te!==null&&Te(oe,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(ae,Me)}catch(Se){Me(Se)}finally{W!==null&&oe.types!==null&&(W.types=oe.types),I.T=W}},Ce.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ce.use=function(P){return I.H.use(P)},Ce.useActionState=function(P,W,oe){return I.H.useActionState(P,W,oe)},Ce.useCallback=function(P,W){return I.H.useCallback(P,W)},Ce.useContext=function(P){return I.H.useContext(P)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(P,W){return I.H.useDeferredValue(P,W)},Ce.useEffect=function(P,W){return I.H.useEffect(P,W)},Ce.useEffectEvent=function(P){return I.H.useEffectEvent(P)},Ce.useId=function(){return I.H.useId()},Ce.useImperativeHandle=function(P,W,oe){return I.H.useImperativeHandle(P,W,oe)},Ce.useInsertionEffect=function(P,W){return I.H.useInsertionEffect(P,W)},Ce.useLayoutEffect=function(P,W){return I.H.useLayoutEffect(P,W)},Ce.useMemo=function(P,W){return I.H.useMemo(P,W)},Ce.useOptimistic=function(P,W){return I.H.useOptimistic(P,W)},Ce.useReducer=function(P,W,oe){return I.H.useReducer(P,W,oe)},Ce.useRef=function(P){return I.H.useRef(P)},Ce.useState=function(P){return I.H.useState(P)},Ce.useSyncExternalStore=function(P,W,oe){return I.H.useSyncExternalStore(P,W,oe)},Ce.useTransition=function(){return I.H.useTransition()},Ce.version="19.2.4",Ce}var Lb;function yd(){return Lb||(Lb=1,Hp.exports=Px()),Hp.exports}var re=yd();const bt=Jm(re);var qp={exports:{}},Ql={},Gp={exports:{}},Fp={};var Ub;function kx(){return Ub||(Ub=1,(function(r){function e(K,se){var me=K.length;K.push(se);e:for(;0<me;){var Me=me-1>>>1,Fe=K[Me];if(0<o(Fe,se))K[Me]=se,K[me]=Fe,me=Me;else break e}}function t(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var se=K[0],me=K.pop();if(me!==se){K[0]=me;e:for(var Me=0,Fe=K.length,P=Fe>>>1;Me<P;){var W=2*(Me+1)-1,oe=K[W],de=W+1,Te=K[de];if(0>o(oe,me))de<Fe&&0>o(Te,oe)?(K[Me]=Te,K[de]=me,Me=de):(K[Me]=oe,K[W]=me,Me=W);else if(de<Fe&&0>o(Te,me))K[Me]=Te,K[de]=me,Me=de;else break e}}return se}function o(K,se){var me=K.sortIndex-se.sortIndex;return me!==0?me:K.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var u=Date,p=u.now();r.unstable_now=function(){return u.now()-p}}var m=[],g=[],_=1,v=null,E=3,A=!1,V=!1,z=!1,L=!1,Y=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function ie(K){for(var se=t(g);se!==null;){if(se.callback===null)s(g);else if(se.startTime<=K)s(g),se.sortIndex=se.expirationTime,e(m,se);else break;se=t(g)}}function fe(K){if(z=!1,ie(K),!V)if(t(m)!==null)V=!0,ae||(ae=!0,U());else{var se=t(g);se!==null&&Ge(fe,se.startTime-K)}}var ae=!1,I=-1,x=5,C=-1;function M(){return L?!0:!(r.unstable_now()-C<x)}function O(){if(L=!1,ae){var K=r.unstable_now();C=K;var se=!0;try{e:{V=!1,z&&(z=!1,X(I),I=-1),A=!0;var me=E;try{t:{for(ie(K),v=t(m);v!==null&&!(v.expirationTime>K&&M());){var Me=v.callback;if(typeof Me=="function"){v.callback=null,E=v.priorityLevel;var Fe=Me(v.expirationTime<=K);if(K=r.unstable_now(),typeof Fe=="function"){v.callback=Fe,ie(K),se=!0;break t}v===t(m)&&s(m),ie(K)}else s(m);v=t(m)}if(v!==null)se=!0;else{var P=t(g);P!==null&&Ge(fe,P.startTime-K),se=!1}}break e}finally{v=null,E=me,A=!1}se=void 0}}finally{se?U():ae=!1}}}var U;if(typeof te=="function")U=function(){te(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Xe=R.port2;R.port1.onmessage=O,U=function(){Xe.postMessage(null)}}else U=function(){Y(O,0)};function Ge(K,se){I=Y(function(){K(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return E},r.unstable_next=function(K){switch(E){case 1:case 2:case 3:var se=3;break;default:se=E}var me=E;E=se;try{return K()}finally{E=me}},r.unstable_requestPaint=function(){L=!0},r.unstable_runWithPriority=function(K,se){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var me=E;E=K;try{return se()}finally{E=me}},r.unstable_scheduleCallback=function(K,se,me){var Me=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Me+me:Me):me=Me,K){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=me+Fe,K={id:_++,callback:se,priorityLevel:K,startTime:me,expirationTime:Fe,sortIndex:-1},me>Me?(K.sortIndex=me,e(g,K),t(m)===null&&K===t(g)&&(z?(X(I),I=-1):z=!0,Ge(fe,me-Me))):(K.sortIndex=Fe,e(m,K),V||A||(V=!0,ae||(ae=!0,U()))),K},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(K){var se=E;return function(){var me=E;E=se;try{return K.apply(this,arguments)}finally{E=me}}}})(Fp)),Fp}var zb;function Lx(){return zb||(zb=1,Gp.exports=kx()),Gp.exports}var $p={exports:{}},un={};var jb;function Ux(){if(jb)return un;jb=1;var r=yd();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(m,g,_){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:m,containerInfo:g,implementation:_}}var u=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,un.createPortal=function(m,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(m,g,null,_)},un.flushSync=function(m){var g=u.T,_=s.p;try{if(u.T=null,s.p=2,m)return m()}finally{u.T=g,s.p=_,s.d.f()}},un.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},un.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},un.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var _=g.as,v=p(_,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:A}):_==="script"&&s.d.X(m,{crossOrigin:v,integrity:E,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},un.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=p(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},un.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,v=p(_,g.crossOrigin);s.d.L(m,_,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},un.preloadModule=function(m,g){if(typeof m=="string")if(g){var _=p(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},un.requestFormReset=function(m){s.d.r(m)},un.unstable_batchedUpdates=function(m,g){return m(g)},un.useFormState=function(m,g,_){return u.H.useFormState(m,g,_)},un.useFormStatus=function(){return u.H.useHostTransitionStatus()},un.version="19.2.4",un}var Bb;function dw(){if(Bb)return $p.exports;Bb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),$p.exports=Ux(),$p.exports}var Hb;function zx(){if(Hb)return Ql;Hb=1;var r=Lx(),e=yd(),t=dw();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function u(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function p(n){if(n.tag===31){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function m(n){if(c(n)!==n)throw Error(s(188))}function g(n){var i=n.alternate;if(!i){if(i=c(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,l=i;;){var d=a.return;if(d===null)break;var h=d.alternate;if(h===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===a)return m(d),n;if(h===l)return m(d),i;h=h.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=h;else{for(var b=!1,T=d.child;T;){if(T===a){b=!0,a=d,l=h;break}if(T===l){b=!0,l=d,a=h;break}T=T.sibling}if(!b){for(T=h.child;T;){if(T===a){b=!0,a=h,l=d;break}if(T===l){b=!0,l=h,a=d;break}T=T.sibling}if(!b)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function _(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=_(n),i!==null)return i;n=n.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),te=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(n){return n===null||typeof n!="object"?null:(n=O&&n[O]||n["@@iterator"],typeof n=="function"?n:null)}var R=Symbol.for("react.client.reference");function Xe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===R?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case z:return"Fragment";case Y:return"Profiler";case L:return"StrictMode";case fe:return"Suspense";case ae:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case V:return"Portal";case te:return n.displayName||"Context";case X:return(n._context.displayName||"Context")+".Consumer";case ie:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case I:return i=n.displayName||null,i!==null?i:Xe(n.type)||"Memo";case x:i=n._payload,n=n._init;try{return Xe(n(i))}catch{}}return null}var Ge=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Me=[],Fe=-1;function P(n){return{current:n}}function W(n){0>Fe||(n.current=Me[Fe],Me[Fe]=null,Fe--)}function oe(n,i){Fe++,Me[Fe]=n.current,n.current=i}var de=P(null),Te=P(null),Se=P(null),ke=P(null);function Et(n,i){switch(oe(Se,i),oe(Te,n),oe(de,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?rb(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=rb(i),n=ib(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}W(de),oe(de,n)}function Ze(){W(de),W(Te),W(Se)}function Dn(n){n.memoizedState!==null&&oe(ke,n);var i=de.current,a=ib(i,n.type);i!==a&&(oe(Te,n),oe(de,a))}function ii(n){Te.current===n&&(W(de),W(Te)),ke.current===n&&(W(ke),Gl._currentValue=me)}var St,bn;function Nn(n){if(St===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);St=i&&i[1]||"",bn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+St+n+bn}var Mi=!1;function Rr(n,i){if(!n||Mi)return"";Mi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch($){var G=$}Reflect.construct(n,[],Z)}else{try{Z.call()}catch($){G=$}n.call(Z.prototype)}}else{try{throw Error()}catch($){G=$}(Z=n())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch($){if($&&G&&typeof $.stack=="string")return[$.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),b=h[0],T=h[1];if(b&&T){var N=b.split(`
`),q=T.split(`
`);for(d=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;d<q.length&&!q[d].includes("DetermineComponentFrameRoot");)d++;if(l===N.length||d===q.length)for(l=N.length-1,d=q.length-1;1<=l&&0<=d&&N[l]!==q[d];)d--;for(;1<=l&&0<=d;l--,d--)if(N[l]!==q[d]){if(l!==1||d!==1)do if(l--,d--,0>d||N[l]!==q[d]){var Q=`
`+N[l].replace(" at new "," at ");return n.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",n.displayName)),Q}while(1<=l&&0<=d);break}}}finally{Mi=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Nn(a):""}function ce(n,i){switch(n.tag){case 26:case 27:case 5:return Nn(n.type);case 16:return Nn("Lazy");case 13:return n.child!==i&&i!==null?Nn("Suspense Fallback"):Nn("Suspense");case 19:return Nn("SuspenseList");case 0:case 15:return Rr(n.type,!1);case 11:return Rr(n.type.render,!1);case 1:return Rr(n.type,!0);case 31:return Nn("Activity");default:return""}}function $e(n){try{var i="",a=null;do i+=ce(n,a),a=n,n=n.return;while(n);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var we=Object.prototype.hasOwnProperty,Ve=r.unstable_scheduleCallback,ot=r.unstable_cancelCallback,$t=r.unstable_shouldYield,En=r.unstable_requestPaint,ht=r.unstable_now,si=r.unstable_getCurrentPriorityLevel,ks=r.unstable_ImmediatePriority,Vi=r.unstable_UserBlockingPriority,cr=r.unstable_NormalPriority,Gd=r.unstable_LowPriority,qc=r.unstable_IdlePriority,Gc=r.log,Fc=r.unstable_setDisableYieldValue,ur=null,Zt=null;function Gn(n){if(typeof Gc=="function"&&Fc(n),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(ur,n)}catch{}}var It=Math.clz32?Math.clz32:Yc,$c=Math.log,Ca=Math.LN2;function Yc(n){return n>>>=0,n===0?32:31-($c(n)/Ca|0)|0}var Cr=256,Ls=262144,Mt=4194304;function Dr(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Nr(n,i,a){var l=n.pendingLanes;if(l===0)return 0;var d=0,h=n.suspendedLanes,b=n.pingedLanes;n=n.warmLanes;var T=l&134217727;return T!==0?(l=T&~h,l!==0?d=Dr(l):(b&=T,b!==0?d=Dr(b):a||(a=T&~n,a!==0&&(d=Dr(a))))):(T=l&~h,T!==0?d=Dr(T):b!==0?d=Dr(b):a||(a=l&~n,a!==0&&(d=Dr(a)))),d===0?0:i!==0&&i!==d&&(i&h)===0&&(h=d&-d,a=i&-i,h>=a||h===32&&(a&4194048)!==0)?i:d}function fr(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Fd(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kc(){var n=Mt;return Mt<<=1,(Mt&62914560)===0&&(Mt=4194304),n}function Or(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Us(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function $d(n,i,a,l,d,h){var b=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var T=n.entanglements,N=n.expirationTimes,q=n.hiddenUpdates;for(a=b&~a;0<a;){var Q=31-It(a),Z=1<<Q;T[Q]=0,N[Q]=-1;var G=q[Q];if(G!==null)for(q[Q]=null,Q=0;Q<G.length;Q++){var $=G[Q];$!==null&&($.lane&=-536870913)}a&=~Z}l!==0&&zs(n,l,0),h!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=h&~(b&~i))}function zs(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-It(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|a&261930}function Qo(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var l=31-It(a),d=1<<l;d&i|n[l]&i&&(n[l]|=i),a&=~d}}function Xo(n,i){var a=i&-i;return a=(a&42)!==0?1:js(a),(a&(n.suspendedLanes|i))!==0?0:a}function js(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ai(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Qc(){var n=se.p;return n!==0?n:(n=window.event,n===void 0?32:Ib(n.type))}function dr(n,i){var a=se.p;try{return se.p=n,i()}finally{se.p=a}}var hr=Math.random().toString(36).slice(2),Vt="__reactFiber$"+hr,Yt="__reactProps$"+hr,Mr="__reactContainer$"+hr,Da="__reactEvents$"+hr,Yd="__reactListeners$"+hr,Xc="__reactHandles$"+hr,Wc="__reactResources$"+hr,Vr="__reactMarker$"+hr;function Na(n){delete n[Vt],delete n[Yt],delete n[Da],delete n[Yd],delete n[Xc]}function Pr(n){var i=n[Vt];if(i)return i;for(var a=n.parentNode;a;){if(i=a[Mr]||a[Vt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=fb(n);n!==null;){if(a=n[Vt])return a;n=fb(n)}return i}n=a,a=n.parentNode}return null}function Fn(n){if(n=n[Vt]||n[Mr]){var i=n.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return n}return null}function On(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function kr(n){var i=n[Wc];return i||(i=n[Wc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Pt(n){n[Vr]=!0}var Wo=new Set,Jo={};function Lr(n,i){Ur(n,i),Ur(n+"Capture",i)}function Ur(n,i){for(Jo[n]=i,n=0;n<i.length;n++)Wo.add(i[n])}var Zo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),el={},tl={};function Jc(n){return we.call(tl,n)?!0:we.call(el,n)?!1:Zo.test(n)?tl[n]=!0:(el[n]=!0,!1)}function Oa(n,i,a){if(Jc(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function Mn(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function kt(n,i,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+l)}}function Kt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Pi(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function nl(n,i,a){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,i);if(!n.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,h=l.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return d.call(this)},set:function(b){a=""+b,h.call(this,b)}}),Object.defineProperty(n,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(b){a=""+b},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function it(n){if(!n._valueTracker){var i=Pi(n)?"checked":"value";n._valueTracker=nl(n,i,""+n[i])}}function Bs(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return n&&(l=Pi(n)?n.checked?"true":"false":n.value),n=l,n!==a?(i.setValue(n),!0):!1}function zr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Hs=/[\n"\\]/g;function wn(n){return n.replace(Hs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ma(n,i,a,l,d,h,b,T){n.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.type=b:n.removeAttribute("type"),i!=null?b==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Kt(i)):n.value!==""+Kt(i)&&(n.value=""+Kt(i)):b!=="submit"&&b!=="reset"||n.removeAttribute("value"),i!=null?rl(n,b,Kt(i)):a!=null?rl(n,b,Kt(a)):l!=null&&n.removeAttribute("value"),d==null&&h!=null&&(n.defaultChecked=!!h),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+Kt(T):n.removeAttribute("name")}function Zc(n,i,a,l,d,h,b,T){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(n.type=h),i!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||i!=null)){it(n);return}a=a!=null?""+Kt(a):"",i=i!=null?""+Kt(i):a,T||i===n.value||(n.value=i),n.defaultValue=i}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=T?n.checked:!!l,n.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.name=b),it(n)}function rl(n,i,a){i==="number"&&zr(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function ki(n,i,a,l){if(n=n.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=i.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&l&&(n[a].defaultSelected=!0)}else{for(a=""+Kt(a),i=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,l&&(n[d].defaultSelected=!0);return}i!==null||n[d].disabled||(i=n[d])}i!==null&&(i.selected=!0)}}function eu(n,i,a){if(i!=null&&(i=""+Kt(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+Kt(a):""}function Li(n,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ge(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Kt(i),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l),it(n)}function Tn(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var tu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function il(n,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,a):typeof a!="number"||a===0||tu.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function sl(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var d in i)l=i[d],i.hasOwnProperty(d)&&a[d]!==l&&il(n,d,l)}else for(var h in i)i.hasOwnProperty(h)&&il(n,h,i[h])}function Va(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ui=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pa(n){return Ui.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function pr(){}var al=null;function $n(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var zi=null,jr=null;function qs(n){var i=Fn(n);if(i&&(n=i.stateNode)){var a=n[Yt]||null;e:switch(n=i.stateNode,i.type){case"input":if(Ma(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+wn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==n&&l.form===n.form){var d=l[Yt]||null;if(!d)throw Error(s(90));Ma(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===n.form&&Bs(l)}break e;case"textarea":eu(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&ki(n,!!a.multiple,i,!1)}}}var ka=!1;function ji(n,i,a){if(ka)return n(i,a);ka=!0;try{var l=n(i);return l}finally{if(ka=!1,(zi!==null||jr!==null)&&(Qu(),zi&&(i=zi,n=jr,jr=zi=null,qs(i),n)))for(i=0;i<n.length;i++)qs(n[i])}}function mr(n,i){var a=n.stateNode;if(a===null)return null;var l=a[Yt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gs=!1;if(Yn)try{var lt={};Object.defineProperty(lt,"passive",{get:function(){Gs=!0}}),window.addEventListener("test",lt,lt),window.removeEventListener("test",lt,lt)}catch{Gs=!1}var Br=null,ol=null,Fs=null;function ll(){if(Fs)return Fs;var n,i=ol,a=i.length,l,d="value"in Br?Br.value:Br.textContent,h=d.length;for(n=0;n<a&&i[n]===d[n];n++);var b=a-n;for(l=1;l<=b&&i[a-l]===d[h-l];l++);return Fs=d.slice(n,1<l?1-l:void 0)}function $s(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function oi(){return!0}function gr(){return!1}function en(n){function i(a,l,d,h,b){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=h,this.target=b,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(h):h[T]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?oi:gr,this.isPropagationStopped=gr,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),i}var li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hr=en(li),Bi=v({},li,{view:0,detail:0}),cl=en(Bi),Hi,La,qr,Ua=v({},Bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qi,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==qr&&(qr&&n.type==="mousemove"?(Hi=n.screenX-qr.screenX,La=n.screenY-qr.screenY):La=Hi=0,qr=n),Hi)},movementY:function(n){return"movementY"in n?n.movementY:La}}),ul=en(Ua),Ys=v({},Ua,{dataTransfer:0}),ru=en(Ys),iu=v({},Bi,{relatedTarget:0}),Ks=en(iu),fl=v({},li,{animationName:0,elapsedTime:0,pseudoElement:0}),su=en(fl),za=v({},li,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),au=en(za),ou=v({},li,{data:0}),Gr=en(ou),lu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fu(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=uu[n])?!!i[n]:!1}function qi(){return fu}var mn=v({},Bi,{key:function(n){if(n.key){var i=lu[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=$s(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?cu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qi,charCode:function(n){return n.type==="keypress"?$s(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?$s(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),du=en(mn),hu=v({},Ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ci=en(hu),f=v({},Bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qi}),y=en(f),w=v({},li,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=en(w),B=v({},Ua,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),F=en(B),ue=v({},li,{newState:0,oldState:0}),Ne=en(ue),Rt=[9,13,27,32],et=Yn&&"CompositionEvent"in window,vt=null;Yn&&"documentMode"in document&&(vt=document.documentMode);var Kn=Yn&&"TextEvent"in window&&!vt,Fr=Yn&&(!et||vt&&8<vt&&11>=vt),yr=" ",vr=!1;function Qs(n,i){switch(n){case"keyup":return Rt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ja(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ba=!1;function rA(n,i){switch(n){case"compositionend":return ja(i);case"keypress":return i.which!==32?null:(vr=!0,yr);case"textInput":return n=i.data,n===yr&&vr?null:n;default:return null}}function iA(n,i){if(Ba)return n==="compositionend"||!et&&Qs(n,i)?(n=ll(),Fs=ol=Br=null,Ba=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Fr&&i.locale!=="ko"?null:i.data;default:return null}}var sA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function py(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!sA[n.type]:i==="textarea"}function my(n,i,a,l){zi?jr?jr.push(l):jr=[l]:zi=l,i=nf(i,"onChange"),0<i.length&&(a=new Hr("onChange","change",null,a,l),n.push({event:a,listeners:i}))}var dl=null,hl=null;function aA(n){W_(n,0)}function pu(n){var i=On(n);if(Bs(i))return n}function gy(n,i){if(n==="change")return i}var yy=!1;if(Yn){var Kd;if(Yn){var Qd="oninput"in document;if(!Qd){var vy=document.createElement("div");vy.setAttribute("oninput","return;"),Qd=typeof vy.oninput=="function"}Kd=Qd}else Kd=!1;yy=Kd&&(!document.documentMode||9<document.documentMode)}function _y(){dl&&(dl.detachEvent("onpropertychange",by),hl=dl=null)}function by(n){if(n.propertyName==="value"&&pu(hl)){var i=[];my(i,hl,n,$n(n)),ji(aA,i)}}function oA(n,i,a){n==="focusin"?(_y(),dl=i,hl=a,dl.attachEvent("onpropertychange",by)):n==="focusout"&&_y()}function lA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return pu(hl)}function cA(n,i){if(n==="click")return pu(i)}function uA(n,i){if(n==="input"||n==="change")return pu(i)}function fA(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Vn=typeof Object.is=="function"?Object.is:fA;function pl(n,i){if(Vn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!we.call(i,d)||!Vn(n[d],i[d]))return!1}return!0}function Ey(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function wy(n,i){var a=Ey(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=i&&l>=i)return{node:a,offset:i-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ey(a)}}function Ty(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Ty(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Sy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=zr(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=zr(n.document)}return i}function Xd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var dA=Yn&&"documentMode"in document&&11>=document.documentMode,Ha=null,Wd=null,ml=null,Jd=!1;function Ay(n,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Jd||Ha==null||Ha!==zr(l)||(l=Ha,"selectionStart"in l&&Xd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ml&&pl(ml,l)||(ml=l,l=nf(Wd,"onSelect"),0<l.length&&(i=new Hr("onSelect","select",null,i,a),n.push({event:i,listeners:l}),i.target=Ha)))}function Xs(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var qa={animationend:Xs("Animation","AnimationEnd"),animationiteration:Xs("Animation","AnimationIteration"),animationstart:Xs("Animation","AnimationStart"),transitionrun:Xs("Transition","TransitionRun"),transitionstart:Xs("Transition","TransitionStart"),transitioncancel:Xs("Transition","TransitionCancel"),transitionend:Xs("Transition","TransitionEnd")},Zd={},xy={};Yn&&(xy=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function Ws(n){if(Zd[n])return Zd[n];if(!qa[n])return n;var i=qa[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in xy)return Zd[n]=i[a];return n}var Iy=Ws("animationend"),Ry=Ws("animationiteration"),Cy=Ws("animationstart"),hA=Ws("transitionrun"),pA=Ws("transitionstart"),mA=Ws("transitioncancel"),Dy=Ws("transitionend"),Ny=new Map,eh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");eh.push("scrollEnd");function _r(n,i){Ny.set(n,i),Lr(i,[n])}var mu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Qn=[],Ga=0,th=0;function gu(){for(var n=Ga,i=th=Ga=0;i<n;){var a=Qn[i];Qn[i++]=null;var l=Qn[i];Qn[i++]=null;var d=Qn[i];Qn[i++]=null;var h=Qn[i];if(Qn[i++]=null,l!==null&&d!==null){var b=l.pending;b===null?d.next=d:(d.next=b.next,b.next=d),l.pending=d}h!==0&&Oy(a,d,h)}}function yu(n,i,a,l){Qn[Ga++]=n,Qn[Ga++]=i,Qn[Ga++]=a,Qn[Ga++]=l,th|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function nh(n,i,a,l){return yu(n,i,a,l),vu(n)}function Js(n,i){return yu(n,null,null,i),vu(n)}function Oy(n,i,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var d=!1,h=n.return;h!==null;)h.childLanes|=a,l=h.alternate,l!==null&&(l.childLanes|=a),h.tag===22&&(n=h.stateNode,n===null||n._visibility&1||(d=!0)),n=h,h=h.return;return n.tag===3?(h=n.stateNode,d&&i!==null&&(d=31-It(a),n=h.hiddenUpdates,l=n[d],l===null?n[d]=[i]:l.push(i),i.lane=a|536870912),h):null}function vu(n){if(50<Ll)throw Ll=0,fp=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Fa={};function gA(n,i,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(n,i,a,l){return new gA(n,i,a,l)}function rh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ui(n,i){var a=n.alternate;return a===null?(a=Pn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function My(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function _u(n,i,a,l,d,h){var b=0;if(l=n,typeof n=="function")rh(n)&&(b=1);else if(typeof n=="string")b=Ex(n,a,de.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case C:return n=Pn(31,a,i,d),n.elementType=C,n.lanes=h,n;case z:return Zs(a.children,d,h,i);case L:b=8,d|=24;break;case Y:return n=Pn(12,a,i,d|2),n.elementType=Y,n.lanes=h,n;case fe:return n=Pn(13,a,i,d),n.elementType=fe,n.lanes=h,n;case ae:return n=Pn(19,a,i,d),n.elementType=ae,n.lanes=h,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case te:b=10;break e;case X:b=9;break e;case ie:b=11;break e;case I:b=14;break e;case x:b=16,l=null;break e}b=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return i=Pn(b,a,i,d),i.elementType=n,i.type=l,i.lanes=h,i}function Zs(n,i,a,l){return n=Pn(7,n,l,i),n.lanes=a,n}function ih(n,i,a){return n=Pn(6,n,null,i),n.lanes=a,n}function Vy(n){var i=Pn(18,null,null,0);return i.stateNode=n,i}function sh(n,i,a){return i=Pn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Py=new WeakMap;function Xn(n,i){if(typeof n=="object"&&n!==null){var a=Py.get(n);return a!==void 0?a:(i={value:n,source:i,stack:$e(i)},Py.set(n,i),i)}return{value:n,source:i,stack:$e(i)}}var $a=[],Ya=0,bu=null,gl=0,Wn=[],Jn=0,Gi=null,$r=1,Yr="";function fi(n,i){$a[Ya++]=gl,$a[Ya++]=bu,bu=n,gl=i}function ky(n,i,a){Wn[Jn++]=$r,Wn[Jn++]=Yr,Wn[Jn++]=Gi,Gi=n;var l=$r;n=Yr;var d=32-It(l)-1;l&=~(1<<d),a+=1;var h=32-It(i)+d;if(30<h){var b=d-d%5;h=(l&(1<<b)-1).toString(32),l>>=b,d-=b,$r=1<<32-It(i)+d|a<<d|l,Yr=h+n}else $r=1<<h|a<<d|l,Yr=n}function ah(n){n.return!==null&&(fi(n,1),ky(n,1,0))}function oh(n){for(;n===bu;)bu=$a[--Ya],$a[Ya]=null,gl=$a[--Ya],$a[Ya]=null;for(;n===Gi;)Gi=Wn[--Jn],Wn[Jn]=null,Yr=Wn[--Jn],Wn[Jn]=null,$r=Wn[--Jn],Wn[Jn]=null}function Ly(n,i){Wn[Jn++]=$r,Wn[Jn++]=Yr,Wn[Jn++]=Gi,$r=i.id,Yr=i.overflow,Gi=n}var tn=null,mt=null,Ye=!1,Fi=null,Zn=!1,lh=Error(s(519));function $i(n){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw yl(Xn(i,n)),lh}function Uy(n){var i=n.stateNode,a=n.type,l=n.memoizedProps;switch(i[Vt]=n,i[Yt]=l,a){case"dialog":Ue("cancel",i),Ue("close",i);break;case"iframe":case"object":case"embed":Ue("load",i);break;case"video":case"audio":for(a=0;a<zl.length;a++)Ue(zl[a],i);break;case"source":Ue("error",i);break;case"img":case"image":case"link":Ue("error",i),Ue("load",i);break;case"details":Ue("toggle",i);break;case"input":Ue("invalid",i),Zc(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ue("invalid",i);break;case"textarea":Ue("invalid",i),Li(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||tb(i.textContent,a)?(l.popover!=null&&(Ue("beforetoggle",i),Ue("toggle",i)),l.onScroll!=null&&Ue("scroll",i),l.onScrollEnd!=null&&Ue("scrollend",i),l.onClick!=null&&(i.onclick=pr),i=!0):i=!1,i||$i(n,!0)}function zy(n){for(tn=n.return;tn;)switch(tn.tag){case 5:case 31:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:tn=tn.return}}function Ka(n){if(n!==tn)return!1;if(!Ye)return zy(n),Ye=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||xp(n.type,n.memoizedProps)),a=!a),a&&mt&&$i(n),zy(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));mt=ub(n)}else if(i===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));mt=ub(n)}else i===27?(i=mt,as(n.type)?(n=Np,Np=null,mt=n):mt=i):mt=tn?tr(n.stateNode.nextSibling):null;return!0}function ea(){mt=tn=null,Ye=!1}function ch(){var n=Fi;return n!==null&&(In===null?In=n:In.push.apply(In,n),Fi=null),n}function yl(n){Fi===null?Fi=[n]:Fi.push(n)}var uh=P(null),ta=null,di=null;function Yi(n,i,a){oe(uh,i._currentValue),i._currentValue=a}function hi(n){n._currentValue=uh.current,W(uh)}function fh(n,i,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===a)break;n=n.return}}function dh(n,i,a,l){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var h=d.dependencies;if(h!==null){var b=d.child;h=h.firstContext;e:for(;h!==null;){var T=h;h=d;for(var N=0;N<i.length;N++)if(T.context===i[N]){h.lanes|=a,T=h.alternate,T!==null&&(T.lanes|=a),fh(h.return,a,n),l||(b=null);break e}h=T.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(s(341));b.lanes|=a,h=b.alternate,h!==null&&(h.lanes|=a),fh(b,a,n),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===n){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function Qa(n,i,a,l){n=null;for(var d=i,h=!1;d!==null;){if(!h){if((d.flags&524288)!==0)h=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var T=d.type;Vn(d.pendingProps.value,b.value)||(n!==null?n.push(T):n=[T])}}else if(d===ke.current){if(b=d.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(Gl):n=[Gl])}d=d.return}n!==null&&dh(i,n,a,l),i.flags|=262144}function Eu(n){for(n=n.firstContext;n!==null;){if(!Vn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function na(n){ta=n,di=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function nn(n){return jy(ta,n)}function wu(n,i){return ta===null&&na(n),jy(n,i)}function jy(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},di===null){if(n===null)throw Error(s(308));di=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else di=di.next=i;return a}var yA=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},vA=r.unstable_scheduleCallback,_A=r.unstable_NormalPriority,Lt={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hh(){return{controller:new yA,data:new Map,refCount:0}}function vl(n){n.refCount--,n.refCount===0&&vA(_A,function(){n.controller.abort()})}var _l=null,ph=0,Xa=0,Wa=null;function bA(n,i){if(_l===null){var a=_l=[];ph=0,Xa=yp(),Wa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ph++,i.then(By,By),i}function By(){if(--ph===0&&_l!==null){Wa!==null&&(Wa.status="fulfilled");var n=_l;_l=null,Xa=0,Wa=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function EA(n,i){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var Hy=K.S;K.S=function(n,i){A_=ht(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&bA(n,i),Hy!==null&&Hy(n,i)};var ra=P(null);function mh(){var n=ra.current;return n!==null?n:dt.pooledCache}function Tu(n,i){i===null?oe(ra,ra.current):oe(ra,i.pool)}function qy(){var n=mh();return n===null?null:{parent:Lt._currentValue,pool:n}}var Ja=Error(s(460)),gh=Error(s(474)),Su=Error(s(542)),Au={then:function(){}};function Gy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Fy(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(pr,pr),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Yy(n),n;default:if(typeof i.status=="string")i.then(pr,pr);else{if(n=dt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=l}},function(l){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Yy(n),n}throw sa=i,Ja}}function ia(n){try{var i=n._init;return i(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(sa=a,Ja):a}}var sa=null;function $y(){if(sa===null)throw Error(s(459));var n=sa;return sa=null,n}function Yy(n){if(n===Ja||n===Su)throw Error(s(483))}var Za=null,bl=0;function xu(n){var i=bl;return bl+=1,Za===null&&(Za=[]),Fy(Za,n,i)}function El(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Iu(n,i){throw i.$$typeof===E?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Ky(n){function i(j,k){if(n){var H=j.deletions;H===null?(j.deletions=[k],j.flags|=16):H.push(k)}}function a(j,k){if(!n)return null;for(;k!==null;)i(j,k),k=k.sibling;return null}function l(j){for(var k=new Map;j!==null;)j.key!==null?k.set(j.key,j):k.set(j.index,j),j=j.sibling;return k}function d(j,k){return j=ui(j,k),j.index=0,j.sibling=null,j}function h(j,k,H){return j.index=H,n?(H=j.alternate,H!==null?(H=H.index,H<k?(j.flags|=67108866,k):H):(j.flags|=67108866,k)):(j.flags|=1048576,k)}function b(j){return n&&j.alternate===null&&(j.flags|=67108866),j}function T(j,k,H,J){return k===null||k.tag!==6?(k=ih(H,j.mode,J),k.return=j,k):(k=d(k,H),k.return=j,k)}function N(j,k,H,J){var be=H.type;return be===z?Q(j,k,H.props.children,J,H.key):k!==null&&(k.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===x&&ia(be)===k.type)?(k=d(k,H.props),El(k,H),k.return=j,k):(k=_u(H.type,H.key,H.props,null,j.mode,J),El(k,H),k.return=j,k)}function q(j,k,H,J){return k===null||k.tag!==4||k.stateNode.containerInfo!==H.containerInfo||k.stateNode.implementation!==H.implementation?(k=sh(H,j.mode,J),k.return=j,k):(k=d(k,H.children||[]),k.return=j,k)}function Q(j,k,H,J,be){return k===null||k.tag!==7?(k=Zs(H,j.mode,J,be),k.return=j,k):(k=d(k,H),k.return=j,k)}function Z(j,k,H){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=ih(""+k,j.mode,H),k.return=j,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case A:return H=_u(k.type,k.key,k.props,null,j.mode,H),El(H,k),H.return=j,H;case V:return k=sh(k,j.mode,H),k.return=j,k;case x:return k=ia(k),Z(j,k,H)}if(Ge(k)||U(k))return k=Zs(k,j.mode,H,null),k.return=j,k;if(typeof k.then=="function")return Z(j,xu(k),H);if(k.$$typeof===te)return Z(j,wu(j,k),H);Iu(j,k)}return null}function G(j,k,H,J){var be=k!==null?k.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return be!==null?null:T(j,k,""+H,J);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case A:return H.key===be?N(j,k,H,J):null;case V:return H.key===be?q(j,k,H,J):null;case x:return H=ia(H),G(j,k,H,J)}if(Ge(H)||U(H))return be!==null?null:Q(j,k,H,J,null);if(typeof H.then=="function")return G(j,k,xu(H),J);if(H.$$typeof===te)return G(j,k,wu(j,H),J);Iu(j,H)}return null}function $(j,k,H,J,be){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return j=j.get(H)||null,T(k,j,""+J,be);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case A:return j=j.get(J.key===null?H:J.key)||null,N(k,j,J,be);case V:return j=j.get(J.key===null?H:J.key)||null,q(k,j,J,be);case x:return J=ia(J),$(j,k,H,J,be)}if(Ge(J)||U(J))return j=j.get(H)||null,Q(k,j,J,be,null);if(typeof J.then=="function")return $(j,k,H,xu(J),be);if(J.$$typeof===te)return $(j,k,H,wu(k,J),be);Iu(k,J)}return null}function ge(j,k,H,J){for(var be=null,We=null,ye=k,Pe=k=0,je=null;ye!==null&&Pe<H.length;Pe++){ye.index>Pe?(je=ye,ye=null):je=ye.sibling;var Je=G(j,ye,H[Pe],J);if(Je===null){ye===null&&(ye=je);break}n&&ye&&Je.alternate===null&&i(j,ye),k=h(Je,k,Pe),We===null?be=Je:We.sibling=Je,We=Je,ye=je}if(Pe===H.length)return a(j,ye),Ye&&fi(j,Pe),be;if(ye===null){for(;Pe<H.length;Pe++)ye=Z(j,H[Pe],J),ye!==null&&(k=h(ye,k,Pe),We===null?be=ye:We.sibling=ye,We=ye);return Ye&&fi(j,Pe),be}for(ye=l(ye);Pe<H.length;Pe++)je=$(ye,j,Pe,H[Pe],J),je!==null&&(n&&je.alternate!==null&&ye.delete(je.key===null?Pe:je.key),k=h(je,k,Pe),We===null?be=je:We.sibling=je,We=je);return n&&ye.forEach(function(fs){return i(j,fs)}),Ye&&fi(j,Pe),be}function Ae(j,k,H,J){if(H==null)throw Error(s(151));for(var be=null,We=null,ye=k,Pe=k=0,je=null,Je=H.next();ye!==null&&!Je.done;Pe++,Je=H.next()){ye.index>Pe?(je=ye,ye=null):je=ye.sibling;var fs=G(j,ye,Je.value,J);if(fs===null){ye===null&&(ye=je);break}n&&ye&&fs.alternate===null&&i(j,ye),k=h(fs,k,Pe),We===null?be=fs:We.sibling=fs,We=fs,ye=je}if(Je.done)return a(j,ye),Ye&&fi(j,Pe),be;if(ye===null){for(;!Je.done;Pe++,Je=H.next())Je=Z(j,Je.value,J),Je!==null&&(k=h(Je,k,Pe),We===null?be=Je:We.sibling=Je,We=Je);return Ye&&fi(j,Pe),be}for(ye=l(ye);!Je.done;Pe++,Je=H.next())Je=$(ye,j,Pe,Je.value,J),Je!==null&&(n&&Je.alternate!==null&&ye.delete(Je.key===null?Pe:Je.key),k=h(Je,k,Pe),We===null?be=Je:We.sibling=Je,We=Je);return n&&ye.forEach(function(Ox){return i(j,Ox)}),Ye&&fi(j,Pe),be}function ft(j,k,H,J){if(typeof H=="object"&&H!==null&&H.type===z&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case A:e:{for(var be=H.key;k!==null;){if(k.key===be){if(be=H.type,be===z){if(k.tag===7){a(j,k.sibling),J=d(k,H.props.children),J.return=j,j=J;break e}}else if(k.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===x&&ia(be)===k.type){a(j,k.sibling),J=d(k,H.props),El(J,H),J.return=j,j=J;break e}a(j,k);break}else i(j,k);k=k.sibling}H.type===z?(J=Zs(H.props.children,j.mode,J,H.key),J.return=j,j=J):(J=_u(H.type,H.key,H.props,null,j.mode,J),El(J,H),J.return=j,j=J)}return b(j);case V:e:{for(be=H.key;k!==null;){if(k.key===be)if(k.tag===4&&k.stateNode.containerInfo===H.containerInfo&&k.stateNode.implementation===H.implementation){a(j,k.sibling),J=d(k,H.children||[]),J.return=j,j=J;break e}else{a(j,k);break}else i(j,k);k=k.sibling}J=sh(H,j.mode,J),J.return=j,j=J}return b(j);case x:return H=ia(H),ft(j,k,H,J)}if(Ge(H))return ge(j,k,H,J);if(U(H)){if(be=U(H),typeof be!="function")throw Error(s(150));return H=be.call(H),Ae(j,k,H,J)}if(typeof H.then=="function")return ft(j,k,xu(H),J);if(H.$$typeof===te)return ft(j,k,wu(j,H),J);Iu(j,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,k!==null&&k.tag===6?(a(j,k.sibling),J=d(k,H),J.return=j,j=J):(a(j,k),J=ih(H,j.mode,J),J.return=j,j=J),b(j)):a(j,k)}return function(j,k,H,J){try{bl=0;var be=ft(j,k,H,J);return Za=null,be}catch(ye){if(ye===Ja||ye===Su)throw ye;var We=Pn(29,ye,null,j.mode);return We.lanes=J,We.return=j,We}}}var aa=Ky(!0),Qy=Ky(!1),Ki=!1;function yh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vh(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Qi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Xi(n,i,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(tt&2)!==0){var d=l.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),l.pending=i,i=vu(n),Oy(n,null,a),i}return yu(n,l,i,a),vu(n)}function wl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,Qo(n,a)}}function _h(n,i){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?d=h=b:h=h.next=b,a=a.next}while(a!==null);h===null?d=h=i:h=h.next=i}else d=h=i;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var bh=!1;function Tl(){if(bh){var n=Wa;if(n!==null)throw n}}function Sl(n,i,a,l){bh=!1;var d=n.updateQueue;Ki=!1;var h=d.firstBaseUpdate,b=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var N=T,q=N.next;N.next=null,b===null?h=q:b.next=q,b=N;var Q=n.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==b&&(T===null?Q.firstBaseUpdate=q:T.next=q,Q.lastBaseUpdate=N))}if(h!==null){var Z=d.baseState;b=0,Q=q=N=null,T=h;do{var G=T.lane&-536870913,$=G!==T.lane;if($?(ze&G)===G:(l&G)===G){G!==0&&G===Xa&&(bh=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ge=n,Ae=T;G=i;var ft=a;switch(Ae.tag){case 1:if(ge=Ae.payload,typeof ge=="function"){Z=ge.call(ft,Z,G);break e}Z=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Ae.payload,G=typeof ge=="function"?ge.call(ft,Z,G):ge,G==null)break e;Z=v({},Z,G);break e;case 2:Ki=!0}}G=T.callback,G!==null&&(n.flags|=64,$&&(n.flags|=8192),$=d.callbacks,$===null?d.callbacks=[G]:$.push(G))}else $={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(q=Q=$,N=Z):Q=Q.next=$,b|=G;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;$=T,T=$.next,$.next=null,d.lastBaseUpdate=$,d.shared.pending=null}}while(!0);Q===null&&(N=Z),d.baseState=N,d.firstBaseUpdate=q,d.lastBaseUpdate=Q,h===null&&(d.shared.lanes=0),ts|=b,n.lanes=b,n.memoizedState=Z}}function Xy(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function Wy(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Xy(a[n],i)}var eo=P(null),Ru=P(0);function Jy(n,i){n=wi,oe(Ru,n),oe(eo,i),wi=n|i.baseLanes}function Eh(){oe(Ru,wi),oe(eo,eo.current)}function wh(){wi=Ru.current,W(eo),W(Ru)}var kn=P(null),er=null;function Wi(n){var i=n.alternate;oe(Ct,Ct.current&1),oe(kn,n),er===null&&(i===null||eo.current!==null||i.memoizedState!==null)&&(er=n)}function Th(n){oe(Ct,Ct.current),oe(kn,n),er===null&&(er=n)}function Zy(n){n.tag===22?(oe(Ct,Ct.current),oe(kn,n),er===null&&(er=n)):Ji()}function Ji(){oe(Ct,Ct.current),oe(kn,kn.current)}function Ln(n){W(kn),er===n&&(er=null),W(Ct)}var Ct=P(0);function Cu(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Cp(a)||Dp(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var pi=0,Oe=null,ct=null,Ut=null,Du=!1,to=!1,oa=!1,Nu=0,Al=0,no=null,wA=0;function At(){throw Error(s(321))}function Sh(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!Vn(n[a],i[a]))return!1;return!0}function Ah(n,i,a,l,d,h){return pi=h,Oe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=n===null||n.memoizedState===null?kv:jh,oa=!1,h=a(l,d),oa=!1,to&&(h=tv(i,a,l,d)),ev(n),h}function ev(n){K.H=Rl;var i=ct!==null&&ct.next!==null;if(pi=0,Ut=ct=Oe=null,Du=!1,Al=0,no=null,i)throw Error(s(300));n===null||zt||(n=n.dependencies,n!==null&&Eu(n)&&(zt=!0))}function tv(n,i,a,l){Oe=n;var d=0;do{if(to&&(no=null),Al=0,to=!1,25<=d)throw Error(s(301));if(d+=1,Ut=ct=null,n.updateQueue!=null){var h=n.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}K.H=Lv,h=i(a,l)}while(to);return h}function TA(){var n=K.H,i=n.useState()[0];return i=typeof i.then=="function"?xl(i):i,n=n.useState()[0],(ct!==null?ct.memoizedState:null)!==n&&(Oe.flags|=1024),i}function xh(){var n=Nu!==0;return Nu=0,n}function Ih(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function Rh(n){if(Du){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Du=!1}pi=0,Ut=ct=Oe=null,to=!1,Al=Nu=0,no=null}function gn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Oe.memoizedState=Ut=n:Ut=Ut.next=n,Ut}function Dt(){if(ct===null){var n=Oe.alternate;n=n!==null?n.memoizedState:null}else n=ct.next;var i=Ut===null?Oe.memoizedState:Ut.next;if(i!==null)Ut=i,ct=n;else{if(n===null)throw Oe.alternate===null?Error(s(467)):Error(s(310));ct=n,n={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},Ut===null?Oe.memoizedState=Ut=n:Ut=Ut.next=n}return Ut}function Ou(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xl(n){var i=Al;return Al+=1,no===null&&(no=[]),n=Fy(no,n,i),i=Oe,(Ut===null?i.memoizedState:Ut.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?kv:jh),n}function Mu(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return xl(n);if(n.$$typeof===te)return nn(n)}throw Error(s(438,String(n)))}function Ch(n){var i=null,a=Oe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ou(),Oe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),l=0;l<n;l++)a[l]=M;return i.index++,a}function mi(n,i){return typeof i=="function"?i(n):i}function Vu(n){var i=Dt();return Dh(i,ct,n)}function Dh(n,i,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=n.baseQueue,h=l.pending;if(h!==null){if(d!==null){var b=d.next;d.next=h.next,h.next=b}i.baseQueue=d=h,l.pending=null}if(h=n.baseState,d===null)n.memoizedState=h;else{i=d.next;var T=b=null,N=null,q=i,Q=!1;do{var Z=q.lane&-536870913;if(Z!==q.lane?(ze&Z)===Z:(pi&Z)===Z){var G=q.revertLane;if(G===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),Z===Xa&&(Q=!0);else if((pi&G)===G){q=q.next,G===Xa&&(Q=!0);continue}else Z={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(T=N=Z,b=h):N=N.next=Z,Oe.lanes|=G,ts|=G;Z=q.action,oa&&a(h,Z),h=q.hasEagerState?q.eagerState:a(h,Z)}else G={lane:Z,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(T=N=G,b=h):N=N.next=G,Oe.lanes|=Z,ts|=Z;q=q.next}while(q!==null&&q!==i);if(N===null?b=h:N.next=T,!Vn(h,n.memoizedState)&&(zt=!0,Q&&(a=Wa,a!==null)))throw a;n.memoizedState=h,n.baseState=b,n.baseQueue=N,l.lastRenderedState=h}return d===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Nh(n){var i=Dt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,d=a.pending,h=i.memoizedState;if(d!==null){a.pending=null;var b=d=d.next;do h=n(h,b.action),b=b.next;while(b!==d);Vn(h,i.memoizedState)||(zt=!0),i.memoizedState=h,i.baseQueue===null&&(i.baseState=h),a.lastRenderedState=h}return[h,l]}function nv(n,i,a){var l=Oe,d=Dt(),h=Ye;if(h){if(a===void 0)throw Error(s(407));a=a()}else a=i();var b=!Vn((ct||d).memoizedState,a);if(b&&(d.memoizedState=a,zt=!0),d=d.queue,Vh(sv.bind(null,l,d,n),[n]),d.getSnapshot!==i||b||Ut!==null&&Ut.memoizedState.tag&1){if(l.flags|=2048,ro(9,{destroy:void 0},iv.bind(null,l,d,a,i),null),dt===null)throw Error(s(349));h||(pi&127)!==0||rv(l,i,a)}return a}function rv(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Oe.updateQueue,i===null?(i=Ou(),Oe.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function iv(n,i,a,l){i.value=a,i.getSnapshot=l,av(i)&&ov(n)}function sv(n,i,a){return a(function(){av(i)&&ov(n)})}function av(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!Vn(n,a)}catch{return!0}}function ov(n){var i=Js(n,2);i!==null&&Rn(i,n,2)}function Oh(n){var i=gn();if(typeof n=="function"){var a=n;if(n=a(),oa){Gn(!0);try{a()}finally{Gn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:n},i}function lv(n,i,a,l){return n.baseState=a,Dh(n,ct,typeof l=="function"?l:mi)}function SA(n,i,a,l,d){if(Lu(n))throw Error(s(485));if(n=i.action,n!==null){var h={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){h.listeners.push(b)}};K.T!==null?a(!0):h.isTransition=!1,l(h),a=i.pending,a===null?(h.next=i.pending=h,cv(i,h)):(h.next=a.next,i.pending=a.next=h)}}function cv(n,i){var a=i.action,l=i.payload,d=n.state;if(i.isTransition){var h=K.T,b={};K.T=b;try{var T=a(d,l),N=K.S;N!==null&&N(b,T),uv(n,i,T)}catch(q){Mh(n,i,q)}finally{h!==null&&b.types!==null&&(h.types=b.types),K.T=h}}else try{h=a(d,l),uv(n,i,h)}catch(q){Mh(n,i,q)}}function uv(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){fv(n,i,l)},function(l){return Mh(n,i,l)}):fv(n,i,a)}function fv(n,i,a){i.status="fulfilled",i.value=a,dv(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,cv(n,a)))}function Mh(n,i,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,dv(i),i=i.next;while(i!==l)}n.action=null}function dv(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function hv(n,i){return i}function pv(n,i){if(Ye){var a=dt.formState;if(a!==null){e:{var l=Oe;if(Ye){if(mt){t:{for(var d=mt,h=Zn;d.nodeType!==8;){if(!h){d=null;break t}if(d=tr(d.nextSibling),d===null){d=null;break t}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){mt=tr(d.nextSibling),l=d.data==="F!";break e}}$i(l)}l=!1}l&&(i=a[0])}}return a=gn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hv,lastRenderedState:i},a.queue=l,a=Mv.bind(null,Oe,l),l.dispatch=a,l=Oh(!1),h=zh.bind(null,Oe,!1,l.queue),l=gn(),d={state:i,dispatch:null,action:n,pending:null},l.queue=d,a=SA.bind(null,Oe,d,h,a),d.dispatch=a,l.memoizedState=n,[i,a,!1]}function mv(n){var i=Dt();return gv(i,ct,n)}function gv(n,i,a){if(i=Dh(n,i,hv)[0],n=Vu(mi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=xl(i)}catch(b){throw b===Ja?Su:b}else l=i;i=Dt();var d=i.queue,h=d.dispatch;return a!==i.memoizedState&&(Oe.flags|=2048,ro(9,{destroy:void 0},AA.bind(null,d,a),null)),[l,h,n]}function AA(n,i){n.action=i}function yv(n){var i=Dt(),a=ct;if(a!==null)return gv(i,a,n);Dt(),i=i.memoizedState,a=Dt();var l=a.queue.dispatch;return a.memoizedState=n,[i,l,!1]}function ro(n,i,a,l){return n={tag:n,create:a,deps:l,inst:i,next:null},i=Oe.updateQueue,i===null&&(i=Ou(),Oe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,i.lastEffect=n),n}function vv(){return Dt().memoizedState}function Pu(n,i,a,l){var d=gn();Oe.flags|=n,d.memoizedState=ro(1|i,{destroy:void 0},a,l===void 0?null:l)}function ku(n,i,a,l){var d=Dt();l=l===void 0?null:l;var h=d.memoizedState.inst;ct!==null&&l!==null&&Sh(l,ct.memoizedState.deps)?d.memoizedState=ro(i,h,a,l):(Oe.flags|=n,d.memoizedState=ro(1|i,h,a,l))}function _v(n,i){Pu(8390656,8,n,i)}function Vh(n,i){ku(2048,8,n,i)}function xA(n){Oe.flags|=4;var i=Oe.updateQueue;if(i===null)i=Ou(),Oe.updateQueue=i,i.events=[n];else{var a=i.events;a===null?i.events=[n]:a.push(n)}}function bv(n){var i=Dt().memoizedState;return xA({ref:i,nextImpl:n}),function(){if((tt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Ev(n,i){return ku(4,2,n,i)}function wv(n,i){return ku(4,4,n,i)}function Tv(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Sv(n,i,a){a=a!=null?a.concat([n]):null,ku(4,4,Tv.bind(null,i,n),a)}function Ph(){}function Av(n,i){var a=Dt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Sh(i,l[1])?l[0]:(a.memoizedState=[n,i],n)}function xv(n,i){var a=Dt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Sh(i,l[1]))return l[0];if(l=n(),oa){Gn(!0);try{n()}finally{Gn(!1)}}return a.memoizedState=[l,i],l}function kh(n,i,a){return a===void 0||(pi&1073741824)!==0&&(ze&261930)===0?n.memoizedState=i:(n.memoizedState=a,n=I_(),Oe.lanes|=n,ts|=n,a)}function Iv(n,i,a,l){return Vn(a,i)?a:eo.current!==null?(n=kh(n,a,l),Vn(n,i)||(zt=!0),n):(pi&42)===0||(pi&1073741824)!==0&&(ze&261930)===0?(zt=!0,n.memoizedState=a):(n=I_(),Oe.lanes|=n,ts|=n,i)}function Rv(n,i,a,l,d){var h=se.p;se.p=h!==0&&8>h?h:8;var b=K.T,T={};K.T=T,zh(n,!1,i,a);try{var N=d(),q=K.S;if(q!==null&&q(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Q=EA(N,l);Il(n,i,Q,jn(n))}else Il(n,i,l,jn(n))}catch(Z){Il(n,i,{then:function(){},status:"rejected",reason:Z},jn())}finally{se.p=h,b!==null&&T.types!==null&&(b.types=T.types),K.T=b}}function IA(){}function Lh(n,i,a,l){if(n.tag!==5)throw Error(s(476));var d=Cv(n).queue;Rv(n,d,i,me,a===null?IA:function(){return Dv(n),a(l)})}function Cv(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function Dv(n){var i=Cv(n);i.next===null&&(i=n.alternate.memoizedState),Il(n,i.next.queue,{},jn())}function Uh(){return nn(Gl)}function Nv(){return Dt().memoizedState}function Ov(){return Dt().memoizedState}function RA(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=jn();n=Qi(a);var l=Xi(i,n,a);l!==null&&(Rn(l,i,a),wl(l,i,a)),i={cache:hh()},n.payload=i;return}i=i.return}}function CA(n,i,a){var l=jn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Lu(n)?Vv(i,a):(a=nh(n,i,a,l),a!==null&&(Rn(a,n,l),Pv(a,i,l)))}function Mv(n,i,a){var l=jn();Il(n,i,a,l)}function Il(n,i,a,l){var d={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Lu(n))Vv(i,d);else{var h=n.alternate;if(n.lanes===0&&(h===null||h.lanes===0)&&(h=i.lastRenderedReducer,h!==null))try{var b=i.lastRenderedState,T=h(b,a);if(d.hasEagerState=!0,d.eagerState=T,Vn(T,b))return yu(n,i,d,0),dt===null&&gu(),!1}catch{}if(a=nh(n,i,d,l),a!==null)return Rn(a,n,l),Pv(a,i,l),!0}return!1}function zh(n,i,a,l){if(l={lane:2,revertLane:yp(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Lu(n)){if(i)throw Error(s(479))}else i=nh(n,a,l,2),i!==null&&Rn(i,n,2)}function Lu(n){var i=n.alternate;return n===Oe||i!==null&&i===Oe}function Vv(n,i){to=Du=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function Pv(n,i,a){if((a&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,Qo(n,a)}}var Rl={readContext:nn,use:Mu,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};Rl.useEffectEvent=At;var kv={readContext:nn,use:Mu,useCallback:function(n,i){return gn().memoizedState=[n,i===void 0?null:i],n},useContext:nn,useEffect:_v,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,Pu(4194308,4,Tv.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Pu(4194308,4,n,i)},useInsertionEffect:function(n,i){Pu(4,2,n,i)},useMemo:function(n,i){var a=gn();i=i===void 0?null:i;var l=n();if(oa){Gn(!0);try{n()}finally{Gn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(n,i,a){var l=gn();if(a!==void 0){var d=a(i);if(oa){Gn(!0);try{a(i)}finally{Gn(!1)}}}else d=i;return l.memoizedState=l.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},l.queue=n,n=n.dispatch=CA.bind(null,Oe,n),[l.memoizedState,n]},useRef:function(n){var i=gn();return n={current:n},i.memoizedState=n},useState:function(n){n=Oh(n);var i=n.queue,a=Mv.bind(null,Oe,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:Ph,useDeferredValue:function(n,i){var a=gn();return kh(a,n,i)},useTransition:function(){var n=Oh(!1);return n=Rv.bind(null,Oe,n.queue,!0,!1),gn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var l=Oe,d=gn();if(Ye){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),dt===null)throw Error(s(349));(ze&127)!==0||rv(l,i,a)}d.memoizedState=a;var h={value:a,getSnapshot:i};return d.queue=h,_v(sv.bind(null,l,h,n),[n]),l.flags|=2048,ro(9,{destroy:void 0},iv.bind(null,l,h,a,i),null),a},useId:function(){var n=gn(),i=dt.identifierPrefix;if(Ye){var a=Yr,l=$r;a=(l&~(1<<32-It(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Nu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=wA++,i="_"+i+"r_"+a.toString(32)+"_";return n.memoizedState=i},useHostTransitionStatus:Uh,useFormState:pv,useActionState:pv,useOptimistic:function(n){var i=gn();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=zh.bind(null,Oe,!0,a),a.dispatch=i,[n,i]},useMemoCache:Ch,useCacheRefresh:function(){return gn().memoizedState=RA.bind(null,Oe)},useEffectEvent:function(n){var i=gn(),a={impl:n};return i.memoizedState=a,function(){if((tt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},jh={readContext:nn,use:Mu,useCallback:Av,useContext:nn,useEffect:Vh,useImperativeHandle:Sv,useInsertionEffect:Ev,useLayoutEffect:wv,useMemo:xv,useReducer:Vu,useRef:vv,useState:function(){return Vu(mi)},useDebugValue:Ph,useDeferredValue:function(n,i){var a=Dt();return Iv(a,ct.memoizedState,n,i)},useTransition:function(){var n=Vu(mi)[0],i=Dt().memoizedState;return[typeof n=="boolean"?n:xl(n),i]},useSyncExternalStore:nv,useId:Nv,useHostTransitionStatus:Uh,useFormState:mv,useActionState:mv,useOptimistic:function(n,i){var a=Dt();return lv(a,ct,n,i)},useMemoCache:Ch,useCacheRefresh:Ov};jh.useEffectEvent=bv;var Lv={readContext:nn,use:Mu,useCallback:Av,useContext:nn,useEffect:Vh,useImperativeHandle:Sv,useInsertionEffect:Ev,useLayoutEffect:wv,useMemo:xv,useReducer:Nh,useRef:vv,useState:function(){return Nh(mi)},useDebugValue:Ph,useDeferredValue:function(n,i){var a=Dt();return ct===null?kh(a,n,i):Iv(a,ct.memoizedState,n,i)},useTransition:function(){var n=Nh(mi)[0],i=Dt().memoizedState;return[typeof n=="boolean"?n:xl(n),i]},useSyncExternalStore:nv,useId:Nv,useHostTransitionStatus:Uh,useFormState:yv,useActionState:yv,useOptimistic:function(n,i){var a=Dt();return ct!==null?lv(a,ct,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Ch,useCacheRefresh:Ov};Lv.useEffectEvent=bv;function Bh(n,i,a,l){i=n.memoizedState,a=a(l,i),a=a==null?i:v({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Hh={enqueueSetState:function(n,i,a){n=n._reactInternals;var l=jn(),d=Qi(l);d.payload=i,a!=null&&(d.callback=a),i=Xi(n,d,l),i!==null&&(Rn(i,n,l),wl(i,n,l))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var l=jn(),d=Qi(l);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=Xi(n,d,l),i!==null&&(Rn(i,n,l),wl(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=jn(),l=Qi(a);l.tag=2,i!=null&&(l.callback=i),i=Xi(n,l,a),i!==null&&(Rn(i,n,a),wl(i,n,a))}};function Uv(n,i,a,l,d,h,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,h,b):i.prototype&&i.prototype.isPureReactComponent?!pl(a,l)||!pl(d,h):!0}function zv(n,i,a,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==n&&Hh.enqueueReplaceState(i,i.state,null)}function la(n,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(n=n.defaultProps){a===i&&(a=v({},a));for(var d in n)a[d]===void 0&&(a[d]=n[d])}return a}function jv(n){mu(n)}function Bv(n){console.error(n)}function Hv(n){mu(n)}function Uu(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function qv(n,i,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function qh(n,i,a){return a=Qi(a),a.tag=3,a.payload={element:null},a.callback=function(){Uu(n,i)},a}function Gv(n){return n=Qi(n),n.tag=3,n}function Fv(n,i,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var h=l.value;n.payload=function(){return d(h)},n.callback=function(){qv(i,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(n.callback=function(){qv(i,a,l),typeof d!="function"&&(ns===null?ns=new Set([this]):ns.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function DA(n,i,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Qa(i,a,d,!0),a=kn.current,a!==null){switch(a.tag){case 31:case 13:return er===null?Xu():a.alternate===null&&xt===0&&(xt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===Au?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),pp(n,l,d)),!1;case 22:return a.flags|=65536,l===Au?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),pp(n,l,d)),!1}throw Error(s(435,a.tag))}return pp(n,l,d),Xu(),!1}if(Ye)return i=kn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,l!==lh&&(n=Error(s(422),{cause:l}),yl(Xn(n,a)))):(l!==lh&&(i=Error(s(423),{cause:l}),yl(Xn(i,a))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,l=Xn(l,a),d=qh(n.stateNode,l,d),_h(n,d),xt!==4&&(xt=2)),!1;var h=Error(s(520),{cause:l});if(h=Xn(h,a),kl===null?kl=[h]:kl.push(h),xt!==4&&(xt=2),i===null)return!0;l=Xn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=d&-d,a.lanes|=n,n=qh(a.stateNode,l,n),_h(a,n),!1;case 1:if(i=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(ns===null||!ns.has(h))))return a.flags|=65536,d&=-d,a.lanes|=d,d=Gv(d),Fv(d,n,a,l),_h(a,d),!1}a=a.return}while(a!==null);return!1}var Gh=Error(s(461)),zt=!1;function rn(n,i,a,l){i.child=n===null?Qy(i,null,a,l):aa(i,n.child,a,l)}function $v(n,i,a,l,d){a=a.render;var h=i.ref;if("ref"in l){var b={};for(var T in l)T!=="ref"&&(b[T]=l[T])}else b=l;return na(i),l=Ah(n,i,a,b,h,d),T=xh(),n!==null&&!zt?(Ih(n,i,d),gi(n,i,d)):(Ye&&T&&ah(i),i.flags|=1,rn(n,i,l,d),i.child)}function Yv(n,i,a,l,d){if(n===null){var h=a.type;return typeof h=="function"&&!rh(h)&&h.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=h,Kv(n,i,h,l,d)):(n=_u(a.type,null,l,i,i.mode,d),n.ref=i.ref,n.return=i,i.child=n)}if(h=n.child,!Jh(n,d)){var b=h.memoizedProps;if(a=a.compare,a=a!==null?a:pl,a(b,l)&&n.ref===i.ref)return gi(n,i,d)}return i.flags|=1,n=ui(h,l),n.ref=i.ref,n.return=i,i.child=n}function Kv(n,i,a,l,d){if(n!==null){var h=n.memoizedProps;if(pl(h,l)&&n.ref===i.ref)if(zt=!1,i.pendingProps=l=h,Jh(n,d))(n.flags&131072)!==0&&(zt=!0);else return i.lanes=n.lanes,gi(n,i,d)}return Fh(n,i,a,l,d)}function Qv(n,i,a,l){var d=l.children,h=n!==null?n.memoizedState:null;if(n===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(h=h!==null?h.baseLanes|a:a,n!==null){for(l=i.child=n.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~h}else l=0,i.child=null;return Xv(n,i,h,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Tu(i,h!==null?h.cachePool:null),h!==null?Jy(i,h):Eh(),Zy(i);else return l=i.lanes=536870912,Xv(n,i,h!==null?h.baseLanes|a:a,a,l)}else h!==null?(Tu(i,h.cachePool),Jy(i,h),Ji(),i.memoizedState=null):(n!==null&&Tu(i,null),Eh(),Ji());return rn(n,i,d,a),i.child}function Cl(n,i){return n!==null&&n.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Xv(n,i,a,l,d){var h=mh();return h=h===null?null:{parent:Lt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},n!==null&&Tu(i,null),Eh(),Zy(i),n!==null&&Qa(n,i,l,!0),i.childLanes=d,null}function zu(n,i){return i=Bu({mode:i.mode,children:i.children},n.mode),i.ref=n.ref,n.child=i,i.return=n,i}function Wv(n,i,a){return aa(i,n.child,null,a),n=zu(i,i.pendingProps),n.flags|=2,Ln(i),i.memoizedState=null,n}function NA(n,i,a){var l=i.pendingProps,d=(i.flags&128)!==0;if(i.flags&=-129,n===null){if(Ye){if(l.mode==="hidden")return n=zu(i,l),i.lanes=536870912,Cl(null,n);if(Th(i),(n=mt)?(n=cb(n,Zn),n=n!==null&&n.data==="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:Gi!==null?{id:$r,overflow:Yr}:null,retryLane:536870912,hydrationErrors:null},a=Vy(n),a.return=i,i.child=a,tn=i,mt=null)):n=null,n===null)throw $i(i);return i.lanes=536870912,null}return zu(i,l)}var h=n.memoizedState;if(h!==null){var b=h.dehydrated;if(Th(i),d)if(i.flags&256)i.flags&=-257,i=Wv(n,i,a);else if(i.memoizedState!==null)i.child=n.child,i.flags|=128,i=null;else throw Error(s(558));else if(zt||Qa(n,i,a,!1),d=(a&n.childLanes)!==0,zt||d){if(l=dt,l!==null&&(b=Xo(l,a),b!==0&&b!==h.retryLane))throw h.retryLane=b,Js(n,b),Rn(l,n,b),Gh;Xu(),i=Wv(n,i,a)}else n=h.treeContext,mt=tr(b.nextSibling),tn=i,Ye=!0,Fi=null,Zn=!1,n!==null&&Ly(i,n),i=zu(i,l),i.flags|=4096;return i}return n=ui(n.child,{mode:l.mode,children:l.children}),n.ref=i.ref,i.child=n,n.return=i,n}function ju(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function Fh(n,i,a,l,d){return na(i),a=Ah(n,i,a,l,void 0,d),l=xh(),n!==null&&!zt?(Ih(n,i,d),gi(n,i,d)):(Ye&&l&&ah(i),i.flags|=1,rn(n,i,a,d),i.child)}function Jv(n,i,a,l,d,h){return na(i),i.updateQueue=null,a=tv(i,l,a,d),ev(n),l=xh(),n!==null&&!zt?(Ih(n,i,h),gi(n,i,h)):(Ye&&l&&ah(i),i.flags|=1,rn(n,i,a,h),i.child)}function Zv(n,i,a,l,d){if(na(i),i.stateNode===null){var h=Fa,b=a.contextType;typeof b=="object"&&b!==null&&(h=nn(b)),h=new a(l,h),i.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Hh,i.stateNode=h,h._reactInternals=i,h=i.stateNode,h.props=l,h.state=i.memoizedState,h.refs={},yh(i),b=a.contextType,h.context=typeof b=="object"&&b!==null?nn(b):Fa,h.state=i.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(Bh(i,a,b,l),h.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(b=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),b!==h.state&&Hh.enqueueReplaceState(h,h.state,null),Sl(i,l,h,d),Tl(),h.state=i.memoizedState),typeof h.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){h=i.stateNode;var T=i.memoizedProps,N=la(a,T);h.props=N;var q=h.context,Q=a.contextType;b=Fa,typeof Q=="object"&&Q!==null&&(b=nn(Q));var Z=a.getDerivedStateFromProps;Q=typeof Z=="function"||typeof h.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Q||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(T||q!==b)&&zv(i,h,l,b),Ki=!1;var G=i.memoizedState;h.state=G,Sl(i,l,h,d),Tl(),q=i.memoizedState,T||G!==q||Ki?(typeof Z=="function"&&(Bh(i,a,Z,l),q=i.memoizedState),(N=Ki||Uv(i,a,N,l,G,q,b))?(Q||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(i.flags|=4194308)):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),h.props=l,h.state=q,h.context=b,l=N):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{h=i.stateNode,vh(n,i),b=i.memoizedProps,Q=la(a,b),h.props=Q,Z=i.pendingProps,G=h.context,q=a.contextType,N=Fa,typeof q=="object"&&q!==null&&(N=nn(q)),T=a.getDerivedStateFromProps,(q=typeof T=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(b!==Z||G!==N)&&zv(i,h,l,N),Ki=!1,G=i.memoizedState,h.state=G,Sl(i,l,h,d),Tl();var $=i.memoizedState;b!==Z||G!==$||Ki||n!==null&&n.dependencies!==null&&Eu(n.dependencies)?(typeof T=="function"&&(Bh(i,a,T,l),$=i.memoizedState),(Q=Ki||Uv(i,a,Q,l,G,$,N)||n!==null&&n.dependencies!==null&&Eu(n.dependencies))?(q||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,$,N),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,$,N)),typeof h.componentDidUpdate=="function"&&(i.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof h.componentDidUpdate!="function"||b===n.memoizedProps&&G===n.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&G===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=$),h.props=l,h.state=$,h.context=N,l=Q):(typeof h.componentDidUpdate!="function"||b===n.memoizedProps&&G===n.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&G===n.memoizedState||(i.flags|=1024),l=!1)}return h=l,ju(n,i),l=(i.flags&128)!==0,h||l?(h=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:h.render(),i.flags|=1,n!==null&&l?(i.child=aa(i,n.child,null,d),i.child=aa(i,null,a,d)):rn(n,i,a,d),i.memoizedState=h.state,n=i.child):n=gi(n,i,d),n}function e_(n,i,a,l){return ea(),i.flags|=256,rn(n,i,a,l),i.child}var $h={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yh(n){return{baseLanes:n,cachePool:qy()}}function Kh(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=zn),n}function t_(n,i,a){var l=i.pendingProps,d=!1,h=(i.flags&128)!==0,b;if((b=h)||(b=n!==null&&n.memoizedState===null?!1:(Ct.current&2)!==0),b&&(d=!0,i.flags&=-129),b=(i.flags&32)!==0,i.flags&=-33,n===null){if(Ye){if(d?Wi(i):Ji(),(n=mt)?(n=cb(n,Zn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:Gi!==null?{id:$r,overflow:Yr}:null,retryLane:536870912,hydrationErrors:null},a=Vy(n),a.return=i,i.child=a,tn=i,mt=null)):n=null,n===null)throw $i(i);return Dp(n)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,d?(Ji(),d=i.mode,T=Bu({mode:"hidden",children:T},d),l=Zs(l,d,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=Yh(a),l.childLanes=Kh(n,b,a),i.memoizedState=$h,Cl(null,l)):(Wi(i),Qh(i,T))}var N=n.memoizedState;if(N!==null&&(T=N.dehydrated,T!==null)){if(h)i.flags&256?(Wi(i),i.flags&=-257,i=Xh(n,i,a)):i.memoizedState!==null?(Ji(),i.child=n.child,i.flags|=128,i=null):(Ji(),T=l.fallback,d=i.mode,l=Bu({mode:"visible",children:l.children},d),T=Zs(T,d,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,aa(i,n.child,null,a),l=i.child,l.memoizedState=Yh(a),l.childLanes=Kh(n,b,a),i.memoizedState=$h,i=Cl(null,l));else if(Wi(i),Dp(T)){if(b=T.nextSibling&&T.nextSibling.dataset,b)var q=b.dgst;b=q,l=Error(s(419)),l.stack="",l.digest=b,yl({value:l,source:null,stack:null}),i=Xh(n,i,a)}else if(zt||Qa(n,i,a,!1),b=(a&n.childLanes)!==0,zt||b){if(b=dt,b!==null&&(l=Xo(b,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Js(n,l),Rn(b,n,l),Gh;Cp(T)||Xu(),i=Xh(n,i,a)}else Cp(T)?(i.flags|=192,i.child=n.child,i=null):(n=N.treeContext,mt=tr(T.nextSibling),tn=i,Ye=!0,Fi=null,Zn=!1,n!==null&&Ly(i,n),i=Qh(i,l.children),i.flags|=4096);return i}return d?(Ji(),T=l.fallback,d=i.mode,N=n.child,q=N.sibling,l=ui(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,q!==null?T=ui(q,T):(T=Zs(T,d,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,Cl(null,l),l=i.child,T=n.child.memoizedState,T===null?T=Yh(a):(d=T.cachePool,d!==null?(N=Lt._currentValue,d=d.parent!==N?{parent:N,pool:N}:d):d=qy(),T={baseLanes:T.baseLanes|a,cachePool:d}),l.memoizedState=T,l.childLanes=Kh(n,b,a),i.memoizedState=$h,Cl(n.child,l)):(Wi(i),a=n.child,n=a.sibling,a=ui(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,n!==null&&(b=i.deletions,b===null?(i.deletions=[n],i.flags|=16):b.push(n)),i.child=a,i.memoizedState=null,a)}function Qh(n,i){return i=Bu({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Bu(n,i){return n=Pn(22,n,null,i),n.lanes=0,n}function Xh(n,i,a){return aa(i,n.child,null,a),n=Qh(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function n_(n,i,a){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),fh(n.return,i,a)}function Wh(n,i,a,l,d,h){var b=n.memoizedState;b===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d,treeForkCount:h}:(b.isBackwards=i,b.rendering=null,b.renderingStartTime=0,b.last=l,b.tail=a,b.tailMode=d,b.treeForkCount=h)}function r_(n,i,a){var l=i.pendingProps,d=l.revealOrder,h=l.tail;l=l.children;var b=Ct.current,T=(b&2)!==0;if(T?(b=b&1|2,i.flags|=128):b&=1,oe(Ct,b),rn(n,i,l,a),l=Ye?gl:0,!T&&n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&n_(n,a,i);else if(n.tag===19)n_(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(d){case"forwards":for(a=i.child,d=null;a!==null;)n=a.alternate,n!==null&&Cu(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),Wh(i,!1,d,a,h,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(n=d.alternate,n!==null&&Cu(n)===null){i.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}Wh(i,!0,a,null,h,l);break;case"together":Wh(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function gi(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),ts|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(Qa(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=ui(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=ui(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function Jh(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Eu(n)))}function OA(n,i,a){switch(i.tag){case 3:Et(i,i.stateNode.containerInfo),Yi(i,Lt,n.memoizedState.cache),ea();break;case 27:case 5:Dn(i);break;case 4:Et(i,i.stateNode.containerInfo);break;case 10:Yi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Th(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Wi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?t_(n,i,a):(Wi(i),n=gi(n,i,a),n!==null?n.sibling:null);Wi(i);break;case 19:var d=(n.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Qa(n,i,a,!1),l=(a&i.childLanes)!==0),d){if(l)return r_(n,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),oe(Ct,Ct.current),l)break;return null;case 22:return i.lanes=0,Qv(n,i,a,i.pendingProps);case 24:Yi(i,Lt,n.memoizedState.cache)}return gi(n,i,a)}function i_(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)zt=!0;else{if(!Jh(n,a)&&(i.flags&128)===0)return zt=!1,OA(n,i,a);zt=(n.flags&131072)!==0}else zt=!1,Ye&&(i.flags&1048576)!==0&&ky(i,gl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(n=ia(i.elementType),i.type=n,typeof n=="function")rh(n)?(l=la(n,l),i.tag=1,i=Zv(null,i,n,l,a)):(i.tag=0,i=Fh(null,i,n,l,a));else{if(n!=null){var d=n.$$typeof;if(d===ie){i.tag=11,i=$v(null,i,n,l,a);break e}else if(d===I){i.tag=14,i=Yv(null,i,n,l,a);break e}}throw i=Xe(n)||n,Error(s(306,i,""))}}return i;case 0:return Fh(n,i,i.type,i.pendingProps,a);case 1:return l=i.type,d=la(l,i.pendingProps),Zv(n,i,l,d,a);case 3:e:{if(Et(i,i.stateNode.containerInfo),n===null)throw Error(s(387));l=i.pendingProps;var h=i.memoizedState;d=h.element,vh(n,i),Sl(i,l,null,a);var b=i.memoizedState;if(l=b.cache,Yi(i,Lt,l),l!==h.cache&&dh(i,[Lt],a,!0),Tl(),l=b.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:b.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=e_(n,i,l,a);break e}else if(l!==d){d=Xn(Error(s(424)),i),yl(d),i=e_(n,i,l,a);break e}else for(n=i.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,mt=tr(n.firstChild),tn=i,Ye=!0,Fi=null,Zn=!0,a=Qy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ea(),l===d){i=gi(n,i,a);break e}rn(n,i,l,a)}i=i.child}return i;case 26:return ju(n,i),n===null?(a=mb(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ye||(a=i.type,n=i.pendingProps,l=rf(Se.current).createElement(a),l[Vt]=i,l[Yt]=n,sn(l,a,n),Pt(l),i.stateNode=l):i.memoizedState=mb(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Dn(i),n===null&&Ye&&(l=i.stateNode=db(i.type,i.pendingProps,Se.current),tn=i,Zn=!0,d=mt,as(i.type)?(Np=d,mt=tr(l.firstChild)):mt=d),rn(n,i,i.pendingProps.children,a),ju(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Ye&&((d=l=mt)&&(l=lx(l,i.type,i.pendingProps,Zn),l!==null?(i.stateNode=l,tn=i,mt=tr(l.firstChild),Zn=!1,d=!0):d=!1),d||$i(i)),Dn(i),d=i.type,h=i.pendingProps,b=n!==null?n.memoizedProps:null,l=h.children,xp(d,h)?l=null:b!==null&&xp(d,b)&&(i.flags|=32),i.memoizedState!==null&&(d=Ah(n,i,TA,null,null,a),Gl._currentValue=d),ju(n,i),rn(n,i,l,a),i.child;case 6:return n===null&&Ye&&((n=a=mt)&&(a=cx(a,i.pendingProps,Zn),a!==null?(i.stateNode=a,tn=i,mt=null,n=!0):n=!1),n||$i(i)),null;case 13:return t_(n,i,a);case 4:return Et(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=aa(i,null,l,a):rn(n,i,l,a),i.child;case 11:return $v(n,i,i.type,i.pendingProps,a);case 7:return rn(n,i,i.pendingProps,a),i.child;case 8:return rn(n,i,i.pendingProps.children,a),i.child;case 12:return rn(n,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Yi(i,i.type,l.value),rn(n,i,l.children,a),i.child;case 9:return d=i.type._context,l=i.pendingProps.children,na(i),d=nn(d),l=l(d),i.flags|=1,rn(n,i,l,a),i.child;case 14:return Yv(n,i,i.type,i.pendingProps,a);case 15:return Kv(n,i,i.type,i.pendingProps,a);case 19:return r_(n,i,a);case 31:return NA(n,i,a);case 22:return Qv(n,i,a,i.pendingProps);case 24:return na(i),l=nn(Lt),n===null?(d=mh(),d===null&&(d=dt,h=hh(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=a),d=h),i.memoizedState={parent:l,cache:d},yh(i),Yi(i,Lt,d)):((n.lanes&a)!==0&&(vh(n,i),Sl(i,null,null,a),Tl()),d=n.memoizedState,h=i.memoizedState,d.parent!==l?(d={parent:l,cache:l},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Yi(i,Lt,l)):(l=h.cache,Yi(i,Lt,l),l!==d.cache&&dh(i,[Lt],a,!0))),rn(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function yi(n){n.flags|=4}function Zh(n,i,a,l,d){if((i=(n.mode&32)!==0)&&(i=!1),i){if(n.flags|=16777216,(d&335544128)===d)if(n.stateNode.complete)n.flags|=8192;else if(N_())n.flags|=8192;else throw sa=Au,gh}else n.flags&=-16777217}function s_(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!bb(i))if(N_())n.flags|=8192;else throw sa=Au,gh}function Hu(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Kc():536870912,n.lanes|=i,oo|=i)}function Dl(n,i){if(!Ye)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function gt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(i)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=l,n.childLanes=a,i}function MA(n,i,a){var l=i.pendingProps;switch(oh(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(i),null;case 1:return gt(i),null;case 3:return a=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),hi(Lt),Ze(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Ka(i)?yi(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ch())),gt(i),null;case 26:var d=i.type,h=i.memoizedState;return n===null?(yi(i),h!==null?(gt(i),s_(i,h)):(gt(i),Zh(i,d,null,l,a))):h?h!==n.memoizedState?(yi(i),gt(i),s_(i,h)):(gt(i),i.flags&=-16777217):(n=n.memoizedProps,n!==l&&yi(i),gt(i),Zh(i,d,n,l,a)),null;case 27:if(ii(i),a=Se.current,d=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&yi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return gt(i),null}n=de.current,Ka(i)?Uy(i):(n=db(d,l,a),i.stateNode=n,yi(i))}return gt(i),null;case 5:if(ii(i),d=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&yi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return gt(i),null}if(h=de.current,Ka(i))Uy(i);else{var b=rf(Se.current);switch(h){case 1:h=b.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:h=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":h=b.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":h=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":h=b.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?b.createElement("select",{is:l.is}):b.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?b.createElement(d,{is:l.is}):b.createElement(d)}}h[Vt]=i,h[Yt]=l;e:for(b=i.child;b!==null;){if(b.tag===5||b.tag===6)h.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===i)break e;for(;b.sibling===null;){if(b.return===null||b.return===i)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}i.stateNode=h;e:switch(sn(h,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&yi(i)}}return gt(i),Zh(i,i.type,n===null?null:n.memoizedProps,i.pendingProps,a),null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&yi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(n=Se.current,Ka(i)){if(n=i.stateNode,a=i.memoizedProps,l=null,d=tn,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}n[Vt]=i,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||tb(n.nodeValue,a)),n||$i(i,!0)}else n=rf(n).createTextNode(l),n[Vt]=i,i.stateNode=n}return gt(i),null;case 31:if(a=i.memoizedState,n===null||n.memoizedState!==null){if(l=Ka(i),a!==null){if(n===null){if(!l)throw Error(s(318));if(n=i.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[Vt]=i}else ea(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;gt(i),n=!1}else a=ch(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return i.flags&256?(Ln(i),i):(Ln(i),null);if((i.flags&128)!==0)throw Error(s(558))}return gt(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=Ka(i),l!==null&&l.dehydrated!==null){if(n===null){if(!d)throw Error(s(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Vt]=i}else ea(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;gt(i),d=!1}else d=ch(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(Ln(i),i):(Ln(i),null)}return Ln(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,n=n!==null&&n.memoizedState!==null,a&&(l=i.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==d&&(l.flags|=2048)),a!==n&&a&&(i.child.flags|=8192),Hu(i,i.updateQueue),gt(i),null);case 4:return Ze(),n===null&&Ep(i.stateNode.containerInfo),gt(i),null;case 10:return hi(i.type),gt(i),null;case 19:if(W(Ct),l=i.memoizedState,l===null)return gt(i),null;if(d=(i.flags&128)!==0,h=l.rendering,h===null)if(d)Dl(l,!1);else{if(xt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(h=Cu(n),h!==null){for(i.flags|=128,Dl(l,!1),n=h.updateQueue,i.updateQueue=n,Hu(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)My(a,n),a=a.sibling;return oe(Ct,Ct.current&1|2),Ye&&fi(i,l.treeForkCount),i.child}n=n.sibling}l.tail!==null&&ht()>Yu&&(i.flags|=128,d=!0,Dl(l,!1),i.lanes=4194304)}else{if(!d)if(n=Cu(h),n!==null){if(i.flags|=128,d=!0,n=n.updateQueue,i.updateQueue=n,Hu(i,n),Dl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!Ye)return gt(i),null}else 2*ht()-l.renderingStartTime>Yu&&a!==536870912&&(i.flags|=128,d=!0,Dl(l,!1),i.lanes=4194304);l.isBackwards?(h.sibling=i.child,i.child=h):(n=l.last,n!==null?n.sibling=h:i.child=h,l.last=h)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=ht(),n.sibling=null,a=Ct.current,oe(Ct,d?a&1|2:a&1),Ye&&fi(i,l.treeForkCount),n):(gt(i),null);case 22:case 23:return Ln(i),wh(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(gt(i),i.subtreeFlags&6&&(i.flags|=8192)):gt(i),a=i.updateQueue,a!==null&&Hu(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),n!==null&&W(ra),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),hi(Lt),gt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function VA(n,i){switch(oh(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return hi(Lt),Ze(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return ii(i),null;case 31:if(i.memoizedState!==null){if(Ln(i),i.alternate===null)throw Error(s(340));ea()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 13:if(Ln(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ea()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return W(Ct),null;case 4:return Ze(),null;case 10:return hi(i.type),null;case 22:case 23:return Ln(i),wh(),n!==null&&W(ra),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return hi(Lt),null;case 25:return null;default:return null}}function a_(n,i){switch(oh(i),i.tag){case 3:hi(Lt),Ze();break;case 26:case 27:case 5:ii(i);break;case 4:Ze();break;case 31:i.memoizedState!==null&&Ln(i);break;case 13:Ln(i);break;case 19:W(Ct);break;case 10:hi(i.type);break;case 22:case 23:Ln(i),wh(),n!==null&&W(ra);break;case 24:hi(Lt)}}function Nl(n,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&n)===n){l=void 0;var h=a.create,b=a.inst;l=h(),b.destroy=l}a=a.next}while(a!==d)}}catch(T){at(i,i.return,T)}}function Zi(n,i,a){try{var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var h=d.next;l=h;do{if((l.tag&n)===n){var b=l.inst,T=b.destroy;if(T!==void 0){b.destroy=void 0,d=i;var N=a,q=T;try{q()}catch(Q){at(d,N,Q)}}}l=l.next}while(l!==h)}}catch(Q){at(i,i.return,Q)}}function o_(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{Wy(i,a)}catch(l){at(n,n.return,l)}}}function l_(n,i,a){a.props=la(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){at(n,i,l)}}function Ol(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(d){at(n,i,d)}}function Kr(n,i){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){at(n,i,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){at(n,i,d)}else a.current=null}function c_(n){var i=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){at(n,n.return,d)}}function ep(n,i,a){try{var l=n.stateNode;nx(l,n.type,a,i),l[Yt]=i}catch(d){at(n,n.return,d)}}function u_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&as(n.type)||n.tag===4}function tp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||u_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&as(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function np(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=pr));else if(l!==4&&(l===27&&as(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(np(n,i,a),n=n.sibling;n!==null;)np(n,i,a),n=n.sibling}function qu(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(l!==4&&(l===27&&as(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(qu(n,i,a),n=n.sibling;n!==null;)qu(n,i,a),n=n.sibling}function f_(n){var i=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);sn(i,l,a),i[Vt]=n,i[Yt]=a}catch(h){at(n,n.return,h)}}var vi=!1,jt=!1,rp=!1,d_=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function PA(n,i){if(n=n.containerInfo,Sp=ff,n=Sy(n),Xd(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var b=0,T=-1,N=-1,q=0,Q=0,Z=n,G=null;t:for(;;){for(var $;Z!==a||d!==0&&Z.nodeType!==3||(T=b+d),Z!==h||l!==0&&Z.nodeType!==3||(N=b+l),Z.nodeType===3&&(b+=Z.nodeValue.length),($=Z.firstChild)!==null;)G=Z,Z=$;for(;;){if(Z===n)break t;if(G===a&&++q===d&&(T=b),G===h&&++Q===l&&(N=b),($=Z.nextSibling)!==null)break;Z=G,G=Z.parentNode}Z=$}a=T===-1||N===-1?null:{start:T,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ap={focusedElem:n,selectionRange:a},ff=!1,Qt=i;Qt!==null;)if(i=Qt,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Qt=n;else for(;Qt!==null;){switch(i=Qt,h=i.alternate,n=i.flags,i.tag){case 0:if((n&4)!==0&&(n=i.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)d=n[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&h!==null){n=void 0,a=i,d=h.memoizedProps,h=h.memoizedState,l=a.stateNode;try{var ge=la(a.type,d);n=l.getSnapshotBeforeUpdate(ge,h),l.__reactInternalSnapshotBeforeUpdate=n}catch(Ae){at(a,a.return,Ae)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)Rp(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Rp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,Qt=n;break}Qt=i.return}}function h_(n,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:bi(n,a),l&4&&Nl(5,a);break;case 1:if(bi(n,a),l&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(b){at(a,a.return,b)}else{var d=la(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(d,i,n.__reactInternalSnapshotBeforeUpdate)}catch(b){at(a,a.return,b)}}l&64&&o_(a),l&512&&Ol(a,a.return);break;case 3:if(bi(n,a),l&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Wy(n,i)}catch(b){at(a,a.return,b)}}break;case 27:i===null&&l&4&&f_(a);case 26:case 5:bi(n,a),i===null&&l&4&&c_(a),l&512&&Ol(a,a.return);break;case 12:bi(n,a);break;case 31:bi(n,a),l&4&&g_(n,a);break;case 13:bi(n,a),l&4&&y_(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=GA.bind(null,a),ux(n,a))));break;case 22:if(l=a.memoizedState!==null||vi,!l){i=i!==null&&i.memoizedState!==null||jt,d=vi;var h=jt;vi=l,(jt=i)&&!h?Ei(n,a,(a.subtreeFlags&8772)!==0):bi(n,a),vi=d,jt=h}break;case 30:break;default:bi(n,a)}}function p_(n){var i=n.alternate;i!==null&&(n.alternate=null,p_(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Na(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var _t=null,Sn=!1;function _i(n,i,a){for(a=a.child;a!==null;)m_(n,i,a),a=a.sibling}function m_(n,i,a){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(ur,a)}catch{}switch(a.tag){case 26:jt||Kr(a,i),_i(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:jt||Kr(a,i);var l=_t,d=Sn;as(a.type)&&(_t=a.stateNode,Sn=!1),_i(n,i,a),Bl(a.stateNode),_t=l,Sn=d;break;case 5:jt||Kr(a,i);case 6:if(l=_t,d=Sn,_t=null,_i(n,i,a),_t=l,Sn=d,_t!==null)if(Sn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(a.stateNode)}catch(h){at(a,i,h)}else try{_t.removeChild(a.stateNode)}catch(h){at(a,i,h)}break;case 18:_t!==null&&(Sn?(n=_t,ob(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),go(n)):ob(_t,a.stateNode));break;case 4:l=_t,d=Sn,_t=a.stateNode.containerInfo,Sn=!0,_i(n,i,a),_t=l,Sn=d;break;case 0:case 11:case 14:case 15:Zi(2,a,i),jt||Zi(4,a,i),_i(n,i,a);break;case 1:jt||(Kr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&l_(a,i,l)),_i(n,i,a);break;case 21:_i(n,i,a);break;case 22:jt=(l=jt)||a.memoizedState!==null,_i(n,i,a),jt=l;break;default:_i(n,i,a)}}function g_(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{go(n)}catch(a){at(i,i.return,a)}}}function y_(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{go(n)}catch(a){at(i,i.return,a)}}function kA(n){switch(n.tag){case 31:case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new d_),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new d_),i;default:throw Error(s(435,n.tag))}}function Gu(n,i){var a=kA(n);i.forEach(function(l){if(!a.has(l)){a.add(l);var d=FA.bind(null,n,l);l.then(d,d)}})}function An(n,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],h=n,b=i,T=b;e:for(;T!==null;){switch(T.tag){case 27:if(as(T.type)){_t=T.stateNode,Sn=!1;break e}break;case 5:_t=T.stateNode,Sn=!1;break e;case 3:case 4:_t=T.stateNode.containerInfo,Sn=!0;break e}T=T.return}if(_t===null)throw Error(s(160));m_(h,b,d),_t=null,Sn=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)v_(i,n),i=i.sibling}var br=null;function v_(n,i){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:An(i,n),xn(n),l&4&&(Zi(3,n,n.return),Nl(3,n),Zi(5,n,n.return));break;case 1:An(i,n),xn(n),l&512&&(jt||a===null||Kr(a,a.return)),l&64&&vi&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=br;if(An(i,n),xn(n),l&512&&(jt||a===null||Kr(a,a.return)),l&4){var h=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":h=d.getElementsByTagName("title")[0],(!h||h[Vr]||h[Vt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(l),d.head.insertBefore(h,d.querySelector("head > title"))),sn(h,l,a),h[Vt]=n,Pt(h),l=h;break e;case"link":var b=vb("link","href",d).get(l+(a.href||""));if(b){for(var T=0;T<b.length;T++)if(h=b[T],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(T,1);break t}}h=d.createElement(l),sn(h,l,a),d.head.appendChild(h);break;case"meta":if(b=vb("meta","content",d).get(l+(a.content||""))){for(T=0;T<b.length;T++)if(h=b[T],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(T,1);break t}}h=d.createElement(l),sn(h,l,a),d.head.appendChild(h);break;default:throw Error(s(468,l))}h[Vt]=n,Pt(h),l=h}n.stateNode=l}else _b(d,n.type,n.stateNode);else n.stateNode=yb(d,l,n.memoizedProps);else h!==l?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,l===null?_b(d,n.type,n.stateNode):yb(d,l,n.memoizedProps)):l===null&&n.stateNode!==null&&ep(n,n.memoizedProps,a.memoizedProps)}break;case 27:An(i,n),xn(n),l&512&&(jt||a===null||Kr(a,a.return)),a!==null&&l&4&&ep(n,n.memoizedProps,a.memoizedProps);break;case 5:if(An(i,n),xn(n),l&512&&(jt||a===null||Kr(a,a.return)),n.flags&32){d=n.stateNode;try{Tn(d,"")}catch(ge){at(n,n.return,ge)}}l&4&&n.stateNode!=null&&(d=n.memoizedProps,ep(n,d,a!==null?a.memoizedProps:d)),l&1024&&(rp=!0);break;case 6:if(An(i,n),xn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(ge){at(n,n.return,ge)}}break;case 3:if(of=null,d=br,br=sf(i.containerInfo),An(i,n),br=d,xn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{go(i.containerInfo)}catch(ge){at(n,n.return,ge)}rp&&(rp=!1,__(n));break;case 4:l=br,br=sf(n.stateNode.containerInfo),An(i,n),xn(n),br=l;break;case 12:An(i,n),xn(n);break;case 31:An(i,n),xn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Gu(n,l)));break;case 13:An(i,n),xn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&($u=ht()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Gu(n,l)));break;case 22:d=n.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,q=vi,Q=jt;if(vi=q||d,jt=Q||N,An(i,n),jt=Q,vi=q,xn(n),l&8192)e:for(i=n.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(a===null||N||vi||jt||ca(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(h=N.stateNode,d)b=h.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{T=N.stateNode;var Z=N.memoizedProps.style,G=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(ge){at(N,N.return,ge)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=d?"":N.memoizedProps}catch(ge){at(N,N.return,ge)}}}else if(i.tag===18){if(a===null){N=i;try{var $=N.stateNode;d?lb($,!0):lb(N.stateNode,!1)}catch(ge){at(N,N.return,ge)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Gu(n,a))));break;case 19:An(i,n),xn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Gu(n,l)));break;case 30:break;case 21:break;default:An(i,n),xn(n)}}function xn(n){var i=n.flags;if(i&2){try{for(var a,l=n.return;l!==null;){if(u_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,h=tp(n);qu(n,h,d);break;case 5:var b=a.stateNode;a.flags&32&&(Tn(b,""),a.flags&=-33);var T=tp(n);qu(n,T,b);break;case 3:case 4:var N=a.stateNode.containerInfo,q=tp(n);np(n,q,N);break;default:throw Error(s(161))}}catch(Q){at(n,n.return,Q)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function __(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;__(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function bi(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)h_(n,i.alternate,i),i=i.sibling}function ca(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Zi(4,i,i.return),ca(i);break;case 1:Kr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&l_(i,i.return,a),ca(i);break;case 27:Bl(i.stateNode);case 26:case 5:Kr(i,i.return),ca(i);break;case 22:i.memoizedState===null&&ca(i);break;case 30:ca(i);break;default:ca(i)}n=n.sibling}}function Ei(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,d=n,h=i,b=h.flags;switch(h.tag){case 0:case 11:case 15:Ei(d,h,a),Nl(4,h);break;case 1:if(Ei(d,h,a),l=h,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(q){at(l,l.return,q)}if(l=h,d=l.updateQueue,d!==null){var T=l.stateNode;try{var N=d.shared.hiddenCallbacks;if(N!==null)for(d.shared.hiddenCallbacks=null,d=0;d<N.length;d++)Xy(N[d],T)}catch(q){at(l,l.return,q)}}a&&b&64&&o_(h),Ol(h,h.return);break;case 27:f_(h);case 26:case 5:Ei(d,h,a),a&&l===null&&b&4&&c_(h),Ol(h,h.return);break;case 12:Ei(d,h,a);break;case 31:Ei(d,h,a),a&&b&4&&g_(d,h);break;case 13:Ei(d,h,a),a&&b&4&&y_(d,h);break;case 22:h.memoizedState===null&&Ei(d,h,a),Ol(h,h.return);break;case 30:break;default:Ei(d,h,a)}i=i.sibling}}function ip(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&vl(a))}function sp(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&vl(n))}function Er(n,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)b_(n,i,a,l),i=i.sibling}function b_(n,i,a,l){var d=i.flags;switch(i.tag){case 0:case 11:case 15:Er(n,i,a,l),d&2048&&Nl(9,i);break;case 1:Er(n,i,a,l);break;case 3:Er(n,i,a,l),d&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&vl(n)));break;case 12:if(d&2048){Er(n,i,a,l),n=i.stateNode;try{var h=i.memoizedProps,b=h.id,T=h.onPostCommit;typeof T=="function"&&T(b,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){at(i,i.return,N)}}else Er(n,i,a,l);break;case 31:Er(n,i,a,l);break;case 13:Er(n,i,a,l);break;case 23:break;case 22:h=i.stateNode,b=i.alternate,i.memoizedState!==null?h._visibility&2?Er(n,i,a,l):Ml(n,i):h._visibility&2?Er(n,i,a,l):(h._visibility|=2,io(n,i,a,l,(i.subtreeFlags&10256)!==0||!1)),d&2048&&ip(b,i);break;case 24:Er(n,i,a,l),d&2048&&sp(i.alternate,i);break;default:Er(n,i,a,l)}}function io(n,i,a,l,d){for(d=d&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var h=n,b=i,T=a,N=l,q=b.flags;switch(b.tag){case 0:case 11:case 15:io(h,b,T,N,d),Nl(8,b);break;case 23:break;case 22:var Q=b.stateNode;b.memoizedState!==null?Q._visibility&2?io(h,b,T,N,d):Ml(h,b):(Q._visibility|=2,io(h,b,T,N,d)),d&&q&2048&&ip(b.alternate,b);break;case 24:io(h,b,T,N,d),d&&q&2048&&sp(b.alternate,b);break;default:io(h,b,T,N,d)}i=i.sibling}}function Ml(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,l=i,d=l.flags;switch(l.tag){case 22:Ml(a,l),d&2048&&ip(l.alternate,l);break;case 24:Ml(a,l),d&2048&&sp(l.alternate,l);break;default:Ml(a,l)}i=i.sibling}}var Vl=8192;function so(n,i,a){if(n.subtreeFlags&Vl)for(n=n.child;n!==null;)E_(n,i,a),n=n.sibling}function E_(n,i,a){switch(n.tag){case 26:so(n,i,a),n.flags&Vl&&n.memoizedState!==null&&wx(a,br,n.memoizedState,n.memoizedProps);break;case 5:so(n,i,a);break;case 3:case 4:var l=br;br=sf(n.stateNode.containerInfo),so(n,i,a),br=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=Vl,Vl=16777216,so(n,i,a),Vl=l):so(n,i,a));break;default:so(n,i,a)}}function w_(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Pl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Qt=l,S_(l,n)}w_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)T_(n),n=n.sibling}function T_(n){switch(n.tag){case 0:case 11:case 15:Pl(n),n.flags&2048&&Zi(9,n,n.return);break;case 3:Pl(n);break;case 12:Pl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Fu(n)):Pl(n);break;default:Pl(n)}}function Fu(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Qt=l,S_(l,n)}w_(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Zi(8,i,i.return),Fu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Fu(i));break;default:Fu(i)}n=n.sibling}}function S_(n,i){for(;Qt!==null;){var a=Qt;switch(a.tag){case 0:case 11:case 15:Zi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:vl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Qt=l;else e:for(a=n;Qt!==null;){l=Qt;var d=l.sibling,h=l.return;if(p_(l),l===a){Qt=null;break e}if(d!==null){d.return=h,Qt=d;break e}Qt=h}}}var LA={getCacheForType:function(n){var i=nn(Lt),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a},cacheSignal:function(){return nn(Lt).controller.signal}},UA=typeof WeakMap=="function"?WeakMap:Map,tt=0,dt=null,Le=null,ze=0,st=0,Un=null,es=!1,ao=!1,ap=!1,wi=0,xt=0,ts=0,ua=0,op=0,zn=0,oo=0,kl=null,In=null,lp=!1,$u=0,A_=0,Yu=1/0,Ku=null,ns=null,Gt=0,rs=null,lo=null,Ti=0,cp=0,up=null,x_=null,Ll=0,fp=null;function jn(){return(tt&2)!==0&&ze!==0?ze&-ze:K.T!==null?yp():Qc()}function I_(){if(zn===0)if((ze&536870912)===0||Ye){var n=Ls;Ls<<=1,(Ls&3932160)===0&&(Ls=262144),zn=n}else zn=536870912;return n=kn.current,n!==null&&(n.flags|=32),zn}function Rn(n,i,a){(n===dt&&(st===2||st===9)||n.cancelPendingCommit!==null)&&(co(n,0),is(n,ze,zn,!1)),Us(n,a),((tt&2)===0||n!==dt)&&(n===dt&&((tt&2)===0&&(ua|=a),xt===4&&is(n,ze,zn,!1)),Qr(n))}function R_(n,i,a){if((tt&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&n.expiredLanes)===0||fr(n,i),d=l?BA(n,i):hp(n,i,!0),h=l;do{if(d===0){ao&&!l&&is(n,i,0,!1);break}else{if(a=n.current.alternate,h&&!zA(a)){d=hp(n,i,!1),h=!1;continue}if(d===2){if(h=i,n.errorRecoveryDisabledLanes&h)var b=0;else b=n.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){i=b;e:{var T=n;d=kl;var N=T.current.memoizedState.isDehydrated;if(N&&(co(T,b).flags|=256),b=hp(T,b,!1),b!==2){if(ap&&!N){T.errorRecoveryDisabledLanes|=h,ua|=h,d=4;break e}h=In,In=d,h!==null&&(In===null?In=h:In.push.apply(In,h))}d=b}if(h=!1,d!==2)continue}}if(d===1){co(n,0),is(n,i,0,!0);break}e:{switch(l=n,h=d,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:is(l,i,zn,!es);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(d=$u+300-ht(),10<d)){if(is(l,i,zn,!es),Nr(l,0,!0)!==0)break e;Ti=i,l.timeoutHandle=sb(C_.bind(null,l,a,In,Ku,lp,i,zn,ua,oo,es,h,"Throttled",-0,0),d);break e}C_(l,a,In,Ku,lp,i,zn,ua,oo,es,h,null,-0,0)}}break}while(!0);Qr(n)}function C_(n,i,a,l,d,h,b,T,N,q,Q,Z,G,$){if(n.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pr},E_(i,h,Z);var ge=(h&62914560)===h?$u-ht():(h&4194048)===h?A_-ht():0;if(ge=Tx(Z,ge),ge!==null){Ti=h,n.cancelPendingCommit=ge(L_.bind(null,n,i,h,a,l,d,b,T,N,Q,Z,null,G,$)),is(n,h,b,!q);return}}L_(n,i,h,a,l,d,b,T,N)}function zA(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],h=d.getSnapshot;d=d.value;try{if(!Vn(h(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function is(n,i,a,l){i&=~op,i&=~ua,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var d=i;0<d;){var h=31-It(d),b=1<<h;l[h]=-1,d&=~b}a!==0&&zs(n,a,i)}function Qu(){return(tt&6)===0?(Ul(0),!1):!0}function dp(){if(Le!==null){if(st===0)var n=Le.return;else n=Le,di=ta=null,Rh(n),Za=null,bl=0,n=Le;for(;n!==null;)a_(n.alternate,n),n=n.return;Le=null}}function co(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,sx(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Ti=0,dp(),dt=n,Le=a=ui(n.current,null),ze=i,st=0,Un=null,es=!1,ao=fr(n,i),ap=!1,oo=zn=op=ua=ts=xt=0,In=kl=null,lp=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var d=31-It(l),h=1<<d;i|=n[d],l&=~h}return wi=i,gu(),a}function D_(n,i){Oe=null,K.H=Rl,i===Ja||i===Su?(i=$y(),st=3):i===gh?(i=$y(),st=4):st=i===Gh?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Un=i,Le===null&&(xt=1,Uu(n,Xn(i,n.current)))}function N_(){var n=kn.current;return n===null?!0:(ze&4194048)===ze?er===null:(ze&62914560)===ze||(ze&536870912)!==0?n===er:!1}function O_(){var n=K.H;return K.H=Rl,n===null?Rl:n}function M_(){var n=K.A;return K.A=LA,n}function Xu(){xt=4,es||(ze&4194048)!==ze&&kn.current!==null||(ao=!0),(ts&134217727)===0&&(ua&134217727)===0||dt===null||is(dt,ze,zn,!1)}function hp(n,i,a){var l=tt;tt|=2;var d=O_(),h=M_();(dt!==n||ze!==i)&&(Ku=null,co(n,i)),i=!1;var b=xt;e:do try{if(st!==0&&Le!==null){var T=Le,N=Un;switch(st){case 8:dp(),b=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(i=!0);var q=st;if(st=0,Un=null,uo(n,T,N,q),a&&ao){b=0;break e}break;default:q=st,st=0,Un=null,uo(n,T,N,q)}}jA(),b=xt;break}catch(Q){D_(n,Q)}while(!0);return i&&n.shellSuspendCounter++,di=ta=null,tt=l,K.H=d,K.A=h,Le===null&&(dt=null,ze=0,gu()),b}function jA(){for(;Le!==null;)V_(Le)}function BA(n,i){var a=tt;tt|=2;var l=O_(),d=M_();dt!==n||ze!==i?(Ku=null,Yu=ht()+500,co(n,i)):ao=fr(n,i);e:do try{if(st!==0&&Le!==null){i=Le;var h=Un;t:switch(st){case 1:st=0,Un=null,uo(n,i,h,1);break;case 2:case 9:if(Gy(h)){st=0,Un=null,P_(i);break}i=function(){st!==2&&st!==9||dt!==n||(st=7),Qr(n)},h.then(i,i);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Gy(h)?(st=0,Un=null,P_(i)):(st=0,Un=null,uo(n,i,h,7));break;case 5:var b=null;switch(Le.tag){case 26:b=Le.memoizedState;case 5:case 27:var T=Le;if(b?bb(b):T.stateNode.complete){st=0,Un=null;var N=T.sibling;if(N!==null)Le=N;else{var q=T.return;q!==null?(Le=q,Wu(q)):Le=null}break t}}st=0,Un=null,uo(n,i,h,5);break;case 6:st=0,Un=null,uo(n,i,h,6);break;case 8:dp(),xt=6;break e;default:throw Error(s(462))}}HA();break}catch(Q){D_(n,Q)}while(!0);return di=ta=null,K.H=l,K.A=d,tt=a,Le!==null?0:(dt=null,ze=0,gu(),xt)}function HA(){for(;Le!==null&&!$t();)V_(Le)}function V_(n){var i=i_(n.alternate,n,wi);n.memoizedProps=n.pendingProps,i===null?Wu(n):Le=i}function P_(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=Jv(a,i,i.pendingProps,i.type,void 0,ze);break;case 11:i=Jv(a,i,i.pendingProps,i.type.render,i.ref,ze);break;case 5:Rh(i);default:a_(a,i),i=Le=My(i,wi),i=i_(a,i,wi)}n.memoizedProps=n.pendingProps,i===null?Wu(n):Le=i}function uo(n,i,a,l){di=ta=null,Rh(i),Za=null,bl=0;var d=i.return;try{if(DA(n,d,i,a,ze)){xt=1,Uu(n,Xn(a,n.current)),Le=null;return}}catch(h){if(d!==null)throw Le=d,h;xt=1,Uu(n,Xn(a,n.current)),Le=null;return}i.flags&32768?(Ye||l===1?n=!0:ao||(ze&536870912)!==0?n=!1:(es=n=!0,(l===2||l===9||l===3||l===6)&&(l=kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),k_(i,n)):Wu(i)}function Wu(n){var i=n;do{if((i.flags&32768)!==0){k_(i,es);return}n=i.return;var a=MA(i.alternate,i,wi);if(a!==null){Le=a;return}if(i=i.sibling,i!==null){Le=i;return}Le=i=n}while(i!==null);xt===0&&(xt=5)}function k_(n,i){do{var a=VA(n.alternate,n);if(a!==null){a.flags&=32767,Le=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Le=n;return}Le=n=a}while(n!==null);xt=6,Le=null}function L_(n,i,a,l,d,h,b,T,N){n.cancelPendingCommit=null;do Ju();while(Gt!==0);if((tt&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(h=i.lanes|i.childLanes,h|=th,$d(n,a,h,b,T,N),n===dt&&(Le=dt=null,ze=0),lo=i,rs=n,Ti=a,cp=h,up=d,x_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,$A(cr,function(){return H_(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,d=se.p,se.p=2,b=tt,tt|=4;try{PA(n,i,a)}finally{tt=b,se.p=d,K.T=l}}Gt=1,U_(),z_(),j_()}}function U_(){if(Gt===1){Gt=0;var n=rs,i=lo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=se.p;se.p=2;var d=tt;tt|=4;try{v_(i,n);var h=Ap,b=Sy(n.containerInfo),T=h.focusedElem,N=h.selectionRange;if(b!==T&&T&&T.ownerDocument&&Ty(T.ownerDocument.documentElement,T)){if(N!==null&&Xd(T)){var q=N.start,Q=N.end;if(Q===void 0&&(Q=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min(Q,T.value.length);else{var Z=T.ownerDocument||document,G=Z&&Z.defaultView||window;if(G.getSelection){var $=G.getSelection(),ge=T.textContent.length,Ae=Math.min(N.start,ge),ft=N.end===void 0?Ae:Math.min(N.end,ge);!$.extend&&Ae>ft&&(b=ft,ft=Ae,Ae=b);var j=wy(T,Ae),k=wy(T,ft);if(j&&k&&($.rangeCount!==1||$.anchorNode!==j.node||$.anchorOffset!==j.offset||$.focusNode!==k.node||$.focusOffset!==k.offset)){var H=Z.createRange();H.setStart(j.node,j.offset),$.removeAllRanges(),Ae>ft?($.addRange(H),$.extend(k.node,k.offset)):(H.setEnd(k.node,k.offset),$.addRange(H))}}}}for(Z=[],$=T;$=$.parentNode;)$.nodeType===1&&Z.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var J=Z[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}ff=!!Sp,Ap=Sp=null}finally{tt=d,se.p=l,K.T=a}}n.current=i,Gt=2}}function z_(){if(Gt===2){Gt=0;var n=rs,i=lo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=se.p;se.p=2;var d=tt;tt|=4;try{h_(n,i.alternate,i)}finally{tt=d,se.p=l,K.T=a}}Gt=3}}function j_(){if(Gt===4||Gt===3){Gt=0,En();var n=rs,i=lo,a=Ti,l=x_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Gt=5:(Gt=0,lo=rs=null,B_(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(ns=null),ai(a),i=i.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(ur,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,d=se.p,se.p=2,K.T=null;try{for(var h=n.onRecoverableError,b=0;b<l.length;b++){var T=l[b];h(T.value,{componentStack:T.stack})}}finally{K.T=i,se.p=d}}(Ti&3)!==0&&Ju(),Qr(n),d=n.pendingLanes,(a&261930)!==0&&(d&42)!==0?n===fp?Ll++:(Ll=0,fp=n):Ll=0,Ul(0)}}function B_(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,vl(i)))}function Ju(){return U_(),z_(),j_(),H_()}function H_(){if(Gt!==5)return!1;var n=rs,i=cp;cp=0;var a=ai(Ti),l=K.T,d=se.p;try{se.p=32>a?32:a,K.T=null,a=up,up=null;var h=rs,b=Ti;if(Gt=0,lo=rs=null,Ti=0,(tt&6)!==0)throw Error(s(331));var T=tt;if(tt|=4,T_(h.current),b_(h,h.current,b,a),tt=T,Ul(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(ur,h)}catch{}return!0}finally{se.p=d,K.T=l,B_(n,i)}}function q_(n,i,a){i=Xn(a,i),i=qh(n.stateNode,i,2),n=Xi(n,i,2),n!==null&&(Us(n,2),Qr(n))}function at(n,i,a){if(n.tag===3)q_(n,n,a);else for(;i!==null;){if(i.tag===3){q_(i,n,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ns===null||!ns.has(l))){n=Xn(a,n),a=Gv(2),l=Xi(i,a,2),l!==null&&(Fv(a,l,i,n),Us(l,2),Qr(l));break}}i=i.return}}function pp(n,i,a){var l=n.pingCache;if(l===null){l=n.pingCache=new UA;var d=new Set;l.set(i,d)}else d=l.get(i),d===void 0&&(d=new Set,l.set(i,d));d.has(a)||(ap=!0,d.add(a),n=qA.bind(null,n,i,a),i.then(n,n))}function qA(n,i,a){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,dt===n&&(ze&a)===a&&(xt===4||xt===3&&(ze&62914560)===ze&&300>ht()-$u?(tt&2)===0&&co(n,0):op|=a,oo===ze&&(oo=0)),Qr(n)}function G_(n,i){i===0&&(i=Kc()),n=Js(n,i),n!==null&&(Us(n,i),Qr(n))}function GA(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),G_(n,a)}function FA(n,i){var a=0;switch(n.tag){case 31:case 13:var l=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),G_(n,a)}function $A(n,i){return Ve(n,i)}var Zu=null,fo=null,mp=!1,ef=!1,gp=!1,ss=0;function Qr(n){n!==fo&&n.next===null&&(fo===null?Zu=fo=n:fo=fo.next=n),ef=!0,mp||(mp=!0,KA())}function Ul(n,i){if(!gp&&ef){gp=!0;do for(var a=!1,l=Zu;l!==null;){if(n!==0){var d=l.pendingLanes;if(d===0)var h=0;else{var b=l.suspendedLanes,T=l.pingedLanes;h=(1<<31-It(42|n)+1)-1,h&=d&~(b&~T),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,K_(l,h))}else h=ze,h=Nr(l,l===dt?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||fr(l,h)||(a=!0,K_(l,h));l=l.next}while(a);gp=!1}}function YA(){F_()}function F_(){ef=mp=!1;var n=0;ss!==0&&ix()&&(n=ss);for(var i=ht(),a=null,l=Zu;l!==null;){var d=l.next,h=$_(l,i);h===0?(l.next=null,a===null?Zu=d:a.next=d,d===null&&(fo=a)):(a=l,(n!==0||(h&3)!==0)&&(ef=!0)),l=d}Gt!==0&&Gt!==5||Ul(n),ss!==0&&(ss=0)}function $_(n,i){for(var a=n.suspendedLanes,l=n.pingedLanes,d=n.expirationTimes,h=n.pendingLanes&-62914561;0<h;){var b=31-It(h),T=1<<b,N=d[b];N===-1?((T&a)===0||(T&l)!==0)&&(d[b]=Fd(T,i)):N<=i&&(n.expiredLanes|=T),h&=~T}if(i=dt,a=ze,a=Nr(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===i&&(st===2||st===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ot(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||fr(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(l!==null&&ot(l),ai(a)){case 2:case 8:a=Vi;break;case 32:a=cr;break;case 268435456:a=qc;break;default:a=cr}return l=Y_.bind(null,n),a=Ve(a,l),n.callbackPriority=i,n.callbackNode=a,i}return l!==null&&l!==null&&ot(l),n.callbackPriority=2,n.callbackNode=null,2}function Y_(n,i){if(Gt!==0&&Gt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Ju()&&n.callbackNode!==a)return null;var l=ze;return l=Nr(n,n===dt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(R_(n,l,i),$_(n,ht()),n.callbackNode!=null&&n.callbackNode===a?Y_.bind(null,n):null)}function K_(n,i){if(Ju())return null;R_(n,i,!0)}function KA(){ax(function(){(tt&6)!==0?Ve(ks,YA):F_()})}function yp(){if(ss===0){var n=Xa;n===0&&(n=Cr,Cr<<=1,(Cr&261888)===0&&(Cr=256)),ss=n}return ss}function Q_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Pa(""+n)}function X_(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function QA(n,i,a,l,d){if(i==="submit"&&a&&a.stateNode===d){var h=Q_((d[Yt]||null).action),b=l.submitter;b&&(i=(i=b[Yt]||null)?Q_(i.formAction):b.getAttribute("formAction"),i!==null&&(h=i,b=null));var T=new Hr("action","action",null,l,d);n.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ss!==0){var N=b?X_(d,b):new FormData(d);Lh(a,{pending:!0,data:N,method:d.method,action:h},null,N)}}else typeof h=="function"&&(T.preventDefault(),N=b?X_(d,b):new FormData(d),Lh(a,{pending:!0,data:N,method:d.method,action:h},h,N))},currentTarget:d}]})}}for(var vp=0;vp<eh.length;vp++){var _p=eh[vp],XA=_p.toLowerCase(),WA=_p[0].toUpperCase()+_p.slice(1);_r(XA,"on"+WA)}_r(Iy,"onAnimationEnd"),_r(Ry,"onAnimationIteration"),_r(Cy,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(hA,"onTransitionRun"),_r(pA,"onTransitionStart"),_r(mA,"onTransitionCancel"),_r(Dy,"onTransitionEnd"),Ur("onMouseEnter",["mouseout","mouseover"]),Ur("onMouseLeave",["mouseout","mouseover"]),Ur("onPointerEnter",["pointerout","pointerover"]),Ur("onPointerLeave",["pointerout","pointerover"]),Lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Lr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zl));function W_(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],d=l.event;l=l.listeners;e:{var h=void 0;if(i)for(var b=l.length-1;0<=b;b--){var T=l[b],N=T.instance,q=T.currentTarget;if(T=T.listener,N!==h&&d.isPropagationStopped())break e;h=T,d.currentTarget=q;try{h(d)}catch(Q){mu(Q)}d.currentTarget=null,h=N}else for(b=0;b<l.length;b++){if(T=l[b],N=T.instance,q=T.currentTarget,T=T.listener,N!==h&&d.isPropagationStopped())break e;h=T,d.currentTarget=q;try{h(d)}catch(Q){mu(Q)}d.currentTarget=null,h=N}}}}function Ue(n,i){var a=i[Da];a===void 0&&(a=i[Da]=new Set);var l=n+"__bubble";a.has(l)||(J_(i,n,2,!1),a.add(l))}function bp(n,i,a){var l=0;i&&(l|=4),J_(a,n,l,i)}var tf="_reactListening"+Math.random().toString(36).slice(2);function Ep(n){if(!n[tf]){n[tf]=!0,Wo.forEach(function(a){a!=="selectionchange"&&(JA.has(a)||bp(a,!1,n),bp(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[tf]||(i[tf]=!0,bp("selectionchange",!1,i))}}function J_(n,i,a,l){switch(Ib(i)){case 2:var d=xx;break;case 8:d=Ix;break;default:d=kp}a=d.bind(null,i,a,n),d=void 0,!Gs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),l?d!==void 0?n.addEventListener(i,a,{capture:!0,passive:d}):n.addEventListener(i,a,!0):d!==void 0?n.addEventListener(i,a,{passive:d}):n.addEventListener(i,a,!1)}function wp(n,i,a,l,d){var h=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var T=l.stateNode.containerInfo;if(T===d)break;if(b===4)for(b=l.return;b!==null;){var N=b.tag;if((N===3||N===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;T!==null;){if(b=Pr(T),b===null)return;if(N=b.tag,N===5||N===6||N===26||N===27){l=h=b;continue e}T=T.parentNode}}l=l.return}ji(function(){var q=h,Q=$n(a),Z=[];e:{var G=Ny.get(n);if(G!==void 0){var $=Hr,ge=n;switch(n){case"keypress":if($s(a)===0)break e;case"keydown":case"keyup":$=du;break;case"focusin":ge="focus",$=Ks;break;case"focusout":ge="blur",$=Ks;break;case"beforeblur":case"afterblur":$=Ks;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=ul;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=y;break;case Iy:case Ry:case Cy:$=su;break;case Dy:$=S;break;case"scroll":case"scrollend":$=cl;break;case"wheel":$=F;break;case"copy":case"cut":case"paste":$=au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=ci;break;case"toggle":case"beforetoggle":$=Ne}var Ae=(i&4)!==0,ft=!Ae&&(n==="scroll"||n==="scrollend"),j=Ae?G!==null?G+"Capture":null:G;Ae=[];for(var k=q,H;k!==null;){var J=k;if(H=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||H===null||j===null||(J=mr(k,j),J!=null&&Ae.push(jl(k,J,H))),ft)break;k=k.return}0<Ae.length&&(G=new $(G,ge,null,a,Q),Z.push({event:G,listeners:Ae}))}}if((i&7)===0){e:{if(G=n==="mouseover"||n==="pointerover",$=n==="mouseout"||n==="pointerout",G&&a!==al&&(ge=a.relatedTarget||a.fromElement)&&(Pr(ge)||ge[Mr]))break e;if(($||G)&&(G=Q.window===Q?Q:(G=Q.ownerDocument)?G.defaultView||G.parentWindow:window,$?(ge=a.relatedTarget||a.toElement,$=q,ge=ge?Pr(ge):null,ge!==null&&(ft=c(ge),Ae=ge.tag,ge!==ft||Ae!==5&&Ae!==27&&Ae!==6)&&(ge=null)):($=null,ge=q),$!==ge)){if(Ae=ul,J="onMouseLeave",j="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(Ae=ci,J="onPointerLeave",j="onPointerEnter",k="pointer"),ft=$==null?G:On($),H=ge==null?G:On(ge),G=new Ae(J,k+"leave",$,a,Q),G.target=ft,G.relatedTarget=H,J=null,Pr(Q)===q&&(Ae=new Ae(j,k+"enter",ge,a,Q),Ae.target=H,Ae.relatedTarget=ft,J=Ae),ft=J,$&&ge)t:{for(Ae=ZA,j=$,k=ge,H=0,J=j;J;J=Ae(J))H++;J=0;for(var be=k;be;be=Ae(be))J++;for(;0<H-J;)j=Ae(j),H--;for(;0<J-H;)k=Ae(k),J--;for(;H--;){if(j===k||k!==null&&j===k.alternate){Ae=j;break t}j=Ae(j),k=Ae(k)}Ae=null}else Ae=null;$!==null&&Z_(Z,G,$,Ae,!1),ge!==null&&ft!==null&&Z_(Z,ft,ge,Ae,!0)}}e:{if(G=q?On(q):window,$=G.nodeName&&G.nodeName.toLowerCase(),$==="select"||$==="input"&&G.type==="file")var We=gy;else if(py(G))if(yy)We=uA;else{We=lA;var ye=oA}else $=G.nodeName,!$||$.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?q&&Va(q.elementType)&&(We=gy):We=cA;if(We&&(We=We(n,q))){my(Z,We,a,Q);break e}ye&&ye(n,G,q),n==="focusout"&&q&&G.type==="number"&&q.memoizedProps.value!=null&&rl(G,"number",G.value)}switch(ye=q?On(q):window,n){case"focusin":(py(ye)||ye.contentEditable==="true")&&(Ha=ye,Wd=q,ml=null);break;case"focusout":ml=Wd=Ha=null;break;case"mousedown":Jd=!0;break;case"contextmenu":case"mouseup":case"dragend":Jd=!1,Ay(Z,a,Q);break;case"selectionchange":if(dA)break;case"keydown":case"keyup":Ay(Z,a,Q)}var Pe;if(et)e:{switch(n){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Ba?Qs(n,a)&&(je="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(Fr&&a.locale!=="ko"&&(Ba||je!=="onCompositionStart"?je==="onCompositionEnd"&&Ba&&(Pe=ll()):(Br=Q,ol="value"in Br?Br.value:Br.textContent,Ba=!0)),ye=nf(q,je),0<ye.length&&(je=new Gr(je,n,null,a,Q),Z.push({event:je,listeners:ye}),Pe?je.data=Pe:(Pe=ja(a),Pe!==null&&(je.data=Pe)))),(Pe=Kn?rA(n,a):iA(n,a))&&(je=nf(q,"onBeforeInput"),0<je.length&&(ye=new Gr("onBeforeInput","beforeinput",null,a,Q),Z.push({event:ye,listeners:je}),ye.data=Pe)),QA(Z,n,q,a,Q)}W_(Z,i)})}function jl(n,i,a){return{instance:n,listener:i,currentTarget:a}}function nf(n,i){for(var a=i+"Capture",l=[];n!==null;){var d=n,h=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=mr(n,a),d!=null&&l.unshift(jl(n,d,h)),d=mr(n,i),d!=null&&l.push(jl(n,d,h))),n.tag===3)return l;n=n.return}return[]}function ZA(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Z_(n,i,a,l,d){for(var h=i._reactName,b=[];a!==null&&a!==l;){var T=a,N=T.alternate,q=T.stateNode;if(T=T.tag,N!==null&&N===l)break;T!==5&&T!==26&&T!==27||q===null||(N=q,d?(q=mr(a,h),q!=null&&b.unshift(jl(a,q,N))):d||(q=mr(a,h),q!=null&&b.push(jl(a,q,N)))),a=a.return}b.length!==0&&n.push({event:i,listeners:b})}var ex=/\r\n?/g,tx=/\u0000|\uFFFD/g;function eb(n){return(typeof n=="string"?n:""+n).replace(ex,`
`).replace(tx,"")}function tb(n,i){return i=eb(i),eb(n)===i}function ut(n,i,a,l,d,h){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Tn(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Tn(n,""+l);break;case"className":Mn(n,"class",l);break;case"tabIndex":Mn(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Mn(n,a,l);break;case"style":sl(n,l,h);break;case"data":if(i!=="object"){Mn(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Pa(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(i!=="input"&&ut(n,i,"name",d.name,d,null),ut(n,i,"formEncType",d.formEncType,d,null),ut(n,i,"formMethod",d.formMethod,d,null),ut(n,i,"formTarget",d.formTarget,d,null)):(ut(n,i,"encType",d.encType,d,null),ut(n,i,"method",d.method,d,null),ut(n,i,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Pa(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=pr);break;case"onScroll":l!=null&&Ue("scroll",n);break;case"onScrollEnd":l!=null&&Ue("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Pa(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Ue("beforetoggle",n),Ue("toggle",n),Oa(n,"popover",l);break;case"xlinkActuate":kt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":kt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":kt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":kt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":kt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":kt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":kt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":kt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":kt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Oa(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=nu.get(a)||a,Oa(n,a,l))}}function Tp(n,i,a,l,d,h){switch(a){case"style":sl(n,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Tn(n,l):(typeof l=="number"||typeof l=="bigint")&&Tn(n,""+l);break;case"onScroll":l!=null&&Ue("scroll",n);break;case"onScrollEnd":l!=null&&Ue("scrollend",n);break;case"onClick":l!=null&&(n.onclick=pr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),h=n[Yt]||null,h=h!=null?h[a]:null,typeof h=="function"&&n.removeEventListener(i,h,d),typeof l=="function")){typeof h!="function"&&h!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,l,d);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Oa(n,a,l)}}}function sn(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",n),Ue("load",n);var l=!1,d=!1,h;for(h in a)if(a.hasOwnProperty(h)){var b=a[h];if(b!=null)switch(h){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ut(n,i,h,b,a,null)}}d&&ut(n,i,"srcSet",a.srcSet,a,null),l&&ut(n,i,"src",a.src,a,null);return;case"input":Ue("invalid",n);var T=h=b=d=null,N=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":d=Q;break;case"type":b=Q;break;case"checked":N=Q;break;case"defaultChecked":q=Q;break;case"value":h=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:ut(n,i,l,Q,a,null)}}Zc(n,h,T,N,q,b,d,!1);return;case"select":Ue("invalid",n),l=b=h=null;for(d in a)if(a.hasOwnProperty(d)&&(T=a[d],T!=null))switch(d){case"value":h=T;break;case"defaultValue":b=T;break;case"multiple":l=T;default:ut(n,i,d,T,a,null)}i=h,a=b,n.multiple=!!l,i!=null?ki(n,!!l,i,!1):a!=null&&ki(n,!!l,a,!0);return;case"textarea":Ue("invalid",n),h=d=l=null;for(b in a)if(a.hasOwnProperty(b)&&(T=a[b],T!=null))switch(b){case"value":l=T;break;case"defaultValue":d=T;break;case"children":h=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:ut(n,i,b,T,a,null)}Li(n,l,d,h);return;case"option":for(N in a)a.hasOwnProperty(N)&&(l=a[N],l!=null)&&(N==="selected"?n.selected=l&&typeof l!="function"&&typeof l!="symbol":ut(n,i,N,l,a,null));return;case"dialog":Ue("beforetoggle",n),Ue("toggle",n),Ue("cancel",n),Ue("close",n);break;case"iframe":case"object":Ue("load",n);break;case"video":case"audio":for(l=0;l<zl.length;l++)Ue(zl[l],n);break;case"image":Ue("error",n),Ue("load",n);break;case"details":Ue("toggle",n);break;case"embed":case"source":case"link":Ue("error",n),Ue("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ut(n,i,q,l,a,null)}return;default:if(Va(i)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&Tp(n,i,Q,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&ut(n,i,T,l,a,null))}function nx(n,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,b=null,T=null,N=null,q=null,Q=null;for($ in a){var Z=a[$];if(a.hasOwnProperty($)&&Z!=null)switch($){case"checked":break;case"value":break;case"defaultValue":N=Z;default:l.hasOwnProperty($)||ut(n,i,$,null,l,Z)}}for(var G in l){var $=l[G];if(Z=a[G],l.hasOwnProperty(G)&&($!=null||Z!=null))switch(G){case"type":h=$;break;case"name":d=$;break;case"checked":q=$;break;case"defaultChecked":Q=$;break;case"value":b=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:$!==Z&&ut(n,i,G,$,l,Z)}}Ma(n,b,T,N,q,Q,h,d);return;case"select":$=b=T=G=null;for(h in a)if(N=a[h],a.hasOwnProperty(h)&&N!=null)switch(h){case"value":break;case"multiple":$=N;default:l.hasOwnProperty(h)||ut(n,i,h,null,l,N)}for(d in l)if(h=l[d],N=a[d],l.hasOwnProperty(d)&&(h!=null||N!=null))switch(d){case"value":G=h;break;case"defaultValue":T=h;break;case"multiple":b=h;default:h!==N&&ut(n,i,d,h,l,N)}i=T,a=b,l=$,G!=null?ki(n,!!a,G,!1):!!l!=!!a&&(i!=null?ki(n,!!a,i,!0):ki(n,!!a,a?[]:"",!1));return;case"textarea":$=G=null;for(T in a)if(d=a[T],a.hasOwnProperty(T)&&d!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ut(n,i,T,null,l,d)}for(b in l)if(d=l[b],h=a[b],l.hasOwnProperty(b)&&(d!=null||h!=null))switch(b){case"value":G=d;break;case"defaultValue":$=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==h&&ut(n,i,b,d,l,h)}eu(n,G,$);return;case"option":for(var ge in a)G=a[ge],a.hasOwnProperty(ge)&&G!=null&&!l.hasOwnProperty(ge)&&(ge==="selected"?n.selected=!1:ut(n,i,ge,null,l,G));for(N in l)G=l[N],$=a[N],l.hasOwnProperty(N)&&G!==$&&(G!=null||$!=null)&&(N==="selected"?n.selected=G&&typeof G!="function"&&typeof G!="symbol":ut(n,i,N,G,l,$));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in a)G=a[Ae],a.hasOwnProperty(Ae)&&G!=null&&!l.hasOwnProperty(Ae)&&ut(n,i,Ae,null,l,G);for(q in l)if(G=l[q],$=a[q],l.hasOwnProperty(q)&&G!==$&&(G!=null||$!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:ut(n,i,q,G,l,$)}return;default:if(Va(i)){for(var ft in a)G=a[ft],a.hasOwnProperty(ft)&&G!==void 0&&!l.hasOwnProperty(ft)&&Tp(n,i,ft,void 0,l,G);for(Q in l)G=l[Q],$=a[Q],!l.hasOwnProperty(Q)||G===$||G===void 0&&$===void 0||Tp(n,i,Q,G,l,$);return}}for(var j in a)G=a[j],a.hasOwnProperty(j)&&G!=null&&!l.hasOwnProperty(j)&&ut(n,i,j,null,l,G);for(Z in l)G=l[Z],$=a[Z],!l.hasOwnProperty(Z)||G===$||G==null&&$==null||ut(n,i,Z,G,l,$)}function nb(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function rx(){if(typeof performance.getEntriesByType=="function"){for(var n=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var d=a[l],h=d.transferSize,b=d.initiatorType,T=d.duration;if(h&&T&&nb(b)){for(b=0,T=d.responseEnd,l+=1;l<a.length;l++){var N=a[l],q=N.startTime;if(q>T)break;var Q=N.transferSize,Z=N.initiatorType;Q&&nb(Z)&&(N=N.responseEnd,b+=Q*(N<T?1:(T-q)/(N-q)))}if(--l,i+=8*(h+b)/(d.duration/1e3),n++,10<n)break}}if(0<n)return i/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Sp=null,Ap=null;function rf(n){return n.nodeType===9?n:n.ownerDocument}function rb(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ib(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function xp(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ip=null;function ix(){var n=window.event;return n&&n.type==="popstate"?n===Ip?!1:(Ip=n,!0):(Ip=null,!1)}var sb=typeof setTimeout=="function"?setTimeout:void 0,sx=typeof clearTimeout=="function"?clearTimeout:void 0,ab=typeof Promise=="function"?Promise:void 0,ax=typeof queueMicrotask=="function"?queueMicrotask:typeof ab<"u"?function(n){return ab.resolve(null).then(n).catch(ox)}:sb;function ox(n){setTimeout(function(){throw n})}function as(n){return n==="head"}function ob(n,i){var a=i,l=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(l===0){n.removeChild(d),go(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Bl(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,Bl(a);for(var h=a.firstChild;h;){var b=h.nextSibling,T=h.nodeName;h[Vr]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&h.rel.toLowerCase()==="stylesheet"||a.removeChild(h),h=b}}else a==="body"&&Bl(n.ownerDocument.body);a=d}while(a);go(i)}function lb(n,i){var a=n;n=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=l}while(a)}function Rp(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Rp(a),Na(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function lx(n,i,a,l){for(;n.nodeType===1;){var d=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Vr])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(h=n.getAttribute("rel"),h==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(h!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(h=n.getAttribute("src"),(h!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===h)return n}else return n;if(n=tr(n.nextSibling),n===null)break}return null}function cx(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=tr(n.nextSibling),n===null))return null;return n}function cb(n,i){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!i||(n=tr(n.nextSibling),n===null))return null;return n}function Cp(n){return n.data==="$?"||n.data==="$~"}function Dp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function ux(n,i){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=i;else if(n.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function tr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return n}var Np=null;function ub(n){n=n.nextSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(i===0)return tr(n.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}n=n.nextSibling}return null}function fb(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return n;i--}else a!=="/$"&&a!=="/&"||i++}n=n.previousSibling}return null}function db(n,i,a){switch(i=rf(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Bl(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Na(n)}var nr=new Map,hb=new Set;function sf(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Si=se.d;se.d={f:fx,r:dx,D:hx,C:px,L:mx,m:gx,X:vx,S:yx,M:_x};function fx(){var n=Si.f(),i=Qu();return n||i}function dx(n){var i=Fn(n);i!==null&&i.tag===5&&i.type==="form"?Dv(i):Si.r(n)}var ho=typeof document>"u"?null:document;function pb(n,i,a){var l=ho;if(l&&typeof i=="string"&&i){var d=wn(i);d='link[rel="'+n+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),hb.has(d)||(hb.add(d),n={rel:n,crossOrigin:a,href:i},l.querySelector(d)===null&&(i=l.createElement("link"),sn(i,"link",n),Pt(i),l.head.appendChild(i)))}}function hx(n){Si.D(n),pb("dns-prefetch",n,null)}function px(n,i){Si.C(n,i),pb("preconnect",n,i)}function mx(n,i,a){Si.L(n,i,a);var l=ho;if(l&&n&&i){var d='link[rel="preload"][as="'+wn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+wn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+wn(a.imageSizes)+'"]')):d+='[href="'+wn(n)+'"]';var h=d;switch(i){case"style":h=po(n);break;case"script":h=mo(n)}nr.has(h)||(n=v({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),nr.set(h,n),l.querySelector(d)!==null||i==="style"&&l.querySelector(Hl(h))||i==="script"&&l.querySelector(ql(h))||(i=l.createElement("link"),sn(i,"link",n),Pt(i),l.head.appendChild(i)))}}function gx(n,i){Si.m(n,i);var a=ho;if(a&&n){var l=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+wn(l)+'"][href="'+wn(n)+'"]',h=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=mo(n)}if(!nr.has(h)&&(n=v({rel:"modulepreload",href:n},i),nr.set(h,n),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ql(h)))return}l=a.createElement("link"),sn(l,"link",n),Pt(l),a.head.appendChild(l)}}}function yx(n,i,a){Si.S(n,i,a);var l=ho;if(l&&n){var d=kr(l).hoistableStyles,h=po(n);i=i||"default";var b=d.get(h);if(!b){var T={loading:0,preload:null};if(b=l.querySelector(Hl(h)))T.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":i},a),(a=nr.get(h))&&Op(n,a);var N=b=l.createElement("link");Pt(N),sn(N,"link",n),N._p=new Promise(function(q,Q){N.onload=q,N.onerror=Q}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,af(b,i,l)}b={type:"stylesheet",instance:b,count:1,state:T},d.set(h,b)}}}function vx(n,i){Si.X(n,i);var a=ho;if(a&&n){var l=kr(a).hoistableScripts,d=mo(n),h=l.get(d);h||(h=a.querySelector(ql(d)),h||(n=v({src:n,async:!0},i),(i=nr.get(d))&&Mp(n,i),h=a.createElement("script"),Pt(h),sn(h,"link",n),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(d,h))}}function _x(n,i){Si.M(n,i);var a=ho;if(a&&n){var l=kr(a).hoistableScripts,d=mo(n),h=l.get(d);h||(h=a.querySelector(ql(d)),h||(n=v({src:n,async:!0,type:"module"},i),(i=nr.get(d))&&Mp(n,i),h=a.createElement("script"),Pt(h),sn(h,"link",n),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(d,h))}}function mb(n,i,a,l){var d=(d=Se.current)?sf(d):null;if(!d)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=po(a.href),a=kr(d).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=po(a.href);var h=kr(d).hoistableStyles,b=h.get(n);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(n,b),(h=d.querySelector(Hl(n)))&&!h._p&&(b.instance=h,b.state.loading=5),nr.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},nr.set(n,a),h||bx(d,n,a,b.state))),i&&l===null)throw Error(s(528,""));return b}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=mo(a),a=kr(d).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function po(n){return'href="'+wn(n)+'"'}function Hl(n){return'link[rel="stylesheet"]['+n+"]"}function gb(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function bx(n,i,a,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),sn(i,"link",a),Pt(i),n.head.appendChild(i))}function mo(n){return'[src="'+wn(n)+'"]'}function ql(n){return"script[async]"+n}function yb(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+wn(a.href)+'"]');if(l)return i.instance=l,Pt(l),l;var d=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Pt(l),sn(l,"style",d),af(l,a.precedence,n),i.instance=l;case"stylesheet":d=po(a.href);var h=n.querySelector(Hl(d));if(h)return i.state.loading|=4,i.instance=h,Pt(h),h;l=gb(a),(d=nr.get(d))&&Op(l,d),h=(n.ownerDocument||n).createElement("link"),Pt(h);var b=h;return b._p=new Promise(function(T,N){b.onload=T,b.onerror=N}),sn(h,"link",l),i.state.loading|=4,af(h,a.precedence,n),i.instance=h;case"script":return h=mo(a.src),(d=n.querySelector(ql(h)))?(i.instance=d,Pt(d),d):(l=a,(d=nr.get(h))&&(l=v({},a),Mp(l,d)),n=n.ownerDocument||n,d=n.createElement("script"),Pt(d),sn(d,"link",l),n.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,af(l,a.precedence,n));return i.instance}function af(n,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,h=d,b=0;b<l.length;b++){var T=l[b];if(T.dataset.precedence===i)h=T;else if(h!==d)break}h?h.parentNode.insertBefore(n,h.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function Op(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Mp(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var of=null;function vb(n,i,a){if(of===null){var l=new Map,d=of=new Map;d.set(a,l)}else d=of,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),d=0;d<a.length;d++){var h=a[d];if(!(h[Vr]||h[Vt]||n==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var b=h.getAttribute(i)||"";b=n+b;var T=l.get(b);T?T.push(h):l.set(b,[h])}}return l}function _b(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function Ex(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(n=i.disabled,typeof i.precedence=="string"&&n==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function bb(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function wx(n,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=po(l.href),h=i.querySelector(Hl(d));if(h){i=h._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(n.count++,n=lf.bind(n),i.then(n,n)),a.state.loading|=4,a.instance=h,Pt(h);return}h=i.ownerDocument||i,l=gb(l),(d=nr.get(d))&&Op(l,d),h=h.createElement("link"),Pt(h);var b=h;b._p=new Promise(function(T,N){b.onload=T,b.onerror=N}),sn(h,"link",l),a.instance=h}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=lf.bind(n),i.addEventListener("load",a),i.addEventListener("error",a))}}var Vp=0;function Tx(n,i){return n.stylesheets&&n.count===0&&uf(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var l=setTimeout(function(){if(n.stylesheets&&uf(n,n.stylesheets),n.unsuspend){var h=n.unsuspend;n.unsuspend=null,h()}},6e4+i);0<n.imgBytes&&Vp===0&&(Vp=62500*rx());var d=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&uf(n,n.stylesheets),n.unsuspend)){var h=n.unsuspend;n.unsuspend=null,h()}},(n.imgBytes>Vp?50:800)+i);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function lf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uf(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var cf=null;function uf(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,cf=new Map,i.forEach(Sx,n),cf=null,lf.call(n))}function Sx(n,i){if(!(i.state.loading&4)){var a=cf.get(n);if(a)var l=a.get(null);else{a=new Map,cf.set(n,a);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var b=d[h];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}d=i.instance,b=d.getAttribute("data-precedence"),h=a.get(b)||l,h===l&&a.set(null,d),a.set(b,d),this.count++,l=lf.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),h?h.parentNode.insertBefore(d,h.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),i.state.loading|=4}}var Gl={$$typeof:te,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function Ax(n,i,a,l,d,h,b,T,N){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Or(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Or(0),this.hiddenUpdates=Or(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Eb(n,i,a,l,d,h,b,T,N,q,Q,Z){return n=new Ax(n,i,a,b,N,q,Q,Z,T),i=1,h===!0&&(i|=24),h=Pn(3,null,null,i),n.current=h,h.stateNode=n,i=hh(),i.refCount++,n.pooledCache=i,i.refCount++,h.memoizedState={element:l,isDehydrated:a,cache:i},yh(h),n}function wb(n){return n?(n=Fa,n):Fa}function Tb(n,i,a,l,d,h){d=wb(d),l.context===null?l.context=d:l.pendingContext=d,l=Qi(i),l.payload={element:a},h=h===void 0?null:h,h!==null&&(l.callback=h),a=Xi(n,l,i),a!==null&&(Rn(a,n,i),wl(a,n,i))}function Sb(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Pp(n,i){Sb(n,i),(n=n.alternate)&&Sb(n,i)}function Ab(n){if(n.tag===13||n.tag===31){var i=Js(n,67108864);i!==null&&Rn(i,n,67108864),Pp(n,67108864)}}function xb(n){if(n.tag===13||n.tag===31){var i=jn();i=js(i);var a=Js(n,i);a!==null&&Rn(a,n,i),Pp(n,i)}}var ff=!0;function xx(n,i,a,l){var d=K.T;K.T=null;var h=se.p;try{se.p=2,kp(n,i,a,l)}finally{se.p=h,K.T=d}}function Ix(n,i,a,l){var d=K.T;K.T=null;var h=se.p;try{se.p=8,kp(n,i,a,l)}finally{se.p=h,K.T=d}}function kp(n,i,a,l){if(ff){var d=Lp(l);if(d===null)wp(n,i,l,df,a),Rb(n,l);else if(Cx(d,n,i,a,l))l.stopPropagation();else if(Rb(n,l),i&4&&-1<Rx.indexOf(n)){for(;d!==null;){var h=Fn(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var b=Dr(h.pendingLanes);if(b!==0){var T=h;for(T.pendingLanes|=2,T.entangledLanes|=2;b;){var N=1<<31-It(b);T.entanglements[1]|=N,b&=~N}Qr(h),(tt&6)===0&&(Yu=ht()+500,Ul(0))}}break;case 31:case 13:T=Js(h,2),T!==null&&Rn(T,h,2),Qu(),Pp(h,2)}if(h=Lp(l),h===null&&wp(n,i,l,df,a),h===d)break;d=h}d!==null&&l.stopPropagation()}else wp(n,i,l,null,a)}}function Lp(n){return n=$n(n),Up(n)}var df=null;function Up(n){if(df=null,n=Pr(n),n!==null){var i=c(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=u(i),n!==null)return n;n=null}else if(a===31){if(n=p(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return df=n,null}function Ib(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(si()){case ks:return 2;case Vi:return 8;case cr:case Gd:return 32;case qc:return 268435456;default:return 32}default:return 32}}var zp=!1,os=null,ls=null,cs=null,Fl=new Map,$l=new Map,us=[],Rx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rb(n,i){switch(n){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":Fl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(i.pointerId)}}function Yl(n,i,a,l,d,h){return n===null||n.nativeEvent!==h?(n={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:h,targetContainers:[d]},i!==null&&(i=Fn(i),i!==null&&Ab(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),n)}function Cx(n,i,a,l,d){switch(i){case"focusin":return os=Yl(os,n,i,a,l,d),!0;case"dragenter":return ls=Yl(ls,n,i,a,l,d),!0;case"mouseover":return cs=Yl(cs,n,i,a,l,d),!0;case"pointerover":var h=d.pointerId;return Fl.set(h,Yl(Fl.get(h)||null,n,i,a,l,d)),!0;case"gotpointercapture":return h=d.pointerId,$l.set(h,Yl($l.get(h)||null,n,i,a,l,d)),!0}return!1}function Cb(n){var i=Pr(n.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=u(a),i!==null){n.blockedOn=i,dr(n.priority,function(){xb(a)});return}}else if(i===31){if(i=p(a),i!==null){n.blockedOn=i,dr(n.priority,function(){xb(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function hf(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Lp(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);al=l,a.target.dispatchEvent(l),al=null}else return i=Fn(a),i!==null&&Ab(i),n.blockedOn=a,!1;i.shift()}return!0}function Db(n,i,a){hf(n)&&a.delete(i)}function Dx(){zp=!1,os!==null&&hf(os)&&(os=null),ls!==null&&hf(ls)&&(ls=null),cs!==null&&hf(cs)&&(cs=null),Fl.forEach(Db),$l.forEach(Db)}function pf(n,i){n.blockedOn===i&&(n.blockedOn=null,zp||(zp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Dx)))}var mf=null;function Nb(n){mf!==n&&(mf=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){mf===n&&(mf=null);for(var i=0;i<n.length;i+=3){var a=n[i],l=n[i+1],d=n[i+2];if(typeof l!="function"){if(Up(l||a)===null)continue;break}var h=Fn(a);h!==null&&(n.splice(i,3),i-=3,Lh(h,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function go(n){function i(N){return pf(N,n)}os!==null&&pf(os,n),ls!==null&&pf(ls,n),cs!==null&&pf(cs,n),Fl.forEach(i),$l.forEach(i);for(var a=0;a<us.length;a++){var l=us[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<us.length&&(a=us[0],a.blockedOn===null);)Cb(a),a.blockedOn===null&&us.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],h=a[l+1],b=d[Yt]||null;if(typeof h=="function")b||Nb(a);else if(b){var T=null;if(h&&h.hasAttribute("formAction")){if(d=h,b=h[Yt]||null)T=b.formAction;else if(Up(d)!==null)continue}else T=b.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Nb(a)}}}function Ob(){function n(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(b){return d=b})},focusReset:"manual",scroll:"manual"})}function i(){d!==null&&(d(),d=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),d!==null&&(d(),d=null)}}}function jp(n){this._internalRoot=n}gf.prototype.render=jp.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=jn();Tb(a,l,n,i,null,null)},gf.prototype.unmount=jp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Tb(n.current,2,null,n,null,null),Qu(),i[Mr]=null}};function gf(n){this._internalRoot=n}gf.prototype.unstable_scheduleHydration=function(n){if(n){var i=Qc();n={blockedOn:null,target:n,priority:i};for(var a=0;a<us.length&&i!==0&&i<us[a].priority;a++);us.splice(a,0,n),a===0&&Cb(n)}};var Mb=e.version;if(Mb!=="19.2.4")throw Error(s(527,Mb,"19.2.4"));se.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=g(i),n=n!==null?_(n):null,n=n===null?null:n.stateNode,n};var Nx={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yf.isDisabled&&yf.supportsFiber)try{ur=yf.inject(Nx),Zt=yf}catch{}}return Ql.createRoot=function(n,i){if(!o(n))throw Error(s(299));var a=!1,l="",d=jv,h=Bv,b=Hv;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(h=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError)),i=Eb(n,1,!1,null,null,a,l,null,d,h,b,Ob),n[Mr]=i.current,Ep(n),new jp(i)},Ql.hydrateRoot=function(n,i,a){if(!o(n))throw Error(s(299));var l=!1,d="",h=jv,b=Bv,T=Hv,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=Eb(n,1,!0,i,a??null,l,d,N,h,b,T,Ob),i.context=wb(null),a=i.current,l=jn(),l=js(l),d=Qi(l),d.callback=null,Xi(a,d,l),a=l,i.current.lanes=a,Us(i,a),Qr(i),n[Mr]=i.current,Ep(n),new gf(i)},Ql.version="19.2.4",Ql}var qb;function jx(){if(qb)return qp.exports;qb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),qp.exports=zx(),qp.exports}var Bx=jx();const Hx=Jm(Bx),qx=()=>{};var Gb={};const hw=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},Gx=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[t++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[t++],u=r[t++],p=r[t++],m=((o&7)<<18|(c&63)<<12|(u&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const c=r[t++],u=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|u&63)}}return e.join("")},pw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],u=o+1<r.length,p=u?r[o+1]:0,m=o+2<r.length,g=m?r[o+2]:0,_=c>>2,v=(c&3)<<4|p>>4;let E=(p&15)<<2|g>>6,A=g&63;m||(A=64,u||(E=64)),s.push(t[_],t[v],t[E],t[A])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(hw(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Gx(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=t[r.charAt(o++)],p=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const v=o<r.length?t[r.charAt(o)]:64;if(++o,c==null||p==null||g==null||v==null)throw new Fx;const E=c<<2|p>>4;if(s.push(E),g!==64){const A=p<<4&240|g>>2;if(s.push(A),v!==64){const V=g<<6&192|v;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Fx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $x=function(r){const e=hw(r);return pw.encodeByteArray(e,!0)},jf=function(r){return $x(r).replace(/\./g,"")},mw=function(r){try{return pw.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Yx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Kx=()=>Yx().__FIREBASE_DEFAULTS__,Qx=()=>{if(typeof process>"u"||typeof Gb>"u")return;const r=Gb.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Xx=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&mw(r[1]);return e&&JSON.parse(e)},vd=()=>{try{return qx()||Kx()||Qx()||Xx()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},gw=r=>vd()?.emulatorHosts?.[r],Wx=r=>{const e=gw(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},yw=()=>vd()?.config,vw=r=>vd()?.[`_${r}`];class Jx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function Uo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _w(r){return(await fetch(r,{credentials:"include"})).ok}function Zx(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[jf(JSON.stringify(t)),jf(JSON.stringify(u)),""].join(".")}const sc={};function eI(){const r={prod:[],emulator:[]};for(const e of Object.keys(sc))sc[e]?r.emulator.push(e):r.prod.push(e);return r}function tI(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let Fb=!1;function bw(r,e){if(typeof window>"u"||typeof document>"u"||!Uo(window.location.host)||sc[r]===e||sc[r]||Fb)return;sc[r]=e;function t(E){return`__firebase__banner__${E}`}const s="__firebase__banner",c=eI().prod.length>0;function u(){const E=document.getElementById(s);E&&E.remove()}function p(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,A){E.setAttribute("width","24"),E.setAttribute("id",A),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{Fb=!0,u()},E}function _(E,A){E.setAttribute("id",A),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=tI(s),A=t("text"),V=document.getElementById(A)||document.createElement("span"),z=t("learnmore"),L=document.getElementById(z)||document.createElement("a"),Y=t("preprendIcon"),X=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const te=E.element;p(te),_(L,z);const ie=g();m(X,Y),te.append(X,V,L,ie),document.body.appendChild(te)}c?(V.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function rI(){const r=vd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sI(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function aI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oI(){const r=pn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function lI(){return!rI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cI(){try{return typeof indexedDB=="object"}catch{return!1}}function uI(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}const fI="FirebaseError";class Oi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=fI,Object.setPrototypeOf(this,Oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dc.prototype.create)}}class Dc{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,c=this.errors[e],u=c?dI(c,s):"Error",p=`${this.serviceName}: ${u} (${o}).`;return new Oi(o,p,s)}}function dI(r,e){return r.replace(hI,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const hI=/\{\$([^}]+)}/g;function pI(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function _a(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const c=r[o],u=e[o];if($b(c)&&$b(u)){if(!_a(c,u))return!1}else if(c!==u)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function $b(r){return r!==null&&typeof r=="object"}function Nc(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function mI(r,e){const t=new gI(r,e);return t.subscribe.bind(t)}class gI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");yI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Yp),o.error===void 0&&(o.error=Yp),o.complete===void 0&&(o.complete=Yp);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yI(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Yp(){}function _n(r){return r&&r._delegate?r._delegate:r}class ba{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ha="[DEFAULT]";let vI=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new Jx;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bI(e))try{this.getOrInitializeService({instanceIdentifier:ha})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ha){return this.instances.has(e)}getOptions(e=ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[c,u]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&u.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:_I(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ha){return this.component?this.component.multipleInstances?e:ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function _I(r){return r===ha?void 0:r}function bI(r){return r.instantiationMode==="EAGER"}class EI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new vI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Be;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Be||(Be={}));const wI={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},TI=Be.INFO,SI={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},AI=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=SI[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zm{constructor(e){this.name=e,this._logLevel=TI,this._logHandler=AI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const xI=(r,e)=>e.some(t=>r instanceof t);let Yb,Kb;function II(){return Yb||(Yb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RI(){return Kb||(Kb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ew=new WeakMap,vm=new WeakMap,ww=new WeakMap,Kp=new WeakMap,eg=new WeakMap;function CI(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",u)},c=()=>{t(ys(r.result)),o()},u=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Ew.set(t,r)}).catch(()=>{}),eg.set(e,r),e}function DI(r){if(vm.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",u),r.removeEventListener("abort",u)},c=()=>{t(),o()},u=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",u),r.addEventListener("abort",u)});vm.set(r,e)}let _m={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return vm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||ww.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ys(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function NI(r){_m=r(_m)}function OI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(Qp(this),e,...t);return ww.set(s,e.sort?e.sort():[e]),ys(s)}:RI().includes(r)?function(...e){return r.apply(Qp(this),e),ys(Ew.get(this))}:function(...e){return ys(r.apply(Qp(this),e))}}function MI(r){return typeof r=="function"?OI(r):(r instanceof IDBTransaction&&DI(r),xI(r,II())?new Proxy(r,_m):r)}function ys(r){if(r instanceof IDBRequest)return CI(r);if(Kp.has(r))return Kp.get(r);const e=MI(r);return e!==r&&(Kp.set(r,e),eg.set(e,r)),e}const Qp=r=>eg.get(r);function VI(r,e,{blocked:t,upgrade:s,blocking:o,terminated:c}={}){const u=indexedDB.open(r,e),p=ys(u);return s&&u.addEventListener("upgradeneeded",m=>{s(ys(u.result),m.oldVersion,m.newVersion,ys(u.transaction),m)}),t&&u.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),p.then(m=>{c&&m.addEventListener("close",()=>c()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const PI=["get","getKey","getAll","getAllKeys","count"],kI=["put","add","delete","clear"],Xp=new Map;function Qb(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Xp.get(e))return Xp.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=kI.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||PI.includes(t)))return;const c=async function(u,...p){const m=this.transaction(u,o?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(p.shift())),(await Promise.all([g[t](...p),o&&m.done]))[0]};return Xp.set(e,c),c}NI(r=>({...r,get:(e,t,s)=>Qb(e,t)||r.get(e,t,s),has:(e,t)=>!!Qb(e,t)||r.has(e,t)}));class LI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(UI(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function UI(r){return r.getComponent()?.type==="VERSION"}const bm="@firebase/app",Xb="0.14.7";const Ri=new Zm("@firebase/app"),zI="@firebase/app-compat",jI="@firebase/analytics-compat",BI="@firebase/analytics",HI="@firebase/app-check-compat",qI="@firebase/app-check",GI="@firebase/auth",FI="@firebase/auth-compat",$I="@firebase/database",YI="@firebase/data-connect",KI="@firebase/database-compat",QI="@firebase/functions",XI="@firebase/functions-compat",WI="@firebase/installations",JI="@firebase/installations-compat",ZI="@firebase/messaging",eR="@firebase/messaging-compat",tR="@firebase/performance",nR="@firebase/performance-compat",rR="@firebase/remote-config",iR="@firebase/remote-config-compat",sR="@firebase/storage",aR="@firebase/storage-compat",oR="@firebase/firestore",lR="@firebase/ai",cR="@firebase/firestore-compat",uR="firebase",fR="12.8.0";const Em="[DEFAULT]",dR={[bm]:"fire-core",[zI]:"fire-core-compat",[BI]:"fire-analytics",[jI]:"fire-analytics-compat",[qI]:"fire-app-check",[HI]:"fire-app-check-compat",[GI]:"fire-auth",[FI]:"fire-auth-compat",[$I]:"fire-rtdb",[YI]:"fire-data-connect",[KI]:"fire-rtdb-compat",[QI]:"fire-fn",[XI]:"fire-fn-compat",[WI]:"fire-iid",[JI]:"fire-iid-compat",[ZI]:"fire-fcm",[eR]:"fire-fcm-compat",[tR]:"fire-perf",[nR]:"fire-perf-compat",[rR]:"fire-rc",[iR]:"fire-rc-compat",[sR]:"fire-gcs",[aR]:"fire-gcs-compat",[oR]:"fire-fst",[cR]:"fire-fst-compat",[lR]:"fire-vertex","fire-js":"fire-js",[uR]:"fire-js-all"};const Bf=new Map,hR=new Map,wm=new Map;function Wb(r,e){try{r.container.addComponent(e)}catch(t){Ri.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Ro(r){const e=r.name;if(wm.has(e))return Ri.debug(`There were multiple attempts to register component ${e}.`),!1;wm.set(e,r);for(const t of Bf.values())Wb(t,r);for(const t of hR.values())Wb(t,r);return!0}function tg(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function ir(r){return r==null?!1:r.settings!==void 0}const pR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vs=new Dc("app","Firebase",pR);class mR{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ba("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vs.create("app-deleted",{appName:this._name})}}const zo=fR;function Tw(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s={name:Em,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw vs.create("bad-app-name",{appName:String(o)});if(t||(t=yw()),!t)throw vs.create("no-options");const c=Bf.get(o);if(c){if(_a(t,c.options)&&_a(s,c.config))return c;throw vs.create("duplicate-app",{appName:o})}const u=new EI(o);for(const m of wm.values())u.addComponent(m);const p=new mR(t,s,u);return Bf.set(o,p),p}function Sw(r=Em){const e=Bf.get(r);if(!e&&r===Em&&yw())return Tw();if(!e)throw vs.create("no-app",{appName:r});return e}function _s(r,e,t){let s=dR[r]??r;t&&(s+=`-${t}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const u=[`Unable to register library "${s}" with version "${e}":`];o&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ri.warn(u.join(" "));return}Ro(new ba(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const gR="firebase-heartbeat-database",yR=1,hc="firebase-heartbeat-store";let Wp=null;function Aw(){return Wp||(Wp=VI(gR,yR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(hc)}catch(t){console.warn(t)}}}}).catch(r=>{throw vs.create("idb-open",{originalErrorMessage:r.message})})),Wp}async function vR(r){try{const t=(await Aw()).transaction(hc),s=await t.objectStore(hc).get(xw(r));return await t.done,s}catch(e){if(e instanceof Oi)Ri.warn(e.message);else{const t=vs.create("idb-get",{originalErrorMessage:e?.message});Ri.warn(t.message)}}}async function Jb(r,e){try{const s=(await Aw()).transaction(hc,"readwrite");await s.objectStore(hc).put(e,xw(r)),await s.done}catch(t){if(t instanceof Oi)Ri.warn(t.message);else{const s=vs.create("idb-set",{originalErrorMessage:t?.message});Ri.warn(s.message)}}}function xw(r){return`${r.name}!${r.options.appId}`}const _R=1024,bR=30;class ER{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new TR(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Zb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>bR){const o=SR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ri.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Zb(),{heartbeatsToSend:t,unsentEntries:s}=wR(this._heartbeatsCache.heartbeats),o=jf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ri.warn(e),""}}}function Zb(){return new Date().toISOString().substring(0,10)}function wR(r,e=_R){const t=[];let s=r.slice();for(const o of r){const c=t.find(u=>u.agent===o.agent);if(c){if(c.dates.push(o.date),e0(t)>e){c.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),e0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class TR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cI()?uI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await vR(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Jb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Jb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function e0(r){return jf(JSON.stringify({version:2,heartbeats:r})).length}function SR(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}function AR(r){Ro(new ba("platform-logger",e=>new LI(e),"PRIVATE")),Ro(new ba("heartbeat",e=>new ER(e),"PRIVATE")),_s(bm,Xb,r),_s(bm,Xb,"esm2020"),_s("fire-js","")}AR("");var t0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var bs,Iw;(function(){var r;function e(I,x){function C(){}C.prototype=x.prototype,I.F=x.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(M,O,U){for(var R=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)R[Xe-2]=arguments[Xe];return x.prototype[O].apply(M,R)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,x,C){C||(C=0);const M=Array(16);if(typeof x=="string")for(var O=0;O<16;++O)M[O]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(O=0;O<16;++O)M[O]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=I.g[0],C=I.g[1],O=I.g[2];let U=I.g[3],R;R=x+(U^C&(O^U))+M[0]+3614090360&4294967295,x=C+(R<<7&4294967295|R>>>25),R=U+(O^x&(C^O))+M[1]+3905402710&4294967295,U=x+(R<<12&4294967295|R>>>20),R=O+(C^U&(x^C))+M[2]+606105819&4294967295,O=U+(R<<17&4294967295|R>>>15),R=C+(x^O&(U^x))+M[3]+3250441966&4294967295,C=O+(R<<22&4294967295|R>>>10),R=x+(U^C&(O^U))+M[4]+4118548399&4294967295,x=C+(R<<7&4294967295|R>>>25),R=U+(O^x&(C^O))+M[5]+1200080426&4294967295,U=x+(R<<12&4294967295|R>>>20),R=O+(C^U&(x^C))+M[6]+2821735955&4294967295,O=U+(R<<17&4294967295|R>>>15),R=C+(x^O&(U^x))+M[7]+4249261313&4294967295,C=O+(R<<22&4294967295|R>>>10),R=x+(U^C&(O^U))+M[8]+1770035416&4294967295,x=C+(R<<7&4294967295|R>>>25),R=U+(O^x&(C^O))+M[9]+2336552879&4294967295,U=x+(R<<12&4294967295|R>>>20),R=O+(C^U&(x^C))+M[10]+4294925233&4294967295,O=U+(R<<17&4294967295|R>>>15),R=C+(x^O&(U^x))+M[11]+2304563134&4294967295,C=O+(R<<22&4294967295|R>>>10),R=x+(U^C&(O^U))+M[12]+1804603682&4294967295,x=C+(R<<7&4294967295|R>>>25),R=U+(O^x&(C^O))+M[13]+4254626195&4294967295,U=x+(R<<12&4294967295|R>>>20),R=O+(C^U&(x^C))+M[14]+2792965006&4294967295,O=U+(R<<17&4294967295|R>>>15),R=C+(x^O&(U^x))+M[15]+1236535329&4294967295,C=O+(R<<22&4294967295|R>>>10),R=x+(O^U&(C^O))+M[1]+4129170786&4294967295,x=C+(R<<5&4294967295|R>>>27),R=U+(C^O&(x^C))+M[6]+3225465664&4294967295,U=x+(R<<9&4294967295|R>>>23),R=O+(x^C&(U^x))+M[11]+643717713&4294967295,O=U+(R<<14&4294967295|R>>>18),R=C+(U^x&(O^U))+M[0]+3921069994&4294967295,C=O+(R<<20&4294967295|R>>>12),R=x+(O^U&(C^O))+M[5]+3593408605&4294967295,x=C+(R<<5&4294967295|R>>>27),R=U+(C^O&(x^C))+M[10]+38016083&4294967295,U=x+(R<<9&4294967295|R>>>23),R=O+(x^C&(U^x))+M[15]+3634488961&4294967295,O=U+(R<<14&4294967295|R>>>18),R=C+(U^x&(O^U))+M[4]+3889429448&4294967295,C=O+(R<<20&4294967295|R>>>12),R=x+(O^U&(C^O))+M[9]+568446438&4294967295,x=C+(R<<5&4294967295|R>>>27),R=U+(C^O&(x^C))+M[14]+3275163606&4294967295,U=x+(R<<9&4294967295|R>>>23),R=O+(x^C&(U^x))+M[3]+4107603335&4294967295,O=U+(R<<14&4294967295|R>>>18),R=C+(U^x&(O^U))+M[8]+1163531501&4294967295,C=O+(R<<20&4294967295|R>>>12),R=x+(O^U&(C^O))+M[13]+2850285829&4294967295,x=C+(R<<5&4294967295|R>>>27),R=U+(C^O&(x^C))+M[2]+4243563512&4294967295,U=x+(R<<9&4294967295|R>>>23),R=O+(x^C&(U^x))+M[7]+1735328473&4294967295,O=U+(R<<14&4294967295|R>>>18),R=C+(U^x&(O^U))+M[12]+2368359562&4294967295,C=O+(R<<20&4294967295|R>>>12),R=x+(C^O^U)+M[5]+4294588738&4294967295,x=C+(R<<4&4294967295|R>>>28),R=U+(x^C^O)+M[8]+2272392833&4294967295,U=x+(R<<11&4294967295|R>>>21),R=O+(U^x^C)+M[11]+1839030562&4294967295,O=U+(R<<16&4294967295|R>>>16),R=C+(O^U^x)+M[14]+4259657740&4294967295,C=O+(R<<23&4294967295|R>>>9),R=x+(C^O^U)+M[1]+2763975236&4294967295,x=C+(R<<4&4294967295|R>>>28),R=U+(x^C^O)+M[4]+1272893353&4294967295,U=x+(R<<11&4294967295|R>>>21),R=O+(U^x^C)+M[7]+4139469664&4294967295,O=U+(R<<16&4294967295|R>>>16),R=C+(O^U^x)+M[10]+3200236656&4294967295,C=O+(R<<23&4294967295|R>>>9),R=x+(C^O^U)+M[13]+681279174&4294967295,x=C+(R<<4&4294967295|R>>>28),R=U+(x^C^O)+M[0]+3936430074&4294967295,U=x+(R<<11&4294967295|R>>>21),R=O+(U^x^C)+M[3]+3572445317&4294967295,O=U+(R<<16&4294967295|R>>>16),R=C+(O^U^x)+M[6]+76029189&4294967295,C=O+(R<<23&4294967295|R>>>9),R=x+(C^O^U)+M[9]+3654602809&4294967295,x=C+(R<<4&4294967295|R>>>28),R=U+(x^C^O)+M[12]+3873151461&4294967295,U=x+(R<<11&4294967295|R>>>21),R=O+(U^x^C)+M[15]+530742520&4294967295,O=U+(R<<16&4294967295|R>>>16),R=C+(O^U^x)+M[2]+3299628645&4294967295,C=O+(R<<23&4294967295|R>>>9),R=x+(O^(C|~U))+M[0]+4096336452&4294967295,x=C+(R<<6&4294967295|R>>>26),R=U+(C^(x|~O))+M[7]+1126891415&4294967295,U=x+(R<<10&4294967295|R>>>22),R=O+(x^(U|~C))+M[14]+2878612391&4294967295,O=U+(R<<15&4294967295|R>>>17),R=C+(U^(O|~x))+M[5]+4237533241&4294967295,C=O+(R<<21&4294967295|R>>>11),R=x+(O^(C|~U))+M[12]+1700485571&4294967295,x=C+(R<<6&4294967295|R>>>26),R=U+(C^(x|~O))+M[3]+2399980690&4294967295,U=x+(R<<10&4294967295|R>>>22),R=O+(x^(U|~C))+M[10]+4293915773&4294967295,O=U+(R<<15&4294967295|R>>>17),R=C+(U^(O|~x))+M[1]+2240044497&4294967295,C=O+(R<<21&4294967295|R>>>11),R=x+(O^(C|~U))+M[8]+1873313359&4294967295,x=C+(R<<6&4294967295|R>>>26),R=U+(C^(x|~O))+M[15]+4264355552&4294967295,U=x+(R<<10&4294967295|R>>>22),R=O+(x^(U|~C))+M[6]+2734768916&4294967295,O=U+(R<<15&4294967295|R>>>17),R=C+(U^(O|~x))+M[13]+1309151649&4294967295,C=O+(R<<21&4294967295|R>>>11),R=x+(O^(C|~U))+M[4]+4149444226&4294967295,x=C+(R<<6&4294967295|R>>>26),R=U+(C^(x|~O))+M[11]+3174756917&4294967295,U=x+(R<<10&4294967295|R>>>22),R=O+(x^(U|~C))+M[2]+718787259&4294967295,O=U+(R<<15&4294967295|R>>>17),R=C+(U^(O|~x))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+U&4294967295}s.prototype.v=function(I,x){x===void 0&&(x=I.length);const C=x-this.blockSize,M=this.C;let O=this.h,U=0;for(;U<x;){if(O==0)for(;U<=C;)o(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<x;)if(M[O++]=I.charCodeAt(U++),O==this.blockSize){o(this,M),O=0;break}}else for(;U<x;)if(M[O++]=I[U++],O==this.blockSize){o(this,M),O=0;break}}this.h=O,this.o+=x},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;x=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=x&255,x/=256;for(this.v(I),I=Array(16),x=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)I[x++]=this.g[C]>>>M&255;return I};function c(I,x){var C=p;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=x(I)}function u(I,x){this.h=x;const C=[];let M=!0;for(let O=I.length-1;O>=0;O--){const U=I[O]|0;M&&U==x||(C[O]=U,M=!1)}this.g=C}var p={};function m(I){return-128<=I&&I<128?c(I,function(x){return new u([x|0],x<0?-1:0)}):new u([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return v;if(I<0)return L(g(-I));const x=[];let C=1;for(let M=0;I>=C;M++)x[M]=I/C|0,C*=4294967296;return new u(x,0)}function _(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return L(_(I.substring(1),x));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(x,8));let M=v;for(let U=0;U<I.length;U+=8){var O=Math.min(8,I.length-U);const R=parseInt(I.substring(U,U+O),x);O<8?(O=g(Math.pow(x,O)),M=M.j(O).add(g(R))):(M=M.j(C),M=M.add(g(R)))}return M}var v=m(0),E=m(1),A=m(16777216);r=u.prototype,r.m=function(){if(z(this))return-L(this).m();let I=0,x=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);I+=(M>=0?M:4294967296+M)*x,x*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(V(this))return"0";if(z(this))return"-"+L(this).toString(I);const x=g(Math.pow(I,6));var C=this;let M="";for(;;){const O=ie(C,x).g;C=Y(C,O.j(x));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=O,V(C))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function V(I){if(I.h!=0)return!1;for(let x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function z(I){return I.h==-1}r.l=function(I){return I=Y(this,I),z(I)?-1:V(I)?0:1};function L(I){const x=I.g.length,C=[];for(let M=0;M<x;M++)C[M]=~I.g[M];return new u(C,~I.h).add(E)}r.abs=function(){return z(this)?L(this):this},r.add=function(I){const x=Math.max(this.g.length,I.g.length),C=[];let M=0;for(let O=0;O<=x;O++){let U=M+(this.i(O)&65535)+(I.i(O)&65535),R=(U>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);M=R>>>16,U&=65535,R&=65535,C[O]=R<<16|U}return new u(C,C[C.length-1]&-2147483648?-1:0)};function Y(I,x){return I.add(L(x))}r.j=function(I){if(V(this)||V(I))return v;if(z(this))return z(I)?L(this).j(L(I)):L(L(this).j(I));if(z(I))return L(this.j(L(I)));if(this.l(A)<0&&I.l(A)<0)return g(this.m()*I.m());const x=this.g.length+I.g.length,C=[];for(var M=0;M<2*x;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<I.g.length;O++){const U=this.i(M)>>>16,R=this.i(M)&65535,Xe=I.i(O)>>>16,Ge=I.i(O)&65535;C[2*M+2*O]+=R*Ge,X(C,2*M+2*O),C[2*M+2*O+1]+=U*Ge,X(C,2*M+2*O+1),C[2*M+2*O+1]+=R*Xe,X(C,2*M+2*O+1),C[2*M+2*O+2]+=U*Xe,X(C,2*M+2*O+2)}for(I=0;I<x;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=x;I<2*x;I++)C[I]=0;return new u(C,0)};function X(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function te(I,x){this.g=I,this.h=x}function ie(I,x){if(V(x))throw Error("division by zero");if(V(I))return new te(v,v);if(z(I))return x=ie(L(I),x),new te(L(x.g),L(x.h));if(z(x))return x=ie(I,L(x)),new te(L(x.g),x.h);if(I.g.length>30){if(z(I)||z(x))throw Error("slowDivide_ only works with positive integers.");for(var C=E,M=x;M.l(I)<=0;)C=fe(C),M=fe(M);var O=ae(C,1),U=ae(M,1);for(M=ae(M,2),C=ae(C,2);!V(M);){var R=U.add(M);R.l(I)<=0&&(O=O.add(C),U=R),M=ae(M,1),C=ae(C,1)}return x=Y(I,O.j(x)),new te(O,x)}for(O=v;I.l(x)>=0;){for(C=Math.max(1,Math.floor(I.m()/x.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=g(C),R=U.j(x);z(R)||R.l(I)>0;)C-=M,U=g(C),R=U.j(x);V(U)&&(U=E),O=O.add(U),I=Y(I,R)}return new te(O,I)}r.B=function(I){return ie(this,I).h},r.and=function(I){const x=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<x;M++)C[M]=this.i(M)&I.i(M);return new u(C,this.h&I.h)},r.or=function(I){const x=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<x;M++)C[M]=this.i(M)|I.i(M);return new u(C,this.h|I.h)},r.xor=function(I){const x=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<x;M++)C[M]=this.i(M)^I.i(M);return new u(C,this.h^I.h)};function fe(I){const x=I.g.length+1,C=[];for(let M=0;M<x;M++)C[M]=I.i(M)<<1|I.i(M-1)>>>31;return new u(C,I.h)}function ae(I,x){const C=x>>5;x%=32;const M=I.g.length-C,O=[];for(let U=0;U<M;U++)O[U]=x>0?I.i(U+C)>>>x|I.i(U+C+1)<<32-x:I.i(U+C);return new u(O,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Iw=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=_,bs=u}).apply(typeof t0<"u"?t0:typeof self<"u"?self:typeof window<"u"?window:{});var vf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Rw,tc,Cw,Cf,Tm,Dw,Nw,Ow;(function(){var r,e=Object.defineProperty;function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof vf=="object"&&vf];for(var y=0;y<f.length;++y){var w=f[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var s=t(this);function o(f,y){if(y)e:{var w=s;f=f.split(".");for(var S=0;S<f.length-1;S++){var B=f[S];if(!(B in w))break e;w=w[B]}f=f[f.length-1],S=w[f],y=y(S),y!=S&&y!=null&&e(w,f,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(f){return f||function(y){var w=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&w.push([S,y[S]]);return w}});var c=c||{},u=this||self;function p(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function m(f,y,w){return f.call.apply(f.bind,arguments)}function g(f,y,w){return g=m,g.apply(null,arguments)}function _(f,y){var w=Array.prototype.slice.call(arguments,1);return function(){var S=w.slice();return S.push.apply(S,arguments),f.apply(this,S)}}function v(f,y){function w(){}w.prototype=y.prototype,f.Z=y.prototype,f.prototype=new w,f.prototype.constructor=f,f.Ob=function(S,B,F){for(var ue=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)ue[Ne-2]=arguments[Ne];return y.prototype[B].apply(S,ue)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function A(f){const y=f.length;if(y>0){const w=Array(y);for(let S=0;S<y;S++)w[S]=f[S];return w}return[]}function V(f,y){for(let S=1;S<arguments.length;S++){const B=arguments[S];var w=typeof B;if(w=w!="object"?w:B?Array.isArray(B)?"array":w:"null",w=="array"||w=="object"&&typeof B.length=="number"){w=f.length||0;const F=B.length||0;f.length=w+F;for(let ue=0;ue<F;ue++)f[w+ue]=B[ue]}else f.push(B)}}class z{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function L(f){u.setTimeout(()=>{throw f},0)}function Y(){var f=I;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class X{constructor(){this.h=this.g=null}add(y,w){const S=te.get();S.set(y,w),this.h?this.h.next=S:this.g=S,this.h=S}}var te=new z(()=>new ie,f=>f.reset());class ie{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,ae=!1,I=new X,x=()=>{const f=Promise.resolve(void 0);fe=()=>{f.then(C)}};function C(){for(var f;f=Y();){try{f.h.call(f.g)}catch(w){L(w)}var y=te;y.j(f),y.h<100&&(y.h++,f.next=y.g,y.g=f)}ae=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const w=()=>{};u.addEventListener("test",w,y),u.removeEventListener("test",w,y)}catch{}return f})();function R(f){return/^[\s\xa0]*$/.test(f)}function Xe(f,y){O.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,y)}v(Xe,O),Xe.prototype.init=function(f,y){const w=this.type=f.type,S=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget,y||(w=="mouseover"?y=f.fromElement:w=="mouseout"&&(y=f.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Xe.Z.h.call(this)},Xe.prototype.h=function(){Xe.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ge="closure_listenable_"+(Math.random()*1e6|0),K=0;function se(f,y,w,S,B){this.listener=f,this.proxy=null,this.src=y,this.type=w,this.capture=!!S,this.ha=B,this.key=++K,this.da=this.fa=!1}function me(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Me(f,y,w){for(const S in f)y.call(w,f[S],S,f)}function Fe(f,y){for(const w in f)y.call(void 0,f[w],w,f)}function P(f){const y={};for(const w in f)y[w]=f[w];return y}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(f,y){let w,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(w in S)f[w]=S[w];for(let F=0;F<W.length;F++)w=W[F],Object.prototype.hasOwnProperty.call(S,w)&&(f[w]=S[w])}}function de(f){this.src=f,this.g={},this.h=0}de.prototype.add=function(f,y,w,S,B){const F=f.toString();f=this.g[F],f||(f=this.g[F]=[],this.h++);const ue=Se(f,y,S,B);return ue>-1?(y=f[ue],w||(y.fa=!1)):(y=new se(y,this.src,F,!!S,B),y.fa=w,f.push(y)),y};function Te(f,y){const w=y.type;if(w in f.g){var S=f.g[w],B=Array.prototype.indexOf.call(S,y,void 0),F;(F=B>=0)&&Array.prototype.splice.call(S,B,1),F&&(me(y),f.g[w].length==0&&(delete f.g[w],f.h--))}}function Se(f,y,w,S){for(let B=0;B<f.length;++B){const F=f[B];if(!F.da&&F.listener==y&&F.capture==!!w&&F.ha==S)return B}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),Et={};function Ze(f,y,w,S,B){if(Array.isArray(y)){for(let F=0;F<y.length;F++)Ze(f,y[F],w,S,B);return null}return w=$e(w),f&&f[Ge]?f.J(y,w,p(S)?!!S.capture:!1,B):Dn(f,y,w,!1,S,B)}function Dn(f,y,w,S,B,F){if(!y)throw Error("Invalid event type");const ue=p(B)?!!B.capture:!!B;let Ne=Rr(f);if(Ne||(f[ke]=Ne=new de(f)),w=Ne.add(y,w,S,ue,F),w.proxy)return w;if(S=ii(),w.proxy=S,S.src=f,S.listener=w,f.addEventListener)U||(B=ue),B===void 0&&(B=!1),f.addEventListener(y.toString(),S,B);else if(f.attachEvent)f.attachEvent(Nn(y.toString()),S);else if(f.addListener&&f.removeListener)f.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return w}function ii(){function f(w){return y.call(f.src,f.listener,w)}const y=Mi;return f}function St(f,y,w,S,B){if(Array.isArray(y))for(var F=0;F<y.length;F++)St(f,y[F],w,S,B);else S=p(S)?!!S.capture:!!S,w=$e(w),f&&f[Ge]?(f=f.i,F=String(y).toString(),F in f.g&&(y=f.g[F],w=Se(y,w,S,B),w>-1&&(me(y[w]),Array.prototype.splice.call(y,w,1),y.length==0&&(delete f.g[F],f.h--)))):f&&(f=Rr(f))&&(y=f.g[y.toString()],f=-1,y&&(f=Se(y,w,S,B)),(w=f>-1?y[f]:null)&&bn(w))}function bn(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[Ge])Te(y.i,f);else{var w=f.type,S=f.proxy;y.removeEventListener?y.removeEventListener(w,S,f.capture):y.detachEvent?y.detachEvent(Nn(w),S):y.addListener&&y.removeListener&&y.removeListener(S),(w=Rr(y))?(Te(w,f),w.h==0&&(w.src=null,y[ke]=null)):me(f)}}}function Nn(f){return f in Et?Et[f]:Et[f]="on"+f}function Mi(f,y){if(f.da)f=!0;else{y=new Xe(y,this);const w=f.listener,S=f.ha||f.src;f.fa&&bn(f),f=w.call(S,y)}return f}function Rr(f){return f=f[ke],f instanceof de?f:null}var ce="__closure_events_fn_"+(Math.random()*1e9>>>0);function $e(f){return typeof f=="function"?f:(f[ce]||(f[ce]=function(y){return f.handleEvent(y)}),f[ce])}function we(){M.call(this),this.i=new de(this),this.M=this,this.G=null}v(we,M),we.prototype[Ge]=!0,we.prototype.removeEventListener=function(f,y,w,S){St(this,f,y,w,S)};function Ve(f,y){var w,S=f.G;if(S)for(w=[];S;S=S.G)w.push(S);if(f=f.M,S=y.type||y,typeof y=="string")y=new O(y,f);else if(y instanceof O)y.target=y.target||f;else{var B=y;y=new O(S,f),oe(y,B)}B=!0;let F,ue;if(w)for(ue=w.length-1;ue>=0;ue--)F=y.g=w[ue],B=ot(F,S,!0,y)&&B;if(F=y.g=f,B=ot(F,S,!0,y)&&B,B=ot(F,S,!1,y)&&B,w)for(ue=0;ue<w.length;ue++)F=y.g=w[ue],B=ot(F,S,!1,y)&&B}we.prototype.N=function(){if(we.Z.N.call(this),this.i){var f=this.i;for(const y in f.g){const w=f.g[y];for(let S=0;S<w.length;S++)me(w[S]);delete f.g[y],f.h--}}this.G=null},we.prototype.J=function(f,y,w,S){return this.i.add(String(f),y,!1,w,S)},we.prototype.K=function(f,y,w,S){return this.i.add(String(f),y,!0,w,S)};function ot(f,y,w,S){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();let B=!0;for(let F=0;F<y.length;++F){const ue=y[F];if(ue&&!ue.da&&ue.capture==w){const Ne=ue.listener,Rt=ue.ha||ue.src;ue.fa&&Te(f.i,ue),B=Ne.call(Rt,S)!==!1&&B}}return B&&!S.defaultPrevented}function $t(f,y){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=g(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:u.setTimeout(f,y||0)}function En(f){f.g=$t(()=>{f.g=null,f.i&&(f.i=!1,En(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class ht extends M{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:En(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function si(f){M.call(this),this.h=f,this.g={}}v(si,M);var ks=[];function Vi(f){Me(f.g,function(y,w){this.g.hasOwnProperty(w)&&bn(y)},f),f.g={}}si.prototype.N=function(){si.Z.N.call(this),Vi(this)},si.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cr=u.JSON.stringify,Gd=u.JSON.parse,qc=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function Gc(){}function Fc(){}var ur={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Zt(){O.call(this,"d")}v(Zt,O);function Gn(){O.call(this,"c")}v(Gn,O);var It={},$c=null;function Ca(){return $c=$c||new we}It.Ia="serverreachability";function Yc(f){O.call(this,It.Ia,f)}v(Yc,O);function Cr(f){const y=Ca();Ve(y,new Yc(y))}It.STAT_EVENT="statevent";function Ls(f,y){O.call(this,It.STAT_EVENT,f),this.stat=y}v(Ls,O);function Mt(f){const y=Ca();Ve(y,new Ls(y,f))}It.Ja="timingevent";function Dr(f,y){O.call(this,It.Ja,f),this.size=y}v(Dr,O);function Nr(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},y)}function fr(){this.g=!0}fr.prototype.ua=function(){this.g=!1};function Fd(f,y,w,S,B,F){f.info(function(){if(f.g)if(F){var ue="",Ne=F.split("&");for(let et=0;et<Ne.length;et++){var Rt=Ne[et].split("=");if(Rt.length>1){const vt=Rt[0];Rt=Rt[1];const Kn=vt.split("_");ue=Kn.length>=2&&Kn[1]=="type"?ue+(vt+"="+Rt+"&"):ue+(vt+"=redacted&")}}}else ue=null;else ue=F;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+y+`
`+w+`
`+ue})}function Kc(f,y,w,S,B,F,ue){f.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+y+`
`+w+`
`+F+" "+ue})}function Or(f,y,w,S){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+$d(f,w)+(S?" "+S:"")})}function Us(f,y){f.info(function(){return"TIMEOUT: "+y})}fr.prototype.info=function(){};function $d(f,y){if(!f.g)return y;if(!y)return null;try{const F=JSON.parse(y);if(F){for(f=0;f<F.length;f++)if(Array.isArray(F[f])){var w=F[f];if(!(w.length<2)){var S=w[1];if(Array.isArray(S)&&!(S.length<1)){var B=S[0];if(B!="noop"&&B!="stop"&&B!="close")for(let ue=1;ue<S.length;ue++)S[ue]=""}}}}return cr(F)}catch{return y}}var zs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Qo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Xo;function js(){}v(js,Gc),js.prototype.g=function(){return new XMLHttpRequest},Xo=new js;function ai(f){return encodeURIComponent(String(f))}function Qc(f){var y=1;f=f.split(":");const w=[];for(;y>0&&f.length;)w.push(f.shift()),y--;return f.length&&w.push(f.join(":")),w}function dr(f,y,w,S){this.j=f,this.i=y,this.l=w,this.S=S||1,this.V=new si(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new hr}function hr(){this.i=null,this.g="",this.h=!1}var Vt={},Yt={};function Mr(f,y,w){f.M=1,f.A=Bs(kt(y)),f.u=w,f.R=!0,Da(f,null)}function Da(f,y){f.F=Date.now(),Vr(f),f.B=kt(f.A);var w=f.B,S=f.S;Array.isArray(S)||(S=[String(S)]),Va(w.i,"t",S),f.C=0,w=f.j.L,f.h=new hr,f.g=uu(f.j,w?y:null,!f.u),f.P>0&&(f.O=new ht(g(f.Y,f,f.g),f.P)),y=f.V,w=f.g,S=f.ba;var B="readystatechange";Array.isArray(B)||(B&&(ks[0]=B.toString()),B=ks);for(let F=0;F<B.length;F++){const ue=Ze(w,B[F],S||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=f.J?P(f.J):{},f.u?(f.v||(f.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,y)):(f.v="GET",f.g.ea(f.B,f.v,null,y)),Cr(),Fd(f.i,f.v,f.B,f.l,f.S,f.u)}dr.prototype.ba=function(f){f=f.target;const y=this.O;y&&gr(f)==3?y.j():this.Y(f)},dr.prototype.Y=function(f){try{if(f==this.g)e:{const Ne=gr(this.g),Rt=this.g.ya(),et=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||Ne!=4||Rt==7||(Rt==8||et<=0?Cr(3):Cr(2)),Pr(this);var y=this.g.ca();this.X=y;var w=Yd(this);if(this.o=y==200,Kc(this.i,this.v,this.B,this.l,this.S,Ne,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,B=this.g;if((S=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(S)){var F=S;break t}}F=null}if(f=F)Or(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,kr(this,f);else{this.o=!1,this.m=3,Mt(12),On(this),Fn(this);break e}}if(this.R){f=!0;let vt;for(;!this.K&&this.C<w.length;)if(vt=Wc(this,w),vt==Yt){Ne==4&&(this.m=4,Mt(14),f=!1),Or(this.i,this.l,null,"[Incomplete Response]");break}else if(vt==Vt){this.m=4,Mt(15),Or(this.i,this.l,w,"[Invalid Chunk]"),f=!1;break}else Or(this.i,this.l,vt,null),kr(this,vt);if(Xc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||w.length!=0||this.h.h||(this.m=1,Mt(16),f=!1),this.o=this.o&&f,!f)Or(this.i,this.l,w,"[Invalid Chunked Response]"),On(this),Fn(this);else if(w.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),fl(ue),ue.P=!0,Mt(11))}}else Or(this.i,this.l,w,null),kr(this,w);Ne==4&&On(this),this.o&&!this.K&&(Ne==4?au(this.j,this):(this.o=!1,Vr(this)))}else li(this.g),y==400&&w.indexOf("Unknown SID")>0?(this.m=3,Mt(12)):(this.m=0,Mt(13)),On(this),Fn(this)}}}catch{}};function Yd(f){if(!Xc(f))return f.g.la();const y=en(f.g);if(y==="")return"";let w="";const S=y.length,B=gr(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return On(f),Fn(f),"";f.h.i=new u.TextDecoder}for(let F=0;F<S;F++)f.h.h=!0,w+=f.h.i.decode(y[F],{stream:!(B&&F==S-1)});return y.length=0,f.h.g+=w,f.C=0,f.h.g}function Xc(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Wc(f,y){var w=f.C,S=y.indexOf(`
`,w);return S==-1?Yt:(w=Number(y.substring(w,S)),isNaN(w)?Vt:(S+=1,S+w>y.length?Yt:(y=y.slice(S,S+w),f.C=S+w,y)))}dr.prototype.cancel=function(){this.K=!0,On(this)};function Vr(f){f.T=Date.now()+f.H,Na(f,f.H)}function Na(f,y){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Nr(g(f.aa,f),y)}function Pr(f){f.D&&(u.clearTimeout(f.D),f.D=null)}dr.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Us(this.i,this.B),this.M!=2&&(Cr(),Mt(17)),On(this),this.m=2,Fn(this)):Na(this,this.T-f)};function Fn(f){f.j.I==0||f.K||au(f.j,f)}function On(f){Pr(f);var y=f.O;y&&typeof y.dispose=="function"&&y.dispose(),f.O=null,Vi(f.V),f.g&&(y=f.g,f.g=null,y.abort(),y.dispose())}function kr(f,y){try{var w=f.j;if(w.I!=0&&(w.g==f||Ur(w.h,f))){if(!f.L&&Ur(w.h,f)&&w.I==3){try{var S=w.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<f.F)za(w),Hi(w);else break e;Ks(w),Mt(18)}}else w.xa=B[1],0<w.xa-w.K&&B[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=Nr(g(w.Va,w),6e3));Lr(w.h)<=1&&w.ta&&(w.ta=void 0)}else Gr(w,11)}else if((f.L||w.g==f)&&za(w),!R(y))for(B=w.Ba.g.parse(y),y=0;y<B.length;y++){let et=B[y];const vt=et[0];if(!(vt<=w.K))if(w.K=vt,et=et[1],w.I==2)if(et[0]=="c"){w.M=et[1],w.ba=et[2];const Kn=et[3];Kn!=null&&(w.ka=Kn,w.j.info("VER="+w.ka));const Fr=et[4];Fr!=null&&(w.za=Fr,w.j.info("SVER="+w.za));const yr=et[5];yr!=null&&typeof yr=="number"&&yr>0&&(S=1.5*yr,w.O=S,w.j.info("backChannelRequestTimeoutMs_="+S)),S=w;const vr=f.g;if(vr){const Qs=vr.g?vr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qs){var F=S.h;F.g||Qs.indexOf("spdy")==-1&&Qs.indexOf("quic")==-1&&Qs.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Zo(F,F.h),F.h=null))}if(S.G){const ja=vr.g?vr.g.getResponseHeader("X-HTTP-Session-Id"):null;ja&&(S.wa=ja,it(S.J,S.G,ja))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-f.F,w.j.info("Handshake RTT: "+w.T+"ms")),S=w;var ue=f;if(S.na=cu(S,S.L?S.ba:null,S.W),ue.L){el(S.h,ue);var Ne=ue,Rt=S.O;Rt&&(Ne.H=Rt),Ne.D&&(Pr(Ne),Vr(Ne)),S.g=ue}else iu(S);w.i.length>0&&qr(w)}else et[0]!="stop"&&et[0]!="close"||Gr(w,7);else w.I==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?Gr(w,7):cl(w):et[0]!="noop"&&w.l&&w.l.qa(et),w.A=0)}}Cr(4)}catch{}}var Pt=class{constructor(f,y){this.g=f,this.map=y}};function Wo(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Jo(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Lr(f){return f.h?1:f.g?f.g.size:0}function Ur(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function Zo(f,y){f.g?f.g.add(y):f.h=y}function el(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}Wo.prototype.cancel=function(){if(this.i=tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function tl(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const w of f.g.values())y=y.concat(w.G);return y}return A(f.i)}var Jc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oa(f,y){if(f){f=f.split("&");for(let w=0;w<f.length;w++){const S=f[w].indexOf("=");let B,F=null;S>=0?(B=f[w].substring(0,S),F=f[w].substring(S+1)):B=f[w],y(B,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Mn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;f instanceof Mn?(this.l=f.l,Kt(this,f.j),this.o=f.o,this.g=f.g,Pi(this,f.u),this.h=f.h,nl(this,nu(f.i)),this.m=f.m):f&&(y=String(f).match(Jc))?(this.l=!1,Kt(this,y[1]||"",!0),this.o=zr(y[2]||""),this.g=zr(y[3]||"",!0),Pi(this,y[4]),this.h=zr(y[5]||"",!0),nl(this,y[6]||"",!0),this.m=zr(y[7]||"")):(this.l=!1,this.i=new Li(null,this.l))}Mn.prototype.toString=function(){const f=[];var y=this.j;y&&f.push(Hs(y,Ma,!0),":");var w=this.g;return(w||y=="file")&&(f.push("//"),(y=this.o)&&f.push(Hs(y,Ma,!0),"@"),f.push(ai(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&f.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&f.push("/"),f.push(Hs(w,w.charAt(0)=="/"?rl:Zc,!0))),(w=this.i.toString())&&f.push("?",w),(w=this.m)&&f.push("#",Hs(w,eu)),f.join("")},Mn.prototype.resolve=function(f){const y=kt(this);let w=!!f.j;w?Kt(y,f.j):w=!!f.o,w?y.o=f.o:w=!!f.g,w?y.g=f.g:w=f.u!=null;var S=f.h;if(w)Pi(y,f.u);else if(w=!!f.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var B=y.h.lastIndexOf("/");B!=-1&&(S=y.h.slice(0,B+1)+S)}if(B=S,B==".."||B==".")S="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){S=B.lastIndexOf("/",0)==0,B=B.split("/");const F=[];for(let ue=0;ue<B.length;){const Ne=B[ue++];Ne=="."?S&&ue==B.length&&F.push(""):Ne==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),S&&ue==B.length&&F.push("")):(F.push(Ne),S=!0)}S=F.join("/")}else S=B}return w?y.h=S:w=f.i.toString()!=="",w?nl(y,nu(f.i)):w=!!f.m,w&&(y.m=f.m),y};function kt(f){return new Mn(f)}function Kt(f,y,w){f.j=w?zr(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function Pi(f,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);f.u=y}else f.u=null}function nl(f,y,w){y instanceof Li?(f.i=y,Pa(f.i,f.l)):(w||(y=Hs(y,ki)),f.i=new Li(y,f.l))}function it(f,y,w){f.i.set(y,w)}function Bs(f){return it(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function zr(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Hs(f,y,w){return typeof f=="string"?(f=encodeURI(f).replace(y,wn),w&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function wn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Ma=/[#\/\?@]/g,Zc=/[#\?:]/g,rl=/[#\?]/g,ki=/[#\?@]/g,eu=/#/g;function Li(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function Tn(f){f.g||(f.g=new Map,f.h=0,f.i&&Oa(f.i,function(y,w){f.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}r=Li.prototype,r.add=function(f,y){Tn(this),this.i=null,f=Ui(this,f);let w=this.g.get(f);return w||this.g.set(f,w=[]),w.push(y),this.h+=1,this};function tu(f,y){Tn(f),y=Ui(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function il(f,y){return Tn(f),y=Ui(f,y),f.g.has(y)}r.forEach=function(f,y){Tn(this),this.g.forEach(function(w,S){w.forEach(function(B){f.call(y,B,S,this)},this)},this)};function sl(f,y){Tn(f);let w=[];if(typeof y=="string")il(f,y)&&(w=w.concat(f.g.get(Ui(f,y))));else for(f=Array.from(f.g.values()),y=0;y<f.length;y++)w=w.concat(f[y]);return w}r.set=function(f,y){return Tn(this),this.i=null,f=Ui(this,f),il(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},r.get=function(f,y){return f?(f=sl(this,f),f.length>0?String(f[0]):y):y};function Va(f,y,w){tu(f,y),w.length>0&&(f.i=null,f.g.set(Ui(f,y),A(w)),f.h+=w.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var w=y[S];const B=ai(w);w=sl(this,w);for(let F=0;F<w.length;F++){let ue=B;w[F]!==""&&(ue+="="+ai(w[F])),f.push(ue)}}return this.i=f.join("&")};function nu(f){const y=new Li;return y.i=f.i,f.g&&(y.g=new Map(f.g),y.h=f.h),y}function Ui(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function Pa(f,y){y&&!f.j&&(Tn(f),f.i=null,f.g.forEach(function(w,S){const B=S.toLowerCase();S!=B&&(tu(this,S),Va(this,B,w))},f)),f.j=y}function pr(f,y){const w=new fr;if(u.Image){const S=new Image;S.onload=_($n,w,"TestLoadImage: loaded",!0,y,S),S.onerror=_($n,w,"TestLoadImage: error",!1,y,S),S.onabort=_($n,w,"TestLoadImage: abort",!1,y,S),S.ontimeout=_($n,w,"TestLoadImage: timeout",!1,y,S),u.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=f}else y(!1)}function al(f,y){const w=new fr,S=new AbortController,B=setTimeout(()=>{S.abort(),$n(w,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:S.signal}).then(F=>{clearTimeout(B),F.ok?$n(w,"TestPingServer: ok",!0,y):$n(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),$n(w,"TestPingServer: error",!1,y)})}function $n(f,y,w,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(w)}catch{}}function zi(){this.g=new qc}function jr(f){this.i=f.Sb||null,this.h=f.ab||!1}v(jr,Gc),jr.prototype.g=function(){return new qs(this.i,this.h)};function qs(f,y){we.call(this),this.H=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(qs,we),r=qs.prototype,r.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=y,this.readyState=1,mr(this)},r.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(y.body=f),(this.H||u).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ji(this)),this.readyState=0},r.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,mr(this)),this.g&&(this.readyState=3,mr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ka(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function ka(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}r.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?ji(this):mr(this),this.readyState==3&&ka(this)}},r.Oa=function(f){this.g&&(this.response=this.responseText=f,ji(this))},r.Na=function(f){this.g&&(this.response=f,ji(this))},r.ga=function(){this.g&&ji(this)};function ji(f){f.readyState=4,f.l=null,f.j=null,f.B=null,mr(f)}r.setRequestHeader=function(f,y){this.A.append(f,y)},r.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,f.push(w[0]+": "+w[1]),w=y.next();return f.join(`\r
`)};function mr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(qs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Yn(f){let y="";return Me(f,function(w,S){y+=S,y+=":",y+=w,y+=`\r
`}),y}function Gs(f,y,w){e:{for(S in w){var S=!1;break e}S=!0}S||(w=Yn(w),typeof f=="string"?w!=null&&ai(w):it(f,y,w))}function lt(f){we.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(lt,we);var Br=/^https?$/i,ol=["POST","PUT"];r=lt.prototype,r.Fa=function(f){this.H=f},r.ea=function(f,y,w,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Xo.g(),this.g.onreadystatechange=E(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(F){Fs(this,F);return}if(f=w||"",w=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)w.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const F of S.keys())w.set(F,S.get(F));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(w.keys()).find(F=>F.toLowerCase()=="content-type"),B=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(ol,y,void 0)>=0)||S||B||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,ue]of w)this.g.setRequestHeader(F,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(F){Fs(this,F)}};function Fs(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.o=5,ll(f),oi(f)}function ll(f){f.A||(f.A=!0,Ve(f,"complete"),Ve(f,"error"))}r.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Ve(this,"complete"),Ve(this,"abort"),oi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oi(this,!0)),lt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?$s(this):this.Xa())},r.Xa=function(){$s(this)};function $s(f){if(f.h&&typeof c<"u"){if(f.v&&gr(f)==4)setTimeout(f.Ca.bind(f),0);else if(Ve(f,"readystatechange"),gr(f)==4){f.h=!1;try{const F=f.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var S;if(S=F===0){let ue=String(f.D).match(Jc)[1]||null;!ue&&u.self&&u.self.location&&(ue=u.self.location.protocol.slice(0,-1)),S=!Br.test(ue?ue.toLowerCase():"")}w=S}if(w)Ve(f,"complete"),Ve(f,"success");else{f.o=6;try{var B=gr(f)>2?f.g.statusText:""}catch{B=""}f.l=B+" ["+f.ca()+"]",ll(f)}}finally{oi(f)}}}}function oi(f,y){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const w=f.g;f.g=null,y||Ve(f,"ready");try{w.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function gr(f){return f.g?f.g.readyState:0}r.ca=function(){try{return gr(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),Gd(y)}};function en(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function li(f){const y={};f=(f.g&&gr(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<f.length;S++){if(R(f[S]))continue;var w=Qc(f[S]);const B=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const F=y[B]||[];y[B]=F,F.push(w)}Fe(y,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hr(f,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[f]||y}function Bi(f){this.za=0,this.i=[],this.j=new fr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Hr("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Hr("baseRetryDelayMs",5e3,f),this.Za=Hr("retryDelaySeedMs",1e4,f),this.Ta=Hr("forwardChannelMaxRetries",2,f),this.va=Hr("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Wo(f&&f.concurrentRequestLimit),this.Ba=new zi,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Bi.prototype,r.ka=8,r.I=1,r.connect=function(f,y,w,S){Mt(0),this.W=f,this.H=y||{},w&&S!==void 0&&(this.H.OSID=w,this.H.OAID=S),this.F=this.X,this.J=cu(this,null,this.W),qr(this)};function cl(f){if(La(f),f.I==3){var y=f.V++,w=kt(f.J);if(it(w,"SID",f.M),it(w,"RID",y),it(w,"TYPE","terminate"),Ys(f,w),y=new dr(f,f.j,y),y.M=2,y.A=Bs(kt(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(y.A.toString(),"")}catch{}!w&&u.Image&&(new Image().src=y.A,w=!0),w||(y.g=uu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Vr(y)}lu(f)}function Hi(f){f.g&&(fl(f),f.g.cancel(),f.g=null)}function La(f){Hi(f),f.v&&(u.clearTimeout(f.v),f.v=null),za(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function qr(f){if(!Jo(f.h)&&!f.m){f.m=!0;var y=f.Ea;fe||x(),ae||(fe(),ae=!0),I.add(y,f),f.D=0}}function Ua(f,y){return Lr(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=y.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Nr(g(f.Ea,f,y),ou(f,f.D)),f.D++,!0)}r.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const B=new dr(this,this.j,f);let F=this.o;if(this.U&&(F?(F=P(F),oe(F,this.U)):F=this.U),this.u!==null||this.R||(B.J=F,F=null),this.S)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var S=this.i[w];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=ru(this,B,y),w=kt(this.J),it(w,"RID",f),it(w,"CVER",22),this.G&&it(w,"X-HTTP-Session-Id",this.G),Ys(this,w),F&&(this.R?y="headers="+ai(Yn(F))+"&"+y:this.u&&Gs(w,this.u,F)),Zo(this.h,B),this.Ra&&it(w,"TYPE","init"),this.S?(it(w,"$req",y),it(w,"SID","null"),B.U=!0,Mr(B,w,null)):Mr(B,w,y),this.I=2}}else this.I==3&&(f?ul(this,f):this.i.length==0||Jo(this.h)||ul(this))};function ul(f,y){var w;y?w=y.l:w=f.V++;const S=kt(f.J);it(S,"SID",f.M),it(S,"RID",w),it(S,"AID",f.K),Ys(f,S),f.u&&f.o&&Gs(S,f.u,f.o),w=new dr(f,f.j,w,f.D+1),f.u===null&&(w.J=f.o),y&&(f.i=y.G.concat(f.i)),y=ru(f,w,1e3),w.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Zo(f.h,w),Mr(w,S,y)}function Ys(f,y){f.H&&Me(f.H,function(w,S){it(y,S,w)}),f.l&&Me({},function(w,S){it(y,S,w)})}function ru(f,y,w){w=Math.min(f.i.length,w);const S=f.l?g(f.l.Ka,f.l,f):null;e:{var B=f.i;let Ne=-1;for(;;){const Rt=["count="+w];Ne==-1?w>0?(Ne=B[0].g,Rt.push("ofs="+Ne)):Ne=0:Rt.push("ofs="+Ne);let et=!0;for(let vt=0;vt<w;vt++){var F=B[vt].g;const Kn=B[vt].map;if(F-=Ne,F<0)Ne=Math.max(0,B[vt].g-100),et=!1;else try{F="req"+F+"_"||"";try{var ue=Kn instanceof Map?Kn:Object.entries(Kn);for(const[Fr,yr]of ue){let vr=yr;p(yr)&&(vr=cr(yr)),Rt.push(F+Fr+"="+encodeURIComponent(vr))}}catch(Fr){throw Rt.push(F+"type="+encodeURIComponent("_badmap")),Fr}}catch{S&&S(Kn)}}if(et){ue=Rt.join("&");break e}}ue=void 0}return f=f.i.splice(0,w),y.G=f,ue}function iu(f){if(!f.g&&!f.v){f.Y=1;var y=f.Da;fe||x(),ae||(fe(),ae=!0),I.add(y,f),f.A=0}}function Ks(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Nr(g(f.Da,f),ou(f,f.A)),f.A++,!0)}r.Da=function(){if(this.v=null,su(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Nr(g(this.Wa,this),f)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Mt(10),Hi(this),su(this))};function fl(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function su(f){f.g=new dr(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var y=kt(f.na);it(y,"RID","rpc"),it(y,"SID",f.M),it(y,"AID",f.K),it(y,"CI",f.F?"0":"1"),!f.F&&f.ia&&it(y,"TO",f.ia),it(y,"TYPE","xmlhttp"),Ys(f,y),f.u&&f.o&&Gs(y,f.u,f.o),f.O&&(f.g.H=f.O);var w=f.g;f=f.ba,w.M=1,w.A=Bs(kt(y)),w.u=null,w.R=!0,Da(w,f)}r.Va=function(){this.C!=null&&(this.C=null,Hi(this),Ks(this),Mt(19))};function za(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function au(f,y){var w=null;if(f.g==y){za(f),fl(f),f.g=null;var S=2}else if(Ur(f.h,y))w=y.G,el(f.h,y),S=1;else return;if(f.I!=0){if(y.o)if(S==1){w=y.u?y.u.length:0,y=Date.now()-y.F;var B=f.D;S=Ca(),Ve(S,new Dr(S,w)),qr(f)}else iu(f);else if(B=y.m,B==3||B==0&&y.X>0||!(S==1&&Ua(f,y)||S==2&&Ks(f)))switch(w&&w.length>0&&(y=f.h,y.i=y.i.concat(w)),B){case 1:Gr(f,5);break;case 4:Gr(f,10);break;case 3:Gr(f,6);break;default:Gr(f,2)}}}function ou(f,y){let w=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(w*=2),w*y}function Gr(f,y){if(f.j.info("Error code "+y),y==2){var w=g(f.bb,f),S=f.Ua;const B=!S;S=new Mn(S||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Kt(S,"https"),Bs(S),B?pr(S.toString(),w):al(S.toString(),w)}else Mt(2);f.I=0,f.l&&f.l.pa(y),lu(f),La(f)}r.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function lu(f){if(f.I=0,f.ja=[],f.l){const y=tl(f.h);(y.length!=0||f.i.length!=0)&&(V(f.ja,y),V(f.ja,f.i),f.h.i.length=0,A(f.i),f.i.length=0),f.l.oa()}}function cu(f,y,w){var S=w instanceof Mn?kt(w):new Mn(w);if(S.g!="")y&&(S.g=y+"."+S.g),Pi(S,S.u);else{var B=u.location;S=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;const F=new Mn(null);S&&Kt(F,S),y&&(F.g=y),B&&Pi(F,B),w&&(F.h=w),S=F}return w=f.G,y=f.wa,w&&y&&it(S,w,y),it(S,"VER",f.ka),Ys(f,S),S}function uu(f,y,w){if(y&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Aa&&!f.ma?new lt(new jr({ab:w})):new lt(f.ma),y.Fa(f.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function fu(){}r=fu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function qi(){}qi.prototype.g=function(f,y){return new mn(f,y)};function mn(f,y){we.call(this),this.g=new Bi(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(f?f["X-WebChannel-Client-Profile"]=y.sa:f={"X-WebChannel-Client-Profile":y.sa}),this.g.U=f,(f=y&&y.Qb)&&!R(f)&&(this.g.u=f),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!R(y)&&(this.g.G=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new ci(this)}v(mn,we),mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){cl(this.g)},mn.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var w={};w.__data__=f,f=w}else this.v&&(w={},w.__data__=cr(f),f=w);y.i.push(new Pt(y.Ya++,f)),y.I==3&&qr(y)},mn.prototype.N=function(){this.g.l=null,delete this.j,cl(this.g),delete this.g,mn.Z.N.call(this)};function du(f){Zt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const w in y){f=w;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}v(du,Zt);function hu(){Gn.call(this),this.status=1}v(hu,Gn);function ci(f){this.g=f}v(ci,fu),ci.prototype.ra=function(){Ve(this.g,"a")},ci.prototype.qa=function(f){Ve(this.g,new du(f))},ci.prototype.pa=function(f){Ve(this.g,new hu)},ci.prototype.oa=function(){Ve(this.g,"b")},qi.prototype.createWebChannel=qi.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,Ow=function(){return new qi},Nw=function(){return Ca()},Dw=It,Tm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},zs.NO_ERROR=0,zs.TIMEOUT=8,zs.HTTP_ERROR=6,Cf=zs,Qo.COMPLETE="complete",Cw=Qo,Fc.EventType=ur,ur.OPEN="a",ur.CLOSE="b",ur.ERROR="c",ur.MESSAGE="d",we.prototype.listen=we.prototype.J,tc=Fc,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,Rw=lt}).apply(typeof vf<"u"?vf:typeof self<"u"?self:typeof window<"u"?window:{});let dn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");let jo="12.8.0";function xR(r){jo=r}const Ea=new Zm("@firebase/firestore");function yo(){return Ea.logLevel}function pe(r,...e){if(Ea.logLevel<=Be.DEBUG){const t=e.map(ng);Ea.debug(`Firestore (${jo}): ${r}`,...t)}}function Ci(r,...e){if(Ea.logLevel<=Be.ERROR){const t=e.map(ng);Ea.error(`Firestore (${jo}): ${r}`,...t)}}function Co(r,...e){if(Ea.logLevel<=Be.WARN){const t=e.map(ng);Ea.warn(`Firestore (${jo}): ${r}`,...t)}}function ng(r){if(typeof r=="string")return r;try{return(function(t){return JSON.stringify(t)})(r)}catch{return r}}function xe(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,Mw(r,s,t)}function Mw(r,e,t){let s=`FIRESTORE (${jo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Ci(s),new Error(s)}function rt(r,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,r||Mw(e,o,s)}function De(r,e){return r}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Oi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Es{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Vw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(dn.UNAUTHENTICATED)))}shutdown(){}}class RR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class CR{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){rt(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,t(m)):Promise.resolve();let c=new Es;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Es,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const m=c;e.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},p=m=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>p(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Es)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(rt(typeof s.accessToken=="string",31837,{l:s}),new Vw(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class DR{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class NR{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new DR(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class n0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OR{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ir(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){rt(this.o===void 0,3512);const s=c=>{c.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.m;return this.m=c.token,pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new n0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(rt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new n0(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function MR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class rg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=MR(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<t&&(s+=e.charAt(o[c]%62))}return s}}function He(r,e){return r<e?-1:r>e?1:0}function Sm(r,e){const t=Math.min(r.length,e.length);for(let s=0;s<t;s++){const o=r.charAt(s),c=e.charAt(s);if(o!==c)return Jp(o)===Jp(c)?He(o,c):Jp(o)?1:-1}return He(r.length,e.length)}const VR=55296,PR=57343;function Jp(r){const e=r.charCodeAt(0);return e>=VR&&e<=PR}function Do(r,e,t){return r.length===e.length&&r.every(((s,o)=>t(s,e[o])))}const r0="__name__";class Xr{constructor(e,t,s){t===void 0?t=0:t>e.length&&xe(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&xe(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Xr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xr?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const c=Xr.compareSegments(e.get(o),t.get(o));if(c!==0)return c}return He(e.length,t.length)}static compareSegments(e,t){const s=Xr.isNumericId(e),o=Xr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Xr.extractNumericId(e).compare(Xr.extractNumericId(t)):Sm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bs.fromString(e.substring(4,e.length-2))}}class pt extends Xr{construct(e,t,s){return new pt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new pt(t)}static emptyPath(){return new pt([])}}const kR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends Xr{construct(e,t,s){return new on(e,t,s)}static isValidIdentifier(e){return kR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===r0}static keyField(){return new on([r0])}static fromServerFormat(e){const t=[];let s="",o=0;const c=()=>{if(s.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let u=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new he(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new he(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else p==="`"?(u=!u,o++):p!=="."||u?(s+=p,o++):(c(),o++)}if(c(),u)throw new he(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(t)}static emptyPath(){return new on([])}}class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(pt.fromString(e))}static fromName(e){return new Ee(pt.fromString(e).popFirst(5))}static empty(){return new Ee(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return pt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new pt(e.slice()))}}function Pw(r,e,t){if(!t)throw new he(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function LR(r,e,t,s){if(e===!0&&s===!0)throw new he(ee.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function i0(r){if(!Ee.isDocumentKey(r))throw new he(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function s0(r){if(Ee.isDocumentKey(r))throw new he(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function kw(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function _d(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":xe(12329,{type:typeof r})}function ws(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=_d(r);throw new he(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function qt(r,e){const t={typeString:r};return e&&(t.value=e),t}function Oc(r,e){if(!kw(r))throw new he(ee.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){t=`JSON missing required field: '${s}'`;break}const u=r[s];if(o&&typeof u!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&u!==c.value){t=`Expected '${s}' field to equal '${c.value}'`;break}}if(t)throw new he(ee.INVALID_ARGUMENT,t);return!0}const a0=-62135596800,o0=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*o0);return new yt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<a0)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/o0}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Oc(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-a0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:qt("string",yt._jsonSchemaVersion),seconds:qt("number"),nanoseconds:qt("number")};class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new yt(0,0))}static max(){return new Re(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const pc=-1;function UR(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(s===1e9?new yt(t+1,0):new yt(t,s));return new Is(o,Ee.empty(),e)}function zR(r){return new Is(r.readTime,r.key,pc)}class Is{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Is(Re.min(),Ee.empty(),pc)}static max(){return new Is(Re.max(),Ee.empty(),pc)}}function jR(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(r.documentKey,e.documentKey),t!==0?t:He(r.largestBatchId,e.largestBatchId))}const BR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Bo(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==BR)throw r;pe("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ne.reject(t)}static resolve(e){return new ne(((t,s)=>{t(e)}))}static reject(e){return new ne(((t,s)=>{s(e)}))}static waitFor(e){return new ne(((t,s)=>{let o=0,c=0,u=!1;e.forEach((p=>{++o,p.next((()=>{++c,u&&c===o&&t()}),(m=>s(m)))})),u=!0,c===o&&t()}))}static or(e){let t=ne.resolve(!1);for(const s of e)t=t.next((o=>o?ne.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,c)=>{s.push(t.call(this,o,c))})),this.waitFor(s)}static mapArray(e,t){return new ne(((s,o)=>{const c=e.length,u=new Array(c);let p=0;for(let m=0;m<c;m++){const g=m;t(e[g]).next((_=>{u[g]=_,++p,p===c&&s(u)}),(_=>o(_)))}}))}static doWhile(e,t){return new ne(((s,o)=>{const c=()=>{e()===!0?t().next((()=>{c()}),o):s()};c()}))}}function qR(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ho(r){return r.name==="IndexedDbTransactionError"}class bd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bd.ce=-1;const ig=-1;function Ed(r){return r==null}function Hf(r){return r===0&&1/r==-1/0}function GR(r){return typeof r=="number"&&Number.isInteger(r)&&!Hf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Lw="";function FR(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=l0(e)),e=$R(r.get(t),e);return l0(e)}function $R(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":t+="";break;case Lw:t+="";break;default:t+=c}}return t}function l0(r){return r+Lw+""}function c0(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Aa(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Uw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class wt{constructor(e,t){this.comparator=e,this.root=t||an.EMPTY}insert(e,t){return new wt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _f(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _f(this.root,e,this.comparator,!1)}getReverseIterator(){return new _f(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _f(this.root,e,this.comparator,!0)}}class _f{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,t,s,o,c){this.key=e,this.value=t,this.color=s??an.RED,this.left=o??an.EMPTY,this.right=c??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,c){return new an(e??this.key,t??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,s),null):c===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return an.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,t,s,o,c){return this}insert(e,t,s){return new an(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ft{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new u0(this.data.getIterator())}getIteratorFrom(e){return new u0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ft(this.comparator);return t.data=e,t}}class u0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wr{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new wr([])}unionWith(e){let t=new Ft(on.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new wr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Do(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class zw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new zw("Invalid base64 string: "+c):c}})(e);return new cn(t)}static fromUint8Array(e){const t=(function(o){let c="";for(let u=0;u<o.length;++u)c+=String.fromCharCode(o[u]);return c})(e);return new cn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const YR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rs(r){if(rt(!!r,39018),typeof r=="string"){let e=0;const t=YR.exec(r);if(rt(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Nt(r.seconds),nanos:Nt(r.nanos)}}function Nt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Cs(r){return typeof r=="string"?cn.fromBase64String(r):cn.fromUint8Array(r)}const jw="server_timestamp",Bw="__type__",Hw="__previous_value__",qw="__local_write_time__";function sg(r){return(r?.mapValue?.fields||{})[Bw]?.stringValue===jw}function wd(r){const e=r.mapValue.fields[Hw];return sg(e)?wd(e):e}function mc(r){const e=Rs(r.mapValue.fields[qw].timestampValue);return new yt(e.seconds,e.nanos)}class KR{constructor(e,t,s,o,c,u,p,m,g,_,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=_,this.apiKey=v}}const qf="(default)";class gc{constructor(e,t){this.projectId=e,this.database=t||qf}static empty(){return new gc("","")}get isDefaultDatabase(){return this.database===qf}isEqual(e){return e instanceof gc&&e.projectId===this.projectId&&e.database===this.database}}function QR(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new he(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gc(r.options.projectId,e)}const Gw="__type__",XR="__max__",bf={mapValue:{}},Fw="__vector__",Gf="value";function Ds(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?sg(r)?4:JR(r)?9007199254740991:WR(r)?10:11:xe(28295,{value:r})}function ni(r,e){if(r===e)return!0;const t=Ds(r);if(t!==Ds(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return mc(r).isEqual(mc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const u=Rs(o.timestampValue),p=Rs(c.timestampValue);return u.seconds===p.seconds&&u.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return Cs(o.bytesValue).isEqual(Cs(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return Nt(o.geoPointValue.latitude)===Nt(c.geoPointValue.latitude)&&Nt(o.geoPointValue.longitude)===Nt(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Nt(o.integerValue)===Nt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const u=Nt(o.doubleValue),p=Nt(c.doubleValue);return u===p?Hf(u)===Hf(p):isNaN(u)&&isNaN(p)}return!1})(r,e);case 9:return Do(r.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return(function(o,c){const u=o.mapValue.fields||{},p=c.mapValue.fields||{};if(c0(u)!==c0(p))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(p[m]===void 0||!ni(u[m],p[m])))return!1;return!0})(r,e);default:return xe(52216,{left:r})}}function yc(r,e){return(r.values||[]).find((t=>ni(t,e)))!==void 0}function No(r,e){if(r===e)return 0;const t=Ds(r),s=Ds(e);if(t!==s)return He(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return He(r.booleanValue,e.booleanValue);case 2:return(function(c,u){const p=Nt(c.integerValue||c.doubleValue),m=Nt(u.integerValue||u.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1})(r,e);case 3:return f0(r.timestampValue,e.timestampValue);case 4:return f0(mc(r),mc(e));case 5:return Sm(r.stringValue,e.stringValue);case 6:return(function(c,u){const p=Cs(c),m=Cs(u);return p.compareTo(m)})(r.bytesValue,e.bytesValue);case 7:return(function(c,u){const p=c.split("/"),m=u.split("/");for(let g=0;g<p.length&&g<m.length;g++){const _=He(p[g],m[g]);if(_!==0)return _}return He(p.length,m.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,u){const p=He(Nt(c.latitude),Nt(u.latitude));return p!==0?p:He(Nt(c.longitude),Nt(u.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return d0(r.arrayValue,e.arrayValue);case 10:return(function(c,u){const p=c.fields||{},m=u.fields||{},g=p[Gf]?.arrayValue,_=m[Gf]?.arrayValue,v=He(g?.values?.length||0,_?.values?.length||0);return v!==0?v:d0(g,_)})(r.mapValue,e.mapValue);case 11:return(function(c,u){if(c===bf.mapValue&&u===bf.mapValue)return 0;if(c===bf.mapValue)return 1;if(u===bf.mapValue)return-1;const p=c.fields||{},m=Object.keys(p),g=u.fields||{},_=Object.keys(g);m.sort(),_.sort();for(let v=0;v<m.length&&v<_.length;++v){const E=Sm(m[v],_[v]);if(E!==0)return E;const A=No(p[m[v]],g[_[v]]);if(A!==0)return A}return He(m.length,_.length)})(r.mapValue,e.mapValue);default:throw xe(23264,{he:t})}}function f0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return He(r,e);const t=Rs(r),s=Rs(e),o=He(t.seconds,s.seconds);return o!==0?o:He(t.nanos,s.nanos)}function d0(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const c=No(t[o],s[o]);if(c)return c}return He(t.length,s.length)}function Oo(r){return Am(r)}function Am(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const s=Rs(t);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return Cs(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return Ee.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let s="[",o=!0;for(const c of t.values||[])o?o=!1:s+=",",s+=Am(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",c=!0;for(const u of s)c?c=!1:o+=",",o+=`${u}:${Am(t.fields[u])}`;return o+"}"})(r.mapValue):xe(61005,{value:r})}function Df(r){switch(Ds(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wd(r);return e?16+Df(e):16;case 5:return 2*r.stringValue.length;case 6:return Cs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+Df(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Aa(s.fields,((c,u)=>{o+=c.length+Df(u)})),o})(r.mapValue);default:throw xe(13486,{value:r})}}function h0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function xm(r){return!!r&&"integerValue"in r}function ag(r){return!!r&&"arrayValue"in r}function p0(r){return!!r&&"nullValue"in r}function m0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Nf(r){return!!r&&"mapValue"in r}function WR(r){return(r?.mapValue?.fields||{})[Gw]?.stringValue===Fw}function ac(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Aa(r.mapValue.fields,((t,s)=>e.mapValue.fields[t]=ac(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ac(r.arrayValue.values[t]);return e}return{...r}}function JR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===XR}class sr{constructor(e){this.value=e}static empty(){return new sr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Nf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ac(t)}setAll(e){let t=on.emptyPath(),s={},o=[];e.forEach(((u,p)=>{if(!t.isImmediateParentOf(p)){const m=this.getFieldsMap(t);this.applyChanges(m,s,o),s={},o=[],t=p.popLast()}u?s[p.lastSegment()]=ac(u):o.push(p.lastSegment())}));const c=this.getFieldsMap(t);this.applyChanges(c,s,o)}delete(e){const t=this.field(e.popLast());Nf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Nf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Aa(t,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new sr(ac(this.value))}}function $w(r){const e=[];return Aa(r.fields,((t,s)=>{const o=new on([t]);if(Nf(s)){const c=$w(s.mapValue).fields;if(c.length===0)e.push(o);else for(const u of c)e.push(o.child(u))}else e.push(o)})),new wr(e)}class hn{constructor(e,t,s,o,c,u,p){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=c,this.data=u,this.documentState=p}static newInvalidDocument(e){return new hn(e,0,Re.min(),Re.min(),Re.min(),sr.empty(),0)}static newFoundDocument(e,t,s,o){return new hn(e,1,t,Re.min(),s,o,0)}static newNoDocument(e,t){return new hn(e,2,t,Re.min(),Re.min(),sr.empty(),0)}static newUnknownDocument(e,t){return new hn(e,3,t,Re.min(),Re.min(),sr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ff{constructor(e,t){this.position=e,this.inclusive=t}}function g0(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],u=r.position[o];if(c.field.isKeyField()?s=Ee.comparator(Ee.fromName(u.referenceValue),t.key):s=No(u,t.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function y0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ni(r.position[t],e.position[t]))return!1;return!0}class vc{constructor(e,t="asc"){this.field=e,this.dir=t}}function ZR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Yw{}class Ht extends Yw{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new tC(e,t,s):t==="array-contains"?new iC(e,s):t==="in"?new sC(e,s):t==="not-in"?new aC(e,s):t==="array-contains-any"?new oC(e,s):new Ht(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new nC(e,s):new rC(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(No(t,this.value)):t!==null&&Ds(this.value)===Ds(t)&&this.matchesComparison(No(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ir extends Yw{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ir(e,t)}matches(e){return Kw(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Kw(r){return r.op==="and"}function Qw(r){return eC(r)&&Kw(r)}function eC(r){for(const e of r.filters)if(e instanceof Ir)return!1;return!0}function Im(r){if(r instanceof Ht)return r.field.canonicalString()+r.op.toString()+Oo(r.value);if(Qw(r))return r.filters.map((e=>Im(e))).join(",");{const e=r.filters.map((t=>Im(t))).join(",");return`${r.op}(${e})`}}function Xw(r,e){return r instanceof Ht?(function(s,o){return o instanceof Ht&&s.op===o.op&&s.field.isEqual(o.field)&&ni(s.value,o.value)})(r,e):r instanceof Ir?(function(s,o){return o instanceof Ir&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,u,p)=>c&&Xw(u,o.filters[p])),!0):!1})(r,e):void xe(19439)}function Ww(r){return r instanceof Ht?(function(t){return`${t.field.canonicalString()} ${t.op} ${Oo(t.value)}`})(r):r instanceof Ir?(function(t){return t.op.toString()+" {"+t.getFilters().map(Ww).join(" ,")+"}"})(r):"Filter"}class tC extends Ht{constructor(e,t,s){super(e,t,s),this.key=Ee.fromName(s.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class nC extends Ht{constructor(e,t){super(e,"in",t),this.keys=Jw("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class rC extends Ht{constructor(e,t){super(e,"not-in",t),this.keys=Jw("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Jw(r,e){return(e.arrayValue?.values||[]).map((t=>Ee.fromName(t.referenceValue)))}class iC extends Ht{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ag(t)&&yc(t.arrayValue,this.value)}}class sC extends Ht{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&yc(this.value.arrayValue,t)}}class aC extends Ht{constructor(e,t){super(e,"not-in",t)}matches(e){if(yc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!yc(this.value.arrayValue,t)}}class oC extends Ht{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ag(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>yc(this.value.arrayValue,s)))}}class lC{constructor(e,t=null,s=[],o=[],c=null,u=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=u,this.endAt=p,this.Te=null}}function v0(r,e=null,t=[],s=[],o=null,c=null,u=null){return new lC(r,e,t,s,o,c,u)}function og(r){const e=De(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>Im(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Ed(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Oo(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Oo(s))).join(",")),e.Te=t}return e.Te}function lg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!ZR(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Xw(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!y0(r.startAt,e.startAt)&&y0(r.endAt,e.endAt)}function Rm(r){return Ee.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class qo{constructor(e,t=null,s=[],o=[],c=null,u="F",p=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=u,this.startAt=p,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function cC(r,e,t,s,o,c,u,p){return new qo(r,e,t,s,o,c,u,p)}function Td(r){return new qo(r)}function _0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function uC(r){return Ee.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function Zw(r){return r.collectionGroup!==null}function oc(r){const e=De(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),t.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let p=new Ft(on.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(p=p.add(g.field))}))})),p})(e).forEach((c=>{t.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new vc(c,s))})),t.has(on.keyField().canonicalString())||e.Ie.push(new vc(on.keyField(),s))}return e.Ie}function Jr(r){const e=De(r);return e.Ee||(e.Ee=fC(e,oc(r))),e.Ee}function fC(r,e){if(r.limitType==="F")return v0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new vc(o.field,c)}));const t=r.endAt?new Ff(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ff(r.startAt.position,r.startAt.inclusive):null;return v0(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function Cm(r,e){const t=r.filters.concat([e]);return new qo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function dC(r,e){const t=r.explicitOrderBy.concat([e]);return new qo(r.path,r.collectionGroup,t,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function $f(r,e,t){return new qo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Sd(r,e){return lg(Jr(r),Jr(e))&&r.limitType===e.limitType}function eT(r){return`${og(Jr(r))}|lt:${r.limitType}`}function vo(r){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>Ww(o))).join(", ")}]`),Ed(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>Oo(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>Oo(o))).join(",")),`Target(${s})`})(Jr(r))}; limitType=${r.limitType})`}function Ad(r,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):Ee.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,o){for(const c of oc(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(u,p,m){const g=g0(u,p,m);return u.inclusive?g<=0:g<0})(s.startAt,oc(s),o)||s.endAt&&!(function(u,p,m){const g=g0(u,p,m);return u.inclusive?g>=0:g>0})(s.endAt,oc(s),o))})(r,e)}function hC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function tT(r){return(e,t)=>{let s=!1;for(const o of oc(r)){const c=pC(o,e,t);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function pC(r,e,t){const s=r.field.isKeyField()?Ee.comparator(e.key,t.key):(function(c,u,p){const m=u.data.field(c),g=p.data.field(c);return m!==null&&g!==null?No(m,g):xe(42886)})(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return xe(19790,{direction:r.dir})}}class xa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Aa(this.inner,((t,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return Uw(this.inner)}size(){return this.innerSize}}const mC=new wt(Ee.comparator);function Di(){return mC}const nT=new wt(Ee.comparator);function nc(...r){let e=nT;for(const t of r)e=e.insert(t.key,t);return e}function rT(r){let e=nT;return r.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function ga(){return lc()}function iT(){return lc()}function lc(){return new xa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const gC=new wt(Ee.comparator),yC=new Ft(Ee.comparator);function qe(...r){let e=yC;for(const t of r)e=e.add(t);return e}const vC=new Ft(He);function _C(){return vC}function cg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hf(e)?"-0":e}}function sT(r){return{integerValue:""+r}}function bC(r,e){return GR(e)?sT(e):cg(r,e)}class xd{constructor(){this._=void 0}}function EC(r,e,t){return r instanceof Yf?(function(o,c){const u={fields:{[Bw]:{stringValue:jw},[qw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&sg(c)&&(c=wd(c)),c&&(u.fields[Hw]=c),{mapValue:u}})(t,e):r instanceof _c?oT(r,e):r instanceof bc?lT(r,e):(function(o,c){const u=aT(o,c),p=b0(u)+b0(o.Ae);return xm(u)&&xm(o.Ae)?sT(p):cg(o.serializer,p)})(r,e)}function wC(r,e,t){return r instanceof _c?oT(r,e):r instanceof bc?lT(r,e):t}function aT(r,e){return r instanceof Kf?(function(s){return xm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Yf extends xd{}class _c extends xd{constructor(e){super(),this.elements=e}}function oT(r,e){const t=cT(e);for(const s of r.elements)t.some((o=>ni(o,s)))||t.push(s);return{arrayValue:{values:t}}}class bc extends xd{constructor(e){super(),this.elements=e}}function lT(r,e){let t=cT(e);for(const s of r.elements)t=t.filter((o=>!ni(o,s)));return{arrayValue:{values:t}}}class Kf extends xd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function b0(r){return Nt(r.integerValue||r.doubleValue)}function cT(r){return ag(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function TC(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof _c&&o instanceof _c||s instanceof bc&&o instanceof bc?Do(s.elements,o.elements,ni):s instanceof Kf&&o instanceof Kf?ni(s.Ae,o.Ae):s instanceof Yf&&o instanceof Yf})(r.transform,e.transform)}class SC{constructor(e,t){this.version=e,this.transformResults=t}}class Ii{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ii}static exists(e){return new Ii(void 0,e)}static updateTime(e){return new Ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Of(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Id{}function uT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new dT(r.key,Ii.none()):new Mc(r.key,r.data,Ii.none());{const t=r.data,s=sr.empty();let o=new Ft(on.comparator);for(let c of e.fields)if(!o.has(c)){let u=t.field(c);u===null&&c.length>1&&(c=c.popLast(),u=t.field(c)),u===null?s.delete(c):s.set(c,u),o=o.add(c)}return new Ia(r.key,s,new wr(o.toArray()),Ii.none())}}function AC(r,e,t){r instanceof Mc?(function(o,c,u){const p=o.value.clone(),m=w0(o.fieldTransforms,c,u.transformResults);p.setAll(m),c.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(r,e,t):r instanceof Ia?(function(o,c,u){if(!Of(o.precondition,c))return void c.convertToUnknownDocument(u.version);const p=w0(o.fieldTransforms,c,u.transformResults),m=c.data;m.setAll(fT(o)),m.setAll(p),c.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(r,e,t):(function(o,c,u){c.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function cc(r,e,t,s){return r instanceof Mc?(function(c,u,p,m){if(!Of(c.precondition,u))return p;const g=c.value.clone(),_=T0(c.fieldTransforms,m,u);return g.setAll(_),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(r,e,t,s):r instanceof Ia?(function(c,u,p,m){if(!Of(c.precondition,u))return p;const g=T0(c.fieldTransforms,m,u),_=u.data;return _.setAll(fT(c)),_.setAll(g),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((v=>v.field)))})(r,e,t,s):(function(c,u,p){return Of(c.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):p})(r,e,t)}function xC(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=aT(s.transform,o||null);c!=null&&(t===null&&(t=sr.empty()),t.set(s.field,c))}return t||null}function E0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Do(s,o,((c,u)=>TC(c,u)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Mc extends Id{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ia extends Id{constructor(e,t,s,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function fT(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}})),e}function w0(r,e,t){const s=new Map;rt(r.length===t.length,32656,{Ve:t.length,de:r.length});for(let o=0;o<t.length;o++){const c=r[o],u=c.transform,p=e.data.field(c.field);s.set(c.field,wC(u,p,t[o]))}return s}function T0(r,e,t){const s=new Map;for(const o of r){const c=o.transform,u=t.data.field(o.field);s.set(o.field,EC(c,u,e))}return s}class dT extends Id{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IC extends Id{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class RC{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&AC(c,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=cc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=cc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=iT();return this.mutations.forEach((o=>{const c=e.get(o.key),u=c.overlayedDocument;let p=this.applyToLocalView(u,c.mutatedFields);p=t.has(o.key)?null:p;const m=uT(u,p);m!==null&&s.set(o.key,m),u.isValidDocument()||u.convertToNoDocument(Re.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),qe())}isEqual(e){return this.batchId===e.batchId&&Do(this.mutations,e.mutations,((t,s)=>E0(t,s)))&&Do(this.baseMutations,e.baseMutations,((t,s)=>E0(t,s)))}}class ug{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){rt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return gC})();const c=e.mutations;for(let u=0;u<c.length;u++)o=o.insert(c[u].key,s[u].version);return new ug(e,t,s,o)}}class CC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class DC{constructor(e,t){this.count=e,this.unchangedNames=t}}var Bt,Ke;function NC(r){switch(r){case ee.OK:return xe(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return xe(15467,{code:r})}}function hT(r){if(r===void 0)return Ci("GRPC error has no .code"),ee.UNKNOWN;switch(r){case Bt.OK:return ee.OK;case Bt.CANCELLED:return ee.CANCELLED;case Bt.UNKNOWN:return ee.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return ee.INTERNAL;case Bt.UNAVAILABLE:return ee.UNAVAILABLE;case Bt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Bt.NOT_FOUND:return ee.NOT_FOUND;case Bt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Bt.ABORTED:return ee.ABORTED;case Bt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Bt.DATA_LOSS:return ee.DATA_LOSS;default:return xe(39323,{code:r})}}(Ke=Bt||(Bt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";function OC(){return new TextEncoder}const MC=new bs([4294967295,4294967295],0);function S0(r){const e=OC().encode(r),t=new Iw;return t.update(e),new Uint8Array(t.digest())}function A0(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new bs([t,s],0),new bs([o,c],0)]}class fg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new rc(`Invalid padding: ${t}`);if(s<0)throw new rc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new rc(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new rc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=bs.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(bs.fromNumber(s)));return o.compare(MC)===1&&(o=new bs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=S0(e),[s,o]=A0(t);for(let c=0;c<this.hashCount;c++){const u=this.ye(s,o,c);if(!this.we(u))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new fg(c,o,t);return s.forEach((p=>u.insert(p))),u}insert(e){if(this.ge===0)return;const t=S0(e),[s,o]=A0(t);for(let c=0;c<this.hashCount;c++){const u=this.ye(s,o,c);this.be(u)}}be(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class rc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rd{constructor(e,t,s,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Vc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Rd(Re.min(),o,new wt(He),Di(),qe())}}class Vc{constructor(e,t,s,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Vc(s,t,qe(),qe(),qe())}}class Mf{constructor(e,t,s,o){this.Se=e,this.removedTargetIds=t,this.key=s,this.De=o}}class pT{constructor(e,t){this.targetId=e,this.Ce=t}}class mT{constructor(e,t,s=cn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class x0{constructor(){this.ve=0,this.Fe=I0(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),t=qe(),s=qe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:xe(38017,{changeType:c})}})),new Vc(this.Me,this.xe,e,t,s)}Ke(){this.Oe=!1,this.Fe=I0()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,rt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class VC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Di(),this.He=Ef(),this.Je=Ef(),this.Ze=new wt(He)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const c=o.target;if(Rm(c))if(s===0){const u=new Ee(c.path);this.et(t,u,hn.newNoDocument(u,Re.min()))}else rt(s===1,20013,{expectedCount:s});else{const u=this._t(t);if(u!==s){const p=this.ut(e),m=p?this.ct(p,e,u):1;if(m!==0){this.it(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=t;let u,p;try{u=Cs(s).toUint8Array()}catch(m){if(m instanceof zw)return Co("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new fg(u,o,c)}catch(m){return Co(m instanceof rc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.ge===0?null:p}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((c=>{const u=this.Ge.ht(),p=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(t,c,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((c,u)=>{const p=this.ot(u);if(p){if(c.current&&Rm(p.target)){const m=new Ee(p.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,hn.newNoDocument(m,e))}c.Be&&(t.set(u,c.ke()),c.Ke())}}));let s=qe();this.Je.forEach(((c,u)=>{let p=!0;u.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,u)=>u.setReadTime(e)));const o=new Rd(e,t,this.Ze,this.je,s);return this.je=Di(),this.He=Ef(),this.Je=Ef(),this.Ze=new wt(He),o}Ye(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,s),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.qe(t,1):o.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new x0,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Ft(He),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Ft(He),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new x0),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ef(){return new wt(Ee.comparator)}function I0(){return new wt(Ee.comparator)}const PC={asc:"ASCENDING",desc:"DESCENDING"},kC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LC={and:"AND",or:"OR"};class UC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Dm(r,e){return r.useProto3Json||Ed(e)?e:{value:e}}function Qf(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function zC(r,e){return Qf(r,e.toTimestamp())}function Zr(r){return rt(!!r,49232),Re.fromTimestamp((function(t){const s=Rs(t);return new yt(s.seconds,s.nanos)})(r))}function dg(r,e){return Nm(r,e).canonicalString()}function Nm(r,e){const t=(function(o){return new pt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?t:t.child(e)}function yT(r){const e=pt.fromString(r);return rt(wT(e),10190,{key:e.toString()}),e}function Om(r,e){return dg(r.databaseId,e.path)}function Zp(r,e){const t=yT(e);if(t.get(1)!==r.databaseId.projectId)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Ee(_T(t))}function vT(r,e){return dg(r.databaseId,e)}function jC(r){const e=yT(r);return e.length===4?pt.emptyPath():_T(e)}function Mm(r){return new pt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function _T(r){return rt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function R0(r,e,t){return{name:Om(r,e),fields:t.value.mapValue.fields}}function BC(r,e){let t;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:xe(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(g,_){return g.useProto3Json?(rt(_===void 0||typeof _=="string",58123),cn.fromBase64String(_||"")):(rt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),cn.fromUint8Array(_||new Uint8Array))})(r,e.targetChange.resumeToken),u=e.targetChange.cause,p=u&&(function(g){const _=g.code===void 0?ee.UNKNOWN:hT(g.code);return new he(_,g.message||"")})(u);t=new mT(s,o,c,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Zp(r,s.document.name),c=Zr(s.document.updateTime),u=s.document.createTime?Zr(s.document.createTime):Re.min(),p=new sr({mapValue:{fields:s.document.fields}}),m=hn.newFoundDocument(o,c,u,p),g=s.targetIds||[],_=s.removedTargetIds||[];t=new Mf(g,_,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Zp(r,s.document),c=s.readTime?Zr(s.readTime):Re.min(),u=hn.newNoDocument(o,c),p=s.removedTargetIds||[];t=new Mf([],p,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Zp(r,s.document),c=s.removedTargetIds||[];t=new Mf([],c,o,null)}else{if(!("filter"in e))return xe(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,u=new DC(o,c),p=s.targetId;t=new pT(p,u)}}return t}function HC(r,e){let t;if(e instanceof Mc)t={update:R0(r,e.key,e.value)};else if(e instanceof dT)t={delete:Om(r,e.key)};else if(e instanceof Ia)t={update:R0(r,e.key,e.data),updateMask:WC(e.fieldMask)};else{if(!(e instanceof IC))return xe(16599,{dt:e.type});t={verify:Om(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(c,u){const p=u.transform;if(p instanceof Yf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof _c)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof bc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Kf)return{fieldPath:u.field.canonicalString(),increment:p.Ae};throw xe(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:zC(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:xe(27497)})(r,e.precondition)),t}function qC(r,e){return r&&r.length>0?(rt(e!==void 0,14353),r.map((t=>(function(o,c){let u=o.updateTime?Zr(o.updateTime):Zr(c);return u.isEqual(Re.min())&&(u=Zr(c)),new SC(u,o.transformResults||[])})(t,e)))):[]}function GC(r,e){return{documents:[vT(r,e.path)]}}function FC(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=vT(r,o);const c=(function(g){if(g.length!==0)return ET(Ir.create(g,"and"))})(e.filters);c&&(t.structuredQuery.where=c);const u=(function(g){if(g.length!==0)return g.map((_=>(function(E){return{field:_o(E.field),direction:KC(E.dir)}})(_)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const p=Dm(r,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:o}}function $C(r){let e=jC(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){rt(s===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let c=[];t.where&&(c=(function(v){const E=bT(v);return E instanceof Ir&&Qw(E)?E.getFilters():[E]})(t.where));let u=[];t.orderBy&&(u=(function(v){return v.map((E=>(function(V){return new vc(bo(V.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(E)))})(t.orderBy));let p=null;t.limit&&(p=(function(v){let E;return E=typeof v=="object"?v.value:v,Ed(E)?null:E})(t.limit));let m=null;t.startAt&&(m=(function(v){const E=!!v.before,A=v.values||[];return new Ff(A,E)})(t.startAt));let g=null;return t.endAt&&(g=(function(v){const E=!v.before,A=v.values||[];return new Ff(A,E)})(t.endAt)),cC(e,o,u,c,p,"F",m,g)}function YC(r,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function bT(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=bo(t.unaryFilter.field);return Ht.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=bo(t.unaryFilter.field);return Ht.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=bo(t.unaryFilter.field);return Ht.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=bo(t.unaryFilter.field);return Ht.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(r):r.fieldFilter!==void 0?(function(t){return Ht.create(bo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return Ir.create(t.compositeFilter.filters.map((s=>bT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(t.compositeFilter.op))})(r):xe(30097,{filter:r})}function KC(r){return PC[r]}function QC(r){return kC[r]}function XC(r){return LC[r]}function _o(r){return{fieldPath:r.canonicalString()}}function bo(r){return on.fromServerFormat(r.fieldPath)}function ET(r){return r instanceof Ht?(function(t){if(t.op==="=="){if(m0(t.value))return{unaryFilter:{field:_o(t.field),op:"IS_NAN"}};if(p0(t.value))return{unaryFilter:{field:_o(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(m0(t.value))return{unaryFilter:{field:_o(t.field),op:"IS_NOT_NAN"}};if(p0(t.value))return{unaryFilter:{field:_o(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_o(t.field),op:QC(t.op),value:t.value}}})(r):r instanceof Ir?(function(t){const s=t.getFilters().map((o=>ET(o)));return s.length===1?s[0]:{compositeFilter:{op:XC(t.op),filters:s}}})(r):xe(54877,{filter:r})}function WC(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function wT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function TT(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class gs{constructor(e,t,s,o,c=Re.min(),u=Re.min(),p=cn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class JC{constructor(e){this.yt=e}}function ZC(r){const e=$C({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?$f(e,e.limit,"L"):e}class e2{constructor(){this.Sn=new t2}addToCollectionParentIndex(e,t){return this.Sn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(Is.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(Is.min())}updateCollectionGroup(e,t,s){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class t2{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Ft(pt.comparator),c=!o.has(s);return this.index[t]=o.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ft(pt.comparator)).toArray()}}const C0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ST=41943040;class Cn{static withCacheSize(e){return new Cn(e,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(ST,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);class Mo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Mo(0)}static ar(){return new Mo(-1)}}const D0="LruGarbageCollector",n2=1048576;function N0([r,e],[t,s]){const o=He(r,t);return o===0?He(e,s):o}class r2{constructor(e){this.Pr=e,this.buffer=new Ft(N0),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();N0(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class i2{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){pe(D0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ho(t)?pe(D0,"Ignoring IndexedDB error during garbage collection: ",t):await Bo(t)}await this.Ar(3e5)}))}}class s2{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(bd.ce);const s=new r2(t);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(C0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),C0):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let s,o,c,u,p,m,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),o=this.params.maximumSequenceNumbersToCollect):o=v,u=Date.now(),this.nthSequenceNumber(e,o)))).next((v=>(s=v,p=Date.now(),this.removeTargets(e,s,t)))).next((v=>(c=v,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((v=>(g=Date.now(),yo()<=Be.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${o} in `+(p-u)+`ms
	Removed ${c} targets in `+(m-p)+`ms
	Removed ${v} documents in `+(g-m)+`ms
Total Duration: ${g-_}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:v}))))}}function a2(r,e){return new s2(r,e)}class o2{constructor(){this.changes=new xa((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ne.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class l2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class c2{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&cc(s.mutation,o,wr.empty(),yt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,qe()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=qe()){const o=ga();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((c=>{let u=nc();return c.forEach(((p,m)=>{u=u.insert(p,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const s=ga();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,qe())))}populateOverlays(e,t,s){const o=[];return s.forEach((c=>{t.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((u,p)=>{t.set(u,p)}))}))}computeViews(e,t,s,o){let c=Di();const u=lc(),p=(function(){return lc()})();return t.forEach(((m,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof Ia)?c=c.insert(g.key,g):_!==void 0?(u.set(g.key,_.mutation.getFieldMask()),cc(_.mutation,g,_.mutation.getFieldMask(),yt.now())):u.set(g.key,wr.empty())})),this.recalculateAndSaveOverlays(e,c).next((m=>(m.forEach(((g,_)=>u.set(g,_))),t.forEach(((g,_)=>p.set(g,new l2(_,u.get(g)??null)))),p)))}recalculateAndSaveOverlays(e,t){const s=lc();let o=new wt(((u,p)=>u-p)),c=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const p of u)p.keys().forEach((m=>{const g=t.get(m);if(g===null)return;let _=s.get(m)||wr.empty();_=p.applyToLocalView(g,_),s.set(m,_);const v=(o.get(p.batchId)||qe()).add(m);o=o.insert(p.batchId,v)}))})).next((()=>{const u=[],p=o.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),g=m.key,_=m.value,v=iT();_.forEach((E=>{if(!c.has(E)){const A=uT(t.get(E),s.get(E));A!==null&&v.set(E,A),c=c.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,v))}return ne.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return uC(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Zw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((c=>{const u=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-c.size):ne.resolve(ga());let p=pc,m=c;return u.next((g=>ne.forEach(g,((_,v)=>(p<v.largestBatchId&&(p=v.largestBatchId),c.get(_)?ne.resolve():this.remoteDocumentCache.getEntry(e,_).next((E=>{m=m.insert(_,E)}))))).next((()=>this.populateOverlays(e,g,c))).next((()=>this.computeViews(e,m,g,qe()))).next((_=>({batchId:p,changes:rT(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next((s=>{let o=nc();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const c=t.collectionGroup;let u=nc();return this.indexManager.getCollectionParents(e,c).next((p=>ne.forEach(p,(m=>{const g=(function(v,E){return new qo(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(t,m.child(c));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((_=>{_.forEach(((v,E)=>{u=u.insert(v,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,c,o)))).next((u=>{c.forEach(((m,g)=>{const _=g.getKey();u.get(_)===null&&(u=u.insert(_,hn.newInvalidDocument(_)))}));let p=nc();return u.forEach(((m,g)=>{const _=c.get(m);_!==void 0&&cc(_.mutation,g,wr.empty(),yt.now()),Ad(t,g)&&(p=p.insert(m,g))})),p}))}}class u2{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return ne.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Zr(o.createTime)}})(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(o){return{name:o.name,query:ZC(o.bundledQuery),readTime:Zr(o.readTime)}})(t)),ne.resolve()}}class f2{constructor(){this.overlays=new wt(Ee.comparator),this.Lr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ga();return ne.forEach(t,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,c)=>{this.bt(e,t,c)})),ne.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),ne.resolve()}getOverlaysForCollection(e,t,s){const o=ga(),c=t.length+1,u=new Ee(t.child("")),p=this.overlays.getIteratorFrom(u);for(;p.hasNext();){const m=p.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===c&&m.largestBatchId>s&&o.set(m.getKey(),m)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let c=new wt(((g,_)=>g-_));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let _=c.get(g.largestBatchId);_===null&&(_=ga(),c=c.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const p=ga(),m=c.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,_)=>p.set(g,_))),!(p.size()>=o)););return ne.resolve(p)}bt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const u=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new CC(t,s));let c=this.Lr.get(t);c===void 0&&(c=qe(),this.Lr.set(t,c)),this.Lr.set(t,c.add(s.key))}}class d2{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}class hg{constructor(){this.kr=new Ft(Xt.Kr),this.qr=new Ft(Xt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const s=new Xt(e,t);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Wr(new Xt(e,t))}Qr(e,t){e.forEach((s=>this.removeReference(s,t)))}Gr(e){const t=new Ee(new pt([])),s=new Xt(t,e),o=new Xt(t,e+1),c=[];return this.qr.forEachInRange([s,o],(u=>{this.Wr(u),c.push(u.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Ee(new pt([])),s=new Xt(t,e),o=new Xt(t,e+1);let c=qe();return this.qr.forEachInRange([s,o],(u=>{c=c.add(u.key)})),c}containsKey(e){const t=new Xt(e,0),s=this.kr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Xt{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Ee.comparator(e.key,t.key)||He(e.Hr,t.Hr)}static Ur(e,t){return He(e.Hr,t.Hr)||Ee.comparator(e.key,t.key)}}class h2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Ft(Xt.Kr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new RC(c,t,s,o);this.mutationQueue.push(u);for(const p of o)this.Jr=this.Jr.add(new Xt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ne.resolve(u)}lookupMutationBatch(e,t){return ne.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Xr(s),c=o<0?0:o;return ne.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?ig:this.Yn-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Xt(t,0),o=new Xt(t,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,o],(u=>{const p=this.Zr(u.Hr);c.push(p)})),ne.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ft(He);return t.forEach((o=>{const c=new Xt(o,0),u=new Xt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,u],(p=>{s=s.add(p.Hr)}))})),ne.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let c=s;Ee.isDocumentKey(c)||(c=c.child(""));const u=new Xt(new Ee(c),0);let p=new Ft(He);return this.Jr.forEachWhile((m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(p=p.add(m.Hr)),!0)}),u),ne.resolve(this.Yr(p))}Yr(e){const t=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){rt(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ne.forEach(t.mutations,(o=>{const c=new Xt(o.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,t){const s=new Xt(t,0),o=this.Jr.firstAfterOrEqual(s);return ne.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class p2{constructor(e){this.ti=e,this.docs=(function(){return new wt(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),c=o?o.size:0,u=this.ti(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ne.resolve(s?s.document.mutableCopy():hn.newInvalidDocument(t))}getEntries(e,t){let s=Di();return t.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():hn.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let c=Di();const u=t.path,p=new Ee(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:g,value:{document:_}}=m.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||jR(zR(_),s)<=0||(o.has(_.key)||Ad(t,_))&&(c=c.insert(_.key,_.mutableCopy()))}return ne.resolve(c)}getAllFromCollectionGroup(e,t,s,o){xe(9500)}ni(e,t){return ne.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new m2(this)}getSize(e){return ne.resolve(this.size)}}class m2 extends o2{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),ne.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class g2{constructor(e){this.persistence=e,this.ri=new xa((t=>og(t)),lg),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.ii=0,this.si=new hg,this.targetCount=0,this.oi=Mo._r()}forEachTarget(e,t){return this.ri.forEach(((s,o)=>t(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.ii&&(this.ii=t),ne.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Mo(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.lr(t),ne.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,s){let o=0;const c=[];return this.ri.forEach(((u,p)=>{p.sequenceNumber<=t&&s.get(p.targetId)===null&&(this.ri.delete(u),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),ne.waitFor(c).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const s=this.ri.get(t)||null;return ne.resolve(s)}addMatchingKeys(e,t,s){return this.si.$r(t,s),ne.resolve()}removeMatchingKeys(e,t,s){this.si.Qr(t,s);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach((u=>{c.push(o.markPotentiallyOrphaned(e,u))})),ne.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const s=this.si.jr(t);return ne.resolve(s)}containsKey(e,t){return ne.resolve(this.si.containsKey(t))}}class AT{constructor(e,t){this._i={},this.overlays={},this.ai=new bd(0),this.ui=!1,this.ui=!0,this.ci=new d2,this.referenceDelegate=e(this),this.li=new g2(this),this.indexManager=new e2,this.remoteDocumentCache=(function(o){return new p2(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new JC(t),this.Pi=new u2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new f2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this._i[e.toKey()];return s||(s=new h2(t,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,s){pe("MemoryPersistence","Starting transaction:",e);const o=new y2(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,t){return ne.or(Object.values(this._i).map((s=>()=>s.containsKey(e,t))))}}class y2 extends HR{constructor(e){super(),this.currentSequenceNumber=e}}class pg{constructor(e){this.persistence=e,this.Ri=new hg,this.Ai=null}static Vi(e){return new pg(e)}get di(){if(this.Ai)return this.Ai;throw xe(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.di.delete(s.toString()),ne.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.di.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.di,(s=>{const o=Ee.fromPath(s);return this.mi(e,o).next((c=>{c||t.removeEntry(o,Re.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((s=>{s?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return ne.or([()=>ne.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Xf{constructor(e,t){this.persistence=e,this.fi=new xa((s=>FR(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=a2(this,t)}static Vi(e,t){return new Xf(e,t)}Ti(){}Ii(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}pr(e){let t=0;return this.mr(e,(s=>{t++})).next((()=>t))}mr(e,t){return ne.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((c=>c?ne.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(u=>this.wr(e,u,t).next((p=>{p||(s++,c.removeEntry(u,Re.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),ne.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Df(e.data.value)),t}wr(e,t,s){return ne.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.fi.get(t);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class mg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Ts=s,this.Is=o}static Es(e,t){let s=qe(),o=qe();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new mg(e,t.fromCache,s,o)}}class v2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class _2{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return lI()?8:qR(pn())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const c={result:null};return this.gs(e,t).next((u=>{c.result=u})).next((()=>{if(!c.result)return this.ps(e,t,o,s).next((u=>{c.result=u}))})).next((()=>{if(c.result)return;const u=new v2;return this.ys(e,t,u).next((p=>{if(c.result=p,this.As)return this.ws(e,t,u,p.size)}))})).next((()=>c.result))}ws(e,t,s,o){return s.documentReadCount<this.Vs?(yo()<=Be.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",vo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ne.resolve()):(yo()<=Be.DEBUG&&pe("QueryEngine","Query:",vo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(yo()<=Be.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",vo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jr(t))):ne.resolve())}gs(e,t){if(_0(t))return ne.resolve(null);let s=Jr(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=$f(t,null,"F"),s=Jr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const u=qe(...c);return this.fs.getDocuments(e,u).next((p=>this.indexManager.getMinOffset(e,s).next((m=>{const g=this.bs(t,p);return this.Ss(t,g,u,m.readTime)?this.gs(e,$f(t,null,"F")):this.Ds(e,g,t,m)}))))})))))}ps(e,t,s,o){return _0(t)||o.isEqual(Re.min())?ne.resolve(null):this.fs.getDocuments(e,s).next((c=>{const u=this.bs(t,c);return this.Ss(t,u,s,o)?ne.resolve(null):(yo()<=Be.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),vo(t)),this.Ds(e,u,t,UR(o,pc)).next((p=>p)))}))}bs(e,t){let s=new Ft(tT(e));return t.forEach(((o,c)=>{Ad(e,c)&&(s=s.add(c))})),s}Ss(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,t,s){return yo()<=Be.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",vo(t)),this.fs.getDocumentsMatchingQuery(e,t,Is.min(),s)}Ds(e,t,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((c=>(t.forEach((u=>{c=c.insert(u.key,u)})),c)))}}const gg="LocalStore",b2=3e8;class E2{constructor(e,t,s,o){this.persistence=e,this.Cs=t,this.serializer=o,this.vs=new wt(He),this.Fs=new xa((c=>og(c)),lg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new c2(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function w2(r,e,t,s){return new E2(r,e,t,s)}async function xT(r,e){const t=De(r);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,t.Os(e),t.mutationQueue.getAllMutationBatches(s)))).next((c=>{const u=[],p=[];let m=qe();for(const g of o){u.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}for(const g of c){p.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}return t.localDocuments.getDocuments(s,m).next((g=>({Ns:g,removedBatchIds:u,addedBatchIds:p})))}))}))}function T2(r,e){const t=De(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=t.xs.newChangeBuffer({trackRemovals:!0});return(function(p,m,g,_){const v=g.batch,E=v.keys();let A=ne.resolve();return E.forEach((V=>{A=A.next((()=>_.getEntry(m,V))).next((z=>{const L=g.docVersions.get(V);rt(L!==null,48541),z.version.compareTo(L)<0&&(v.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),_.addEntry(z)))}))})),A.next((()=>p.mutationQueue.removeMutationBatch(m,v)))})(t,s,e,c).next((()=>c.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let m=qe();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(m=m.add(p.batch.mutations[g].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function IT(r){const e=De(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function S2(r,e){const t=De(r),s=e.snapshotVersion;let o=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const u=t.xs.newChangeBuffer({trackRemovals:!0});o=t.vs;const p=[];e.targetChanges.forEach(((_,v)=>{const E=o.get(v);if(!E)return;p.push(t.li.removeMatchingKeys(c,_.removedDocuments,v).next((()=>t.li.addMatchingKeys(c,_.addedDocuments,v))));let A=E.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(v)!==null?A=A.withResumeToken(cn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):_.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(_.resumeToken,s)),o=o.insert(v,A),(function(z,L,Y){return z.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=b2?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(E,A,_)&&p.push(t.li.updateTargetData(c,A))}));let m=Di(),g=qe();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(c,_))})),p.push(A2(c,u,e.documentUpdates).next((_=>{m=_.Bs,g=_.Ls}))),!s.isEqual(Re.min())){const _=t.li.getLastRemoteSnapshotVersion(c).next((v=>t.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(_)}return ne.waitFor(p).next((()=>u.apply(c))).next((()=>t.localDocuments.getLocalViewOfDocuments(c,m,g))).next((()=>m))})).then((c=>(t.vs=o,c)))}function A2(r,e,t){let s=qe(),o=qe();return t.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let u=Di();return t.forEach(((p,m)=>{const g=c.get(p);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(p)),m.isNoDocument()&&m.version.isEqual(Re.min())?(e.removeEntry(p,m.readTime),u=u.insert(p,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),u=u.insert(p,m)):pe(gg,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",m.version)})),{Bs:u,Ls:o}}))}function x2(r,e){const t=De(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=ig),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function I2(r,e){const t=De(r);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.li.getTargetData(s,e).next((c=>c?(o=c,ne.resolve(o)):t.li.allocateTargetId(s).next((u=>(o=new gs(e,u,"TargetPurposeListen",s.currentSequenceNumber),t.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.vs=t.vs.insert(s.targetId,s),t.Fs.set(e,s.targetId)),s}))}async function Vm(r,e,t){const s=De(r),o=s.vs.get(e),c=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",c,(u=>s.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!Ho(u))throw u;pe(gg,`Failed to update sequence numbers for target ${e}: ${u}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function O0(r,e,t){const s=De(r);let o=Re.min(),c=qe();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,g,_){const v=De(m),E=v.Fs.get(_);return E!==void 0?ne.resolve(v.vs.get(E)):v.li.getTargetData(g,_)})(s,u,Jr(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(u,p.targetId).next((m=>{c=m}))})).next((()=>s.Cs.getDocumentsMatchingQuery(u,e,t?o:Re.min(),t?c:qe()))).next((p=>(R2(s,hC(e),p),{documents:p,ks:c})))))}function R2(r,e,t){let s=r.Ms.get(e)||Re.min();t.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Ms.set(e,s)}class M0{constructor(){this.activeTargetIds=_C()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class C2{constructor(){this.vo=new M0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,s){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new M0,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class D2{Mo(e){}shutdown(){}}const V0="ConnectivityMonitor";class P0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){pe(V0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){pe(V0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let wf=null;function Pm(){return wf===null?wf=(function(){return 268435456+Math.round(2147483648*Math.random())})():wf++,"0x"+wf.toString(16)}const em="RestConnection",N2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class O2{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===qf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,t,s,o,c){const u=Pm(),p=this.Qo(e,t.toUriEncodedString());pe(em,`Sending RPC '${e}' ${u}:`,p,s);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,o,c);const{host:g}=new URL(p),_=Uo(g);return this.zo(e,p,m,s,_).then((v=>(pe(em,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw Co(em,`RPC '${e}' ${u} failed with error: `,v,"url: ",p,"request:",s),v}))}jo(e,t,s,o,c,u){return this.Wo(e,t,s,o,c)}Go(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+jo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}Qo(e,t){const s=N2[e];let o=`${this.qo}/v1/${t}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class M2{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const fn="WebChannelConnection",Xl=(r,e,t)=>{r.listen(e,(s=>{try{t(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class wo extends O2{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!wo.c_){const e=Nw();Xl(e,Dw.STAT_EVENT,(t=>{t.stat===Tm.PROXY?pe(fn,"STAT_EVENT: detected buffering proxy"):t.stat===Tm.NOPROXY&&pe(fn,"STAT_EVENT: detected no buffering proxy")})),wo.c_=!0}}zo(e,t,s,o,c){const u=Pm();return new Promise(((p,m)=>{const g=new Rw;g.setWithCredentials(!0),g.listenOnce(Cw.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Cf.NO_ERROR:const v=g.getResponseJson();pe(fn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),p(v);break;case Cf.TIMEOUT:pe(fn,`RPC '${e}' ${u} timed out`),m(new he(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Cf.HTTP_ERROR:const E=g.getStatus();if(pe(fn,`RPC '${e}' ${u} failed with status:`,E,"response text:",g.getResponseText()),E>0){let A=g.getResponseJson();Array.isArray(A)&&(A=A[0]);const V=A?.error;if(V&&V.status&&V.message){const z=(function(Y){const X=Y.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(X)>=0?X:ee.UNKNOWN})(V.status);m(new he(z,V.message))}else m(new he(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new he(ee.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{pe(fn,`RPC '${e}' ${u} completed.`)}}));const _=JSON.stringify(o);pe(fn,`RPC '${e}' ${u} sending request:`,o),g.send(t,"POST",_,s,15)}))}T_(e,t,s){const o=Pm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const g=c.join("");pe(fn,`Creating RPC '${e}' stream ${o}: ${g}`,p);const _=u.createWebChannel(g,p);this.I_(_);let v=!1,E=!1;const A=new M2({Ho:V=>{E?pe(fn,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(v||(pe(fn,`Opening RPC '${e}' stream ${o} transport.`),_.open(),v=!0),pe(fn,`RPC '${e}' stream ${o} sending:`,V),_.send(V))},Jo:()=>_.close()});return Xl(_,tc.EventType.OPEN,(()=>{E||(pe(fn,`RPC '${e}' stream ${o} transport opened.`),A.i_())})),Xl(_,tc.EventType.CLOSE,(()=>{E||(E=!0,pe(fn,`RPC '${e}' stream ${o} transport closed`),A.o_(),this.E_(_))})),Xl(_,tc.EventType.ERROR,(V=>{E||(E=!0,Co(fn,`RPC '${e}' stream ${o} transport errored. Name:`,V.name,"Message:",V.message),A.o_(new he(ee.UNAVAILABLE,"The operation could not be completed")))})),Xl(_,tc.EventType.MESSAGE,(V=>{if(!E){const z=V.data[0];rt(!!z,16349);const L=z,Y=L?.error||L[0]?.error;if(Y){pe(fn,`RPC '${e}' stream ${o} received error:`,Y);const X=Y.status;let te=(function(ae){const I=Bt[ae];if(I!==void 0)return hT(I)})(X),ie=Y.message;te===void 0&&(te=ee.INTERNAL,ie="Unknown error status: "+X+" with message "+Y.message),E=!0,A.o_(new he(te,ie)),_.close()}else pe(fn,`RPC '${e}' stream ${o} received:`,z),A.__(z)}})),wo.u_(),setTimeout((()=>{A.s_()}),0),A}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,s){super.Go(e,t,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Ow()}}function V2(r){return new wo(r)}function tm(){return typeof document<"u"?document:null}function Cd(r){return new UC(r,!0)}wo.c_=!1;class RT{constructor(e,t,s=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=t,this.R_=s,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const k0="PersistentStream";class CT{constructor(e,t,s,o,c,u,p,m){this.Ci=e,this.b_=s,this.S_=o,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new RT(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(Ci(t.toString()),Ci("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new he(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(k0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(pe(k0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class P2 extends CT{constructor(e,t,s,o,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,u),this.serializer=c}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=BC(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Re.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?Re.min():u.readTime?Zr(u.readTime):Re.min()})(e);return this.listener.J_(t,s)}Z_(e){const t={};t.database=Mm(this.serializer),t.addTarget=(function(c,u){let p;const m=u.target;if(p=Rm(m)?{documents:GC(c,m)}:{query:FC(c,m).ft},p.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){p.resumeToken=gT(c,u.resumeToken);const g=Dm(c,u.expectedCount);g!==null&&(p.expectedCount=g)}else if(u.snapshotVersion.compareTo(Re.min())>0){p.readTime=Qf(c,u.snapshotVersion.toTimestamp());const g=Dm(c,u.expectedCount);g!==null&&(p.expectedCount=g)}return p})(this.serializer,e);const s=YC(this.serializer,e);s&&(t.labels=s),this.K_(t)}X_(e){const t={};t.database=Mm(this.serializer),t.removeTarget=e,this.K_(t)}}class k2 extends CT{constructor(e,t,s,o,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,u),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=qC(e.writeResults,e.commitTime),s=Zr(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Mm(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>HC(this.serializer,s)))};this.K_(t)}}class L2{}class U2 extends L2{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Wo(e,Nm(t,s),o,c,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(ee.UNKNOWN,c.toString())}))}jo(e,t,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,p])=>this.connection.jo(e,Nm(t,s),o,u,p,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ee.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function z2(r,e,t,s){return new U2(r,e,t,s)}class j2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ci(t),this.aa=!1):pe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const wa="RemoteStore";class B2{constructor(e,t,s,o,c){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((u=>{s.enqueueAndForget((async()=>{Ra(this)&&(pe(wa,"Restarting streams for network reachability change."),await(async function(m){const g=De(m);g.Ea.add(4),await Pc(g),g.Va.set("Unknown"),g.Ea.delete(4),await Dd(g)})(this))}))})),this.Va=new j2(s,o)}}async function Dd(r){if(Ra(r))for(const e of r.Ra)await e(!0)}async function Pc(r){for(const e of r.Ra)await e(!1)}function DT(r,e){const t=De(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),bg(t)?_g(t):Go(t).O_()&&vg(t,e))}function yg(r,e){const t=De(r),s=Go(t);t.Ia.delete(e),s.O_()&&NT(t,e),t.Ia.size===0&&(s.O_()?s.L_():Ra(t)&&t.Va.set("Unknown"))}function vg(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Go(r).Z_(e)}function NT(r,e){r.da.$e(e),Go(r).X_(e)}function _g(r){r.da=new VC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Go(r).start(),r.Va.ua()}function bg(r){return Ra(r)&&!Go(r).x_()&&r.Ia.size>0}function Ra(r){return De(r).Ea.size===0}function OT(r){r.da=void 0}async function H2(r){r.Va.set("Online")}async function q2(r){r.Ia.forEach(((e,t)=>{vg(r,e)}))}async function G2(r,e){OT(r),bg(r)?(r.Va.ha(e),_g(r)):r.Va.set("Unknown")}async function F2(r,e,t){if(r.Va.set("Online"),e instanceof mT&&e.state===2&&e.cause)try{await(async function(o,c){const u=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,u),o.Ia.delete(p),o.da.removeTarget(p))})(r,e)}catch(s){pe(wa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Wf(r,s)}else if(e instanceof Mf?r.da.Xe(e):e instanceof pT?r.da.st(e):r.da.tt(e),!t.isEqual(Re.min()))try{const s=await IT(r.localStore);t.compareTo(s)>=0&&await(function(c,u){const p=c.da.Tt(u);return p.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const _=c.Ia.get(g);_&&c.Ia.set(g,_.withResumeToken(m.resumeToken,u))}})),p.targetMismatches.forEach(((m,g)=>{const _=c.Ia.get(m);if(!_)return;c.Ia.set(m,_.withResumeToken(cn.EMPTY_BYTE_STRING,_.snapshotVersion)),NT(c,m);const v=new gs(_.target,m,g,_.sequenceNumber);vg(c,v)})),c.remoteSyncer.applyRemoteEvent(p)})(r,t)}catch(s){pe(wa,"Failed to raise snapshot:",s),await Wf(r,s)}}async function Wf(r,e,t){if(!Ho(e))throw e;r.Ea.add(1),await Pc(r),r.Va.set("Offline"),t||(t=()=>IT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{pe(wa,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await Dd(r)}))}function MT(r,e){return e().catch((t=>Wf(r,t,e)))}async function Nd(r){const e=De(r),t=Ns(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ig;for(;$2(e);)try{const o=await x2(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,Y2(e,o)}catch(o){await Wf(e,o)}VT(e)&&PT(e)}function $2(r){return Ra(r)&&r.Ta.length<10}function Y2(r,e){r.Ta.push(e);const t=Ns(r);t.O_()&&t.Y_&&t.ea(e.mutations)}function VT(r){return Ra(r)&&!Ns(r).x_()&&r.Ta.length>0}function PT(r){Ns(r).start()}async function K2(r){Ns(r).ra()}async function Q2(r){const e=Ns(r);for(const t of r.Ta)e.ea(t.mutations)}async function X2(r,e,t){const s=r.Ta.shift(),o=ug.from(s,e,t);await MT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Nd(r)}async function W2(r,e){e&&Ns(r).Y_&&await(async function(s,o){if((function(u){return NC(u)&&u!==ee.ABORTED})(o.code)){const c=s.Ta.shift();Ns(s).B_(),await MT(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Nd(s)}})(r,e),VT(r)&&PT(r)}async function L0(r,e){const t=De(r);t.asyncQueue.verifyOperationInProgress(),pe(wa,"RemoteStore received new credentials");const s=Ra(t);t.Ea.add(3),await Pc(t),s&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Dd(t)}async function J2(r,e){const t=De(r);e?(t.Ea.delete(2),await Dd(t)):e||(t.Ea.add(2),await Pc(t),t.Va.set("Unknown"))}function Go(r){return r.ma||(r.ma=(function(t,s,o){const c=De(t);return c.sa(),new P2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:H2.bind(null,r),Yo:q2.bind(null,r),t_:G2.bind(null,r),J_:F2.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),bg(r)?_g(r):r.Va.set("Unknown")):(await r.ma.stop(),OT(r))}))),r.ma}function Ns(r){return r.fa||(r.fa=(function(t,s,o){const c=De(t);return c.sa(),new k2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:K2.bind(null,r),t_:W2.bind(null,r),ta:Q2.bind(null,r),na:X2.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await Nd(r)):(await r.fa.stop(),r.Ta.length>0&&(pe(wa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Eg{constructor(e,t,s,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,c){const u=Date.now()+s,p=new Eg(e,t,u,o,c);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wg(r,e){if(Ci("AsyncQueue",`${e}: ${r}`),Ho(r))return new he(ee.UNAVAILABLE,`${e}: ${r}`);throw r}class To{static emptySet(e){return new To(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Ee.comparator(t.key,s.key):(t,s)=>Ee.comparator(t.key,s.key),this.keyedMap=nc(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof To)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new To;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class U0{constructor(){this.ga=new wt(Ee.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):xe(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Vo{constructor(e,t,s,o,c,u,p,m,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,c){const u=[];return t.forEach((p=>{u.push({type:0,doc:p})})),new Vo(e,t,To.emptySet(t),u,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}class Z2{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class eD{constructor(){this.queries=z0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=De(t),c=o.queries;o.queries=z0(),c.forEach(((u,p)=>{for(const m of p.ba)m.onError(s)}))})(this,new he(ee.ABORTED,"Firestore shutting down"))}}function z0(){return new xa((r=>eT(r)),Sd)}async function kT(r,e){const t=De(r);let s=3;const o=e.query;let c=t.queries.get(o);c?!c.Sa()&&e.Da()&&(s=2):(c=new Z2,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await t.onListen(o,!0);break;case 1:c.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const p=wg(u,`Initialization of query '${vo(e.query)}' failed`);return void e.onError(p)}t.queries.set(o,c),c.ba.push(e),e.va(t.onlineState),c.wa&&e.Fa(c.wa)&&Tg(t)}async function LT(r,e){const t=De(r),s=e.query;let o=3;const c=t.queries.get(s);if(c){const u=c.ba.indexOf(e);u>=0&&(c.ba.splice(u,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function tD(r,e){const t=De(r);let s=!1;for(const o of e){const c=o.query,u=t.queries.get(c);if(u){for(const p of u.ba)p.Fa(o)&&(s=!0);u.wa=o}}s&&Tg(t)}function nD(r,e,t){const s=De(r),o=s.queries.get(e);if(o)for(const c of o.ba)c.onError(t);s.queries.delete(e)}function Tg(r){r.Ca.forEach((e=>{e.next()}))}var km,j0;(j0=km||(km={})).Ma="default",j0.Cache="cache";class UT{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Vo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==km.Cache}}class zT{constructor(e){this.key=e}}class jT{constructor(e){this.key=e}}class rD{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=qe(),this.mutatedKeys=qe(),this.eu=tT(e),this.tu=new To(this.eu)}get nu(){return this.Za}ru(e,t){const s=t?t.iu:new U0,o=t?t.tu:this.tu;let c=t?t.mutatedKeys:this.mutatedKeys,u=o,p=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,v)=>{const E=o.get(_),A=Ad(this.query,v)?v:null,V=!!E&&this.mutatedKeys.has(E.key),z=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let L=!1;E&&A?E.data.isEqual(A.data)?V!==z&&(s.track({type:3,doc:A}),L=!0):this.su(E,A)||(s.track({type:2,doc:A}),L=!0,(m&&this.eu(A,m)>0||g&&this.eu(A,g)<0)&&(p=!0)):!E&&A?(s.track({type:0,doc:A}),L=!0):E&&!A&&(s.track({type:1,doc:E}),L=!0,(m||g)&&(p=!0)),L&&(A?(u=u.add(A),c=z?c.add(_):c.delete(_)):(u=u.delete(_),c=c.delete(_)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),c=c.delete(_.key),s.track({type:1,doc:_})}return{tu:u,iu:s,Ss:p,mutatedKeys:c}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((_,v)=>(function(A,V){const z=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Vt:L})}};return z(A)-z(V)})(_.type,v.type)||this.eu(_.doc,v.doc))),this.ou(s),o=o??!1;const p=t&&!o?this._u():[],m=this.Ya.size===0&&this.current&&!o?1:0,g=m!==this.Xa;return this.Xa=m,u.length!==0||g?{snapshot:new Vo(this.query,e.tu,c,u,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new U0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=qe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const t=[];return e.forEach((s=>{this.Ya.has(s)||t.push(new jT(s))})),this.Ya.forEach((s=>{e.has(s)||t.push(new zT(s))})),t}cu(e){this.Za=e.ks,this.Ya=qe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Vo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Sg="SyncEngine";class iD{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class sD{constructor(e){this.key=e,this.hu=!1}}class aD{constructor(e,t,s,o,c,u){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new xa((p=>eT(p)),Sd),this.Iu=new Map,this.Eu=new Set,this.Ru=new wt(Ee.comparator),this.Au=new Map,this.Vu=new hg,this.du={},this.mu=new Map,this.fu=Mo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function oD(r,e,t=!0){const s=$T(r);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await BT(s,e,t,!0),o}async function lD(r,e){const t=$T(r);await BT(t,e,!0,!1)}async function BT(r,e,t,s){const o=await I2(r.localStore,Jr(e)),c=o.targetId,u=r.sharedClientState.addLocalQueryTarget(c,t);let p;return s&&(p=await cD(r,e,c,u==="current",o.resumeToken)),r.isPrimaryClient&&t&&DT(r.remoteStore,o),p}async function cD(r,e,t,s,o){r.pu=(v,E,A)=>(async function(z,L,Y,X){let te=L.view.ru(Y);te.Ss&&(te=await O0(z.localStore,L.query,!1).then((({documents:I})=>L.view.ru(I,te))));const ie=X&&X.targetChanges.get(L.targetId),fe=X&&X.targetMismatches.get(L.targetId)!=null,ae=L.view.applyChanges(te,z.isPrimaryClient,ie,fe);return H0(z,L.targetId,ae.au),ae.snapshot})(r,v,E,A);const c=await O0(r.localStore,e,!0),u=new rD(e,c.ks),p=u.ru(c.documents),m=Vc.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),g=u.applyChanges(p,r.isPrimaryClient,m);H0(r,t,g.au);const _=new iD(e,t,u);return r.Tu.set(e,_),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),g.snapshot}async function uD(r,e,t){const s=De(r),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((u=>!Sd(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Vm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&yg(s.remoteStore,o.targetId),Lm(s,o.targetId)})).catch(Bo)):(Lm(s,o.targetId),await Vm(s.localStore,o.targetId,!0))}async function fD(r,e){const t=De(r),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),yg(t.remoteStore,s.targetId))}async function dD(r,e,t){const s=_D(r);try{const o=await(function(u,p){const m=De(u),g=yt.now(),_=p.reduce(((A,V)=>A.add(V.key)),qe());let v,E;return m.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let V=Di(),z=qe();return m.xs.getEntries(A,_).next((L=>{V=L,V.forEach(((Y,X)=>{X.isValidDocument()||(z=z.add(Y))}))})).next((()=>m.localDocuments.getOverlayedDocuments(A,V))).next((L=>{v=L;const Y=[];for(const X of p){const te=xC(X,v.get(X.key).overlayedDocument);te!=null&&Y.push(new Ia(X.key,te,$w(te.value.mapValue),Ii.exists(!0)))}return m.mutationQueue.addMutationBatch(A,g,Y,p)})).next((L=>{E=L;const Y=L.applyToLocalDocumentSet(v,z);return m.documentOverlayCache.saveOverlays(A,L.batchId,Y)}))})).then((()=>({batchId:E.batchId,changes:rT(v)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(u,p,m){let g=u.du[u.currentUser.toKey()];g||(g=new wt(He)),g=g.insert(p,m),u.du[u.currentUser.toKey()]=g})(s,o.batchId,t),await kc(s,o.changes),await Nd(s.remoteStore)}catch(o){const c=wg(o,"Failed to persist write");t.reject(c)}}async function HT(r,e){const t=De(r);try{const s=await S2(t.localStore,e);e.targetChanges.forEach(((o,c)=>{const u=t.Au.get(c);u&&(rt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?rt(u.hu,14607):o.removedDocuments.size>0&&(rt(u.hu,42227),u.hu=!1))})),await kc(t,s,e)}catch(s){await Bo(s)}}function B0(r,e,t){const s=De(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((c,u)=>{const p=u.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(u,p){const m=De(u);m.onlineState=p;let g=!1;m.queries.forEach(((_,v)=>{for(const E of v.ba)E.va(p)&&(g=!0)})),g&&Tg(m)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function hD(r,e,t){const s=De(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),c=o&&o.key;if(c){let u=new wt(Ee.comparator);u=u.insert(c,hn.newNoDocument(c,Re.min()));const p=qe().add(c),m=new Rd(Re.min(),new Map,new wt(He),u,p);await HT(s,m),s.Ru=s.Ru.remove(c),s.Au.delete(e),Ag(s)}else await Vm(s.localStore,e,!1).then((()=>Lm(s,e,t))).catch(Bo)}async function pD(r,e){const t=De(r),s=e.batch.batchId;try{const o=await T2(t.localStore,e);GT(t,s,null),qT(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await kc(t,o)}catch(o){await Bo(o)}}async function mD(r,e,t){const s=De(r);try{const o=await(function(u,p){const m=De(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return m.mutationQueue.lookupMutationBatch(g,p).next((v=>(rt(v!==null,37113),_=v.keys(),m.mutationQueue.removeMutationBatch(g,v)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,_,p))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>m.localDocuments.getDocuments(g,_)))}))})(s.localStore,e);GT(s,e,t),qT(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await kc(s,o)}catch(o){await Bo(o)}}function qT(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function GT(r,e,t){const s=De(r);let o=s.du[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function Lm(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),t&&r.Pu.yu(s,t);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||FT(r,s)}))}function FT(r,e){r.Eu.delete(e.path.canonicalString());const t=r.Ru.get(e);t!==null&&(yg(r.remoteStore,t),r.Ru=r.Ru.remove(e),r.Au.delete(t),Ag(r))}function H0(r,e,t){for(const s of t)s instanceof zT?(r.Vu.addReference(s.key,e),gD(r,s)):s instanceof jT?(pe(Sg,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||FT(r,s.key)):xe(19791,{wu:s})}function gD(r,e){const t=e.key,s=t.path.canonicalString();r.Ru.get(t)||r.Eu.has(s)||(pe(Sg,"New document in limbo: "+t),r.Eu.add(s),Ag(r))}function Ag(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new Ee(pt.fromString(e)),s=r.fu.next();r.Au.set(s,new sD(t)),r.Ru=r.Ru.insert(t,s),DT(r.remoteStore,new gs(Jr(Td(t.path)),s,"TargetPurposeLimboResolution",bd.ce))}}async function kc(r,e,t){const s=De(r),o=[],c=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,m)=>{u.push(s.pu(m,e,t).then((g=>{if((g||t)&&s.isPrimaryClient){const _=g?!g.fromCache:t?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(g){o.push(g);const _=mg.Es(m.targetId,g);c.push(_)}})))})),await Promise.all(u),s.Pu.J_(o),await(async function(m,g){const _=De(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>ne.forEach(g,(E=>ne.forEach(E.Ts,(A=>_.persistence.referenceDelegate.addReference(v,E.targetId,A))).next((()=>ne.forEach(E.Is,(A=>_.persistence.referenceDelegate.removeReference(v,E.targetId,A)))))))))}catch(v){if(!Ho(v))throw v;pe(gg,"Failed to update sequence numbers: "+v)}for(const v of g){const E=v.targetId;if(!v.fromCache){const A=_.vs.get(E),V=A.snapshotVersion,z=A.withLastLimboFreeSnapshotVersion(V);_.vs=_.vs.insert(E,z)}}})(s.localStore,c))}async function yD(r,e){const t=De(r);if(!t.currentUser.isEqual(e)){pe(Sg,"User change. New user:",e.toKey());const s=await xT(t.localStore,e);t.currentUser=e,(function(c,u){c.mu.forEach((p=>{p.forEach((m=>{m.reject(new he(ee.CANCELLED,u))}))})),c.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await kc(t,s.Ns)}}function vD(r,e){const t=De(r),s=t.Au.get(e);if(s&&s.hu)return qe().add(s.key);{let o=qe();const c=t.Iu.get(e);if(!c)return o;for(const u of c){const p=t.Tu.get(u);o=o.unionWith(p.view.nu)}return o}}function $T(r){const e=De(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=HT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hD.bind(null,e),e.Pu.J_=tD.bind(null,e.eventManager),e.Pu.yu=nD.bind(null,e.eventManager),e}function _D(r){const e=De(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mD.bind(null,e),e}class Jf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Cd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return w2(this.persistence,new _2,e.initialUser,this.serializer)}Cu(e){return new AT(pg.Vi,this.serializer)}Du(e){return new C2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jf.provider={build:()=>new Jf};class bD extends Jf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){rt(this.persistence.referenceDelegate instanceof Xf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new i2(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new AT((s=>Xf.Vi(s,t)),this.serializer)}}class Um{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>B0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=yD.bind(null,this.syncEngine),await J2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new eD})()}createDatastore(e){const t=Cd(e.databaseInfo.databaseId),s=V2(e.databaseInfo);return z2(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,c,u,p){return new B2(s,o,c,u,p)})(this.localStore,this.datastore,e.asyncQueue,(t=>B0(this.syncEngine,t,0)),(function(){return P0.v()?new P0:new D2})())}createSyncEngine(e,t){return(function(o,c,u,p,m,g,_){const v=new aD(o,c,u,p,m,g);return _&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=De(t);pe(wa,"RemoteStore shutting down."),s.Ea.add(5),await Pc(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Um.provider={build:()=>new Um};class YT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ci("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Os="FirestoreClient";class ED{constructor(e,t,s,o,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this._databaseInfo=o,this.user=dn.UNAUTHENTICATED,this.clientId=rg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async u=>{pe(Os,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(pe(Os,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=wg(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function nm(r,e){r.asyncQueue.verifyOperationInProgress(),pe(Os,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await xT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function q0(r,e){r.asyncQueue.verifyOperationInProgress();const t=await wD(r);pe(Os,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((s=>L0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>L0(e.remoteStore,o))),r._onlineComponents=e}async function wD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){pe(Os,"Using user provided OfflineComponentProvider");try{await nm(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Co("Error using user provided cache. Falling back to memory cache: "+t),await nm(r,new Jf)}}else pe(Os,"Using default OfflineComponentProvider"),await nm(r,new bD(void 0));return r._offlineComponents}async function KT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(pe(Os,"Using user provided OnlineComponentProvider"),await q0(r,r._uninitializedComponentsProvider._online)):(pe(Os,"Using default OnlineComponentProvider"),await q0(r,new Um))),r._onlineComponents}function TD(r){return KT(r).then((e=>e.syncEngine))}async function zm(r){const e=await KT(r),t=e.eventManager;return t.onListen=oD.bind(null,e.syncEngine),t.onUnlisten=uD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=lD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=fD.bind(null,e.syncEngine),t}function SD(r,e,t,s){const o=new YT(s),c=new UT(e,o,t);return r.asyncQueue.enqueueAndForget((async()=>kT(await zm(r),c))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>LT(await zm(r),c)))}}function AD(r,e,t={}){const s=new Es;return r.asyncQueue.enqueueAndForget((async()=>(function(c,u,p,m,g){const _=new YT({next:E=>{_.Nu(),u.enqueueAndForget((()=>LT(c,v)));const A=E.docs.has(p);!A&&E.fromCache?g.reject(new he(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&E.fromCache&&m&&m.source==="server"?g.reject(new he(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:E=>g.reject(E)}),v=new UT(Td(p.path),_,{includeMetadataChanges:!0,Ka:!0});return kT(c,v)})(await zm(r),r.asyncQueue,e,t,s))),s.promise}function xD(r,e){const t=new Es;return r.asyncQueue.enqueueAndForget((async()=>dD(await TD(r),e,t))),t.promise}function QT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const ID="ComponentProvider",G0=new Map;function RD(r,e,t,s,o){return new KR(r,e,t,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,QT(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const XT="firestore.googleapis.com",F0=!0;class $0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XT,this.ssl=F0}else this.host=e.host,this.ssl=e.ssl??F0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ST;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<n2)throw new he(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Od{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new IR;switch(s.type){case"firstParty":return new NR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=G0.get(t);s&&(pe(ID,"Removing Datastore"),G0.delete(t),s.terminate())})(this),Promise.resolve()}}function CD(r,e,t,s={}){r=ws(r,Od);const o=Uo(e),c=r._getSettings(),u={...c,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${t}`;o&&(_w(`https://${p}`),bw("Firestore",!0)),c.host!==XT&&c.host!==p&&Co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...c,host:p,ssl:o,emulatorOptions:s};if(!_a(m,u)&&(r._setSettings(m),s.mockUserToken)){let g,_;if(typeof s.mockUserToken=="string")g=s.mockUserToken,_=dn.MOCK_USER;else{g=Zx(s.mockUserToken,r._app?.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new he(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new dn(v)}r._authCredentials=new RR(new Vw(g,_))}}class Ps{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ps(this.firestore,e,this._query)}}class Ot{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}toJSON(){return{type:Ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Oc(t,Ot._jsonSchema))return new Ot(e,s||null,new Ee(pt.fromString(t.referencePath)))}}Ot._jsonSchemaVersion="firestore/documentReference/1.0",Ot._jsonSchema={type:qt("string",Ot._jsonSchemaVersion),referencePath:qt("string")};class Ts extends Ps{constructor(e,t,s){super(e,t,Td(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new Ee(e))}withConverter(e){return new Ts(this.firestore,e,this._path)}}function WT(r,e,...t){if(r=_n(r),Pw("collection","path",e),r instanceof Od){const s=pt.fromString(e,...t);return s0(s),new Ts(r,null,s)}{if(!(r instanceof Ot||r instanceof Ts))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(pt.fromString(e,...t));return s0(s),new Ts(r.firestore,null,s)}}function Wl(r,e,...t){if(r=_n(r),arguments.length===1&&(e=rg.newId()),Pw("doc","path",e),r instanceof Od){const s=pt.fromString(e,...t);return i0(s),new Ot(r,null,new Ee(s))}{if(!(r instanceof Ot||r instanceof Ts))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(pt.fromString(e,...t));return i0(s),new Ot(r.firestore,r instanceof Ts?r.converter:null,new Ee(s))}}const Y0="AsyncQueue";class K0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new RT(this,"async_queue_retry"),this._c=()=>{const s=tm();s&&pe(Y0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=tm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=tm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Es;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ho(e))throw e;pe(Y0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ci("INTERNAL UNHANDLED ERROR: ",Q0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Eg.createAndSchedule(this,e,t,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&xe(47125,{Pc:Q0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Q0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Ec extends Od{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new K0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new K0(e),this._firestoreClient=void 0,await e}}}function DD(r,e){const t=typeof r=="object"?r:Sw(),s=typeof r=="string"?r:qf,o=tg(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=Wx("firestore");c&&CD(o,...c)}return o}function xg(r){if(r._terminated)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||ND(r),r._firestoreClient}function ND(r){const e=r._freezeSettings(),t=RD(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new ED(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class ar{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ar(cn.fromBase64String(e))}catch(t){throw new he(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ar(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ar._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Oc(e,ar._jsonSchema))return ar.fromBase64String(e.bytes)}}ar._jsonSchemaVersion="firestore/bytes/1.0",ar._jsonSchema={type:qt("string",ar._jsonSchemaVersion),bytes:qt("string")};class JT{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ZT{constructor(e){this._methodName=e}}class ei{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ei._jsonSchemaVersion}}static fromJSON(e){if(Oc(e,ei._jsonSchema))return new ei(e.latitude,e.longitude)}}ei._jsonSchemaVersion="firestore/geoPoint/1.0",ei._jsonSchema={type:qt("string",ei._jsonSchemaVersion),latitude:qt("number"),longitude:qt("number")};class Ar{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ar._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Oc(e,Ar._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Ar(e.vectorValues);throw new he(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ar._jsonSchemaVersion="firestore/vectorValue/1.0",Ar._jsonSchema={type:qt("string",Ar._jsonSchemaVersion),vectorValues:qt("object")};const OD=/^__.*__$/;class MD{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ia(e,this.data,this.fieldMask,t,this.fieldTransforms):new Mc(e,this.data,t,this.fieldTransforms)}}function eS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{dataSource:r})}}class Ig{constructor(e,t,s,o,c,u){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Ig({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const t=this.path?.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Zf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(eS(this.dataSource)&&OD.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class VD{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Cd(e)}createContext(e,t,s,o=!1){return new Ig({dataSource:e,methodName:t,targetDoc:s,path:on.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tS(r){const e=r._freezeSettings(),t=Cd(r._databaseId);return new VD(r._databaseId,!!e.ignoreUndefinedProperties,t)}function PD(r,e,t,s,o,c={}){const u=r.createContext(c.merge||c.mergeFields?2:0,e,t,o);iS("Data must be an object, but it was:",u,s);const p=nS(s,u);let m,g;if(c.merge)m=new wr(u.fieldMask),g=u.fieldTransforms;else if(c.mergeFields){const _=[];for(const v of c.mergeFields){const E=Md(e,v,t);if(!u.contains(E))throw new he(ee.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);zD(_,E)||_.push(E)}m=new wr(_),g=u.fieldTransforms.filter((v=>m.covers(v.field)))}else m=null,g=u.fieldTransforms;return new MD(new sr(p),m,g)}function kD(r,e,t,s=!1){return Rg(t,r.createContext(s?4:3,e))}function Rg(r,e){if(rS(r=_n(r)))return iS("Unsupported field value:",e,r),nS(r,e);if(r instanceof ZT)return(function(s,o){if(!eS(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const c=[];let u=0;for(const p of s){let m=Rg(p,o.childContextForArray(u));m==null&&(m={nullValue:"NULL_VALUE"}),c.push(m),u++}return{arrayValue:{values:c}}})(r,e)}return(function(s,o){if((s=_n(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return bC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=yt.fromDate(s);return{timestampValue:Qf(o.serializer,c)}}if(s instanceof yt){const c=new yt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Qf(o.serializer,c)}}if(s instanceof ei)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ar)return{bytesValue:gT(o.serializer,s._byteString)};if(s instanceof Ot){const c=o.databaseId,u=s.firestore._databaseId;if(!u.isEqual(c))throw o.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:dg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ar)return(function(u,p){const m=u instanceof Ar?u.toArray():u;return{mapValue:{fields:{[Gw]:{stringValue:Fw},[Gf]:{arrayValue:{values:m.map((_=>{if(typeof _!="number")throw p.createError("VectorValues must only contain numeric values.");return cg(p.serializer,_)}))}}}}}})(s,o);if(TT(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${_d(s)}`)})(r,e)}function nS(r,e){const t={};return Uw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Aa(r,((s,o)=>{const c=Rg(o,e.childContextForField(s));c!=null&&(t[s]=c)})),{mapValue:{fields:t}}}function rS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof yt||r instanceof ei||r instanceof ar||r instanceof Ot||r instanceof ZT||r instanceof Ar||TT(r))}function iS(r,e,t){if(!rS(t)||!kw(t)){const s=_d(t);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function Md(r,e,t){if((e=_n(e))instanceof JT)return e._internalPath;if(typeof e=="string")return UD(r,e);throw Zf("Field path arguments must be of type string or ",r,!1,void 0,t)}const LD=new RegExp("[~\\*/\\[\\]]");function UD(r,e,t){if(e.search(LD)>=0)throw Zf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new JT(...e.split("."))._internalPath}catch{throw Zf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Zf(r,e,t,s,o){const c=s&&!s.isEmpty(),u=o!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(c||u)&&(m+=" (found",c&&(m+=` in field ${s}`),u&&(m+=` in document ${o}`),m+=")"),new he(ee.INVALID_ARGUMENT,p+r+m)}function zD(r,e){return r.some((t=>t.isEqual(e)))}class jD{convertValue(e,t="none"){switch(Ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Aa(e,((o,c)=>{s[o]=this.convertValue(c,t)})),s}convertVectorValue(e){const t=e.fields?.[Gf].arrayValue?.values?.map((s=>Nt(s.doubleValue)));return new Ar(t)}convertGeoPoint(e){return new ei(Nt(e.latitude),Nt(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=wd(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(mc(e));default:return null}}convertTimestamp(e){const t=Rs(e);return new yt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=pt.fromString(e);rt(wT(s),9688,{name:e});const o=new gc(s.get(1),s.get(3)),c=new Ee(s.popFirst(5));return o.isEqual(t)||Ci(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}class sS extends jD{constructor(e){super(),this.firestore=e}convertBytes(e){return new ar(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,t)}}const X0="@firebase/firestore",W0="4.10.0";function J0(r){return(function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class aS{constructor(e,t,s,o,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Md("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class BD extends aS{data(){return super.data()}}function HD(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new he(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cg{}class Dg extends Cg{}function qD(r,e,...t){let s=[];e instanceof Cg&&s.push(e),s=s.concat(t),(function(c){const u=c.filter((m=>m instanceof Og)).length,p=c.filter((m=>m instanceof Ng)).length;if(u>1||u>0&&p>0)throw new he(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Ng extends Dg{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Ng(e,t,s)}_apply(e){const t=this._parse(e);return oS(e._query,t),new Ps(e.firestore,e.converter,Cm(e._query,t))}_parse(e){const t=tS(e.firestore);return(function(c,u,p,m,g,_,v){let E;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new he(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){eE(v,_);const V=[];for(const z of v)V.push(Z0(m,c,z));E={arrayValue:{values:V}}}else E=Z0(m,c,v)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||eE(v,_),E=kD(p,u,v,_==="in"||_==="not-in");return Ht.create(g,_,E)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Og extends Cg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Og(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:Ir.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,c){let u=o;const p=c.getFlattenedFilters();for(const m of p)oS(u,m),u=Cm(u,m)})(e._query,t),new Ps(e.firestore,e.converter,Cm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Mg extends Dg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Mg(e,t)}_apply(e){const t=(function(o,c,u){if(o.startAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vc(c,u)})(e._query,this._field,this._direction);return new Ps(e.firestore,e.converter,dC(e._query,t))}}function GD(r,e="asc"){const t=e,s=Md("orderBy",r);return Mg._create(s,t)}class Vg extends Dg{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Vg(e,t,s)}_apply(e){return new Ps(e.firestore,e.converter,$f(e._query,this._limit,this._limitType))}}function FD(r){return Vg._create("limit",r,"F")}function Z0(r,e,t){if(typeof(t=_n(t))=="string"){if(t==="")throw new he(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zw(e)&&t.indexOf("/")!==-1)throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(pt.fromString(t));if(!Ee.isDocumentKey(s))throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return h0(r,new Ee(s))}if(t instanceof Ot)return h0(r,t._key);throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_d(t)}.`)}function eE(r,e){if(!Array.isArray(r)||r.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oS(r,e){const t=(function(o,c){for(const u of o)for(const p of u.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function $D(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class ic{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class va extends aS{constructor(e,t,s,o,c,u){super(e,t,s,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Vf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Md("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=va._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}va._jsonSchemaVersion="firestore/documentSnapshot/1.0",va._jsonSchema={type:qt("string",va._jsonSchemaVersion),bundleSource:qt("string","DocumentSnapshot"),bundleName:qt("string"),bundle:qt("string")};class Vf extends va{data(e={}){return super.data(e)}}class So{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ic(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Vf(this._firestore,this._userDataWriter,s.key,s,new ic(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((p=>{const m=new Vf(o._firestore,o._userDataWriter,p.doc.key,p.doc,new ic(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const m=new Vf(o._firestore,o._userDataWriter,p.doc.key,p.doc,new ic(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return p.type!==0&&(g=u.indexOf(p.doc.key),u=u.delete(p.doc.key)),p.type!==1&&(u=u.add(p.doc),_=u.indexOf(p.doc.key)),{type:YD(p.type),doc:m,oldIndex:g,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=So._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=rg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(t.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function YD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:r})}}So._jsonSchemaVersion="firestore/querySnapshot/1.0",So._jsonSchema={type:qt("string",So._jsonSchemaVersion),bundleSource:qt("string","QuerySnapshot"),bundleName:qt("string"),bundle:qt("string")};function tE(r){r=ws(r,Ot);const e=ws(r.firestore,Ec),t=xg(e);return AD(t,r._key).then((s=>cS(e,r,s)))}function Tf(r,e,t){r=ws(r,Ot);const s=ws(r.firestore,Ec),o=$D(r.converter,e,t),c=tS(s);return KD(s,[PD(c,"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,Ii.none())])}function lS(r,...e){r=_n(r);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||J0(e[s])||(t=e[s++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(J0(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let c,u,p;if(r instanceof Ot)u=ws(r.firestore,Ec),p=Td(r._key.path),c={next:g=>{e[s]&&e[s](cS(u,r,g))},error:e[s+1],complete:e[s+2]};else{const g=ws(r,Ps);u=ws(g.firestore,Ec),p=g._query;const _=new sS(u);c={next:v=>{e[s]&&e[s](new So(u,_,g,v))},error:e[s+1],complete:e[s+2]},HD(r._query)}const m=xg(u);return SD(m,p,o,c)}function KD(r,e){const t=xg(r);return xD(t,e)}function cS(r,e,t){const s=t.docs.get(e._key),o=new sS(r);return new va(r,o,e._key,s,new ic(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){xR(zo),Ro(new ba("firestore",((s,{instanceIdentifier:o,options:c})=>{const u=s.getProvider("app").getImmediate(),p=new Ec(new CR(s.getProvider("auth-internal")),new OR(u,s.getProvider("app-check-internal")),QR(u,o),u);return c={useFetchStreams:t,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),_s(X0,W0,e),_s(X0,W0,"esm2020")})();function uS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QD=uS,fS=new Dc("auth","Firebase",uS());const ed=new Zm("@firebase/auth");function XD(r,...e){ed.logLevel<=Be.WARN&&ed.warn(`Auth (${zo}): ${r}`,...e)}function Pf(r,...e){ed.logLevel<=Be.ERROR&&ed.error(`Auth (${zo}): ${r}`,...e)}function ri(r,...e){throw kg(r,...e)}function xr(r,...e){return kg(r,...e)}function Pg(r,e,t){const s={...QD(),[e]:t};return new Dc("auth","Firebase",s).create(e,{appName:r.name})}function Ss(r){return Pg(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function WD(r,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&ri(r,"argument-error"),Pg(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function kg(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return fS.create(r,...e)}function Ie(r,e,...t){if(!r)throw kg(e,...t)}function Ai(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Pf(e),new Error(e)}function Ni(r,e){r||Ai(e)}function jm(){return typeof self<"u"&&self.location?.href||""}function JD(){return nE()==="http:"||nE()==="https:"}function nE(){return typeof self<"u"&&self.location?.protocol||null}function ZD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JD()||sI()||"connection"in navigator)?navigator.onLine:!0}function eN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Lc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ni(t>e,"Short delay should be less than long delay!"),this.isMobile=nI()||aI()}get(){return ZD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Lg(r,e){Ni(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class dS{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const tN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const nN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rN=new Lc(3e4,6e4);function Vd(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Fo(r,e,t,s,o={}){return hS(r,o,async()=>{let c={},u={};s&&(e==="GET"?u=s:c={body:JSON.stringify(s)});const p=Nc({key:r.config.apiKey,...u}).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:m,...c};return iI()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Uo(r.emulatorConfig.host)&&(g.credentials="include"),dS.fetch()(await mS(r,r.config.apiHost,t,p),g)})}async function hS(r,e,t){r._canInitEmulator=!1;const s={...tN,...e};try{const o=new iN(r),c=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await c.json();if("needConfirmation"in u)throw Sf(r,"account-exists-with-different-credential",u);if(c.ok&&!("errorMessage"in u))return u;{const p=c.ok?u.errorMessage:u.error.message,[m,g]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sf(r,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw Sf(r,"email-already-in-use",u);if(m==="USER_DISABLED")throw Sf(r,"user-disabled",u);const _=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Pg(r,_,g);ri(r,_)}}catch(o){if(o instanceof Oi)throw o;ri(r,"network-request-failed",{message:String(o)})}}async function pS(r,e,t,s,o={}){const c=await Fo(r,e,t,s,o);return"mfaPendingCredential"in c&&ri(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function mS(r,e,t,s){const o=`${e}${t}?${s}`,c=r,u=c.config.emulator?Lg(r.config,o):`${r.config.apiScheme}://${o}`;return nN.includes(t)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(u).toString():u}class iN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(xr(this.auth,"network-request-failed")),rN.get())})}}function Sf(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=xr(r,e,s);return o.customData._tokenResponse=t,o}async function sN(r,e){return Fo(r,"POST","/v1/accounts:delete",e)}async function td(r,e){return Fo(r,"POST","/v1/accounts:lookup",e)}function uc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function aN(r,e=!1){const t=_n(r),s=await t.getIdToken(e),o=Ug(s);Ie(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,u=c?.sign_in_provider;return{claims:o,token:s,authTime:uc(rm(o.auth_time)),issuedAtTime:uc(rm(o.iat)),expirationTime:uc(rm(o.exp)),signInProvider:u||null,signInSecondFactor:c?.sign_in_second_factor||null}}function rm(r){return Number(r)*1e3}function Ug(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return Pf("JWT malformed, contained fewer than 3 sections"),null;try{const o=mw(t);return o?JSON.parse(o):(Pf("Failed to decode base64 JWT payload"),null)}catch(o){return Pf("Caught error parsing JWT payload as JSON",o?.toString()),null}}function rE(r){const e=Ug(r);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function wc(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Oi&&oN(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function oN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class lN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Bm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=uc(this.lastLoginAt),this.creationTime=uc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function nd(r){const e=r.auth,t=await r.getIdToken(),s=await wc(r,td(e,{idToken:t}));Ie(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?gS(o.providerUserInfo):[],u=uN(r.providerData,c),p=r.isAnonymous,m=!(r.email&&o.passwordHash)&&!u?.length,g=p?m:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Bm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,_)}async function cN(r){const e=_n(r);await nd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uN(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function gS(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function fN(r,e){const t=await hS(r,{},async()=>{const s=Nc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,u=await mS(r,o,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:p,body:s};return r.emulatorConfig&&Uo(r.emulatorConfig.host)&&(m.credentials="include"),dS.fetch()(u,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function dN(r,e){return Fo(r,"POST","/v2/accounts:revokeToken",Vd(r,e))}class Ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const t=rE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:c}=await fN(e,t);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:c}=t,u=new Ao;return s&&(Ie(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),o&&(Ie(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),c&&(Ie(typeof c=="number","internal-error",{appName:e}),u.expirationTime=c),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ao,this.toJSON())}_performRefresh(){return Ai("not implemented")}}function ds(r,e){Ie(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Tr{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new lN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Bm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await wc(this,this.stsTokenManager.getToken(this.auth,e));return Ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return aN(this,e)}reload(){return cN(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Tr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await nd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ir(this.auth.app))return Promise.reject(Ss(this.auth));const e=await this.getIdToken();return await wc(this,sN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,c=t.phoneNumber??void 0,u=t.photoURL??void 0,p=t.tenantId??void 0,m=t._redirectEventId??void 0,g=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:v,emailVerified:E,isAnonymous:A,providerData:V,stsTokenManager:z}=t;Ie(v&&z,e,"internal-error");const L=Ao.fromJSON(this.name,z);Ie(typeof v=="string",e,"internal-error"),ds(s,e.name),ds(o,e.name),Ie(typeof E=="boolean",e,"internal-error"),Ie(typeof A=="boolean",e,"internal-error"),ds(c,e.name),ds(u,e.name),ds(p,e.name),ds(m,e.name),ds(g,e.name),ds(_,e.name);const Y=new Tr({uid:v,auth:e,email:o,emailVerified:E,displayName:s,isAnonymous:A,photoURL:u,phoneNumber:c,tenantId:p,stsTokenManager:L,createdAt:g,lastLoginAt:_});return V&&Array.isArray(V)&&(Y.providerData=V.map(X=>({...X}))),m&&(Y._redirectEventId=m),Y}static async _fromIdTokenResponse(e,t,s=!1){const o=new Ao;o.updateFromServerResponse(t);const c=new Tr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await nd(c),c}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ie(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?gS(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!c?.length,p=new Ao;p.updateFromIdToken(s);const m=new Tr({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:u}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Bm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(m,g),m}}const iE=new Map;function xi(r){Ni(r instanceof Function,"Expected a class definition");let e=iE.get(r);return e?(Ni(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,iE.set(r,e),e)}class yS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}yS.type="NONE";const sE=yS;function kf(r,e,t){return`firebase:${r}:${e}:${t}`}class xo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=kf(this.userKey,o.apiKey,c),this.fullPersistenceKey=kf("persistence",o.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await td(this.auth,{idToken:e}).catch(()=>{});return t?Tr._fromGetAccountInfoResponse(this.auth,t,e):null}return Tr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new xo(xi(sE),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=o[0]||xi(sE);const u=kf(s,e.config.apiKey,e.name);let p=null;for(const g of t)try{const _=await g._get(u);if(_){let v;if(typeof _=="string"){const E=await td(e,{idToken:_}).catch(()=>{});if(!E)break;v=await Tr._fromGetAccountInfoResponse(e,E,_)}else v=Tr._fromJSON(e,_);g!==c&&(p=v),c=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!m.length?new xo(c,e,s):(c=m[0],p&&await c._set(u,p.toJSON()),await Promise.all(t.map(async g=>{if(g!==c)try{await g._remove(u)}catch{}})),new xo(c,e,s))}}function aE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ES(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TS(e))return"Blackberry";if(SS(e))return"Webos";if(_S(e))return"Safari";if((e.includes("chrome/")||bS(e))&&!e.includes("edge/"))return"Chrome";if(wS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if(s?.length===2)return s[1]}return"Other"}function vS(r=pn()){return/firefox\//i.test(r)}function _S(r=pn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bS(r=pn()){return/crios\//i.test(r)}function ES(r=pn()){return/iemobile/i.test(r)}function wS(r=pn()){return/android/i.test(r)}function TS(r=pn()){return/blackberry/i.test(r)}function SS(r=pn()){return/webos/i.test(r)}function zg(r=pn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function hN(r=pn()){return zg(r)&&!!window.navigator?.standalone}function pN(){return oI()&&document.documentMode===10}function AS(r=pn()){return zg(r)||wS(r)||SS(r)||TS(r)||/windows phone/i.test(r)||ES(r)}function xS(r,e=[]){let t;switch(r){case"Browser":t=aE(pn());break;case"Worker":t=`${aE(pn())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${zo}/${s}`}class mN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=c=>new Promise((u,p)=>{try{const m=e(c);u(m)}catch(m){p(m)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function gN(r,e={}){return Fo(r,"GET","/v2/passwordPolicy",Vd(r,e))}const yN=6;class vN{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??yN,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class _N{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oE(this),this.idTokenSubscription=new oE(this),this.beforeStateQueue=new mN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=xi(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await xo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await td(this,{idToken:e}),s=await Tr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ir(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,u=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===u)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await nd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=eN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ir(this.app))return Promise.reject(Ss(this));const t=e?_n(e):null;return t&&Ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ir(this.app)?Promise.reject(Ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ir(this.app)?Promise.reject(Ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gN(this),t=new vN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Dc("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await dN(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&xi(e)||this._popupRedirectResolver;Ie(t,this,"argument-error"),this.redirectPersistenceManager=await xo.create(this,[xi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let u=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(p,this,"internal-error"),p.then(()=>{u||c(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,s,o);return()=>{u=!0,m()}}else{const m=e.addObserver(t);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ir(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&XD(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Uc(r){return _n(r)}class oE{constructor(e){this.auth=e,this.observer=null,this.addObserver=mI(t=>this.observer=t)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let jg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bN(r){jg=r}function EN(r){return jg.loadJS(r)}function wN(){return jg.gapiScript}function TN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function SN(r,e){const t=tg(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),c=t.getOptions();if(_a(c,e??{}))return o;ri(o,"already-initialized")}return t.initialize({options:e})}function AN(r,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(xi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function xN(r,e,t){const s=Uc(r);Ie(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=IS(e),{host:u,port:p}=IN(e),m=p===null?"":`:${p}`,g={url:`${c}//${u}${m}/`},_=Object.freeze({host:u,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ie(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ie(_a(g,s.config.emulator)&&_a(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,Uo(u)?(_w(`${c}//${u}${m}`),bw("Auth",!0)):RN()}function IS(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function IN(r){const e=IS(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:lE(s.substr(c.length+1))}}else{const[c,u]=s.split(":");return{host:c,port:lE(u)}}}function lE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function RN(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class RS{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ai("not implemented")}_getIdTokenResponse(e){return Ai("not implemented")}_linkToIdToken(e,t){return Ai("not implemented")}_getReauthenticationResolver(e){return Ai("not implemented")}}async function Io(r,e){return pS(r,"POST","/v1/accounts:signInWithIdp",Vd(r,e))}const CN="http://localhost";class Ta extends RS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ri("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=t;if(!s||!o)return null;const u=new Ta(s,o);return u.idToken=c.idToken||void 0,u.accessToken=c.accessToken||void 0,u.secret=c.secret,u.nonce=c.nonce,u.pendingToken=c.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Io(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Io(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Io(e,t)}buildRequest(){const e={requestUri:CN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Nc(t)}return e}}class Bg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class zc extends Bg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class hs extends zc{constructor(){super("facebook.com")}static credential(e){return Ta._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";hs.PROVIDER_ID="facebook.com";class Wr extends zc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ta._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Wr.credential(t,s)}catch{return null}}}Wr.GOOGLE_SIGN_IN_METHOD="google.com";Wr.PROVIDER_ID="google.com";class ps extends zc{constructor(){super("github.com")}static credential(e){return Ta._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ps.credential(e.oauthAccessToken)}catch{return null}}}ps.GITHUB_SIGN_IN_METHOD="github.com";ps.PROVIDER_ID="github.com";class ms extends zc{constructor(){super("twitter.com")}static credential(e,t){return Ta._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ms.credential(t,s)}catch{return null}}}ms.TWITTER_SIGN_IN_METHOD="twitter.com";ms.PROVIDER_ID="twitter.com";async function DN(r,e){return pS(r,"POST","/v1/accounts:signUp",Vd(r,e))}class Ms{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const c=await Tr._fromIdTokenResponse(e,s,o),u=cE(s);return new Ms({user:c,providerId:u,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=cE(s);return new Ms({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function cE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function NN(r){if(ir(r.app))return Promise.reject(Ss(r));const e=Uc(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Ms({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await DN(e,{returnSecureToken:!0}),s=await Ms._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(s.user),s}class rd extends Oi{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,rd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new rd(e,t,s,o)}}function CS(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?rd._fromErrorAndOperation(r,c,e,s):c})}async function ON(r,e,t=!1){const s=await wc(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Ms._forOperation(r,"link",s)}async function MN(r,e,t=!1){const{auth:s}=r;if(ir(s.app))return Promise.reject(Ss(s));const o="reauthenticate";try{const c=await wc(r,CS(s,o,e,r),t);Ie(c.idToken,s,"internal-error");const u=Ug(c.idToken);Ie(u,s,"internal-error");const{sub:p}=u;return Ie(r.uid===p,s,"user-mismatch"),Ms._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&ri(s,"user-mismatch"),c}}async function VN(r,e,t=!1){if(ir(r.app))return Promise.reject(Ss(r));const s="signIn",o=await CS(r,s,e),c=await Ms._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(c.user),c}function PN(r,e,t,s){return _n(r).onIdTokenChanged(e,t,s)}function kN(r,e,t){return _n(r).beforeAuthStateChanged(e,t)}function LN(r,e,t,s){return _n(r).onAuthStateChanged(e,t,s)}function UN(r){return _n(r).signOut()}const id="__sak";class DS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(id,"1"),this.storage.removeItem(id),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const zN=1e3,jN=10;class NS extends DS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,p,m)=>{this.notifyListeners(u,m)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(s);!t&&this.localCache[s]===u||this.notifyListeners(s,u)},c=this.storage.getItem(s);pN()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,jN):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},zN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}NS.type="LOCAL";const BN=NS;class OS extends DS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}OS.type="SESSION";const MS=OS;function HN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Pd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Pd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:c}=t.data,u=this.handlersMap[o];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(u).map(async g=>g(t.origin,c)),m=await HN(p);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pd.receivers=[];function Hg(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}class qN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,u;return new Promise((p,m)=>{const g=Hg("",20);o.port1.start();const _=setTimeout(()=>{m(new Error("unsupported_event"))},s);u={messageChannel:o,onMessage(v){const E=v;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(_),c=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(E.data.response);break;default:clearTimeout(_),clearTimeout(c),m(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function ti(){return window}function GN(r){ti().location.href=r}function VS(){return typeof ti().WorkerGlobalScope<"u"&&typeof ti().importScripts=="function"}async function FN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $N(){return navigator?.serviceWorker?.controller||null}function YN(){return VS()?self:null}const PS="firebaseLocalStorageDb",KN=1,sd="firebaseLocalStorage",kS="fbase_key";class jc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function kd(r,e){return r.transaction([sd],e?"readwrite":"readonly").objectStore(sd)}function QN(){const r=indexedDB.deleteDatabase(PS);return new jc(r).toPromise()}function Hm(){const r=indexedDB.open(PS,KN);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(sd,{keyPath:kS})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(sd)?e(s):(s.close(),await QN(),e(await Hm()))})})}async function uE(r,e,t){const s=kd(r,!0).put({[kS]:e,value:t});return new jc(s).toPromise()}async function XN(r,e){const t=kd(r,!1).get(e),s=await new jc(t).toPromise();return s===void 0?null:s.value}function fE(r,e){const t=kd(r,!0).delete(e);return new jc(t).toPromise()}const WN=800,JN=3;class LS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>JN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return VS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pd._getInstance(YN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await FN(),!this.activeServiceWorker)return;this.sender=new qN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$N()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hm();return await uE(e,id,"1"),await fE(e,id),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>uE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>XN(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>fE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=kd(o,!1).getAll();return new jc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LS.type="LOCAL";const ZN=LS;new Lc(3e4,6e4);function US(r,e){return e?xi(e):(Ie(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class qg extends RS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Io(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Io(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Io(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function e4(r){return VN(r.auth,new qg(r),r.bypassAuthState)}function t4(r){const{auth:e,user:t}=r;return Ie(t,e,"internal-error"),MN(t,new qg(r),r.bypassAuthState)}async function n4(r){const{auth:e,user:t}=r;return Ie(t,e,"internal-error"),ON(t,new qg(r),r.bypassAuthState)}class zS{constructor(e,t,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:c,error:u,type:p}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:t,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return e4;case"linkViaPopup":case"linkViaRedirect":return n4;case"reauthViaPopup":case"reauthViaRedirect":return t4;default:ri(this.auth,"internal-error")}}resolve(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const r4=new Lc(2e3,1e4);async function i4(r,e,t){if(ir(r.app))return Promise.reject(xr(r,"operation-not-supported-in-this-environment"));const s=Uc(r);WD(r,e,Bg);const o=US(s,t);return new ya(s,"signInViaPopup",e,o).executeNotNull()}class ya extends zS{constructor(e,t,s,o,c){super(e,t,o,c),this.provider=s,this.authWindow=null,this.pollId=null,ya.currentPopupAction&&ya.currentPopupAction.cancel(),ya.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){Ni(this.filter.length===1,"Popup operations only handle one event");const e=Hg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(xr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ya.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,r4.get())};e()}}ya.currentPopupAction=null;const s4="pendingRedirect",Lf=new Map;class a4 extends zS{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Lf.get(this.auth._key());if(!e){try{const s=await o4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Lf.set(this.auth._key(),e)}return this.bypassAuthState||Lf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function o4(r,e){const t=u4(e),s=c4(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function l4(r,e){Lf.set(r._key(),e)}function c4(r){return xi(r._redirectPersistence)}function u4(r){return kf(s4,r.config.apiKey,r.name)}async function f4(r,e,t=!1){if(ir(r.app))return Promise.reject(Ss(r));const s=Uc(r),o=US(s,e),u=await new a4(s,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const d4=600*1e3;class h4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!p4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!jS(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(xr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=d4&&this.cachedEventUids.clear(),this.cachedEventUids.has(dE(e))}saveEventToCache(e){this.cachedEventUids.add(dE(e)),this.lastProcessedEventTime=Date.now()}}function dE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function jS({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function p4(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jS(r);default:return!1}}async function m4(r,e={}){return Fo(r,"GET","/v1/projects",e)}const g4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,y4=/^https?/;async function v4(r){if(r.config.emulator)return;const{authorizedDomains:e}=await m4(r);for(const t of e)try{if(_4(t))return}catch{}ri(r,"unauthorized-domain")}function _4(r){const e=jm(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const u=new URL(r);return u.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===s}if(!y4.test(t))return!1;if(g4.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const b4=new Lc(3e4,6e4);function hE(){const r=ti().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function E4(r){return new Promise((e,t)=>{function s(){hE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hE(),t(xr(r,"network-request-failed"))},timeout:b4.get()})}if(ti().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ti().gapi?.load)s();else{const o=TN("iframefcb");return ti()[o]=()=>{gapi.load?s():t(xr(r,"network-request-failed"))},EN(`${wN()}?onload=${o}`).catch(c=>t(c))}}).catch(e=>{throw Uf=null,e})}let Uf=null;function w4(r){return Uf=Uf||E4(r),Uf}const T4=new Lc(5e3,15e3),S4="__/auth/iframe",A4="emulator/auth/iframe",x4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},I4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function R4(r){const e=r.config;Ie(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Lg(e,A4):`https://${r.config.authDomain}/${S4}`,s={apiKey:e.apiKey,appName:r.name,v:zo},o=I4.get(r.config.apiHost);o&&(s.eid=o);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${t}?${Nc(s).slice(1)}`}async function C4(r){const e=await w4(r),t=ti().gapi;return Ie(t,r,"internal-error"),e.open({where:document.body,url:R4(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:x4,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const u=xr(r,"network-request-failed"),p=ti().setTimeout(()=>{c(u)},T4.get());function m(){ti().clearTimeout(p),o(s)}s.ping(m).then(m,()=>{c(u)})}))}const D4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},N4=500,O4=600,M4="_blank",V4="http://localhost";class pE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function P4(r,e,t,s=N4,o=O4){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const m={...D4,width:s.toString(),height:o.toString(),top:c,left:u},g=pn().toLowerCase();t&&(p=bS(g)?M4:t),vS(g)&&(e=e||V4,m.scrollbars="yes");const _=Object.entries(m).reduce((E,[A,V])=>`${E}${A}=${V},`,"");if(hN(g)&&p!=="_self")return k4(e||"",p),new pE(null);const v=window.open(e||"",p,_);Ie(v,r,"popup-blocked");try{v.focus()}catch{}return new pE(v)}function k4(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const L4="__/auth/handler",U4="emulator/auth/handler",z4=encodeURIComponent("fac");async function mE(r,e,t,s,o,c){Ie(r.config.authDomain,r,"auth-domain-config-required"),Ie(r.config.apiKey,r,"invalid-api-key");const u={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:zo,eventId:o};if(e instanceof Bg){e.setDefaultLanguage(r.languageCode),u.providerId=e.providerId||"",pI(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,v]of Object.entries({}))u[_]=v}if(e instanceof zc){const _=e.getScopes().filter(v=>v!=="");_.length>0&&(u.scopes=_.join(","))}r.tenantId&&(u.tid=r.tenantId);const p=u;for(const _ of Object.keys(p))p[_]===void 0&&delete p[_];const m=await r._getAppCheckToken(),g=m?`#${z4}=${encodeURIComponent(m)}`:"";return`${j4(r)}?${Nc(p).slice(1)}${g}`}function j4({config:r}){return r.emulator?Lg(r,U4):`https://${r.authDomain}/${L4}`}const im="webStorageSupport";class B4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=MS,this._completeRedirectFn=f4,this._overrideRedirectResult=l4}async _openPopup(e,t,s,o){Ni(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await mE(e,t,s,jm(),o);return P4(e,c,Hg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const c=await mE(e,t,s,jm(),o);return GN(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:c}=this.eventManagers[t];return o?Promise.resolve(o):(Ni(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await C4(e),s=new h4(e);return t.register("authEvent",o=>(Ie(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(im,{type:im},o=>{const c=o?.[0]?.[im];c!==void 0&&t(!!c),ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=v4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return AS()||_S()||zg()}}const H4=B4;var gE="@firebase/auth",yE="1.12.0";class q4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function G4(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function F4(r){Ro(new ba("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:u,authDomain:p}=s.options;Ie(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:u,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xS(r)},g=new _N(s,o,c,m);return AN(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Ro(new ba("auth-internal",e=>{const t=Uc(e.getProvider("auth").getImmediate());return(s=>new q4(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),_s(gE,yE,G4(r)),_s(gE,yE,"esm2020")}const $4=300,Y4=vw("authIdTokenMaxAge")||$4;let vE=null;const K4=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>Y4)return;const o=t?.token;vE!==o&&(vE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Q4(r=Sw()){const e=tg(r,"auth");if(e.isInitialized())return e.getImmediate();const t=SN(r,{popupRedirectResolver:H4,persistence:[ZN,BN,MS]}),s=vw("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const u=K4(c.toString());kN(t,u,()=>u(t.currentUser)),PN(t,p=>u(p))}}const o=gw("auth");return o&&xN(t,`http://${o}`),t}function X4(){return document.getElementsByTagName("head")?.[0]??document}bN({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const c=xr("internal-error");c.customData=o,t(c)},s.type="text/javascript",s.charset="UTF-8",X4().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});F4("Browser");var W4="firebase",J4="12.8.0";_s(W4,J4,"app");const Z4={apiKey:"AIzaSyAfHofjsLtR0L9xrbv4rbKRTDYfieQBOUc",authDomain:"ff14-hunt.firebaseapp.com",projectId:"ff14-hunt",storageBucket:"ff14-hunt.firebasestorage.app",messagingSenderId:"685554694198",appId:"1:685554694198:web:6878dc79d6a5876e0d4097",measurementId:"G-55QRR4WL2E"},BS=Tw(Z4),Af=Q4(BS),pa=DD(BS);new Wr;const eO=["","","","","","",""],tO=[{id:"all",name:"ALL ",sub:"ALL",color:"bg-slate-500"},{id:"dt",name:"7.0 ",sub:"7.0",color:"bg-yellow-600"},{id:"ew",name:"6.0 ",sub:"6.0",color:"bg-indigo-600"},{id:"shb",name:"5.0 ",sub:"5.0",color:"bg-purple-700"},{id:"sb",name:"4.0 ",sub:"4.0",color:"bg-red-600"},{id:"hw",name:"3.0 ",sub:"3.0",color:"bg-blue-600"},{id:"arr",name:"2.0 ",sub:"2.0",color:"bg-emerald-600"}],fa={dt:{s:[{cn:"",jp:"",zone:"",window:84,trigger:"SS A "},{cn:" ",jp:"",zone:"",window:84,trigger:"ET  (1-4) 00:00-08:00 + ",windowType:"full-combined",moon:[1,4],time:[0,8],weather:""},{cn:"",jp:"",zone:"",window:84,trigger:""},{cn:"",jp:"",zone:"",window:84,trigger:" 50 "},{cn:"",jp:"",zone:"",window:84,trigger:" FATE FATE "},{cn:" ",jp:"",zone:"",window:84,trigger:" (HQ) (99)"},{cn:"",jp:"",zone:"",window:84,trigger:""}],a:[{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4}]},ew:{s:[{cn:"",jp:"",zone:"",window:84,trigger:"SS"},{cn:"",jp:"",zone:"",window:84,trigger:"ET 09:00-17:00 + /",windowType:"full-combined",time:[9,17],weather:"/"},{cn:"",jp:"",zone:"",window:84,trigger:" 100  + 100  + 100 "},{cn:"",jp:"",zone:"",window:84,trigger:""},{cn:"",jp:"",zone:"",window:84,trigger:" 100  + 100  + 100 "},{cn:"",jp:"",zone:"",window:84,trigger:" 5 "},{cn:"",jp:"",zone:"",window:84,trigger:"10"}],a:[{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4}]},shb:{s:[{cn:"",jp:"",zone:"",window:84,trigger:"SS S  4 "},{cn:"",jp:"",zone:"",window:84,trigger:""},{cn:"",jp:"",zone:"",window:84,trigger:"50 "},{cn:"",jp:"",zone:"",window:84,trigger:""},{cn:"",jp:"",zone:"",window:84,trigger:""},{cn:"",jp:"",zone:"",window:84,trigger:" 100  + 100  + 100 "},{cn:"",jp:"",zone:"",window:84,trigger:" (X: 26, Y: 7) 3 "}],a:[{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4}]},sb:{s:[{cn:"",jp:"",zone:"",window:84,trigger:" 100  + 100  ( FATE )"},{cn:"",jp:"",zone:"",window:84,trigger:""},{cn:"",jp:"",zone:"",window:84,trigger:" 50 "},{cn:"",jp:"",zone:"",window:84,trigger:" 100  + 100  (16-20)  12:00 ",windowType:"moon",moon:[16,20]},{cn:"",jp:"",zone:"",window:84,trigger:" FATE"},{cn:"",jp:"",zone:"",window:84,trigger:"ET 17:00-08:00 ",windowType:"time",time:[17,8]}],a:[{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4}]},hw:{s:[{cn:"",jp:"",zone:"",window:84,trigger:"50 + 50 + 50"},{cn:"",jp:"",zone:"",window:84,trigger:""},{cn:"",jp:"",zone:"",window:84,trigger:""},{cn:"",jp:"",zone:"",window:84,trigger:"G7"},{cn:"",jp:"",zone:"",window:84,trigger:"50"},{cn:"",jp:"",zone:"",window:84,trigger:"B"}],a:[{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4}]},arr:{s:[{cn:"",jp:"",zone:"",window:50,trigger:" 2  ET  47 ",windowType:"continuous-rain",weather:""},{cn:"",jp:"",zone:"",window:50,trigger:"/"},{cn:"",jp:"",zone:"",window:50,trigger:"ET 1-417:00-03:00  0:00 ",windowType:"moon-time",moon:[1,4],time:[17,3]},{cn:"",jp:"",zone:"",window:50,trigger:" (X: 21, Y: 26.2)"},{cn:"",jp:"",zone:"",window:50,trigger:"     (X: 24.4, Y: 21.5)",windowType:"weather-special",weather:"/"},{cn:"",jp:"",zone:"",window:50,trigger:""},{cn:"",jp:"",zone:"",window:50,trigger:"/"},{cn:"",jp:"",zone:"",window:50,trigger:" 1 fate"},{cn:"",jp:"",zone:"",window:50,trigger:" 100  ( FATE )"},{cn:"",jp:"",zone:"",window:50,trigger:" 19:00 - 22:00  (X: 24.3, Y: 26.9)3",windowType:"time",time:[19,22]},{cn:"",jp:"",zone:"",window:50,trigger:"16-20 17:00 - 03:00 ",windowType:"moon-time",moon:[16,20],time:[17,3]},{cn:"",jp:"",zone:"",window:50,trigger:" 200 ",windowType:"weather-special",weather:""},{cn:"",jp:"",zone:"",window:50,trigger:" 08:00 - 11:00  (X: 34.2, Y: 28.2)",windowType:"time",time:[8,11]},{cn:"",jp:"",zone:"",window:50,trigger:""},{cn:"",jp:"",zone:"",window:50,trigger:""},{cn:"",jp:"",zone:"",window:50,trigger:" 1 "},{cn:"",jp:"",zone:"",window:50,trigger:"G3G4G5"}],a:[{cn:" ",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4}]}},HS=1440/70,qS=175*1e3,nO=qS/60,Eo=1400,ad=r=>{const e=Math.floor(r/Eo),t=(e+1)%3*8,o=Math.floor(e/3)*100+t,c=(o<<11^o)>>>0;return((c>>>8^c)>>>0)%100},od=(r,e)=>{switch(r){case"":return e<20?"":e<40?"":e<55?"":e<70?"":e<85?"":"";case"":return e<15?"":e<60?"":e<75?"":e<85?"":e<95?"":"";case"":case"":return e<5?"":e<20?"":e<30?"":e<40?"":e<70?"":"";case"":case"":return e<5?"":e<50?"":e<80?"":e<90?"":e<95?"":"";case"":return e<40?"":e<60?"":e<80?"":e<90?"":"";default:return""}},rO=(r,e)=>{if(!r.windowType)return null;const t=Math.floor(e/1e3),s=Math.floor(t/Eo)*Eo;for(let o=0;o<450;o++){const c=s+o*Eo,u=c*HS,p=u/3600%24,m=ad(Math.floor(c)),g=od(r.zone,m);let _=!0;if(r.windowType==="continuous-rain"){const V=ad(Math.floor(c-Eo)),z=od(r.zone,V);g===""&&z===""?_=!0:_=!1}else _=r.weather?r.weather.includes(g):!0;const v=(Math.floor(u/86400)+1)%32,E=v===0?32:v,A=r.moon?E>=r.moon[0]&&E<=r.moon[1]:!0;if(_&&A)for(let V=0;V<8;V++){const z=Math.floor(c+V*175),L=z+175,Y=(Math.floor(p)+V)%24;if(r.cn===""&&E===16&&Y<12)continue;let X=!0;if(r.time){const[te,ie]=r.time;X=te<ie?Y>=te&&Y<ie:Y>=te||Y<ie}if(X){if(t>=z&&t<L){const ie=Math.min(c+Eo,L)-t;if(ie<=0)return"";if(r.windowType==="continuous-rain")return"";const fe=Math.floor(ie/60),ae=Math.floor(ie%60);return`${fe}m ${String(ae).padStart(2,"0")}s`}if(z>t){const te=z-t,ie=Math.floor(te/86400),fe=Math.floor(te%86400/3600),ae=Math.floor(te%3600/60),I=`${fe}h ${String(ae).padStart(2,"0")}m`;return ie>0?` ${ie} ${I}`:` ${I}`}}}}return""},iO=()=>{const[r,e]=re.useState(Date.now());return re.useEffect(()=>{const s=setInterval(()=>e(Date.now()),1e3);return()=>clearInterval(s)},[]),re.useMemo(()=>{const s=r*HS/1e3,o=Math.floor(s/3600)%24,c=Math.floor(s/86400)%32+1;let u="";c<=4?u="":c<=8?u="":c<=20&&c>=16&&(u="");const p=r/1e3,m=ad(p),g=ad(p+1400),v=((Math.floor(o/8)+1)*8-o)*qS-Math.floor(s/60)%60*nO,E=`${o.toString().padStart(2,"0")}:${(Math.floor(s/60)%60).toString().padStart(2,"0")}`,A=`${Math.floor(v/6e4)}m ${Math.floor(v%6e4/1e3)}s`;return{currentTime:r,hours:o,day:c,moonLabel:u,curVal:m,nxtVal:g,displayTime:E,nextIn:A}},[r])};function GS(r){var e,t,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(t=GS(r[e]))&&(s&&(s+=" "),s+=t)}else for(t in r)r[t]&&(s&&(s+=" "),s+=t);return s}function ve(){for(var r,e,t=0,s="",o=arguments.length;t<o;t++)(r=arguments[t])&&(e=GS(r))&&(s&&(s+=" "),s+=e);return s}const FS=(...r)=>r.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();const sO=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const aO=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());const _E=r=>{const e=aO(r);return e.charAt(0).toUpperCase()+e.slice(1)};var oO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const lO=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const cO=re.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:u,...p},m)=>re.createElement("svg",{ref:m,...oO,width:e,height:e,stroke:r,strokeWidth:s?Number(t)*24/Number(e):t,className:FS("lucide",o),...!c&&!lO(p)&&{"aria-hidden":"true"},...p},[...u.map(([g,_])=>re.createElement(g,_)),...Array.isArray(c)?c:[c]]));const Tt=(r,e)=>{const t=re.forwardRef(({className:s,...o},c)=>re.createElement(cO,{ref:c,iconNode:e,className:FS(`lucide-${sO(_E(r))}`,`lucide-${r}`,s),...o}));return t.displayName=_E(r),t};const uO=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],bE=Tt("check",uO);const fO=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],EE=Tt("circle-check-big",fO);const dO=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],hO=Tt("clock",dO);const pO=[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128",key:"dpwdj0"}],["path",{d:"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z",key:"s09mg5"}]],mO=Tt("cloud-sun",pO);const gO=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],wE=Tt("crown",gO);const yO=[["path",{d:"M16 22h2a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v2.85",key:"ryk6xj"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 14v2.2l1.6 1",key:"6m4bie"}],["circle",{cx:"8",cy:"16",r:"6",key:"10v15b"}]],qm=Tt("file-clock",yO);const vO=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],_O=Tt("layout-grid",vO);const bO=[["path",{d:"M16 5H3",key:"m91uny"}],["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 19H3",key:"zzsher"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]],TE=Tt("list-plus",bO);const EO=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],wO=Tt("list",EO);const TO=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],$S=Tt("loader-circle",TO);const SO=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],AO=Tt("log-in",SO);const xO=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],IO=Tt("log-out",xO);const RO=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],CO=Tt("megaphone",RO);const DO=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],NO=Tt("moon",DO);const OO=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],SE=Tt("pen-line",OO);const MO=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],AE=Tt("rotate-ccw",MO);const VO=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],PO=Tt("share-2",VO);const kO=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],LO=Tt("shield",kO);const UO=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],zO=Tt("sun",UO);const jO=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],BO=Tt("sword",jO);const HO=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],qO=Tt("trash-2",HO);const GO=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],FO=Tt("user",GO);const $O=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Gg=Tt("x",$O),YO=({user:r,hunterName:e,setHunterName:t,onLogin:s,onLogout:o,eorzeaData:c,isMidnight:u,onShowWeather:p,currentTime:m,isAdmin:g,onToggleAdmin:_,setTheme:v})=>{const[E,A]=bt.useState(!1),[V,z]=bt.useState(e),L={headerBg:u?"bg-[#12141e]/90 border-white/5 backdrop-blur-xl":"bg-white/80 border-slate-200 shadow-sm",btn:u?"bg-[#252a3a] border-white/10 text-slate-300 hover:text-white":"bg-white border-slate-200 text-slate-600 hover:bg-slate-100"},Y=()=>{t(V),A(!1)};return D.jsxs("header",{className:`mb-4 md:mb-8 border-b ${L.headerBg} p-4 md:p-8 rounded-[2rem] md:rounded-[2.5rem] relative z-20 font-black`,children:[D.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center md:items-start gap-4 mb-6 font-black",children:[D.jsxs("div",{className:"flex items-center gap-3 md:gap-4 w-full md:w-auto",children:[D.jsx("img",{src:"https://ff14hunt.blob.core.windows.net/image/icon.webp",alt:"Hunt Logo",className:"w-12 h-12 md:w-16 md:h-16 rounded-2xl border-2 border-yellow-500/30 shrink-0 shadow-lg"}),D.jsxs("div",{className:"text-left font-black",children:[D.jsx("h1",{className:"text-2xl md:text-4xl font-black tracking-tighter leading-none",children:"FFXIV "}),D.jsx("p",{className:"text-slate-500 text-[10px] md:text-xs uppercase tracking-widest font-black opacity-80",children:"FFXIV Hunt Tracker v3.5"})]})]}),D.jsx("div",{className:`w-full md:w-auto px-4 py-2.5 rounded-2xl border-2 flex items-center justify-between md:justify-start gap-3 transition-all ${u?"bg-white/5 border-white/5":"bg-white border-slate-200"}`,children:r&&!r.isAnonymous?D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[D.jsx("img",{src:r.photoURL,alt:"Avatar",className:"w-8 h-8 md:w-10 md:h-10 rounded-full border-2 border-white/20 shrink-0"}),D.jsxs("div",{className:"flex flex-col items-start md:items-end min-w-0",children:[D.jsxs("div",{className:"flex items-center gap-1 text-[9px] md:text-[10px] text-slate-500 uppercase font-bold tracking-wider",children:[D.jsx(FO,{className:"w-3 h-3"})," ",D.jsx("span",{children:""})]}),E?D.jsx("input",{autoFocus:!0,type:"text",value:V,onChange:X=>z(X.target.value),onBlur:Y,onKeyDown:X=>X.key==="Enter"&&Y(),className:`text-sm md:text-xs font-bold bg-transparent border-b-2 ${u?"border-blue-500 text-white":"border-blue-500 text-black"} w-24 focus:outline-none`}):D.jsx("div",{onClick:()=>{z(e),A(!0)},className:`text-sm md:text-xs font-bold cursor-pointer truncate max-w-[100px] ${e?u?"text-slate-200":"text-slate-800":"text-blue-500 animate-pulse"}`,children:e||"..."})]})]}),D.jsx("button",{onClick:o,className:"p-2 bg-red-500/10 text-red-500 rounded-xl hover:bg-red-500 hover:text-white transition-all shrink-0",children:D.jsx(IO,{className:"w-4 h-4"})})]}):D.jsxs("button",{onClick:s,className:"w-full flex items-center justify-center gap-2 text-xs font-bold text-blue-500 hover:text-blue-400 transition-all py-1",children:[D.jsx("div",{className:"p-1.5 bg-blue-500 text-white rounded-lg",children:D.jsx(AO,{className:"w-4 h-4"})}),D.jsx("span",{children:"Google  ()"})]})})]}),D.jsxs("div",{className:"flex flex-col xl:flex-row justify-between items-end gap-4 font-black",children:[D.jsxs("div",{className:"grid grid-cols-3 gap-2 w-full xl:w-auto",children:[D.jsx("button",{onClick:_,className:ve("py-3 rounded-xl border-2 text-[10px] uppercase transition-all font-black flex items-center justify-center gap-1",g?"bg-emerald-600/20 border-emerald-500 text-emerald-400":L.btn),children:g?" ON":""}),D.jsx("button",{onClick:p,className:`py-3 rounded-xl border-2 text-[10px] uppercase font-black ${L.btn}`,children:""}),D.jsx("button",{onClick:()=>v(u?"sunlight":"midnight"),className:`py-3 rounded-xl border-2 text-[10px] uppercase font-black ${L.btn}`,children:u?"":""})]}),D.jsxs("div",{className:"grid grid-cols-3 md:flex md:flex-row gap-2 w-full xl:w-auto",children:[D.jsxs("div",{className:`p-2 md:px-4 md:py-3 rounded-2xl border-2 flex flex-col md:flex-row items-center justify-center md:justify-start gap-1 md:gap-3 ${u?"bg-white/5 border-white/5":"bg-white border-slate-200"}`,children:[D.jsx(NO,{className:"w-4 h-4 md:w-5 md:h-5 text-indigo-400"}),D.jsxs("div",{className:"text-center md:text-left",children:[D.jsx("div",{className:"text-[9px] text-slate-500 uppercase font-black leading-none mb-0.5",children:"Moon"}),D.jsx("div",{className:"text-xs md:text-lg font-black leading-none",children:c.moonLabel})]})]}),D.jsxs("div",{className:`p-2 md:px-4 md:py-3 rounded-2xl border-2 flex flex-col md:flex-row items-center justify-center md:justify-start gap-1 md:gap-3 ${u?"bg-white/5 border-white/5":"bg-white border-slate-200"}`,children:[D.jsx(zO,{className:"w-4 h-4 md:w-5 md:h-5 text-yellow-500"}),D.jsxs("div",{className:"text-center md:text-left",children:[D.jsx("div",{className:"text-[9px] text-slate-500 uppercase font-black leading-none mb-0.5",children:"ET"}),D.jsx("div",{className:"text-sm md:text-2xl font-mono font-black leading-none",children:c.displayTime})]})]}),D.jsxs("div",{className:`p-2 md:px-4 md:py-3 rounded-2xl border-2 flex flex-col md:flex-row items-center justify-center md:justify-start gap-1 md:gap-3 ${u?"bg-blue-500/10 border-blue-500/20":"bg-white border-blue-500/20"}`,children:[D.jsx(hO,{className:"w-4 h-4 md:w-5 md:h-5 text-blue-500"}),D.jsxs("div",{className:"text-center md:text-left",children:[D.jsx("div",{className:"text-[9px] text-slate-500 uppercase font-black leading-none mb-0.5",children:"LT"}),D.jsx("div",{className:"text-sm md:text-xl font-mono font-black leading-none",children:new Date(m).toLocaleTimeString([],{hour12:!1})})]})]})]})]})]})},KO=({alerts:r,onTabChange:e,isMidnight:t,selectedServer:s})=>{const o=re.useRef(null),c=(u,p)=>{let m={bg:"from-slate-500/5",border:"border-slate-300",dot:"bg-slate-400"};return u==="s"?m={bg:"from-emerald-500/20",border:"border-emerald-500",dot:"bg-emerald-500 shadow-[0_0_10px_rgba(16,185,129,0.8)] animate-pulse"}:p.includes("red")&&(m={bg:"from-red-500/15",border:"border-red-500",dot:"bg-red-500 shadow-[0_0_10px_rgba(239,68,68,0.6)] animate-bounce"}),m};return D.jsxs("div",{className:`mb-6 md:mb-10 flex flex-col md:flex-row items-stretch border rounded-[2rem] md:rounded-[2.5rem] overflow-hidden shadow-2xl backdrop-blur-md ${t?"bg-white/5 border-white/5":"bg-white border-slate-200"} font-black`,children:[D.jsxs("div",{className:"w-full md:w-auto h-12 md:h-auto px-6 md:px-8 py-2 md:py-4 bg-gradient-to-r md:bg-gradient-to-br from-blue-600 to-indigo-700 text-white flex md:flex-col flex-row items-center justify-between md:justify-center gap-3 font-black",children:[D.jsxs("div",{className:"flex items-center gap-2 md:gap-0 md:flex-col",children:[D.jsx(CO,{className:"w-5 h-5 md:w-6 md:h-6 animate-bounce"}),D.jsx("span",{className:"text-[10px] md:text-[10px] uppercase font-black tracking-widest mt-0 md:mt-1",children:"Live Feed"})]}),D.jsx("span",{className:"md:hidden text-[10px] opacity-60 font-normal tracking-wider",children:" "})]}),D.jsx("div",{ref:o,className:"flex-1 flex gap-4 overflow-x-auto custom-scrollbar-horizontal py-4 px-4 md:py-6 md:px-6 items-center cursor-grab active:cursor-grabbing select-none font-black",children:r.length>0?r.map(u=>{const p=u.status?.color||"text-slate-500",m=c(u.rank,p);return D.jsxs("div",{onClick:()=>e(u.expKey),className:`relative flex-shrink-0 flex flex-col justify-center px-5 py-3 md:px-6 md:py-3 rounded-r-2xl border-l-[6px] cursor-pointer transition-all duration-300 hover:-translate-y-1 min-w-[160px] md:min-w-[180px] ${m.border} bg-gradient-to-r ${m.bg} to-transparent`,children:[D.jsxs("div",{className:`text-[10px] font-black uppercase tracking-widest mb-1.5 opacity-80 ${t?"text-slate-300":"text-slate-600"}`,children:["[",s,"] ",u.rank.toUpperCase()]}),D.jsxs("div",{className:"flex items-center gap-2.5",children:[D.jsx("div",{className:`w-2.5 h-2.5 rounded-full flex-shrink-0 ${m.dot}`}),D.jsx("div",{className:`text-base md:text-lg font-black tracking-tight leading-none ${t?"text-slate-200":"text-slate-800"}`,children:u.cn})]})]},u.id)}):D.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 opacity-40 select-none font-black",children:[D.jsx($S,{className:"w-4 h-4 animate-spin text-slate-400"}),D.jsx("span",{className:"text-xs text-slate-500 font-bold tracking-widest uppercase",children:"Scanning..."})]})})]})},QO={:"https://ff14hunt.blob.core.windows.net/image/arch_aethereater.webp"," ":"https://ff14hunt.blob.core.windows.net/image/Kirlirger_the_Abhorren.webp",:"https://ff14hunt.blob.core.windows.net/image/Ihnuxokiy.webp",:"https://ff14hunt.blob.core.windows.net/image/Neyoozoteel.webp",:"https://ff14hunt.blob.core.windows.net/image/Sansheya.webp"," ":"https://ff14hunt.blob.core.windows.net/image/Atticus_the_Primogenitor.webp",:"https://ff14hunt.blob.core.windows.net/image/The_Forecaster.webp",:"https://ff14hunt.blob.core.windows.net/image/Ker.webp",:"https://ff14hunt.blob.core.windows.net/image/Burfurlur_the_Canny.webp",:"https://ff14hunt.blob.core.windows.net/image/Sphatika.webp",:"https://ff14hunt.blob.core.windows.net/image/Armstrong.webp",:"https://ff14hunt.blob.core.windows.net/image/Ruminator.webp",:"https://ff14hunt.blob.core.windows.net/image/Ophioneus.webp",:"https://ff14hunt.blob.core.windows.net/image/Narrow-rift.webp",:"https://ff14hunt.blob.core.windows.net/image/The_Forgiven_Rebellion.webp",:"https://ff14hunt.blob.core.windows.net/image/Tyger.webp",:"https://ff14hunt.blob.core.windows.net/image/Forgiven_Pedantry.webp",:"https://ff14hunt.blob.core.windows.net/image/Tarchia.webp",:"https://ff14hunt.blob.core.windows.net/image/Aglaope.webp",:"https://ff14hunt.blob.core.windows.net/image/Ixtab.webp",:"https://ff14hunt.blob.core.windows.net/image/Gunitt.webp",:"https://ff14hunt.blob.core.windows.net/image/Udumbara.webp",:"https://ff14hunt.blob.core.windows.net/image/Bone_Crawler.webp",:"https://ff14hunt.blob.core.windows.net/image/Salt_and_Light.webp",:"https://ff14hunt.blob.core.windows.net/image/Okina.webp",:"https://ff14hunt.blob.core.windows.net/image/Orghana.webp",:"https://ff14hunt.blob.core.windows.net/image/Gamma.webp",:"https://ff14hunt.blob.core.windows.net/image/Leucrotta.webp",:"https://ff14hunt.blob.core.windows.net/image/Kaiser_Behemoth.webp",:"https://ff14hunt.blob.core.windows.net/image/Senmurv.webp",:"https://ff14hunt.blob.core.windows.net/image/The_Pale_Rider.webp",:"https://ff14hunt.blob.core.windows.net/image/Gandarewa.webp",:"https://ff14hunt.blob.core.windows.net/image/Bird_of_Paradise.webp",:"https://ff14hunt.blob.core.windows.net/image/Laideronnette.webp",:"https://ff14hunt.blob.core.windows.net/image/Wulgaru.webp",:"https://ff14hunt.blob.core.windows.net/image/Mindflayer.webp",:"https://ff14hunt.blob.core.windows.net/image/Thousand-cast_Theda.webp",:"https://ff14hunt.blob.core.windows.net/image/Zona_Seeker.webp",:"https://ff14hunt.blob.core.windows.net/image/Brontes.webp",:"https://ff14hunt.blob.core.windows.net/image/Lampalagua.webp",:"https://ff14hunt.blob.core.windows.net/image/Nunyunuwi.webp",:"https://ff14hunt.blob.core.windows.net/image/Minhocao.webp",:"https://ff14hunt.blob.core.windows.net/image/Croque-Mitaine.webp",:"https://ff14hunt.blob.core.windows.net/image/Croakadile.webp",:"https://ff14hunt.blob.core.windows.net/image/the_Garlok.webp",:"https://ff14hunt.blob.core.windows.net/image/Bonnacon.webp",:"https://ff14hunt.blob.core.windows.net/image/Nandi.webp",:"https://ff14hunt.blob.core.windows.net/image/Chernobog.webp",:"https://ff14hunt.blob.core.windows.net/image/Safat.webp",:"https://ff14hunt.blob.core.windows.net/image/Agrippa_the_Mighty.webp"},XO=r=>{if(!r)return"";const e=new Date(r);return`${e.getFullYear()}/${String(e.getMonth()+1).padStart(2,"0")}/${String(e.getDate()).padStart(2,"0")} ${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}`},xE=({mob:r,timer:e,currentTime:t,isMidnight:s,isAdmin:o,server:c,inTrain:u,viewMode:p,onToggleKill:m,onToggleTrain:g,onOpenHistory:_,isEditing:v,editTimeVal:E,setEditTimeVal:A,onToggleEdit:V,onManualSubmit:z})=>{const[L,Y]=re.useState(!1),X=e?.endTime>t,te=r.rank==="ss"||r.zone.includes(""),ie=rO(r,t),fe=ie&&ie.includes(""),ae=QO[r.cn],I={card:s?"bg-[#1a1d27] border-white/5 shadow-2xl":"bg-white border-slate-200 shadow-sm",btn:s?"bg-[#252a3a] border-white/10 text-slate-300 hover:text-white":"bg-white border-slate-200 text-slate-600 hover:bg-slate-100",specialKing:s?"bg-gradient-to-br from-amber-900/60 via-purple-900/40 to-slate-900/80 border-amber-500/40":"bg-gradient-to-br from-amber-50 to-purple-50 border-amber-300/60",readyGlowS:s?"border-yellow-500/40 shadow-[0_0_25px_rgba(234,179,8,0.25)] ring-2 ring-yellow-500/20":"border-yellow-500/50 bg-yellow-50/5",readyGlowA:s?"border-blue-500/40 shadow-[0_0_25px_rgba(59,130,246,0.25)] ring-2 ring-blue-500/20":"border-blue-500/50 bg-blue-50/5"};let x="",C=s?"text-slate-400 font-black":"text-slate-500 font-black";X?(x="",C=s?"text-blue-400 font-black":"text-blue-600 font-black"):r.rank==="s"?(x="",C=s?"text-emerald-400 font-black":"text-emerald-600 font-black"):(x="",C=s?"text-emerald-400 font-black":"text-emerald-600 font-black"),te&&(x="",C="text-purple-500 font-black animate-pulse");const M=s?"text-white":"text-slate-900",O=s?"text-slate-400":"text-slate-500",U=D.jsxs("div",{className:ve("mt-4 p-4 rounded-2xl border flex flex-col md:flex-row gap-3 animate-in slide-in-from-top-2",s?"bg-black/40 border-white/10":"bg-slate-50 border-slate-200"),children:[D.jsxs("div",{className:"flex-1",children:[D.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-500 mb-1 block",children:""}),D.jsx("input",{type:"datetime-local",value:E,onChange:R=>A?.(R.target.value),onClick:R=>R.stopPropagation(),className:ve("w-full p-2 rounded-xl text-sm font-mono outline-none border transition-all",s?"bg-black/20 border-white/10 focus:border-blue-500 text-white":"bg-white border-slate-300 focus:border-blue-500")})]}),D.jsx("button",{onClick:R=>{R.stopPropagation(),z?.()},className:"self-end px-6 py-2.5 bg-blue-600 text-white rounded-xl text-xs font-black shadow-lg hover:bg-blue-500 transition-all active:scale-95",children:""})]});return p==="list"?D.jsxs("div",{className:ve("flex flex-col border-b last:border-0 font-black",s?"border-white/5":"border-slate-100"),children:[D.jsxs("div",{onClick:()=>Y(!L),className:ve("p-4 flex items-center justify-between cursor-pointer transition-all",X?"hover:bg-white/5":s?"bg-emerald-500/10":"bg-emerald-50/5"),children:[D.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[D.jsxs("span",{className:"text-[10px] text-blue-500 w-12 shrink-0 font-black",children:["[",c.slice(0,2),"]"]}),D.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[D.jsxs("div",{className:"flex flex-wrap items-baseline gap-2 mb-0.5",children:[D.jsx("span",{className:"text-[10px] text-slate-500 uppercase truncate font-black",children:r.zone}),D.jsx("span",{className:ve("md:hidden text-[10px] font-bold",C),children:x})]}),D.jsxs("div",{className:ve("flex items-center gap-2 text-base font-black truncate",M),children:[r.cn," ",te&&D.jsx(wE,{className:"w-3 h-3 text-amber-500 fill-current"})]}),!X&&ie&&!ie.includes("")&&D.jsx("div",{className:"mt-1",children:fe?D.jsxs("span",{className:"text-[10px] text-emerald-500 font-mono font-bold flex items-center gap-1 animate-pulse",children:["  ",ie.replace("","")]}):D.jsxs("span",{className:ve("text-[10px] font-mono font-bold flex items-center gap-1",s?"text-purple-400":"text-purple-600"),children:[" ",ie]})})]}),D.jsx("div",{className:ve("hidden md:block text-sm font-black whitespace-nowrap min-w-[80px] text-right",C),children:x})]}),!te&&D.jsxs("div",{className:"flex gap-2 shrink-0 ml-4",children:[o&&D.jsx("button",{onClick:R=>{R.stopPropagation(),V?.()},className:ve("p-2 rounded-lg border transition-colors font-black",I.btn),children:D.jsx(SE,{className:"w-4 h-4"})}),D.jsx("button",{onClick:R=>{R.stopPropagation(),_()},className:ve("p-2 rounded-lg border transition-colors font-black",I.btn),children:D.jsx(qm,{className:"w-4 h-4"})}),D.jsx("button",{onClick:R=>{R.stopPropagation(),g()},className:ve("p-2 rounded-lg border transition-colors font-black",u?"bg-emerald-600 text-white border-emerald-500":I.btn),children:u?D.jsx(bE,{className:"w-4 h-4"}):D.jsx(TE,{className:"w-4 h-4"})}),D.jsx("button",{onClick:R=>{R.stopPropagation(),m()},className:ve("p-2 rounded-lg text-white shadow-lg active:scale-95 transition-transform font-black",X?"bg-red-600":"bg-emerald-600"),children:X?D.jsx(AE,{className:"w-4 h-4"}):D.jsx(EE,{className:"w-4 h-4"})})]})]}),(L||v)&&D.jsxs("div",{className:ve("px-4 pb-4 md:px-12 md:pb-6",s?"bg-white/5":"bg-slate-50"),children:[v&&U,L&&D.jsxs("div",{className:ve("p-4 mt-2 text-xs font-mono border-l-4 border-blue-500 rounded-r-xl",s?"bg-white/5 text-slate-400":"bg-white text-slate-600 border"),children:[e?.startTime&&D.jsxs("div",{className:"mb-2 opacity-70 font-bold",children:[": ",XO(e.startTime)]}),D.jsx("div",{className:"leading-relaxed",children:r.trigger||""})]})]})]}):D.jsxs("div",{className:ve(I.card,"relative overflow-hidden rounded-[2rem] md:rounded-[3.5rem] border-2 p-5 md:p-12 transition-all duration-300 font-black group",!X&&!te?r.rank==="s"?I.readyGlowS:I.readyGlowA:"",te?I.specialKing:""),children:[ae&&D.jsx("div",{className:ve("monster-bg-art",s?"theme-midnight":"theme-sunlight"),children:D.jsx("img",{src:ae,alt:r.cn})}),D.jsx("div",{className:"relative z-10 flex flex-col font-black w-full text-left",children:D.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start mb-4",children:[D.jsxs("div",{className:"w-full md:pr-10",children:[D.jsxs("div",{className:"flex items-center flex-wrap gap-2 mb-4",children:[D.jsx("span",{className:ve("text-[10px] px-3 py-1 rounded-lg font-black uppercase tracking-wider",r.expKey==="arr"?"bg-emerald-600 text-white":"bg-blue-600 text-white"),children:r.zone.split(" ")[0]}),te&&D.jsxs("span",{className:"bg-purple-500 text-white text-[10px] px-3 py-1 rounded-lg flex items-center gap-1 shadow-md font-black uppercase",children:[D.jsx(wE,{className:"w-3 h-3 fill-current"})," SPECIAL"]})]}),D.jsx("h3",{className:ve("text-3xl md:text-5xl mb-2 font-black tracking-tight leading-tight drop-shadow-md",M),children:r.cn}),D.jsx("p",{className:ve("text-sm md:text-base opacity-40 mb-2 italic font-black",O),children:r.jp}),D.jsx("div",{className:"text-xs md:text-sm text-slate-500 mb-4 uppercase tracking-widest font-black",children:r.zone}),D.jsx("div",{className:ve("text-base md:text-2xl font-black tracking-widest uppercase mb-2 flex items-center gap-3",C),children:x}),!X&&ie&&ie!==""&&!te&&D.jsxs("div",{className:"mb-6 flex flex-col gap-1",children:[D.jsx("span",{className:ve("text-[10px] font-bold",fe?"text-red-500 animate-pulse":"opacity-60"),children:fe?" ":" "}),D.jsx("span",{className:ve("text-sm md:text-lg font-mono font-black px-2 py-1 rounded-lg w-fit",fe?"bg-emerald-600 text-white shadow-lg animate-pulse":"bg-slate-200 text-slate-600"),children:ie.replace("","").replace("","")})]}),r.trigger&&D.jsxs("div",{className:ve("mb-4 p-4 rounded-2xl text-xs md:text-sm leading-relaxed border-l-4 backdrop-blur-sm shadow-sm",s?"bg-blue-900/30 border-blue-500 text-slate-200":"bg-white/60 border-blue-400 text-slate-800"),children:[D.jsx("span",{className:"block font-bold mb-1 opacity-80 text-blue-400 uppercase tracking-wider text-[10px]",children:"Trigger Condition"}),r.trigger]}),v&&U]}),!te&&D.jsxs("div",{className:"flex flex-row md:flex-col items-center gap-2 md:gap-5 mt-6 md:mt-0 pt-4 md:pt-0 border-t md:border-t-0 border-dashed border-white/10 w-full md:w-auto shrink-0",children:[o&&D.jsx("button",{onClick:R=>{R.stopPropagation(),V?.()},className:ve("flex-1 md:flex-none p-3.5 md:p-6 rounded-2xl border-2 justify-center flex items-center transition-all hover:scale-110 font-black",I.btn),children:D.jsx(SE,{className:"w-6 h-6 md:w-8 md:h-8"})}),D.jsx("button",{onClick:R=>{R.stopPropagation(),_()},className:ve("flex-1 md:flex-none p-3.5 md:p-6 rounded-2xl border-2 justify-center flex items-center transition-all hover:scale-110 font-black",I.btn),children:D.jsx(qm,{className:"w-6 h-6 md:w-8 md:h-8"})}),D.jsx("button",{onClick:R=>{R.stopPropagation(),g()},className:ve("flex-1 md:flex-none p-3.5 md:p-6 rounded-2xl border-2 justify-center flex items-center transition-all hover:scale-110 font-black",u?"bg-emerald-600 text-white border-emerald-500":I.btn),children:u?D.jsx(bE,{className:"w-6 h-6 md:w-8 md:h-8"}):D.jsx(TE,{className:"w-6 h-6 md:w-8 md:h-8"})}),D.jsx("button",{onClick:R=>{R.stopPropagation(),m()},className:ve("flex-[2] md:flex-none p-3.5 md:p-6 rounded-2xl border-2 shadow-lg justify-center flex items-center transition-all active:scale-95 hover:scale-110 font-black",X?s?"bg-red-950/40 border-red-500/50 text-red-500":"bg-red-600 text-white":s?"bg-emerald-950/40 border-emerald-500/50 text-emerald-400":"bg-emerald-600 text-white"),children:X?D.jsx(AE,{className:"w-6 h-6 md:w-8 md:h-8"}):D.jsx(EE,{className:"w-6 h-6 md:w-8 md:h-8"})})]})]})})]})};var Fg=dw();const WO=Jm(Fg);function vn(r){return`Minified Redux error #${r}; visit https://redux.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var JO=typeof Symbol=="function"&&Symbol.observable||"@@observable",IE=JO,RE=()=>Math.random().toString(36).substring(7).split("").join("."),ZO={INIT:`@@redux/INIT${RE()}`,REPLACE:`@@redux/REPLACE${RE()}`},CE=ZO;function eM(r){if(typeof r!="object"||r===null)return!1;let e=r;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e||Object.getPrototypeOf(r)===null}function YS(r,e,t){if(typeof r!="function")throw new Error(vn(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(vn(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(vn(1));return t(YS)(r,e)}let s=r,o=e,c=new Map,u=c,p=0,m=!1;function g(){u===c&&(u=new Map,c.forEach((L,Y)=>{u.set(Y,L)}))}function _(){if(m)throw new Error(vn(3));return o}function v(L){if(typeof L!="function")throw new Error(vn(4));if(m)throw new Error(vn(5));let Y=!0;g();const X=p++;return u.set(X,L),function(){if(Y){if(m)throw new Error(vn(6));Y=!1,g(),u.delete(X),c=null}}}function E(L){if(!eM(L))throw new Error(vn(7));if(typeof L.type>"u")throw new Error(vn(8));if(typeof L.type!="string")throw new Error(vn(17));if(m)throw new Error(vn(9));try{m=!0,o=s(o,L)}finally{m=!1}return(c=u).forEach(X=>{X()}),L}function A(L){if(typeof L!="function")throw new Error(vn(10));s=L,E({type:CE.REPLACE})}function V(){const L=v;return{subscribe(Y){if(typeof Y!="object"||Y===null)throw new Error(vn(11));function X(){const ie=Y;ie.next&&ie.next(_())}return X(),{unsubscribe:L(X)}},[IE](){return this}}}return E({type:CE.INIT}),{dispatch:E,subscribe:v,getState:_,replaceReducer:A,[IE]:V}}function DE(r,e){return function(...t){return e(r.apply(this,t))}}function NE(r,e){if(typeof r=="function")return DE(r,e);if(typeof r!="object"||r===null)throw new Error(vn(16));const t={};for(const s in r){const o=r[s];typeof o=="function"&&(t[s]=DE(o,e))}return t}function KS(...r){return r.length===0?e=>e:r.length===1?r[0]:r.reduce((e,t)=>(...s)=>e(t(...s)))}function tM(...r){return e=>(t,s)=>{const o=e(t,s);let c=()=>{throw new Error(vn(15))};const u={getState:o.getState,dispatch:(m,...g)=>c(m,...g)},p=r.map(m=>m(u));return c=KS(...p)(o.dispatch),{...o,dispatch:c}}}var sm={exports:{}},am={};var OE;function nM(){if(OE)return am;OE=1;var r=yd();function e(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var t=typeof Object.is=="function"?Object.is:e,s=r.useSyncExternalStore,o=r.useRef,c=r.useEffect,u=r.useMemo,p=r.useDebugValue;return am.useSyncExternalStoreWithSelector=function(m,g,_,v,E){var A=o(null);if(A.current===null){var V={hasValue:!1,value:null};A.current=V}else V=A.current;A=u(function(){function L(fe){if(!Y){if(Y=!0,X=fe,fe=v(fe),E!==void 0&&V.hasValue){var ae=V.value;if(E(ae,fe))return te=ae}return te=fe}if(ae=te,t(X,fe))return ae;var I=v(fe);return E!==void 0&&E(ae,I)?(X=fe,ae):(X=fe,te=I)}var Y=!1,X,te,ie=_===void 0?null:_;return[function(){return L(g())},ie===null?void 0:function(){return L(ie())}]},[g,_,v,E]);var z=s(m,A[0],A[1]);return c(function(){V.hasValue=!0,V.value=z},[z]),p(z),z},am}var ME;function rM(){return ME||(ME=1,sm.exports=nM()),sm.exports}rM();var iM=re.version.startsWith("19"),sM=Symbol.for(iM?"react.transitional.element":"react.element"),aM=Symbol.for("react.portal"),oM=Symbol.for("react.fragment"),lM=Symbol.for("react.strict_mode"),cM=Symbol.for("react.profiler"),uM=Symbol.for("react.consumer"),fM=Symbol.for("react.context"),QS=Symbol.for("react.forward_ref"),dM=Symbol.for("react.suspense"),hM=Symbol.for("react.suspense_list"),$g=Symbol.for("react.memo"),pM=Symbol.for("react.lazy"),mM=QS,gM=$g;function yM(r){if(typeof r=="object"&&r!==null){const{$$typeof:e}=r;switch(e){case sM:switch(r=r.type,r){case oM:case cM:case lM:case dM:case hM:return r;default:switch(r=r&&r.$$typeof,r){case fM:case QS:case pM:case $g:return r;case uM:return r;default:return e}}case aM:return e}}}function vM(r){return yM(r)===$g}function _M(r,e,t,s,{areStatesEqual:o,areOwnPropsEqual:c,areStatePropsEqual:u}){let p=!1,m,g,_,v,E;function A(X,te){return m=X,g=te,_=r(m,g),v=e(s,g),E=t(_,v,g),p=!0,E}function V(){return _=r(m,g),e.dependsOnOwnProps&&(v=e(s,g)),E=t(_,v,g),E}function z(){return r.dependsOnOwnProps&&(_=r(m,g)),e.dependsOnOwnProps&&(v=e(s,g)),E=t(_,v,g),E}function L(){const X=r(m,g),te=!u(X,_);return _=X,te&&(E=t(_,v,g)),E}function Y(X,te){const ie=!c(te,g),fe=!o(X,m,te,g);return m=X,g=te,ie&&fe?V():ie?z():fe?L():E}return function(te,ie){return p?Y(te,ie):A(te,ie)}}function bM(r,{initMapStateToProps:e,initMapDispatchToProps:t,initMergeProps:s,...o}){const c=e(r,o),u=t(r,o),p=s(r,o);return _M(c,u,p,r,o)}function EM(r,e){const t={};for(const s in r){const o=r[s];typeof o=="function"&&(t[s]=(...c)=>e(o(...c)))}return t}function Gm(r){return function(t){const s=r(t);function o(){return s}return o.dependsOnOwnProps=!1,o}}function VE(r){return r.dependsOnOwnProps?!!r.dependsOnOwnProps:r.length!==1}function XS(r,e){return function(s,{displayName:o}){const c=function(p,m){return c.dependsOnOwnProps?c.mapToProps(p,m):c.mapToProps(p,void 0)};return c.dependsOnOwnProps=!0,c.mapToProps=function(p,m){c.mapToProps=r,c.dependsOnOwnProps=VE(r);let g=c(p,m);return typeof g=="function"&&(c.mapToProps=g,c.dependsOnOwnProps=VE(g),g=c(p,m)),g},c}}function Yg(r,e){return(t,s)=>{throw new Error(`Invalid value of type ${typeof r} for ${e} argument when connecting component ${s.wrappedComponentName}.`)}}function wM(r){return r&&typeof r=="object"?Gm(e=>EM(r,e)):r?typeof r=="function"?XS(r):Yg(r,"mapDispatchToProps"):Gm(e=>({dispatch:e}))}function TM(r){return r?typeof r=="function"?XS(r):Yg(r,"mapStateToProps"):Gm(()=>({}))}function SM(r,e,t){return{...t,...r,...e}}function AM(r){return function(t,{displayName:s,areMergedPropsEqual:o}){let c=!1,u;return function(m,g,_){const v=r(m,g,_);return c?o(v,u)||(u=v):(c=!0,u=v),u}}}function xM(r){return r?typeof r=="function"?AM(r):Yg(r,"mergeProps"):()=>SM}function IM(r){r()}function RM(){let r=null,e=null;return{clear(){r=null,e=null},notify(){IM(()=>{let t=r;for(;t;)t.callback(),t=t.next})},get(){const t=[];let s=r;for(;s;)t.push(s),s=s.next;return t},subscribe(t){let s=!0;const o=e={callback:t,next:null,prev:e};return o.prev?o.prev.next=o:r=o,function(){!s||r===null||(s=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:r=o.next)}}}}var PE={notify(){},get:()=>[]};function WS(r,e){let t,s=PE,o=0,c=!1;function u(z){_();const L=s.subscribe(z);let Y=!1;return()=>{Y||(Y=!0,L(),v())}}function p(){s.notify()}function m(){V.onStateChange&&V.onStateChange()}function g(){return c}function _(){o++,t||(t=e?e.addNestedSub(m):r.subscribe(m),s=RM())}function v(){o--,t&&o===0&&(t(),t=void 0,s.clear(),s=PE)}function E(){c||(c=!0,_())}function A(){c&&(c=!1,v())}const V={addNestedSub:u,notifyNestedSubs:p,handleChangeWrapper:m,isSubscribed:g,trySubscribe:E,tryUnsubscribe:A,getListeners:()=>s};return V}var CM=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",DM=CM(),NM=()=>typeof navigator<"u"&&navigator.product==="ReactNative",OM=NM(),MM=()=>DM||OM?re.useLayoutEffect:re.useEffect,ld=MM();function kE(r,e){return r===e?r!==0||e!==0||1/r===1/e:r!==r&&e!==e}function om(r,e){if(kE(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;const t=Object.keys(r),s=Object.keys(e);if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(!Object.prototype.hasOwnProperty.call(e,t[o])||!kE(r[t[o]],e[t[o]]))return!1;return!0}var VM={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},PM={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},kM={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},JS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},LM={[mM]:kM,[gM]:JS};function LE(r){return vM(r)?JS:LM[r.$$typeof]||VM}var UM=Object.defineProperty,zM=Object.getOwnPropertyNames,UE=Object.getOwnPropertySymbols,jM=Object.getOwnPropertyDescriptor,BM=Object.getPrototypeOf,zE=Object.prototype;function Fm(r,e){if(typeof e!="string"){if(zE){const c=BM(e);c&&c!==zE&&Fm(r,c)}let t=zM(e);UE&&(t=t.concat(UE(e)));const s=LE(r),o=LE(e);for(let c=0;c<t.length;++c){const u=t[c];if(!PM[u]&&!(o&&o[u])&&!(s&&s[u])){const p=jM(e,u);try{UM(r,u,p)}catch{}}}}return r}var HM=Symbol.for("react-redux-context"),qM=typeof globalThis<"u"?globalThis:{};function GM(){if(!re.createContext)return{};const r=qM[HM]??=new Map;let e=r.get(re.createContext);return e||(e=re.createContext(null),r.set(re.createContext,e)),e}var ZS=GM(),FM=[null,null];function $M(r,e,t){ld(()=>r(...e),t)}function YM(r,e,t,s,o,c){r.current=s,t.current=!1,o.current&&(o.current=null,c())}function KM(r,e,t,s,o,c,u,p,m,g,_){if(!r)return()=>{};let v=!1,E=null;const A=()=>{if(v||!p.current)return;const z=e.getState();let L,Y;try{L=s(z,o.current)}catch(X){Y=X,E=X}Y||(E=null),L===c.current?u.current||g():(c.current=L,m.current=L,u.current=!0,_())};return t.onStateChange=A,t.trySubscribe(),A(),()=>{if(v=!0,t.tryUnsubscribe(),t.onStateChange=null,E)throw E}}function QM(r,e){return r===e}function XM(r,e,t,{pure:s,areStatesEqual:o=QM,areOwnPropsEqual:c=om,areStatePropsEqual:u=om,areMergedPropsEqual:p=om,forwardRef:m=!1,context:g=ZS}={}){const _=g,v=TM(r),E=wM(e),A=xM(t),V=!!r;return L=>{const Y=L.displayName||L.name||"Component",X=`Connect(${Y})`,te={shouldHandleStateChanges:V,displayName:X,wrappedComponentName:Y,WrappedComponent:L,initMapStateToProps:v,initMapDispatchToProps:E,initMergeProps:A,areStatesEqual:o,areStatePropsEqual:u,areOwnPropsEqual:c,areMergedPropsEqual:p};function ie(I){const[x,C,M]=re.useMemo(()=>{const{reactReduxForwardedRef:St,...bn}=I;return[I.context,St,bn]},[I]),O=re.useMemo(()=>{let St=_;return x?.Consumer,St},[x,_]),U=re.useContext(O),R=!!I.store&&!!I.store.getState&&!!I.store.dispatch,Xe=!!U&&!!U.store,Ge=R?I.store:U.store,K=Xe?U.getServerState:Ge.getState,se=re.useMemo(()=>bM(Ge.dispatch,te),[Ge]),[me,Me]=re.useMemo(()=>{if(!V)return FM;const St=WS(Ge,R?void 0:U.subscription),bn=St.notifyNestedSubs.bind(St);return[St,bn]},[Ge,R,U]),Fe=re.useMemo(()=>R?U:{...U,subscription:me},[R,U,me]),P=re.useRef(void 0),W=re.useRef(M),oe=re.useRef(void 0),de=re.useRef(!1),Te=re.useRef(!1),Se=re.useRef(void 0);ld(()=>(Te.current=!0,()=>{Te.current=!1}),[]);const ke=re.useMemo(()=>()=>oe.current&&M===W.current?oe.current:se(Ge.getState(),M),[Ge,M]),Et=re.useMemo(()=>bn=>me?KM(V,Ge,me,se,W,P,de,Te,oe,Me,bn):()=>{},[me]);$M(YM,[W,P,de,M,oe,Me]);let Ze;try{Ze=re.useSyncExternalStore(Et,ke,K?()=>se(K(),M):ke)}catch(St){throw Se.current&&(St.message+=`
The error may be correlated with this previous error:
${Se.current.stack}

`),St}ld(()=>{Se.current=void 0,oe.current=void 0,P.current=Ze});const Dn=re.useMemo(()=>re.createElement(L,{...Ze,ref:C}),[C,L,Ze]);return re.useMemo(()=>V?re.createElement(O.Provider,{value:Fe},Dn):Dn,[O,Dn,Fe])}const ae=re.memo(ie);if(ae.WrappedComponent=L,ae.displayName=ie.displayName=X,m){const x=re.forwardRef(function(M,O){return re.createElement(ae,{...M,reactReduxForwardedRef:O})});return x.displayName=X,x.WrappedComponent=L,Fm(x,L)}return Fm(ae,L)}}var e1=XM;function WM(r){const{children:e,context:t,serverState:s,store:o}=r,c=re.useMemo(()=>{const m=WS(o);return{store:o,subscription:m,getServerState:s?()=>s:void 0}},[o,s]),u=re.useMemo(()=>o.getState(),[o]);ld(()=>{const{subscription:m}=c;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),u!==o.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[c,u]);const p=t||ZS;return re.createElement(p.Provider,{value:c},e)}var JM=WM,ZM="Invariant failed";function eV(r,e){throw new Error(ZM)}var Sr=function(e){var t=e.top,s=e.right,o=e.bottom,c=e.left,u=s-c,p=o-t,m={top:t,right:s,bottom:o,left:c,width:u,height:p,x:c,y:t,center:{x:(s+c)/2,y:(o+t)/2}};return m},Kg=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},jE=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},tV=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},lm={top:0,right:0,bottom:0,left:0},Qg=function(e){var t=e.borderBox,s=e.margin,o=s===void 0?lm:s,c=e.border,u=c===void 0?lm:c,p=e.padding,m=p===void 0?lm:p,g=Sr(Kg(t,o)),_=Sr(jE(t,u)),v=Sr(jE(_,m));return{marginBox:g,borderBox:Sr(t),paddingBox:_,contentBox:v,margin:o,border:u,padding:m}},rr=function(e){var t=e.slice(0,-2),s=e.slice(-2);if(s!=="px")return 0;var o=Number(t);return isNaN(o)&&eV(),o},nV=function(){return{x:window.pageXOffset,y:window.pageYOffset}},cd=function(e,t){var s=e.borderBox,o=e.border,c=e.margin,u=e.padding,p=tV(s,t);return Qg({borderBox:p,border:o,margin:c,padding:u})},ud=function(e,t){return t===void 0&&(t=nV()),cd(e,t)},t1=function(e,t){var s={top:rr(t.marginTop),right:rr(t.marginRight),bottom:rr(t.marginBottom),left:rr(t.marginLeft)},o={top:rr(t.paddingTop),right:rr(t.paddingRight),bottom:rr(t.paddingBottom),left:rr(t.paddingLeft)},c={top:rr(t.borderTopWidth),right:rr(t.borderRightWidth),bottom:rr(t.borderBottomWidth),left:rr(t.borderLeftWidth)};return Qg({borderBox:e,margin:s,padding:o,border:c})},n1=function(e){var t=e.getBoundingClientRect(),s=window.getComputedStyle(e);return t1(t,s)},Tc=function(e){var t=[],s=null,o=function(){for(var u=arguments.length,p=new Array(u),m=0;m<u;m++)p[m]=arguments[m];t=p,!s&&(s=requestAnimationFrame(function(){s=null,e.apply(void 0,t)}))};return o.cancel=function(){s&&(cancelAnimationFrame(s),s=null)},o};function fd(){return fd=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)({}).hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},fd.apply(null,arguments)}function r1(r,e){}r1.bind(null,"warn");r1.bind(null,"error");function As(){}function rV(r,e){return{...r,...e}}function or(r,e,t){const s=e.map(o=>{const c=rV(t,o.options);return r.addEventListener(o.eventName,o.fn,c),function(){r.removeEventListener(o.eventName,o.fn,c)}});return function(){s.forEach(c=>{c()})}}const iV="Invariant failed";class dd extends Error{}dd.prototype.toString=function(){return this.message};function le(r,e){throw new dd(iV)}class sV extends bt.Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=As,this.onWindowError=t=>{const s=this.getCallbacks();s.isDragging()&&s.tryAbort(),t.error instanceof dd&&t.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=t=>{this.callbacks=t}}componentDidMount(){this.unbind=or(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(e instanceof dd){this.setState({});return}throw e}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const aV=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,hd=r=>r+1,oV=r=>`
  You have lifted an item in position ${hd(r.source.index)}
`,i1=(r,e)=>{const t=r.droppableId===e.droppableId,s=hd(r.index),o=hd(e.index);return t?`
      You have moved the item from position ${s}
      to position ${o}
    `:`
    You have moved the item from position ${s}
    in list ${r.droppableId}
    to list ${e.droppableId}
    in position ${o}
  `},s1=(r,e,t)=>e.droppableId===t.droppableId?`
      The item ${r}
      has been combined with ${t.draggableId}`:`
      The item ${r}
      in list ${e.droppableId}
      has been combined with ${t.draggableId}
      in list ${t.droppableId}
    `,lV=r=>{const e=r.destination;if(e)return i1(r.source,e);const t=r.combine;return t?s1(r.draggableId,r.source,t):"You are over an area that cannot be dropped on"},BE=r=>`
  The item has returned to its starting position
  of ${hd(r.index)}
`,cV=r=>{if(r.reason==="CANCEL")return`
      Movement cancelled.
      ${BE(r.source)}
    `;const e=r.destination,t=r.combine;return e?`
      You have dropped the item.
      ${i1(r.source,e)}
    `:t?`
      You have dropped the item.
      ${s1(r.draggableId,r.source,t)}
    `:`
    The item has been dropped while not over a drop area.
    ${BE(r.source)}
  `},zf={dragHandleUsageInstructions:aV,onDragStart:oV,onDragUpdate:lV,onDragEnd:cV};function uV(r,e){return!!(r===e||Number.isNaN(r)&&Number.isNaN(e))}function a1(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(!uV(r[t],e[t]))return!1;return!0}function Qe(r,e){const t=re.useState(()=>({inputs:e,result:r()}))[0],s=re.useRef(!0),o=re.useRef(t),u=s.current||!!(e&&o.current.inputs&&a1(e,o.current.inputs))?o.current:{inputs:e,result:r()};return re.useEffect(()=>{s.current=!1,o.current=u},[u]),u.result}function _e(r,e){return Qe(()=>r,e)}const Jt={x:0,y:0},ln=(r,e)=>({x:r.x+e.x,y:r.y+e.y}),Bn=(r,e)=>({x:r.x-e.x,y:r.y-e.y}),xs=(r,e)=>r.x===e.x&&r.y===e.y,$o=r=>({x:r.x!==0?-r.x:0,y:r.y!==0?-r.y:0}),Sa=(r,e,t=0)=>r==="x"?{x:e,y:t}:{x:t,y:e},Sc=(r,e)=>Math.sqrt((e.x-r.x)**2+(e.y-r.y)**2),HE=(r,e)=>Math.min(...e.map(t=>Sc(r,t))),o1=r=>e=>({x:r(e.x),y:r(e.y)});var fV=(r,e)=>{const t=Sr({top:Math.max(e.top,r.top),right:Math.min(e.right,r.right),bottom:Math.min(e.bottom,r.bottom),left:Math.max(e.left,r.left)});return t.width<=0||t.height<=0?null:t};const Bc=(r,e)=>({top:r.top+e.y,left:r.left+e.x,bottom:r.bottom+e.y,right:r.right+e.x}),qE=r=>[{x:r.left,y:r.top},{x:r.right,y:r.top},{x:r.left,y:r.bottom},{x:r.right,y:r.bottom}],dV={top:0,right:0,bottom:0,left:0},hV=(r,e)=>e?Bc(r,e.scroll.diff.displacement):r,pV=(r,e,t)=>t&&t.increasedBy?{...r,[e.end]:r[e.end]+t.increasedBy[e.line]}:r,mV=(r,e)=>e&&e.shouldClipSubject?fV(e.pageMarginBox,r):Sr(r);var Po=({page:r,withPlaceholder:e,axis:t,frame:s})=>{const o=hV(r.marginBox,s),c=pV(o,t,e),u=mV(c,s);return{page:r,withPlaceholder:e,active:u}},Xg=(r,e)=>{r.frame||le();const t=r.frame,s=Bn(e,t.scroll.initial),o=$o(s),c={...t,scroll:{initial:t.scroll.initial,current:e,diff:{value:s,displacement:o},max:t.scroll.max}},u=Po({page:r.subject.page,withPlaceholder:r.subject.withPlaceholder,axis:r.axis,frame:c});return{...r,frame:c,subject:u}};function Wt(r,e=a1){let t=null;function s(...o){if(t&&t.lastThis===this&&e(o,t.lastArgs))return t.lastResult;const c=r.apply(this,o);return t={lastResult:c,lastArgs:o,lastThis:this},c}return s.clear=function(){t=null},s}const l1=Wt(r=>r.reduce((e,t)=>(e[t.descriptor.id]=t,e),{})),c1=Wt(r=>r.reduce((e,t)=>(e[t.descriptor.id]=t,e),{})),Ld=Wt(r=>Object.values(r)),gV=Wt(r=>Object.values(r));var Yo=Wt((r,e)=>gV(e).filter(s=>r===s.descriptor.droppableId).sort((s,o)=>s.descriptor.index-o.descriptor.index));function Wg(r){return r.at&&r.at.type==="REORDER"?r.at.destination:null}function Ud(r){return r.at&&r.at.type==="COMBINE"?r.at.combine:null}var zd=Wt((r,e)=>e.filter(t=>t.descriptor.id!==r.descriptor.id)),yV=({isMovingForward:r,draggable:e,destination:t,insideDestination:s,previousImpact:o})=>{if(!t.isCombineEnabled||!Wg(o))return null;function u(A){const V={type:"COMBINE",combine:{draggableId:A,droppableId:t.descriptor.id}};return{...o,at:V}}const p=o.displaced.all,m=p.length?p[0]:null;if(r)return m?u(m):null;const g=zd(e,s);if(!m){if(!g.length)return null;const A=g[g.length-1];return u(A.descriptor.id)}const _=g.findIndex(A=>A.descriptor.id===m);_===-1&&le();const v=_-1;if(v<0)return null;const E=g[v];return u(E.descriptor.id)},Ko=(r,e)=>r.descriptor.droppableId===e.descriptor.id;const u1={point:Jt,value:0},Ac={invisible:{},visible:{},all:[]},vV={displaced:Ac,displacedBy:u1,at:null};var lr=(r,e)=>t=>r<=t&&t<=e,f1=r=>{const e=lr(r.top,r.bottom),t=lr(r.left,r.right);return s=>{if(e(s.top)&&e(s.bottom)&&t(s.left)&&t(s.right))return!0;const c=e(s.top)||e(s.bottom),u=t(s.left)||t(s.right);if(c&&u)return!0;const m=s.top<r.top&&s.bottom>r.bottom,g=s.left<r.left&&s.right>r.right;return m&&g?!0:m&&u||g&&c}},_V=r=>{const e=lr(r.top,r.bottom),t=lr(r.left,r.right);return s=>e(s.top)&&e(s.bottom)&&t(s.left)&&t(s.right)};const Jg={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},d1={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var bV=r=>e=>{const t=lr(e.top,e.bottom),s=lr(e.left,e.right);return o=>r===Jg?t(o.top)&&t(o.bottom):s(o.left)&&s(o.right)};const EV=(r,e)=>{const t=e.frame?e.frame.scroll.diff.displacement:Jt;return Bc(r,t)},wV=(r,e,t)=>e.subject.active?t(e.subject.active)(r):!1,TV=(r,e,t)=>t(e)(r),Zg=({target:r,destination:e,viewport:t,withDroppableDisplacement:s,isVisibleThroughFrameFn:o})=>{const c=s?EV(r,e):r;return wV(c,e,o)&&TV(c,t,o)},SV=r=>Zg({...r,isVisibleThroughFrameFn:f1}),h1=r=>Zg({...r,isVisibleThroughFrameFn:_V}),AV=r=>Zg({...r,isVisibleThroughFrameFn:bV(r.destination.axis)}),xV=(r,e,t)=>{if(typeof t=="boolean")return t;if(!e)return!0;const{invisible:s,visible:o}=e;if(s[r])return!1;const c=o[r];return c?c.shouldAnimate:!0};function IV(r,e){const t=r.page.marginBox,s={top:e.point.y,right:0,bottom:0,left:e.point.x};return Sr(Kg(t,s))}function xc({afterDragging:r,destination:e,displacedBy:t,viewport:s,forceShouldAnimate:o,last:c}){return r.reduce(function(p,m){const g=IV(m,t),_=m.descriptor.id;if(p.all.push(_),!SV({target:g,destination:e,viewport:s,withDroppableDisplacement:!0}))return p.invisible[m.descriptor.id]=!0,p;const E=xV(_,c,o),A={draggableId:_,shouldAnimate:E};return p.visible[_]=A,p},{all:[],visible:{},invisible:{}})}function RV(r,e){if(!r.length)return 0;const t=r[r.length-1].descriptor.index;return e.inHomeList?t:t+1}function GE({insideDestination:r,inHomeList:e,displacedBy:t,destination:s}){const o=RV(r,{inHomeList:e});return{displaced:Ac,displacedBy:t,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:o}}}}function pd({draggable:r,insideDestination:e,destination:t,viewport:s,displacedBy:o,last:c,index:u,forceShouldAnimate:p}){const m=Ko(r,t);if(u==null)return GE({insideDestination:e,inHomeList:m,displacedBy:o,destination:t});const g=e.find(V=>V.descriptor.index===u);if(!g)return GE({insideDestination:e,inHomeList:m,displacedBy:o,destination:t});const _=zd(r,e),v=e.indexOf(g),E=_.slice(v);return{displaced:xc({afterDragging:E,destination:t,displacedBy:o,last:c,viewport:s.frame,forceShouldAnimate:p}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:t.descriptor.id,index:u}}}}function Vs(r,e){return!!e.effected[r]}var CV=({isMovingForward:r,destination:e,draggables:t,combine:s,afterCritical:o})=>{if(!e.isCombineEnabled)return null;const c=s.draggableId,p=t[c].descriptor.index;return Vs(c,o)?r?p:p-1:r?p+1:p},DV=({isMovingForward:r,isInHomeList:e,insideDestination:t,location:s})=>{if(!t.length)return null;const o=s.index,c=r?o+1:o-1,u=t[0].descriptor.index,p=t[t.length-1].descriptor.index,m=e?p:p+1;return c<u||c>m?null:c},NV=({isMovingForward:r,isInHomeList:e,draggable:t,draggables:s,destination:o,insideDestination:c,previousImpact:u,viewport:p,afterCritical:m})=>{const g=u.at;if(g||le(),g.type==="REORDER"){const v=DV({isMovingForward:r,isInHomeList:e,location:g.destination,insideDestination:c});return v==null?null:pd({draggable:t,insideDestination:c,destination:o,viewport:p,last:u.displaced,displacedBy:u.displacedBy,index:v})}const _=CV({isMovingForward:r,destination:o,displaced:u.displaced,draggables:s,combine:g.combine,afterCritical:m});return _==null?null:pd({draggable:t,insideDestination:c,destination:o,viewport:p,last:u.displaced,displacedBy:u.displacedBy,index:_})},OV=({displaced:r,afterCritical:e,combineWith:t,displacedBy:s})=>{const o=!!(r.visible[t]||r.invisible[t]);return Vs(t,e)?o?Jt:$o(s.point):o?s.point:Jt},MV=({afterCritical:r,impact:e,draggables:t})=>{const s=Ud(e);s||le();const o=s.draggableId,c=t[o].page.borderBox.center,u=OV({displaced:e.displaced,afterCritical:r,combineWith:o,displacedBy:e.displacedBy});return ln(c,u)};const p1=(r,e)=>e.margin[r.start]+e.borderBox[r.size]/2,VV=(r,e)=>e.margin[r.end]+e.borderBox[r.size]/2,ey=(r,e,t)=>e[r.crossAxisStart]+t.margin[r.crossAxisStart]+t.borderBox[r.crossAxisSize]/2,FE=({axis:r,moveRelativeTo:e,isMoving:t})=>Sa(r.line,e.marginBox[r.end]+p1(r,t),ey(r,e.marginBox,t)),$E=({axis:r,moveRelativeTo:e,isMoving:t})=>Sa(r.line,e.marginBox[r.start]-VV(r,t),ey(r,e.marginBox,t)),PV=({axis:r,moveInto:e,isMoving:t})=>Sa(r.line,e.contentBox[r.start]+p1(r,t),ey(r,e.contentBox,t));var kV=({impact:r,draggable:e,draggables:t,droppable:s,afterCritical:o})=>{const c=Yo(s.descriptor.id,t),u=e.page,p=s.axis;if(!c.length)return PV({axis:p,moveInto:s.page,isMoving:u});const{displaced:m,displacedBy:g}=r,_=m.all[0];if(_){const E=t[_];if(Vs(_,o))return $E({axis:p,moveRelativeTo:E.page,isMoving:u});const A=cd(E.page,g.point);return $E({axis:p,moveRelativeTo:A,isMoving:u})}const v=c[c.length-1];if(v.descriptor.id===e.descriptor.id)return u.borderBox.center;if(Vs(v.descriptor.id,o)){const E=cd(v.page,$o(o.displacedBy.point));return FE({axis:p,moveRelativeTo:E,isMoving:u})}return FE({axis:p,moveRelativeTo:v.page,isMoving:u})},$m=(r,e)=>{const t=r.frame;return t?ln(e,t.scroll.diff.displacement):e};const LV=({impact:r,draggable:e,droppable:t,draggables:s,afterCritical:o})=>{const c=e.page.borderBox.center,u=r.at;return!t||!u?c:u.type==="REORDER"?kV({impact:r,draggable:e,draggables:s,droppable:t,afterCritical:o}):MV({impact:r,draggables:s,afterCritical:o})};var jd=r=>{const e=LV(r),t=r.droppable;return t?$m(t,e):e},m1=(r,e)=>{const t=Bn(e,r.scroll.initial),s=$o(t);return{frame:Sr({top:e.y,bottom:e.y+r.frame.height,left:e.x,right:e.x+r.frame.width}),scroll:{initial:r.scroll.initial,max:r.scroll.max,current:e,diff:{value:t,displacement:s}}}};function YE(r,e){return r.map(t=>e[t])}function UV(r,e){for(let t=0;t<e.length;t++){const s=e[t].visible[r];if(s)return s}return null}var zV=({impact:r,viewport:e,destination:t,draggables:s,maxScrollChange:o})=>{const c=m1(e,ln(e.scroll.current,o)),u=t.frame?Xg(t,ln(t.frame.scroll.current,o)):t,p=r.displaced,m=xc({afterDragging:YE(p.all,s),destination:t,displacedBy:r.displacedBy,viewport:c.frame,last:p,forceShouldAnimate:!1}),g=xc({afterDragging:YE(p.all,s),destination:u,displacedBy:r.displacedBy,viewport:e.frame,last:p,forceShouldAnimate:!1}),_={},v={},E=[p,m,g];return p.all.forEach(V=>{const z=UV(V,E);if(z){v[V]=z;return}_[V]=!0}),{...r,displaced:{all:p.all,invisible:_,visible:v}}},jV=(r,e)=>ln(r.scroll.diff.displacement,e),ty=({pageBorderBoxCenter:r,draggable:e,viewport:t})=>{const s=jV(t,r),o=Bn(s,e.page.borderBox.center);return ln(e.client.borderBox.center,o)},g1=({draggable:r,destination:e,newPageBorderBoxCenter:t,viewport:s,withDroppableDisplacement:o,onlyOnMainAxis:c=!1})=>{const u=Bn(t,r.page.borderBox.center),m={target:Bc(r.page.borderBox,u),destination:e,withDroppableDisplacement:o,viewport:s};return c?AV(m):h1(m)},BV=({isMovingForward:r,draggable:e,destination:t,draggables:s,previousImpact:o,viewport:c,previousPageBorderBoxCenter:u,previousClientSelection:p,afterCritical:m})=>{if(!t.isEnabled)return null;const g=Yo(t.descriptor.id,s),_=Ko(e,t),v=yV({isMovingForward:r,draggable:e,destination:t,insideDestination:g,previousImpact:o})||NV({isMovingForward:r,isInHomeList:_,draggable:e,draggables:s,destination:t,insideDestination:g,previousImpact:o,viewport:c,afterCritical:m});if(!v)return null;const E=jd({impact:v,draggable:e,droppable:t,draggables:s,afterCritical:m});if(g1({draggable:e,destination:t,newPageBorderBoxCenter:E,viewport:c.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:ty({pageBorderBoxCenter:E,draggable:e,viewport:c}),impact:v,scrollJumpRequest:null};const V=Bn(E,u),z=zV({impact:v,viewport:c,destination:t,draggables:s,maxScrollChange:V});return{clientSelection:p,impact:z,scrollJumpRequest:V}};const yn=r=>{const e=r.subject.active;return e||le(),e};var HV=({isMovingForward:r,pageBorderBoxCenter:e,source:t,droppables:s,viewport:o})=>{const c=t.subject.active;if(!c)return null;const u=t.axis,p=lr(c[u.start],c[u.end]),m=Ld(s).filter(_=>_!==t).filter(_=>_.isEnabled).filter(_=>!!_.subject.active).filter(_=>f1(o.frame)(yn(_))).filter(_=>{const v=yn(_);return r?c[u.crossAxisEnd]<v[u.crossAxisEnd]:v[u.crossAxisStart]<c[u.crossAxisStart]}).filter(_=>{const v=yn(_),E=lr(v[u.start],v[u.end]);return p(v[u.start])||p(v[u.end])||E(c[u.start])||E(c[u.end])}).sort((_,v)=>{const E=yn(_)[u.crossAxisStart],A=yn(v)[u.crossAxisStart];return r?E-A:A-E}).filter((_,v,E)=>yn(_)[u.crossAxisStart]===yn(E[0])[u.crossAxisStart]);if(!m.length)return null;if(m.length===1)return m[0];const g=m.filter(_=>lr(yn(_)[u.start],yn(_)[u.end])(e[u.line]));return g.length===1?g[0]:g.length>1?g.sort((_,v)=>yn(_)[u.start]-yn(v)[u.start])[0]:m.sort((_,v)=>{const E=HE(e,qE(yn(_))),A=HE(e,qE(yn(v)));return E!==A?E-A:yn(_)[u.start]-yn(v)[u.start]})[0]};const KE=(r,e)=>{const t=r.page.borderBox.center;return Vs(r.descriptor.id,e)?Bn(t,e.displacedBy.point):t},qV=(r,e)=>{const t=r.page.borderBox;return Vs(r.descriptor.id,e)?Bc(t,$o(e.displacedBy.point)):t};var GV=({pageBorderBoxCenter:r,viewport:e,destination:t,insideDestination:s,afterCritical:o})=>s.filter(u=>h1({target:qV(u,o),destination:t,viewport:e.frame,withDroppableDisplacement:!0})).sort((u,p)=>{const m=Sc(r,$m(t,KE(u,o))),g=Sc(r,$m(t,KE(p,o)));return m<g?-1:g<m?1:u.descriptor.index-p.descriptor.index})[0]||null,Hc=Wt(function(e,t){const s=t[e.line];return{value:s,point:Sa(e.line,s)}});const FV=(r,e,t)=>{const s=r.axis;if(r.descriptor.mode==="virtual")return Sa(s.line,e[s.line]);const o=r.subject.page.contentBox[s.size],m=Yo(r.descriptor.id,t).reduce((g,_)=>g+_.client.marginBox[s.size],0)+e[s.line]-o;return m<=0?null:Sa(s.line,m)},y1=(r,e)=>({...r,scroll:{...r.scroll,max:e}}),v1=(r,e,t)=>{const s=r.frame;Ko(e,r)&&le(),r.subject.withPlaceholder&&le();const o=Hc(r.axis,e.displaceBy).point,c=FV(r,o,t),u={placeholderSize:o,increasedBy:c,oldFrameMaxScroll:r.frame?r.frame.scroll.max:null};if(!s){const _=Po({page:r.subject.page,withPlaceholder:u,axis:r.axis,frame:r.frame});return{...r,subject:_}}const p=c?ln(s.scroll.max,c):s.scroll.max,m=y1(s,p),g=Po({page:r.subject.page,withPlaceholder:u,axis:r.axis,frame:m});return{...r,subject:g,frame:m}},$V=r=>{const e=r.subject.withPlaceholder;e||le();const t=r.frame;if(!t){const u=Po({page:r.subject.page,axis:r.axis,frame:null,withPlaceholder:null});return{...r,subject:u}}const s=e.oldFrameMaxScroll;s||le();const o=y1(t,s),c=Po({page:r.subject.page,axis:r.axis,frame:o,withPlaceholder:null});return{...r,subject:c,frame:o}};var YV=({previousPageBorderBoxCenter:r,moveRelativeTo:e,insideDestination:t,draggable:s,draggables:o,destination:c,viewport:u,afterCritical:p})=>{if(!e){if(t.length)return null;const v={displaced:Ac,displacedBy:u1,at:{type:"REORDER",destination:{droppableId:c.descriptor.id,index:0}}},E=jd({impact:v,draggable:s,droppable:c,draggables:o,afterCritical:p}),A=Ko(s,c)?c:v1(c,s,o);return g1({draggable:s,destination:A,newPageBorderBoxCenter:E,viewport:u.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?v:null}const m=r[c.axis.line]<=e.page.borderBox.center[c.axis.line],g=(()=>{const v=e.descriptor.index;return e.descriptor.id===s.descriptor.id||m?v:v+1})(),_=Hc(c.axis,s.displaceBy);return pd({draggable:s,insideDestination:t,destination:c,viewport:u,displacedBy:_,last:Ac,index:g})},KV=({isMovingForward:r,previousPageBorderBoxCenter:e,draggable:t,isOver:s,draggables:o,droppables:c,viewport:u,afterCritical:p})=>{const m=HV({isMovingForward:r,pageBorderBoxCenter:e,source:s,droppables:c,viewport:u});if(!m)return null;const g=Yo(m.descriptor.id,o),_=GV({pageBorderBoxCenter:e,viewport:u,destination:m,insideDestination:g,afterCritical:p}),v=YV({previousPageBorderBoxCenter:e,destination:m,draggable:t,draggables:o,moveRelativeTo:_,insideDestination:g,viewport:u,afterCritical:p});if(!v)return null;const E=jd({impact:v,draggable:t,droppable:m,draggables:o,afterCritical:p});return{clientSelection:ty({pageBorderBoxCenter:E,draggable:t,viewport:u}),impact:v,scrollJumpRequest:null}},Hn=r=>{const e=r.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null};const QV=(r,e)=>{const t=Hn(r);return t?e[t]:null};var XV=({state:r,type:e})=>{const t=QV(r.impact,r.dimensions.droppables),s=!!t,o=r.dimensions.droppables[r.critical.droppable.id],c=t||o,u=c.axis.direction,p=u==="vertical"&&(e==="MOVE_UP"||e==="MOVE_DOWN")||u==="horizontal"&&(e==="MOVE_LEFT"||e==="MOVE_RIGHT");if(p&&!s)return null;const m=e==="MOVE_DOWN"||e==="MOVE_RIGHT",g=r.dimensions.draggables[r.critical.draggable.id],_=r.current.page.borderBoxCenter,{draggables:v,droppables:E}=r.dimensions;return p?BV({isMovingForward:m,previousPageBorderBoxCenter:_,draggable:g,destination:c,draggables:v,viewport:r.viewport,previousClientSelection:r.current.client.selection,previousImpact:r.impact,afterCritical:r.afterCritical}):KV({isMovingForward:m,previousPageBorderBoxCenter:_,draggable:g,isOver:c,draggables:v,droppables:E,viewport:r.viewport,afterCritical:r.afterCritical})};function ma(r){return r.phase==="DRAGGING"||r.phase==="COLLECTING"}function _1(r){const e=lr(r.top,r.bottom),t=lr(r.left,r.right);return function(o){return e(o.y)&&t(o.x)}}function WV(r,e){return r.left<e.right&&r.right>e.left&&r.top<e.bottom&&r.bottom>e.top}function JV({pageBorderBox:r,draggable:e,candidates:t}){const s=e.page.borderBox.center,o=t.map(c=>{const u=c.axis,p=Sa(c.axis.line,r.center[u.line],c.page.borderBox.center[u.crossAxisLine]);return{id:c.descriptor.id,distance:Sc(s,p)}}).sort((c,u)=>u.distance-c.distance);return o[0]?o[0].id:null}function ZV({pageBorderBox:r,draggable:e,droppables:t}){const s=Ld(t).filter(o=>{if(!o.isEnabled)return!1;const c=o.subject.active;if(!c||!WV(r,c))return!1;if(_1(c)(r.center))return!0;const u=o.axis,p=c.center[u.crossAxisLine],m=r[u.crossAxisStart],g=r[u.crossAxisEnd],_=lr(c[u.crossAxisStart],c[u.crossAxisEnd]),v=_(m),E=_(g);return!v&&!E?!0:v?m<p:g>p});return s.length?s.length===1?s[0].descriptor.id:JV({pageBorderBox:r,draggable:e,candidates:s}):null}const b1=(r,e)=>Sr(Bc(r,e));var e6=(r,e)=>{const t=r.frame;return t?b1(e,t.scroll.diff.value):e};function E1({displaced:r,id:e}){return!!(r.visible[e]||r.invisible[e])}function t6({draggable:r,closest:e,inHomeList:t}){return e?t&&e.descriptor.index>r.descriptor.index?e.descriptor.index-1:e.descriptor.index:null}var n6=({pageBorderBoxWithDroppableScroll:r,draggable:e,destination:t,insideDestination:s,last:o,viewport:c,afterCritical:u})=>{const p=t.axis,m=Hc(t.axis,e.displaceBy),g=m.value,_=r[p.start],v=r[p.end],A=zd(e,s).find(z=>{const L=z.descriptor.id,Y=z.page.borderBox.center[p.line],X=Vs(L,u),te=E1({displaced:o,id:L});return X?te?v<=Y:_<Y-g:te?v<=Y+g:_<Y})||null,V=t6({draggable:e,closest:A,inHomeList:Ko(e,t)});return pd({draggable:e,insideDestination:s,destination:t,viewport:c,last:o,displacedBy:m,index:V})};const r6=4;var i6=({draggable:r,pageBorderBoxWithDroppableScroll:e,previousImpact:t,destination:s,insideDestination:o,afterCritical:c})=>{if(!s.isCombineEnabled)return null;const u=s.axis,p=Hc(s.axis,r.displaceBy),m=p.value,g=e[u.start],_=e[u.end],E=zd(r,o).find(V=>{const z=V.descriptor.id,L=V.page.borderBox,X=L[u.size]/r6,te=Vs(z,c),ie=E1({displaced:t.displaced,id:z});return te?ie?_>L[u.start]+X&&_<L[u.end]-X:g>L[u.start]-m+X&&g<L[u.end]-m-X:ie?_>L[u.start]+m+X&&_<L[u.end]+m-X:g>L[u.start]+X&&g<L[u.end]-X});return E?{displacedBy:p,displaced:t.displaced,at:{type:"COMBINE",combine:{draggableId:E.descriptor.id,droppableId:s.descriptor.id}}}:null},w1=({pageOffset:r,draggable:e,draggables:t,droppables:s,previousImpact:o,viewport:c,afterCritical:u})=>{const p=b1(e.page.borderBox,r),m=ZV({pageBorderBox:p,draggable:e,droppables:s});if(!m)return vV;const g=s[m],_=Yo(g.descriptor.id,t),v=e6(g,p);return i6({pageBorderBoxWithDroppableScroll:v,draggable:e,previousImpact:o,destination:g,insideDestination:_,afterCritical:u})||n6({pageBorderBoxWithDroppableScroll:v,draggable:e,destination:g,insideDestination:_,last:o.displaced,viewport:c,afterCritical:u})},ny=(r,e)=>({...r,[e.descriptor.id]:e});const s6=({previousImpact:r,impact:e,droppables:t})=>{const s=Hn(r),o=Hn(e);if(!s||s===o)return t;const c=t[s];if(!c.subject.withPlaceholder)return t;const u=$V(c);return ny(t,u)};var a6=({draggable:r,draggables:e,droppables:t,previousImpact:s,impact:o})=>{const c=s6({previousImpact:s,impact:o,droppables:t}),u=Hn(o);if(!u)return c;const p=t[u];if(Ko(r,p)||p.subject.withPlaceholder)return c;const m=v1(p,r,e);return ny(c,m)},fc=({state:r,clientSelection:e,dimensions:t,viewport:s,impact:o,scrollJumpRequest:c})=>{const u=s||r.viewport,p=t||r.dimensions,m=e||r.current.client.selection,g=Bn(m,r.initial.client.selection),_={offset:g,selection:m,borderBoxCenter:ln(r.initial.client.borderBoxCenter,g)},v={selection:ln(_.selection,u.scroll.current),borderBoxCenter:ln(_.borderBoxCenter,u.scroll.current),offset:ln(_.offset,u.scroll.diff.value)},E={client:_,page:v};if(r.phase==="COLLECTING")return{...r,dimensions:p,viewport:u,current:E};const A=p.draggables[r.critical.draggable.id],V=o||w1({pageOffset:v.offset,draggable:A,draggables:p.draggables,droppables:p.droppables,previousImpact:r.impact,viewport:u,afterCritical:r.afterCritical}),z=a6({draggable:A,impact:V,previousImpact:r.impact,draggables:p.draggables,droppables:p.droppables});return{...r,current:E,dimensions:{draggables:p.draggables,droppables:z},impact:V,viewport:u,scrollJumpRequest:c||null,forceShouldAnimate:c?!1:null}};function o6(r,e){return r.map(t=>e[t])}var T1=({impact:r,viewport:e,draggables:t,destination:s,forceShouldAnimate:o})=>{const c=r.displaced,u=o6(c.all,t),p=xc({afterDragging:u,destination:s,displacedBy:r.displacedBy,viewport:e.frame,forceShouldAnimate:o,last:c});return{...r,displaced:p}},S1=({impact:r,draggable:e,droppable:t,draggables:s,viewport:o,afterCritical:c})=>{const u=jd({impact:r,draggable:e,draggables:s,droppable:t,afterCritical:c});return ty({pageBorderBoxCenter:u,draggable:e,viewport:o})},A1=({state:r,dimensions:e,viewport:t})=>{r.movementMode!=="SNAP"&&le();const s=r.impact,o=t||r.viewport,c=e||r.dimensions,{draggables:u,droppables:p}=c,m=u[r.critical.draggable.id],g=Hn(s);g||le();const _=p[g],v=T1({impact:s,viewport:o,destination:_,draggables:u}),E=S1({impact:v,draggable:m,droppable:_,draggables:u,viewport:o,afterCritical:r.afterCritical});return fc({impact:v,clientSelection:E,state:r,dimensions:c,viewport:o})},l6=r=>({index:r.index,droppableId:r.droppableId}),x1=({draggable:r,home:e,draggables:t,viewport:s})=>{const o=Hc(e.axis,r.displaceBy),c=Yo(e.descriptor.id,t),u=c.indexOf(r);u===-1&&le();const p=c.slice(u+1),m=p.reduce((E,A)=>(E[A.descriptor.id]=!0,E),{}),g={inVirtualList:e.descriptor.mode==="virtual",displacedBy:o,effected:m};return{impact:{displaced:xc({afterDragging:p,destination:e,displacedBy:o,last:null,viewport:s.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:l6(r.descriptor)}},afterCritical:g}},c6=(r,e)=>({draggables:r.draggables,droppables:ny(r.droppables,e)}),u6=({draggable:r,offset:e,initialWindowScroll:t})=>{const s=cd(r.client,e),o=ud(s,t);return{...r,placeholder:{...r.placeholder,client:s},client:s,page:o}},f6=r=>{const e=r.frame;return e||le(),e},d6=({additions:r,updatedDroppables:e,viewport:t})=>{const s=t.scroll.diff.value;return r.map(o=>{const c=o.descriptor.droppableId,u=e[c],m=f6(u).scroll.diff.value,g=ln(s,m);return u6({draggable:o,offset:g,initialWindowScroll:t.scroll.initial})})},h6=({state:r,published:e})=>{const t=e.modified.map(Y=>{const X=r.dimensions.droppables[Y.droppableId];return Xg(X,Y.scroll)}),s={...r.dimensions.droppables,...l1(t)},o=c1(d6({additions:e.additions,updatedDroppables:s,viewport:r.viewport})),c={...r.dimensions.draggables,...o};e.removals.forEach(Y=>{delete c[Y]});const u={droppables:s,draggables:c},p=Hn(r.impact),m=p?u.droppables[p]:null,g=u.draggables[r.critical.draggable.id],_=u.droppables[r.critical.droppable.id],{impact:v,afterCritical:E}=x1({draggable:g,home:_,draggables:c,viewport:r.viewport}),A=m&&m.isCombineEnabled?r.impact:v,V=w1({pageOffset:r.current.page.offset,draggable:u.draggables[r.critical.draggable.id],draggables:u.draggables,droppables:u.droppables,previousImpact:A,viewport:r.viewport,afterCritical:E}),z={...r,phase:"DRAGGING",impact:V,onLiftImpact:v,dimensions:u,afterCritical:E,forceShouldAnimate:!1};return r.phase==="COLLECTING"?z:{...z,phase:"DROP_PENDING",reason:r.reason,isWaiting:!1}};const Ym=r=>r.movementMode==="SNAP",cm=(r,e,t)=>{const s=c6(r.dimensions,e);return!Ym(r)||t?fc({state:r,dimensions:s}):A1({state:r,dimensions:s})};function um(r){return r.isDragging&&r.movementMode==="SNAP"?{...r,scrollJumpRequest:null}:r}const QE={phase:"IDLE",completed:null,shouldFlush:!1};var p6=(r=QE,e)=>{if(e.type==="FLUSH")return{...QE,shouldFlush:!0};if(e.type==="INITIAL_PUBLISH"){r.phase!=="IDLE"&&le();const{critical:t,clientSelection:s,viewport:o,dimensions:c,movementMode:u}=e.payload,p=c.draggables[t.draggable.id],m=c.droppables[t.droppable.id],g={selection:s,borderBoxCenter:p.client.borderBox.center,offset:Jt},_={client:g,page:{selection:ln(g.selection,o.scroll.initial),borderBoxCenter:ln(g.selection,o.scroll.initial),offset:ln(g.selection,o.scroll.diff.value)}},v=Ld(c.droppables).every(z=>!z.isFixedOnPage),{impact:E,afterCritical:A}=x1({draggable:p,home:m,draggables:c.draggables,viewport:o});return{phase:"DRAGGING",isDragging:!0,critical:t,movementMode:u,dimensions:c,initial:_,current:_,isWindowScrollAllowed:v,impact:E,afterCritical:A,onLiftImpact:E,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if(e.type==="COLLECTION_STARTING")return r.phase==="COLLECTING"||r.phase==="DROP_PENDING"?r:(r.phase!=="DRAGGING"&&le(),{...r,phase:"COLLECTING"});if(e.type==="PUBLISH_WHILE_DRAGGING")return r.phase==="COLLECTING"||r.phase==="DROP_PENDING"||le(),h6({state:r,published:e.payload});if(e.type==="MOVE"){if(r.phase==="DROP_PENDING")return r;ma(r)||le();const{client:t}=e.payload;return xs(t,r.current.client.selection)?r:fc({state:r,clientSelection:t,impact:Ym(r)?r.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(r.phase==="DROP_PENDING"||r.phase==="COLLECTING")return um(r);ma(r)||le();const{id:t,newScroll:s}=e.payload,o=r.dimensions.droppables[t];if(!o)return r;const c=Xg(o,s);return cm(r,c,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(r.phase==="DROP_PENDING")return r;ma(r)||le();const{id:t,isEnabled:s}=e.payload,o=r.dimensions.droppables[t];o||le(),o.isEnabled===s&&le();const c={...o,isEnabled:s};return cm(r,c,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(r.phase==="DROP_PENDING")return r;ma(r)||le();const{id:t,isCombineEnabled:s}=e.payload,o=r.dimensions.droppables[t];o||le(),o.isCombineEnabled===s&&le();const c={...o,isCombineEnabled:s};return cm(r,c,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(r.phase==="DROP_PENDING"||r.phase==="DROP_ANIMATING")return r;ma(r)||le(),r.isWindowScrollAllowed||le();const t=e.payload.newScroll;if(xs(r.viewport.scroll.current,t))return um(r);const s=m1(r.viewport,t);return Ym(r)?A1({state:r,viewport:s}):fc({state:r,viewport:s})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!ma(r))return r;const t=e.payload.maxScroll;if(xs(t,r.viewport.scroll.max))return r;const s={...r.viewport,scroll:{...r.viewport.scroll,max:t}};return{...r,viewport:s}}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(r.phase==="COLLECTING"||r.phase==="DROP_PENDING")return r;r.phase!=="DRAGGING"&&le();const t=XV({state:r,type:e.type});return t?fc({state:r,impact:t.impact,clientSelection:t.clientSelection,scrollJumpRequest:t.scrollJumpRequest}):r}if(e.type==="DROP_PENDING"){const t=e.payload.reason;return r.phase!=="COLLECTING"&&le(),{...r,phase:"DROP_PENDING",isWaiting:!0,reason:t}}if(e.type==="DROP_ANIMATE"){const{completed:t,dropDuration:s,newHomeClientOffset:o}=e.payload;return r.phase==="DRAGGING"||r.phase==="DROP_PENDING"||le(),{phase:"DROP_ANIMATING",completed:t,dropDuration:s,newHomeClientOffset:o,dimensions:r.dimensions}}if(e.type==="DROP_COMPLETE"){const{completed:t}=e.payload;return{phase:"IDLE",completed:t,shouldFlush:!1}}return r};function nt(r,e){return r instanceof Object&&"type"in r&&r.type===e}const m6=r=>({type:"BEFORE_INITIAL_CAPTURE",payload:r}),g6=r=>({type:"LIFT",payload:r}),y6=r=>({type:"INITIAL_PUBLISH",payload:r}),v6=r=>({type:"PUBLISH_WHILE_DRAGGING",payload:r}),_6=()=>({type:"COLLECTION_STARTING",payload:null}),b6=r=>({type:"UPDATE_DROPPABLE_SCROLL",payload:r}),E6=r=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:r}),w6=r=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:r}),I1=r=>({type:"MOVE",payload:r}),T6=r=>({type:"MOVE_BY_WINDOW_SCROLL",payload:r}),S6=r=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:r}),A6=()=>({type:"MOVE_UP",payload:null}),x6=()=>({type:"MOVE_DOWN",payload:null}),I6=()=>({type:"MOVE_RIGHT",payload:null}),R6=()=>({type:"MOVE_LEFT",payload:null}),ry=()=>({type:"FLUSH",payload:null}),C6=r=>({type:"DROP_ANIMATE",payload:r}),iy=r=>({type:"DROP_COMPLETE",payload:r}),R1=r=>({type:"DROP",payload:r}),D6=r=>({type:"DROP_PENDING",payload:r}),C1=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var N6=r=>({getState:e,dispatch:t})=>s=>o=>{if(!nt(o,"LIFT")){s(o);return}const{id:c,clientSelection:u,movementMode:p}=o.payload,m=e();m.phase==="DROP_ANIMATING"&&t(iy({completed:m.completed})),e().phase!=="IDLE"&&le(),t(ry()),t(m6({draggableId:c,movementMode:p}));const _={draggableId:c,scrollOptions:{shouldPublishImmediately:p==="SNAP"}},{critical:v,dimensions:E,viewport:A}=r.startPublishing(_);t(y6({critical:v,dimensions:E,clientSelection:u,movementMode:p,viewport:A}))},O6=r=>()=>e=>t=>{nt(t,"INITIAL_PUBLISH")&&r.dragging(),nt(t,"DROP_ANIMATE")&&r.dropping(t.payload.completed.result.reason),(nt(t,"FLUSH")||nt(t,"DROP_COMPLETE"))&&r.resting(),e(t)};const sy={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Ic={opacity:{drop:0,combining:.7},scale:{drop:.75}},D1={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},da=`${D1.outOfTheWay}s ${sy.outOfTheWay}`,dc={fluid:`opacity ${da}`,snap:`transform ${da}, opacity ${da}`,drop:r=>{const e=`${r}s ${sy.drop}`;return`transform ${e}, opacity ${e}`},outOfTheWay:`transform ${da}`,placeholder:`height ${da}, width ${da}, margin ${da}`},XE=r=>xs(r,Jt)?void 0:`translate(${r.x}px, ${r.y}px)`,Km={moveTo:XE,drop:(r,e)=>{const t=XE(r);if(t)return e?`${t} scale(${Ic.scale.drop})`:t}},{minDropTime:Qm,maxDropTime:N1}=D1,M6=N1-Qm,WE=1500,V6=.6;var P6=({current:r,destination:e,reason:t})=>{const s=Sc(r,e);if(s<=0)return Qm;if(s>=WE)return N1;const o=s/WE,c=Qm+M6*o,u=t==="CANCEL"?c*V6:c;return Number(u.toFixed(2))},k6=({impact:r,draggable:e,dimensions:t,viewport:s,afterCritical:o})=>{const{draggables:c,droppables:u}=t,p=Hn(r),m=p?u[p]:null,g=u[e.descriptor.droppableId],_=S1({impact:r,draggable:e,draggables:c,afterCritical:o,droppable:m||g,viewport:s});return Bn(_,e.client.borderBox.center)},L6=({draggables:r,reason:e,lastImpact:t,home:s,viewport:o,onLiftImpact:c})=>!t.at||e!=="DROP"?{impact:T1({draggables:r,impact:c,destination:s,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:t.at.type==="REORDER"?{impact:t,didDropInsideDroppable:!0}:{impact:{...t,displaced:Ac},didDropInsideDroppable:!0};const U6=({getState:r,dispatch:e})=>t=>s=>{if(!nt(s,"DROP")){t(s);return}const o=r(),c=s.payload.reason;if(o.phase==="COLLECTING"){e(D6({reason:c}));return}if(o.phase==="IDLE")return;o.phase==="DROP_PENDING"&&o.isWaiting&&le(),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||le();const p=o.critical,m=o.dimensions,g=m.draggables[o.critical.draggable.id],{impact:_,didDropInsideDroppable:v}=L6({reason:c,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),E=v?Wg(_):null,A=v?Ud(_):null,V={index:p.draggable.index,droppableId:p.droppable.id},z={draggableId:g.descriptor.id,type:g.descriptor.type,source:V,reason:c,mode:o.movementMode,destination:E,combine:A},L=k6({impact:_,draggable:g,dimensions:m,viewport:o.viewport,afterCritical:o.afterCritical}),Y={critical:o.critical,afterCritical:o.afterCritical,result:z,impact:_};if(!(!xs(o.current.client.offset,L)||!!z.combine)){e(iy({completed:Y}));return}const te=P6({current:o.current.client.offset,destination:L,reason:c});e(C6({newHomeClientOffset:L,dropDuration:te,completed:Y}))};var O1=()=>({x:window.pageXOffset,y:window.pageYOffset});function z6(r){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:e=>{e.target!==window&&e.target!==window.document||r()}}}function j6({onWindowScroll:r}){function e(){r(O1())}const t=Tc(e),s=z6(t);let o=As;function c(){return o!==As}function u(){c()&&le(),o=or(window,[s])}function p(){c()||le(),t.cancel(),o(),o=As}return{start:u,stop:p,isActive:c}}const B6=r=>nt(r,"DROP_COMPLETE")||nt(r,"DROP_ANIMATE")||nt(r,"FLUSH"),H6=r=>{const e=j6({onWindowScroll:t=>{r.dispatch(T6({newScroll:t}))}});return t=>s=>{!e.isActive()&&nt(s,"INITIAL_PUBLISH")&&e.start(),e.isActive()&&B6(s)&&e.stop(),t(s)}};var q6=r=>{let e=!1,t=!1;const s=setTimeout(()=>{t=!0}),o=c=>{e||t||(e=!0,r(c),clearTimeout(s))};return o.wasCalled=()=>e,o},G6=()=>{const r=[],e=o=>{const c=r.findIndex(p=>p.timerId===o);c===-1&&le();const[u]=r.splice(c,1);u.callback()};return{add:o=>{const c=setTimeout(()=>e(c)),u={timerId:c,callback:o};r.push(u)},flush:()=>{if(!r.length)return;const o=[...r];r.length=0,o.forEach(c=>{clearTimeout(c.timerId),c.callback()})}}};const F6=(r,e)=>r==null&&e==null?!0:r==null||e==null?!1:r.droppableId===e.droppableId&&r.index===e.index,$6=(r,e)=>r==null&&e==null?!0:r==null||e==null?!1:r.draggableId===e.draggableId&&r.droppableId===e.droppableId,Y6=(r,e)=>{if(r===e)return!0;const t=r.draggable.id===e.draggable.id&&r.draggable.droppableId===e.draggable.droppableId&&r.draggable.type===e.draggable.type&&r.draggable.index===e.draggable.index,s=r.droppable.id===e.droppable.id&&r.droppable.type===e.droppable.type;return t&&s},Jl=(r,e)=>{e()},xf=(r,e)=>({draggableId:r.draggable.id,type:r.droppable.type,source:{droppableId:r.droppable.id,index:r.draggable.index},mode:e});function fm(r,e,t,s){if(!r){t(s(e));return}const o=q6(t);r(e,{announce:o}),o.wasCalled()||t(s(e))}var K6=(r,e)=>{const t=G6();let s=null;const o=(v,E)=>{s&&le(),Jl("onBeforeCapture",()=>{const A=r().onBeforeCapture;A&&A({draggableId:v,mode:E})})},c=(v,E)=>{s&&le(),Jl("onBeforeDragStart",()=>{const A=r().onBeforeDragStart;A&&A(xf(v,E))})},u=(v,E)=>{s&&le();const A=xf(v,E);s={mode:E,lastCritical:v,lastLocation:A.source,lastCombine:null},t.add(()=>{Jl("onDragStart",()=>fm(r().onDragStart,A,e,zf.onDragStart))})},p=(v,E)=>{const A=Wg(E),V=Ud(E);s||le();const z=!Y6(v,s.lastCritical);z&&(s.lastCritical=v);const L=!F6(s.lastLocation,A);L&&(s.lastLocation=A);const Y=!$6(s.lastCombine,V);if(Y&&(s.lastCombine=V),!z&&!L&&!Y)return;const X={...xf(v,s.mode),combine:V,destination:A};t.add(()=>{Jl("onDragUpdate",()=>fm(r().onDragUpdate,X,e,zf.onDragUpdate))})},m=()=>{s||le(),t.flush()},g=v=>{s||le(),s=null,Jl("onDragEnd",()=>fm(r().onDragEnd,v,e,zf.onDragEnd))};return{beforeCapture:o,beforeStart:c,start:u,update:p,flush:m,drop:g,abort:()=>{if(!s)return;const v={...xf(s.lastCritical,s.mode),combine:null,destination:null,reason:"CANCEL"};g(v)}}},Q6=(r,e)=>{const t=K6(r,e);return s=>o=>c=>{if(nt(c,"BEFORE_INITIAL_CAPTURE")){t.beforeCapture(c.payload.draggableId,c.payload.movementMode);return}if(nt(c,"INITIAL_PUBLISH")){const p=c.payload.critical;t.beforeStart(p,c.payload.movementMode),o(c),t.start(p,c.payload.movementMode);return}if(nt(c,"DROP_COMPLETE")){const p=c.payload.completed.result;t.flush(),o(c),t.drop(p);return}if(o(c),nt(c,"FLUSH")){t.abort();return}const u=s.getState();u.phase==="DRAGGING"&&t.update(u.critical,u.impact)}};const X6=r=>e=>t=>{if(!nt(t,"DROP_ANIMATION_FINISHED")){e(t);return}const s=r.getState();s.phase!=="DROP_ANIMATING"&&le(),r.dispatch(iy({completed:s.completed}))},W6=r=>{let e=null,t=null;function s(){t&&(cancelAnimationFrame(t),t=null),e&&(e(),e=null)}return o=>c=>{if((nt(c,"FLUSH")||nt(c,"DROP_COMPLETE")||nt(c,"DROP_ANIMATION_FINISHED"))&&s(),o(c),!nt(c,"DROP_ANIMATE"))return;const u={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){r.getState().phase==="DROP_ANIMATING"&&r.dispatch(C1())}};t=requestAnimationFrame(()=>{t=null,e=or(window,[u])})}};var J6=r=>()=>e=>t=>{(nt(t,"DROP_COMPLETE")||nt(t,"FLUSH")||nt(t,"DROP_ANIMATE"))&&r.stopPublishing(),e(t)},Z6=r=>{let e=!1;return()=>t=>s=>{if(nt(s,"INITIAL_PUBLISH")){e=!0,r.tryRecordFocus(s.payload.critical.draggable.id),t(s),r.tryRestoreFocusRecorded();return}if(t(s),!!e){if(nt(s,"FLUSH")){e=!1,r.tryRestoreFocusRecorded();return}if(nt(s,"DROP_COMPLETE")){e=!1;const o=s.payload.completed.result;o.combine&&r.tryShiftRecord(o.draggableId,o.combine.draggableId),r.tryRestoreFocusRecorded()}}}};const e3=r=>nt(r,"DROP_COMPLETE")||nt(r,"DROP_ANIMATE")||nt(r,"FLUSH");var t3=r=>e=>t=>s=>{if(e3(s)){r.stop(),t(s);return}if(nt(s,"INITIAL_PUBLISH")){t(s);const o=e.getState();o.phase!=="DRAGGING"&&le(),r.start(o);return}t(s),r.scroll(e.getState())};const n3=r=>e=>t=>{if(e(t),!nt(t,"PUBLISH_WHILE_DRAGGING"))return;const s=r.getState();s.phase==="DROP_PENDING"&&(s.isWaiting||r.dispatch(R1({reason:s.reason})))},r3=KS;var i3=({dimensionMarshal:r,focusMarshal:e,styleMarshal:t,getResponders:s,announce:o,autoScroller:c})=>YS(p6,r3(tM(O6(t),J6(r),N6(r),U6,X6,W6,n3,t3(c),H6,Z6(e),Q6(s,o))));const dm=()=>({additions:{},removals:{},modified:{}});function s3({registry:r,callbacks:e}){let t=dm(),s=null;const o=()=>{s||(e.collectionStarting(),s=requestAnimationFrame(()=>{s=null;const{additions:m,removals:g,modified:_}=t,v=Object.keys(m).map(V=>r.draggable.getById(V).getDimension(Jt)).sort((V,z)=>V.descriptor.index-z.descriptor.index),E=Object.keys(_).map(V=>{const L=r.droppable.getById(V).callbacks.getScrollWhileDragging();return{droppableId:V,scroll:L}}),A={additions:v,removals:Object.keys(g),modified:E};t=dm(),e.publish(A)}))};return{add:m=>{const g=m.descriptor.id;t.additions[g]=m,t.modified[m.descriptor.droppableId]=!0,t.removals[g]&&delete t.removals[g],o()},remove:m=>{const g=m.descriptor;t.removals[g.id]=!0,t.modified[g.droppableId]=!0,t.additions[g.id]&&delete t.additions[g.id],o()},stop:()=>{s&&(cancelAnimationFrame(s),s=null,t=dm())}}}var M1=({scrollHeight:r,scrollWidth:e,height:t,width:s})=>{const o=Bn({x:e,y:r},{x:s,y:t});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},V1=()=>{const r=document.documentElement;return r||le(),r},P1=()=>{const r=V1();return M1({scrollHeight:r.scrollHeight,scrollWidth:r.scrollWidth,width:r.clientWidth,height:r.clientHeight})},a3=()=>{const r=O1(),e=P1(),t=r.y,s=r.x,o=V1(),c=o.clientWidth,u=o.clientHeight,p=s+c,m=t+u;return{frame:Sr({top:t,left:s,right:p,bottom:m}),scroll:{initial:r,current:r,max:e,diff:{value:Jt,displacement:Jt}}}},o3=({critical:r,scrollOptions:e,registry:t})=>{const s=a3(),o=s.scroll.current,c=r.droppable,u=t.droppable.getAllByType(c.type).map(_=>_.callbacks.getDimensionAndWatchScroll(o,e)),p=t.draggable.getAllByType(r.draggable.type).map(_=>_.getDimension(o));return{dimensions:{draggables:c1(p),droppables:l1(u)},critical:r,viewport:s}};function JE(r,e,t){return!(t.descriptor.id===e.id||t.descriptor.type!==e.type||r.droppable.getById(t.descriptor.droppableId).descriptor.mode!=="virtual")}var l3=(r,e)=>{let t=null;const s=s3({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:r}),o=(E,A)=>{r.droppable.exists(E)||le(),t&&e.updateDroppableIsEnabled({id:E,isEnabled:A})},c=(E,A)=>{t&&(r.droppable.exists(E)||le(),e.updateDroppableIsCombineEnabled({id:E,isCombineEnabled:A}))},u=(E,A)=>{t&&(r.droppable.exists(E)||le(),e.updateDroppableScroll({id:E,newScroll:A}))},p=(E,A)=>{t&&r.droppable.getById(E).callbacks.scroll(A)},m=()=>{if(!t)return;s.stop();const E=t.critical.droppable;r.droppable.getAllByType(E.type).forEach(A=>A.callbacks.dragStopped()),t.unsubscribe(),t=null},g=E=>{t||le();const A=t.critical.draggable;E.type==="ADDITION"&&JE(r,A,E.value)&&s.add(E.value),E.type==="REMOVAL"&&JE(r,A,E.value)&&s.remove(E.value)};return{updateDroppableIsEnabled:o,updateDroppableIsCombineEnabled:c,scrollDroppable:p,updateDroppableScroll:u,startPublishing:E=>{t&&le();const A=r.draggable.getById(E.draggableId),V=r.droppable.getById(A.descriptor.droppableId),z={draggable:A.descriptor,droppable:V.descriptor},L=r.subscribe(g);return t={critical:z,unsubscribe:L},o3({critical:z,registry:r,scrollOptions:E.scrollOptions})},stopPublishing:m}},k1=(r,e)=>r.phase==="IDLE"?!0:r.phase!=="DROP_ANIMATING"||r.completed.result.draggableId===e?!1:r.completed.result.reason==="DROP",c3=r=>{window.scrollBy(r.x,r.y)};const u3=Wt(r=>Ld(r).filter(e=>!(!e.isEnabled||!e.frame))),f3=(r,e)=>u3(e).find(s=>(s.frame||le(),_1(s.frame.pageMarginBox)(r)))||null;var d3=({center:r,destination:e,droppables:t})=>{if(e){const o=t[e];return o.frame?o:null}return f3(r,t)};const Rc={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:r=>r**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var h3=(r,e,t=()=>Rc)=>{const s=t(),o=r[e.size]*s.startFromPercentage,c=r[e.size]*s.maxScrollAtPercentage;return{startScrollingFrom:o,maxScrollValueAt:c}},L1=({startOfRange:r,endOfRange:e,current:t})=>{const s=e-r;return s===0?0:(t-r)/s},ay=1,p3=(r,e,t=()=>Rc)=>{const s=t();if(r>e.startScrollingFrom)return 0;if(r<=e.maxScrollValueAt)return s.maxPixelScroll;if(r===e.startScrollingFrom)return ay;const c=1-L1({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:r}),u=s.maxPixelScroll*s.ease(c);return Math.ceil(u)},m3=(r,e,t)=>{const s=t(),o=s.durationDampening.accelerateAt,c=s.durationDampening.stopDampeningAt,u=e,p=c,g=Date.now()-u;if(g>=c)return r;if(g<o)return ay;const _=L1({startOfRange:o,endOfRange:p,current:g}),v=r*s.ease(_);return Math.ceil(v)},ZE=({distanceToEdge:r,thresholds:e,dragStartTime:t,shouldUseTimeDampening:s,getAutoScrollerOptions:o})=>{const c=p3(r,e,o);return c===0?0:s?Math.max(m3(c,t,o),ay):c},ew=({container:r,distanceToEdges:e,dragStartTime:t,axis:s,shouldUseTimeDampening:o,getAutoScrollerOptions:c})=>{const u=h3(r,s,c);return e[s.end]<e[s.start]?ZE({distanceToEdge:e[s.end],thresholds:u,dragStartTime:t,shouldUseTimeDampening:o,getAutoScrollerOptions:c}):-1*ZE({distanceToEdge:e[s.start],thresholds:u,dragStartTime:t,shouldUseTimeDampening:o,getAutoScrollerOptions:c})},g3=({container:r,subject:e,proposedScroll:t})=>{const s=e.height>r.height,o=e.width>r.width;return!o&&!s?t:o&&s?null:{x:o?0:t.x,y:s?0:t.y}};const y3=o1(r=>r===0?0:r);var U1=({dragStartTime:r,container:e,subject:t,center:s,shouldUseTimeDampening:o,getAutoScrollerOptions:c})=>{const u={top:s.y-e.top,right:e.right-s.x,bottom:e.bottom-s.y,left:s.x-e.left},p=ew({container:e,distanceToEdges:u,dragStartTime:r,axis:Jg,shouldUseTimeDampening:o,getAutoScrollerOptions:c}),m=ew({container:e,distanceToEdges:u,dragStartTime:r,axis:d1,shouldUseTimeDampening:o,getAutoScrollerOptions:c}),g=y3({x:m,y:p});if(xs(g,Jt))return null;const _=g3({container:e,subject:t,proposedScroll:g});return _?xs(_,Jt)?null:_:null};const v3=o1(r=>r===0?0:r>0?1:-1),oy=(()=>{const r=(e,t)=>e<0?e:e>t?e-t:0;return({current:e,max:t,change:s})=>{const o=ln(e,s),c={x:r(o.x,t.x),y:r(o.y,t.y)};return xs(c,Jt)?null:c}})(),z1=({max:r,current:e,change:t})=>{const s={x:Math.max(e.x,r.x),y:Math.max(e.y,r.y)},o=v3(t),c=oy({max:s,current:e,change:o});return!c||o.x!==0&&c.x===0||o.y!==0&&c.y===0},ly=(r,e)=>z1({current:r.scroll.current,max:r.scroll.max,change:e}),_3=(r,e)=>{if(!ly(r,e))return null;const t=r.scroll.max,s=r.scroll.current;return oy({current:s,max:t,change:e})},cy=(r,e)=>{const t=r.frame;return t?z1({current:t.scroll.current,max:t.scroll.max,change:e}):!1},b3=(r,e)=>{const t=r.frame;return!t||!cy(r,e)?null:oy({current:t.scroll.current,max:t.scroll.max,change:e})};var E3=({viewport:r,subject:e,center:t,dragStartTime:s,shouldUseTimeDampening:o,getAutoScrollerOptions:c})=>{const u=U1({dragStartTime:s,container:r.frame,subject:e,center:t,shouldUseTimeDampening:o,getAutoScrollerOptions:c});return u&&ly(r,u)?u:null},w3=({droppable:r,subject:e,center:t,dragStartTime:s,shouldUseTimeDampening:o,getAutoScrollerOptions:c})=>{const u=r.frame;if(!u)return null;const p=U1({dragStartTime:s,container:u.pageMarginBox,subject:e,center:t,shouldUseTimeDampening:o,getAutoScrollerOptions:c});return p&&cy(r,p)?p:null},tw=({state:r,dragStartTime:e,shouldUseTimeDampening:t,scrollWindow:s,scrollDroppable:o,getAutoScrollerOptions:c})=>{const u=r.current.page.borderBoxCenter,m=r.dimensions.draggables[r.critical.draggable.id].page.marginBox;if(r.isWindowScrollAllowed){const v=r.viewport,E=E3({dragStartTime:e,viewport:v,subject:m,center:u,shouldUseTimeDampening:t,getAutoScrollerOptions:c});if(E){s(E);return}}const g=d3({center:u,destination:Hn(r.impact),droppables:r.dimensions.droppables});if(!g)return;const _=w3({dragStartTime:e,droppable:g,subject:m,center:u,shouldUseTimeDampening:t,getAutoScrollerOptions:c});_&&o(g.descriptor.id,_)},T3=({scrollWindow:r,scrollDroppable:e,getAutoScrollerOptions:t=()=>Rc})=>{const s=Tc(r),o=Tc(e);let c=null;const u=g=>{c||le();const{shouldUseTimeDampening:_,dragStartTime:v}=c;tw({state:g,scrollWindow:s,scrollDroppable:o,dragStartTime:v,shouldUseTimeDampening:_,getAutoScrollerOptions:t})};return{start:g=>{c&&le();const _=Date.now();let v=!1;const E=()=>{v=!0};tw({state:g,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:E,scrollDroppable:E,getAutoScrollerOptions:t}),c={dragStartTime:_,shouldUseTimeDampening:v},v&&u(g)},stop:()=>{c&&(s.cancel(),o.cancel(),c=null)},scroll:u}},S3=({move:r,scrollDroppable:e,scrollWindow:t})=>{const s=(p,m)=>{const g=ln(p.current.client.selection,m);r({client:g})},o=(p,m)=>{if(!cy(p,m))return m;const g=b3(p,m);if(!g)return e(p.descriptor.id,m),null;const _=Bn(m,g);return e(p.descriptor.id,_),Bn(m,_)},c=(p,m,g)=>{if(!p||!ly(m,g))return g;const _=_3(m,g);if(!_)return t(g),null;const v=Bn(g,_);return t(v),Bn(g,v)};return p=>{const m=p.scrollJumpRequest;if(!m)return;const g=Hn(p.impact);g||le();const _=o(p.dimensions.droppables[g],m);if(!_)return;const v=p.viewport,E=c(p.isWindowScrollAllowed,v,_);E&&s(p,E)}},A3=({scrollDroppable:r,scrollWindow:e,move:t,getAutoScrollerOptions:s})=>{const o=T3({scrollWindow:e,scrollDroppable:r,getAutoScrollerOptions:s}),c=S3({move:t,scrollWindow:e,scrollDroppable:r});return{scroll:m=>{if(!(s().disabled||m.phase!=="DRAGGING")){if(m.movementMode==="FLUID"){o.scroll(m);return}m.scrollJumpRequest&&c(m)}},start:o.start,stop:o.stop}};const ko="data-rfd",Lo=(()=>{const r=`${ko}-drag-handle`;return{base:r,draggableId:`${r}-draggable-id`,contextId:`${r}-context-id`}})(),Xm=(()=>{const r=`${ko}-draggable`;return{base:r,contextId:`${r}-context-id`,id:`${r}-id`}})(),x3=(()=>{const r=`${ko}-droppable`;return{base:r,contextId:`${r}-context-id`,id:`${r}-id`}})(),nw={contextId:`${ko}-scroll-container-context-id`},I3=r=>e=>`[${e}="${r}"]`,Zl=(r,e)=>r.map(t=>{const s=t.styles[e];return s?`${t.selector} { ${s} }`:""}).join(" "),R3="pointer-events: none;";var C3=r=>{const e=I3(r),t=(()=>{const p=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(Lo.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:p,dragging:R3,dropAnimating:p}}})(),s=(()=>{const p=`
      transition: ${dc.outOfTheWay};
    `;return{selector:e(Xm.contextId),styles:{dragging:p,dropAnimating:p,userCancel:p}}})(),o={selector:e(x3.contextId),styles:{always:"overflow-anchor: none;"}},u=[s,t,o,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Zl(u,"always"),resting:Zl(u,"resting"),dragging:Zl(u,"dragging"),dropAnimating:Zl(u,"dropAnimating"),userCancel:Zl(u,"userCancel")}};const qn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?re.useLayoutEffect:re.useEffect,hm=()=>{const r=document.querySelector("head");return r||le(),r},rw=r=>{const e=document.createElement("style");return r&&e.setAttribute("nonce",r),e.type="text/css",e};function D3(r,e){const t=Qe(()=>C3(r),[r]),s=re.useRef(null),o=re.useRef(null),c=_e(Wt(v=>{const E=o.current;E||le(),E.textContent=v}),[]),u=_e(v=>{const E=s.current;E||le(),E.textContent=v},[]);qn(()=>{!s.current&&!o.current||le();const v=rw(e),E=rw(e);return s.current=v,o.current=E,v.setAttribute(`${ko}-always`,r),E.setAttribute(`${ko}-dynamic`,r),hm().appendChild(v),hm().appendChild(E),u(t.always),c(t.resting),()=>{const A=V=>{const z=V.current;z||le(),hm().removeChild(z),V.current=null};A(s),A(o)}},[e,u,c,t.always,t.resting,r]);const p=_e(()=>c(t.dragging),[c,t.dragging]),m=_e(v=>{if(v==="DROP"){c(t.dropAnimating);return}c(t.userCancel)},[c,t.dropAnimating,t.userCancel]),g=_e(()=>{o.current&&c(t.resting)},[c,t.resting]);return Qe(()=>({dragging:p,dropping:m,resting:g}),[p,m,g])}function j1(r,e){return Array.from(r.querySelectorAll(e))}var B1=r=>r&&r.ownerDocument&&r.ownerDocument.defaultView?r.ownerDocument.defaultView:window;function Bd(r){return r instanceof B1(r).HTMLElement}function N3(r,e){const t=`[${Lo.contextId}="${r}"]`,s=j1(document,t);if(!s.length)return null;const o=s.find(c=>c.getAttribute(Lo.draggableId)===e);return!o||!Bd(o)?null:o}function O3(r){const e=re.useRef({}),t=re.useRef(null),s=re.useRef(null),o=re.useRef(!1),c=_e(function(E,A){const V={id:E,focus:A};return e.current[E]=V,function(){const L=e.current;L[E]!==V&&delete L[E]}},[]),u=_e(function(E){const A=N3(r,E);A&&A!==document.activeElement&&A.focus()},[r]),p=_e(function(E,A){t.current===E&&(t.current=A)},[]),m=_e(function(){s.current||o.current&&(s.current=requestAnimationFrame(()=>{s.current=null;const E=t.current;E&&u(E)}))},[u]),g=_e(function(E){t.current=null;const A=document.activeElement;A&&A.getAttribute(Lo.draggableId)===E&&(t.current=E)},[]);return qn(()=>(o.current=!0,function(){o.current=!1;const E=s.current;E&&cancelAnimationFrame(E)}),[]),Qe(()=>({register:c,tryRecordFocus:g,tryRestoreFocusRecorded:m,tryShiftRecord:p}),[c,g,m,p])}function M3(){const r={draggables:{},droppables:{}},e=[];function t(v){return e.push(v),function(){const A=e.indexOf(v);A!==-1&&e.splice(A,1)}}function s(v){e.length&&e.forEach(E=>E(v))}function o(v){return r.draggables[v]||null}function c(v){const E=o(v);return E||le(),E}const u={register:v=>{r.draggables[v.descriptor.id]=v,s({type:"ADDITION",value:v})},update:(v,E)=>{const A=r.draggables[E.descriptor.id];A&&A.uniqueId===v.uniqueId&&(delete r.draggables[E.descriptor.id],r.draggables[v.descriptor.id]=v)},unregister:v=>{const E=v.descriptor.id,A=o(E);A&&v.uniqueId===A.uniqueId&&(delete r.draggables[E],r.droppables[v.descriptor.droppableId]&&s({type:"REMOVAL",value:v}))},getById:c,findById:o,exists:v=>!!o(v),getAllByType:v=>Object.values(r.draggables).filter(E=>E.descriptor.type===v)};function p(v){return r.droppables[v]||null}function m(v){const E=p(v);return E||le(),E}const g={register:v=>{r.droppables[v.descriptor.id]=v},unregister:v=>{const E=p(v.descriptor.id);E&&v.uniqueId===E.uniqueId&&delete r.droppables[v.descriptor.id]},getById:m,findById:p,exists:v=>!!p(v),getAllByType:v=>Object.values(r.droppables).filter(E=>E.descriptor.type===v)};function _(){r.draggables={},r.droppables={},e.length=0}return{draggable:u,droppable:g,subscribe:t,clean:_}}function V3(){const r=Qe(M3,[]);return re.useEffect(()=>function(){r.clean()},[r]),r}var uy=bt.createContext(null),md=()=>{const r=document.body;return r||le(),r};const P3={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},k3=r=>`rfd-announcement-${r}`;function L3(r){const e=Qe(()=>k3(r),[r]),t=re.useRef(null);return re.useEffect(function(){const c=document.createElement("div");return t.current=c,c.id=e,c.setAttribute("aria-live","assertive"),c.setAttribute("aria-atomic","true"),fd(c.style,P3),md().appendChild(c),function(){setTimeout(function(){const m=md();m.contains(c)&&m.removeChild(c),c===t.current&&(t.current=null)})}},[e]),_e(o=>{const c=t.current;if(c){c.textContent=o;return}},[])}const U3={separator:"::"};function fy(r,e=U3){const t=bt.useId();return Qe(()=>`${r}${e.separator}${t}`,[e.separator,r,t])}function z3({contextId:r,uniqueId:e}){return`rfd-hidden-text-${r}-${e}`}function j3({contextId:r,text:e}){const t=fy("hidden-text",{separator:"-"}),s=Qe(()=>z3({contextId:r,uniqueId:t}),[t,r]);return re.useEffect(function(){const c=document.createElement("div");return c.id=s,c.textContent=e,c.style.display="none",md().appendChild(c),function(){const p=md();p.contains(c)&&p.removeChild(c)}},[s,e]),s}var Hd=bt.createContext(null);function H1(r){const e=re.useRef(r);return re.useEffect(()=>{e.current=r}),e}function B3(){let r=null;function e(){return!!r}function t(u){return u===r}function s(u){r&&le();const p={abandon:u};return r=p,p}function o(){r||le(),r=null}function c(){r&&(r.abandon(),o())}return{isClaimed:e,isActive:t,claim:s,release:o,tryAbandon:c}}function Cc(r){return r.phase==="IDLE"||r.phase==="DROP_ANIMATING"?!1:r.isDragging}const H3=9,q3=13,dy=27,q1=32,G3=33,F3=34,$3=35,Y3=36,K3=37,Q3=38,X3=39,W3=40,J3={[q3]:!0,[H3]:!0};var G1=r=>{J3[r.keyCode]&&r.preventDefault()};const qd=(()=>{const r="visibilitychange";return typeof document>"u"?r:[r,`ms${r}`,`webkit${r}`,`moz${r}`,`o${r}`].find(s=>`on${s}`in document)||r})(),F1=0,iw=5;function Z3(r,e){return Math.abs(e.x-r.x)>=iw||Math.abs(e.y-r.y)>=iw}const sw={type:"IDLE"};function e5({cancel:r,completed:e,getPhase:t,setPhase:s}){return[{eventName:"mousemove",fn:o=>{const{button:c,clientX:u,clientY:p}=o;if(c!==F1)return;const m={x:u,y:p},g=t();if(g.type==="DRAGGING"){o.preventDefault(),g.actions.move(m);return}g.type!=="PENDING"&&le();const _=g.point;if(!Z3(_,m))return;o.preventDefault();const v=g.actions.fluidLift(m);s({type:"DRAGGING",actions:v})}},{eventName:"mouseup",fn:o=>{const c=t();if(c.type!=="DRAGGING"){r();return}o.preventDefault(),c.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"mousedown",fn:o=>{t().type==="DRAGGING"&&o.preventDefault(),r()}},{eventName:"keydown",fn:o=>{if(t().type==="PENDING"){r();return}if(o.keyCode===dy){o.preventDefault(),r();return}G1(o)}},{eventName:"resize",fn:r},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{t().type==="PENDING"&&r()}},{eventName:"webkitmouseforcedown",fn:o=>{const c=t();if(c.type==="IDLE"&&le(),c.actions.shouldRespectForcePress()){r();return}o.preventDefault()}},{eventName:qd,fn:r}]}function t5(r){const e=re.useRef(sw),t=re.useRef(As),s=Qe(()=>({eventName:"mousedown",fn:function(v){if(v.defaultPrevented||v.button!==F1||v.ctrlKey||v.metaKey||v.shiftKey||v.altKey)return;const E=r.findClosestDraggableId(v);if(!E)return;const A=r.tryGetLock(E,u,{sourceEvent:v});if(!A)return;v.preventDefault();const V={x:v.clientX,y:v.clientY};t.current(),g(A,V)}}),[r]),o=Qe(()=>({eventName:"webkitmouseforcewillbegin",fn:_=>{if(_.defaultPrevented)return;const v=r.findClosestDraggableId(_);if(!v)return;const E=r.findOptionsForDraggable(v);E&&(E.shouldRespectForcePress||r.canGetLock(v)&&_.preventDefault())}}),[r]),c=_e(function(){const v={passive:!1,capture:!0};t.current=or(window,[o,s],v)},[o,s]),u=_e(()=>{e.current.type!=="IDLE"&&(e.current=sw,t.current(),c())},[c]),p=_e(()=>{const _=e.current;u(),_.type==="DRAGGING"&&_.actions.cancel({shouldBlockNextClick:!0}),_.type==="PENDING"&&_.actions.abort()},[u]),m=_e(function(){const v={capture:!0,passive:!1},E=e5({cancel:p,completed:u,getPhase:()=>e.current,setPhase:A=>{e.current=A}});t.current=or(window,E,v)},[p,u]),g=_e(function(v,E){e.current.type!=="IDLE"&&le(),e.current={type:"PENDING",point:E,actions:v},m()},[m]);qn(function(){return c(),function(){t.current()}},[c])}function n5(){}const r5={[F3]:!0,[G3]:!0,[Y3]:!0,[$3]:!0};function i5(r,e){function t(){e(),r.cancel()}function s(){e(),r.drop()}return[{eventName:"keydown",fn:o=>{if(o.keyCode===dy){o.preventDefault(),t();return}if(o.keyCode===q1){o.preventDefault(),s();return}if(o.keyCode===W3){o.preventDefault(),r.moveDown();return}if(o.keyCode===Q3){o.preventDefault(),r.moveUp();return}if(o.keyCode===X3){o.preventDefault(),r.moveRight();return}if(o.keyCode===K3){o.preventDefault(),r.moveLeft();return}if(r5[o.keyCode]){o.preventDefault();return}G1(o)}},{eventName:"mousedown",fn:t},{eventName:"mouseup",fn:t},{eventName:"click",fn:t},{eventName:"touchstart",fn:t},{eventName:"resize",fn:t},{eventName:"wheel",fn:t,options:{passive:!0}},{eventName:qd,fn:t}]}function s5(r){const e=re.useRef(n5),t=Qe(()=>({eventName:"keydown",fn:function(c){if(c.defaultPrevented||c.keyCode!==q1)return;const u=r.findClosestDraggableId(c);if(!u)return;const p=r.tryGetLock(u,_,{sourceEvent:c});if(!p)return;c.preventDefault();let m=!0;const g=p.snapLift();e.current();function _(){m||le(),m=!1,e.current(),s()}e.current=or(window,i5(g,_),{capture:!0,passive:!1})}}),[r]),s=_e(function(){const c={passive:!1,capture:!0};e.current=or(window,[t],c)},[t]);qn(function(){return s(),function(){e.current()}},[s])}const pm={type:"IDLE"},a5=120,o5=.15;function l5({cancel:r,getPhase:e}){return[{eventName:"orientationchange",fn:r},{eventName:"resize",fn:r},{eventName:"contextmenu",fn:t=>{t.preventDefault()}},{eventName:"keydown",fn:t=>{if(e().type!=="DRAGGING"){r();return}t.keyCode===dy&&t.preventDefault(),r()}},{eventName:qd,fn:r}]}function c5({cancel:r,completed:e,getPhase:t}){return[{eventName:"touchmove",options:{capture:!1},fn:s=>{const o=t();if(o.type!=="DRAGGING"){r();return}o.hasMoved=!0;const{clientX:c,clientY:u}=s.touches[0],p={x:c,y:u};s.preventDefault(),o.actions.move(p)}},{eventName:"touchend",fn:s=>{const o=t();if(o.type!=="DRAGGING"){r();return}s.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"touchcancel",fn:s=>{if(t().type!=="DRAGGING"){r();return}s.preventDefault(),r()}},{eventName:"touchforcechange",fn:s=>{const o=t();o.type==="IDLE"&&le();const c=s.touches[0];if(!c||!(c.force>=o5))return;const p=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){p&&r();return}if(p){if(o.hasMoved){s.preventDefault();return}r();return}s.preventDefault()}},{eventName:qd,fn:r}]}function u5(r){const e=re.useRef(pm),t=re.useRef(As),s=_e(function(){return e.current},[]),o=_e(function(A){e.current=A},[]),c=Qe(()=>({eventName:"touchstart",fn:function(A){if(A.defaultPrevented)return;const V=r.findClosestDraggableId(A);if(!V)return;const z=r.tryGetLock(V,p,{sourceEvent:A});if(!z)return;const L=A.touches[0],{clientX:Y,clientY:X}=L,te={x:Y,y:X};t.current(),v(z,te)}}),[r]),u=_e(function(){const A={capture:!0,passive:!1};t.current=or(window,[c],A)},[c]),p=_e(()=>{const E=e.current;E.type!=="IDLE"&&(E.type==="PENDING"&&clearTimeout(E.longPressTimerId),o(pm),t.current(),u())},[u,o]),m=_e(()=>{const E=e.current;p(),E.type==="DRAGGING"&&E.actions.cancel({shouldBlockNextClick:!0}),E.type==="PENDING"&&E.actions.abort()},[p]),g=_e(function(){const A={capture:!0,passive:!1},V={cancel:m,completed:p,getPhase:s},z=or(window,c5(V),A),L=or(window,l5(V),A);t.current=function(){z(),L()}},[m,s,p]),_=_e(function(){const A=s();A.type!=="PENDING"&&le();const V=A.actions.fluidLift(A.point);o({type:"DRAGGING",actions:V,hasMoved:!1})},[s,o]),v=_e(function(A,V){s().type!=="IDLE"&&le();const z=setTimeout(_,a5);o({type:"PENDING",point:V,actions:A,longPressTimerId:z}),g()},[g,s,o,_]);qn(function(){return u(),function(){t.current();const V=s();V.type==="PENDING"&&(clearTimeout(V.longPressTimerId),o(pm))}},[s,u,o]),qn(function(){return or(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const f5=["input","button","textarea","select","option","optgroup","video","audio"];function $1(r,e){if(e==null)return!1;if(f5.includes(e.tagName.toLowerCase()))return!0;const s=e.getAttribute("contenteditable");return s==="true"||s===""?!0:e===r?!1:$1(r,e.parentElement)}function d5(r,e){const t=e.target;return Bd(t)?$1(r,t):!1}var h5=r=>Sr(r.getBoundingClientRect()).center;function p5(r){return r instanceof B1(r).Element}const m5=(()=>{const r="matches";return typeof document>"u"?r:[r,"msMatchesSelector","webkitMatchesSelector"].find(s=>s in Element.prototype)||r})();function Y1(r,e){return r==null?null:r[m5](e)?r:Y1(r.parentElement,e)}function g5(r,e){return r.closest?r.closest(e):Y1(r,e)}function y5(r){return`[${Lo.contextId}="${r}"]`}function v5(r,e){const t=e.target;if(!p5(t))return null;const s=y5(r),o=g5(t,s);return!o||!Bd(o)?null:o}function _5(r,e){const t=v5(r,e);return t?t.getAttribute(Lo.draggableId):null}function b5(r,e){const t=`[${Xm.contextId}="${r}"]`,o=j1(document,t).find(c=>c.getAttribute(Xm.id)===e);return!o||!Bd(o)?null:o}function E5(r){r.preventDefault()}function If({expected:r,phase:e,isLockActive:t,shouldWarn:s}){return!(!t()||r!==e)}function K1({lockAPI:r,store:e,registry:t,draggableId:s}){if(r.isClaimed())return!1;const o=t.draggable.findById(s);return!(!o||!o.options.isEnabled||!k1(e.getState(),s))}function w5({lockAPI:r,contextId:e,store:t,registry:s,draggableId:o,forceSensorStop:c,sourceEvent:u}){if(!K1({lockAPI:r,store:t,registry:s,draggableId:o}))return null;const m=s.draggable.getById(o),g=b5(e,m.descriptor.id);if(!g||u&&!m.options.canDragInteractiveElements&&d5(g,u))return null;const _=r.claim(c||As);let v="PRE_DRAG";function E(){return m.options.shouldRespectForcePress}function A(){return r.isActive(_)}function V(fe,ae){If({expected:fe,phase:v,isLockActive:A,shouldWarn:!0})&&t.dispatch(ae())}const z=V.bind(null,"DRAGGING");function L(fe){function ae(){r.release(),v="COMPLETED"}v!=="PRE_DRAG"&&(ae(),le()),t.dispatch(g6(fe.liftActionArgs)),v="DRAGGING";function I(x,C={shouldBlockNextClick:!1}){if(fe.cleanup(),C.shouldBlockNextClick){const M=or(window,[{eventName:"click",fn:E5,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(M)}ae(),t.dispatch(R1({reason:x}))}return{isActive:()=>If({expected:"DRAGGING",phase:v,isLockActive:A,shouldWarn:!1}),shouldRespectForcePress:E,drop:x=>I("DROP",x),cancel:x=>I("CANCEL",x),...fe.actions}}function Y(fe){const ae=Tc(x=>{z(()=>I1({client:x}))});return{...L({liftActionArgs:{id:o,clientSelection:fe,movementMode:"FLUID"},cleanup:()=>ae.cancel(),actions:{move:ae}}),move:ae}}function X(){const fe={moveUp:()=>z(A6),moveRight:()=>z(I6),moveDown:()=>z(x6),moveLeft:()=>z(R6)};return L({liftActionArgs:{id:o,clientSelection:h5(g),movementMode:"SNAP"},cleanup:As,actions:fe})}function te(){If({expected:"PRE_DRAG",phase:v,isLockActive:A,shouldWarn:!0})&&r.release()}return{isActive:()=>If({expected:"PRE_DRAG",phase:v,isLockActive:A,shouldWarn:!1}),shouldRespectForcePress:E,fluidLift:Y,snapLift:X,abort:te}}const T5=[t5,s5,u5];function S5({contextId:r,store:e,registry:t,customSensors:s,enableDefaultSensors:o}){const c=[...o?T5:[],...s||[]],u=re.useState(()=>B3())[0],p=_e(function(L,Y){Cc(L)&&!Cc(Y)&&u.tryAbandon()},[u]);qn(function(){let L=e.getState();return e.subscribe(()=>{const X=e.getState();p(L,X),L=X})},[u,e,p]),qn(()=>u.tryAbandon,[u.tryAbandon]);const m=_e(z=>K1({lockAPI:u,registry:t,store:e,draggableId:z}),[u,t,e]),g=_e((z,L,Y)=>w5({lockAPI:u,registry:t,contextId:r,store:e,draggableId:z,forceSensorStop:L||null,sourceEvent:Y&&Y.sourceEvent?Y.sourceEvent:null}),[r,u,t,e]),_=_e(z=>_5(r,z),[r]),v=_e(z=>{const L=t.draggable.findById(z);return L?L.options:null},[t.draggable]),E=_e(function(){u.isClaimed()&&(u.tryAbandon(),e.getState().phase!=="IDLE"&&e.dispatch(ry()))},[u,e]),A=_e(()=>u.isClaimed(),[u]),V=Qe(()=>({canGetLock:m,tryGetLock:g,findClosestDraggableId:_,findOptionsForDraggable:v,tryReleaseLock:E,isLockClaimed:A}),[m,g,_,v,E,A]);for(let z=0;z<c.length;z++)c[z](V)}const A5=r=>({onBeforeCapture:e=>{const t=()=>{r.onBeforeCapture&&r.onBeforeCapture(e)};Fg.flushSync(t)},onBeforeDragStart:r.onBeforeDragStart,onDragStart:r.onDragStart,onDragEnd:r.onDragEnd,onDragUpdate:r.onDragUpdate}),x5=r=>({...Rc,...r.autoScrollerOptions,durationDampening:{...Rc.durationDampening,...r.autoScrollerOptions}});function ec(r){return r.current||le(),r.current}function I5(r){const{contextId:e,setCallbacks:t,sensors:s,nonce:o,dragHandleUsageInstructions:c}=r,u=re.useRef(null),p=H1(r),m=_e(()=>A5(p.current),[p]),g=_e(()=>x5(p.current),[p]),_=L3(e),v=j3({contextId:e,text:c}),E=D3(e,o),A=_e(M=>{ec(u).dispatch(M)},[]),V=Qe(()=>NE({publishWhileDragging:v6,updateDroppableScroll:b6,updateDroppableIsEnabled:E6,updateDroppableIsCombineEnabled:w6,collectionStarting:_6},A),[A]),z=V3(),L=Qe(()=>l3(z,V),[z,V]),Y=Qe(()=>A3({scrollWindow:c3,scrollDroppable:L.scrollDroppable,getAutoScrollerOptions:g,...NE({move:I1},A)}),[L.scrollDroppable,A,g]),X=O3(e),te=Qe(()=>i3({announce:_,autoScroller:Y,dimensionMarshal:L,focusMarshal:X,getResponders:m,styleMarshal:E}),[_,Y,L,X,m,E]);u.current=te;const ie=_e(()=>{const M=ec(u);M.getState().phase!=="IDLE"&&M.dispatch(ry())},[]),fe=_e(()=>{const M=ec(u).getState();return M.phase==="DROP_ANIMATING"?!0:M.phase==="IDLE"?!1:M.isDragging},[]),ae=Qe(()=>({isDragging:fe,tryAbort:ie}),[fe,ie]);t(ae);const I=_e(M=>k1(ec(u).getState(),M),[]),x=_e(()=>ma(ec(u).getState()),[]),C=Qe(()=>({marshal:L,focus:X,contextId:e,canLift:I,isMovementAllowed:x,dragHandleUsageInstructionsId:v,registry:z}),[e,L,v,X,I,x,z]);return S5({contextId:e,store:te,registry:z,customSensors:s||null,enableDefaultSensors:r.enableDefaultSensors!==!1}),re.useEffect(()=>ie,[ie]),bt.createElement(Hd.Provider,{value:C},bt.createElement(JM,{context:uy,store:te},r.children))}function R5(){return bt.useId()}function C5(r){const e=R5(),t=r.dragHandleUsageInstructions||zf.dragHandleUsageInstructions;return bt.createElement(sV,null,s=>bt.createElement(I5,{nonce:r.nonce,contextId:e,setCallbacks:s,dragHandleUsageInstructions:t,enableDefaultSensors:r.enableDefaultSensors,sensors:r.sensors,onBeforeCapture:r.onBeforeCapture,onBeforeDragStart:r.onBeforeDragStart,onDragStart:r.onDragStart,onDragUpdate:r.onDragUpdate,onDragEnd:r.onDragEnd,autoScrollerOptions:r.autoScrollerOptions},r.children))}const aw={dragging:5e3,dropAnimating:4500},D5=(r,e)=>e?dc.drop(e.duration):r?dc.snap:dc.fluid,N5=(r,e)=>{if(r)return e?Ic.opacity.drop:Ic.opacity.combining},O5=r=>r.forceShouldAnimate!=null?r.forceShouldAnimate:r.mode==="SNAP";function M5(r){const t=r.dimension.client,{offset:s,combineWith:o,dropping:c}=r,u=!!o,p=O5(r),m=!!c,g=m?Km.drop(s,u):Km.moveTo(s);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:D5(p,c),transform:g,opacity:N5(u,m),zIndex:m?aw.dropAnimating:aw.dragging,pointerEvents:"none"}}function V5(r){return{transform:Km.moveTo(r.offset),transition:r.shouldAnimateDisplacement?void 0:"none"}}function P5(r){return r.type==="DRAGGING"?M5(r):V5(r)}function k5(r,e,t=Jt){const s=window.getComputedStyle(e),o=e.getBoundingClientRect(),c=t1(o,s),u=ud(c,t),p={client:c,tagName:e.tagName.toLowerCase(),display:s.display},m={x:c.marginBox.width,y:c.marginBox.height};return{descriptor:r,placeholder:p,displaceBy:m,client:c,page:u}}function L5(r){const e=fy("draggable"),{descriptor:t,registry:s,getDraggableRef:o,canDragInteractiveElements:c,shouldRespectForcePress:u,isEnabled:p}=r,m=Qe(()=>({canDragInteractiveElements:c,shouldRespectForcePress:u,isEnabled:p}),[c,p,u]),g=_e(A=>{const V=o();return V||le(),k5(t,V,A)},[t,o]),_=Qe(()=>({uniqueId:e,descriptor:t,options:m,getDimension:g}),[t,g,m,e]),v=re.useRef(_),E=re.useRef(!0);qn(()=>(s.draggable.register(v.current),()=>s.draggable.unregister(v.current)),[s.draggable]),qn(()=>{if(E.current){E.current=!1;return}const A=v.current;v.current=_,s.draggable.update(_,A)},[_,s.draggable])}var hy=bt.createContext(null);function gd(r){const e=re.useContext(r);return e||le(),e}function U5(r){r.preventDefault()}const z5=r=>{const e=re.useRef(null),t=_e((ae=null)=>{e.current=ae},[]),s=_e(()=>e.current,[]),{contextId:o,dragHandleUsageInstructionsId:c,registry:u}=gd(Hd),{type:p,droppableId:m}=gd(hy),g=Qe(()=>({id:r.draggableId,index:r.index,type:p,droppableId:m}),[r.draggableId,r.index,p,m]),{children:_,draggableId:v,isEnabled:E,shouldRespectForcePress:A,canDragInteractiveElements:V,isClone:z,mapped:L,dropAnimationFinished:Y}=r;if(!z){const ae=Qe(()=>({descriptor:g,registry:u,getDraggableRef:s,canDragInteractiveElements:V,shouldRespectForcePress:A,isEnabled:E}),[g,u,s,V,A,E]);L5(ae)}const X=Qe(()=>E?{tabIndex:0,role:"button","aria-describedby":c,"data-rfd-drag-handle-draggable-id":v,"data-rfd-drag-handle-context-id":o,draggable:!1,onDragStart:U5}:null,[o,c,v,E]),te=_e(ae=>{L.type==="DRAGGING"&&L.dropping&&ae.propertyName==="transform"&&Fg.flushSync(Y)},[Y,L]),ie=Qe(()=>{const ae=P5(L),I=L.type==="DRAGGING"&&L.dropping?te:void 0;return{innerRef:t,draggableProps:{"data-rfd-draggable-context-id":o,"data-rfd-draggable-id":v,style:ae,onTransitionEnd:I},dragHandleProps:X}},[o,X,v,L,te,t]),fe=Qe(()=>({draggableId:g.id,type:g.type,source:{index:g.index,droppableId:g.droppableId}}),[g.droppableId,g.id,g.index,g.type]);return bt.createElement(bt.Fragment,null,_(ie,L.snapshot,fe))};var Q1=(r,e)=>r===e,X1=r=>{const{combine:e,destination:t}=r;return t?t.droppableId:e?e.droppableId:null};const j5=r=>r.combine?r.combine.draggableId:null,B5=r=>r.at&&r.at.type==="COMBINE"?r.at.combine.draggableId:null;function H5(){const r=Wt((o,c)=>({x:o,y:c})),e=Wt((o,c,u=null,p=null,m=null)=>({isDragging:!0,isClone:c,isDropAnimating:!!m,dropAnimation:m,mode:o,draggingOver:u,combineWith:p,combineTargetFor:null})),t=Wt((o,c,u,p,m=null,g=null,_=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:m,combineWith:g,mode:c,offset:o,dimension:u,forceShouldAnimate:_,snapshot:e(c,p,m,g,null)}}));return(o,c)=>{if(Cc(o)){if(o.critical.draggable.id!==c.draggableId)return null;const u=o.current.client.offset,p=o.dimensions.draggables[c.draggableId],m=Hn(o.impact),g=B5(o.impact),_=o.forceShouldAnimate;return t(r(u.x,u.y),o.movementMode,p,c.isClone,m,g,_)}if(o.phase==="DROP_ANIMATING"){const u=o.completed;if(u.result.draggableId!==c.draggableId)return null;const p=c.isClone,m=o.dimensions.draggables[c.draggableId],g=u.result,_=g.mode,v=X1(g),E=j5(g),V={duration:o.dropDuration,curve:sy.drop,moveTo:o.newHomeClientOffset,opacity:E?Ic.opacity.drop:null,scale:E?Ic.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:m,dropping:V,draggingOver:v,combineWith:E,mode:_,forceShouldAnimate:null,snapshot:e(_,p,v,E,V)}}}return null}}function W1(r=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:r,combineWith:null}}const q5={mapped:{type:"SECONDARY",offset:Jt,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:W1(null)}};function G5(){const r=Wt((u,p)=>({x:u,y:p})),e=Wt(W1),t=Wt((u,p=null,m)=>({mapped:{type:"SECONDARY",offset:u,combineTargetFor:p,shouldAnimateDisplacement:m,snapshot:e(p)}})),s=u=>u?t(Jt,u,!0):null,o=(u,p,m,g)=>{const _=m.displaced.visible[u],v=!!(g.inVirtualList&&g.effected[u]),E=Ud(m),A=E&&E.draggableId===u?p:null;if(!_){if(!v)return s(A);if(m.displaced.invisible[u])return null;const L=$o(g.displacedBy.point),Y=r(L.x,L.y);return t(Y,A,!0)}if(v)return s(A);const V=m.displacedBy.point,z=r(V.x,V.y);return t(z,A,_.shouldAnimate)};return(u,p)=>{if(Cc(u))return u.critical.draggable.id===p.draggableId?null:o(p.draggableId,u.critical.draggable.id,u.impact,u.afterCritical);if(u.phase==="DROP_ANIMATING"){const m=u.completed;return m.result.draggableId===p.draggableId?null:o(p.draggableId,m.result.draggableId,m.impact,m.afterCritical)}return null}}const F5=()=>{const r=H5(),e=G5();return(s,o)=>r(s,o)||e(s,o)||q5},$5={dropAnimationFinished:C1},Y5=e1(F5,$5,null,{context:uy,areStatePropsEqual:Q1})(z5);function J1(r){return gd(hy).isUsingCloneFor===r.draggableId&&!r.isClone?null:bt.createElement(Y5,r)}function K5(r){const e=typeof r.isDragDisabled=="boolean"?!r.isDragDisabled:!0,t=!!r.disableInteractiveElementBlocking,s=!!r.shouldRespectForcePress;return bt.createElement(J1,fd({},r,{isClone:!1,isEnabled:e,canDragInteractiveElements:t,shouldRespectForcePress:s}))}const Z1=r=>e=>r===e,Q5=Z1("scroll"),X5=Z1("auto"),ow=(r,e)=>e(r.overflowX)||e(r.overflowY),W5=r=>{const e=window.getComputedStyle(r),t={overflowX:e.overflowX,overflowY:e.overflowY};return ow(t,Q5)||ow(t,X5)},J5=()=>!1,eA=r=>r==null?null:r===document.body?J5()?r:null:r===document.documentElement?null:W5(r)?r:eA(r.parentElement);var Wm=r=>({x:r.scrollLeft,y:r.scrollTop});const tA=r=>r?window.getComputedStyle(r).position==="fixed"?!0:tA(r.parentElement):!1;var Z5=r=>{const e=eA(r),t=tA(r);return{closestScrollable:e,isFixedOnPage:t}},eP=({descriptor:r,isEnabled:e,isCombineEnabled:t,isFixedOnPage:s,direction:o,client:c,page:u,closest:p})=>{const m=(()=>{if(!p)return null;const{scrollSize:E,client:A}=p,V=M1({scrollHeight:E.scrollHeight,scrollWidth:E.scrollWidth,height:A.paddingBox.height,width:A.paddingBox.width});return{pageMarginBox:p.page.marginBox,frameClient:A,scrollSize:E,shouldClipSubject:p.shouldClipSubject,scroll:{initial:p.scroll,current:p.scroll,max:V,diff:{value:Jt,displacement:Jt}}}})(),g=o==="vertical"?Jg:d1,_=Po({page:u,withPlaceholder:null,axis:g,frame:m});return{descriptor:r,isCombineEnabled:t,isFixedOnPage:s,axis:g,isEnabled:e,client:c,page:u,frame:m,subject:_}};const tP=(r,e)=>{const t=n1(r);if(!e||r!==e)return t;const s=t.paddingBox.top-e.scrollTop,o=t.paddingBox.left-e.scrollLeft,c=s+e.scrollHeight,u=o+e.scrollWidth,m=Kg({top:s,right:u,bottom:c,left:o},t.border);return Qg({borderBox:m,margin:t.margin,border:t.border,padding:t.padding})};var nP=({ref:r,descriptor:e,env:t,windowScroll:s,direction:o,isDropDisabled:c,isCombineEnabled:u,shouldClipSubject:p})=>{const m=t.closestScrollable,g=tP(r,m),_=ud(g,s),v=(()=>{if(!m)return null;const A=n1(m),V={scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth};return{client:A,page:ud(A,s),scroll:Wm(m),scrollSize:V,shouldClipSubject:p}})();return eP({descriptor:e,isEnabled:!c,isCombineEnabled:u,isFixedOnPage:t.isFixedOnPage,direction:o,client:g,page:_,closest:v})};const rP={passive:!1},iP={passive:!0};var lw=r=>r.shouldPublishImmediately?rP:iP;const Rf=r=>r&&r.env.closestScrollable||null;function sP(r){const e=re.useRef(null),t=gd(Hd),s=fy("droppable"),{registry:o,marshal:c}=t,u=H1(r),p=Qe(()=>({id:r.droppableId,type:r.type,mode:r.mode}),[r.droppableId,r.mode,r.type]),m=re.useRef(p),g=Qe(()=>Wt((ie,fe)=>{e.current||le();const ae={x:ie,y:fe};c.updateDroppableScroll(p.id,ae)}),[p.id,c]),_=_e(()=>{const ie=e.current;return!ie||!ie.env.closestScrollable?Jt:Wm(ie.env.closestScrollable)},[]),v=_e(()=>{const ie=_();g(ie.x,ie.y)},[_,g]),E=Qe(()=>Tc(v),[v]),A=_e(()=>{const ie=e.current,fe=Rf(ie);if(ie&&fe||le(),ie.scrollOptions.shouldPublishImmediately){v();return}E()},[E,v]),V=_e((ie,fe)=>{e.current&&le();const ae=u.current,I=ae.getDroppableRef();I||le();const x=Z5(I),C={ref:I,descriptor:p,env:x,scrollOptions:fe};e.current=C;const M=nP({ref:I,descriptor:p,env:x,windowScroll:ie,direction:ae.direction,isDropDisabled:ae.isDropDisabled,isCombineEnabled:ae.isCombineEnabled,shouldClipSubject:!ae.ignoreContainerClipping}),O=x.closestScrollable;return O&&(O.setAttribute(nw.contextId,t.contextId),O.addEventListener("scroll",A,lw(C.scrollOptions))),M},[t.contextId,p,A,u]),z=_e(()=>{const ie=e.current,fe=Rf(ie);return ie&&fe||le(),Wm(fe)},[]),L=_e(()=>{const ie=e.current;ie||le();const fe=Rf(ie);e.current=null,fe&&(E.cancel(),fe.removeAttribute(nw.contextId),fe.removeEventListener("scroll",A,lw(ie.scrollOptions)))},[A,E]),Y=_e(ie=>{const fe=e.current;fe||le();const ae=Rf(fe);ae||le(),ae.scrollTop+=ie.y,ae.scrollLeft+=ie.x},[]),X=Qe(()=>({getDimensionAndWatchScroll:V,getScrollWhileDragging:z,dragStopped:L,scroll:Y}),[L,V,z,Y]),te=Qe(()=>({uniqueId:s,descriptor:p,callbacks:X}),[X,p,s]);qn(()=>(m.current=te.descriptor,o.droppable.register(te),()=>{e.current&&L(),o.droppable.unregister(te)}),[X,p,L,te,c,o.droppable]),qn(()=>{e.current&&c.updateDroppableIsEnabled(m.current.id,!r.isDropDisabled)},[r.isDropDisabled,c]),qn(()=>{e.current&&c.updateDroppableIsCombineEnabled(m.current.id,r.isCombineEnabled)},[r.isCombineEnabled,c])}function mm(){}const cw={width:0,height:0,margin:dV},aP=({isAnimatingOpenOnMount:r,placeholder:e,animate:t})=>r||t==="close"?cw:{height:e.client.borderBox.height,width:e.client.borderBox.width,margin:e.client.margin},oP=({isAnimatingOpenOnMount:r,placeholder:e,animate:t})=>{const s=aP({isAnimatingOpenOnMount:r,placeholder:e,animate:t});return{display:e.display,boxSizing:"border-box",width:s.width,height:s.height,marginTop:s.margin.top,marginRight:s.margin.right,marginBottom:s.margin.bottom,marginLeft:s.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:t!=="none"?dc.placeholder:null}},lP=r=>{const e=re.useRef(null),t=_e(()=>{e.current&&(clearTimeout(e.current),e.current=null)},[]),{animate:s,onTransitionEnd:o,onClose:c,contextId:u}=r,[p,m]=re.useState(r.animate==="open");re.useEffect(()=>p?s!=="open"?(t(),m(!1),mm):e.current?mm:(e.current=setTimeout(()=>{e.current=null,m(!1)}),t):mm,[s,p,t]);const g=_e(v=>{v.propertyName==="height"&&(o(),s==="close"&&c())},[s,c,o]),_=oP({isAnimatingOpenOnMount:p,animate:r.animate,placeholder:r.placeholder});return bt.createElement(r.placeholder.tagName,{style:_,"data-rfd-placeholder-context-id":u,onTransitionEnd:g,ref:r.innerRef})};var cP=bt.memo(lP);class uP extends bt.PureComponent{constructor(...e){super(...e),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!e.on,data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const fP=r=>{const e=re.useContext(Hd);e||le();const{contextId:t,isMovementAllowed:s}=e,o=re.useRef(null),c=re.useRef(null),{children:u,droppableId:p,type:m,mode:g,direction:_,ignoreContainerClipping:v,isDropDisabled:E,isCombineEnabled:A,snapshot:V,useClone:z,updateViewportMaxScroll:L,getContainerForClone:Y}=r,X=_e(()=>o.current,[]),te=_e((O=null)=>{o.current=O},[]);_e(()=>c.current,[]);const ie=_e((O=null)=>{c.current=O},[]),fe=_e(()=>{s()&&L({maxScroll:P1()})},[s,L]);sP({droppableId:p,type:m,mode:g,direction:_,isDropDisabled:E,isCombineEnabled:A,ignoreContainerClipping:v,getDroppableRef:X});const ae=Qe(()=>bt.createElement(uP,{on:r.placeholder,shouldAnimate:r.shouldAnimatePlaceholder},({onClose:O,data:U,animate:R})=>bt.createElement(cP,{placeholder:U,onClose:O,innerRef:ie,animate:R,contextId:t,onTransitionEnd:fe})),[t,fe,r.placeholder,r.shouldAnimatePlaceholder,ie]),I=Qe(()=>({innerRef:te,placeholder:ae,droppableProps:{"data-rfd-droppable-id":p,"data-rfd-droppable-context-id":t}}),[t,p,ae,te]),x=z?z.dragging.draggableId:null,C=Qe(()=>({droppableId:p,type:m,isUsingCloneFor:x}),[p,x,m]);function M(){if(!z)return null;const{dragging:O,render:U}=z,R=bt.createElement(J1,{draggableId:O.draggableId,index:O.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(Xe,Ge)=>U(Xe,Ge,O));return WO.createPortal(R,Y())}return bt.createElement(hy.Provider,{value:C},u(I,V),M())};function dP(){return document.body||le(),document.body}const uw={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:dP},nA=r=>{let e={...r},t;for(t in uw)r[t]===void 0&&(e={...e,[t]:uw[t]});return e},gm=(r,e)=>r===e.droppable.type,fw=(r,e)=>e.draggables[r.draggable.id],hP=()=>{const r={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},e={...r,shouldAnimatePlaceholder:!1},t=Wt(c=>({draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}})),s=Wt((c,u,p,m,g,_)=>{const v=g.descriptor.id;if(g.descriptor.droppableId===c){const V=_?{render:_,dragging:t(g.descriptor)}:null,z={isDraggingOver:p,draggingOverWith:p?v:null,draggingFromThisWith:v,isUsingPlaceholder:!0};return{placeholder:g.placeholder,shouldAnimatePlaceholder:!1,snapshot:z,useClone:V}}if(!u)return e;if(!m)return r;const A={isDraggingOver:p,draggingOverWith:v,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:g.placeholder,shouldAnimatePlaceholder:!0,snapshot:A,useClone:null}});return(c,u)=>{const p=nA(u),m=p.droppableId,g=p.type,_=!p.isDropDisabled,v=p.renderClone;if(Cc(c)){const E=c.critical;if(!gm(g,E))return e;const A=fw(E,c.dimensions),V=Hn(c.impact)===m;return s(m,_,V,V,A,v)}if(c.phase==="DROP_ANIMATING"){const E=c.completed;if(!gm(g,E.critical))return e;const A=fw(E.critical,c.dimensions);return s(m,_,X1(E.result)===m,Hn(E.impact)===m,A,v)}if(c.phase==="IDLE"&&c.completed&&!c.shouldFlush){const E=c.completed;if(!gm(g,E.critical))return e;const A=Hn(E.impact)===m,V=!!(E.impact.at&&E.impact.at.type==="COMBINE"),z=E.critical.droppable.id===m;return A?V?r:e:z?r:e}return e}},pP={updateViewportMaxScroll:S6},mP=e1(hP,pP,(r,e,t)=>({...nA(t),...r,...e}),{context:uy,areStatePropsEqual:Q1})(fP),gP=({list:r,setList:e,isMidnight:t})=>{if(!r||r.length===0)return null;const[s,o]=re.useState(null),c=()=>{const p=`[]
`+r.map((m,g)=>`${g+1}. [${m.server}] ${m.zone} | ${m.mobName}`).join(`
`);navigator.clipboard.writeText(p).then(()=>{o(""),setTimeout(()=>o(null),2e3)})},u=p=>{if(!p.destination)return;const m=Array.from(r),[g]=m.splice(p.source.index,1);m.splice(p.destination.index,0,g),e(m)};return D.jsx(C5,{onDragEnd:u,children:D.jsxs("div",{className:ve("fixed bottom-4 left-2 right-2 md:left-8 md:right-8 z-50 rounded-3xl border shadow-2xl backdrop-blur-xl animate-in slide-in-from-bottom-10 font-black",t?"bg-[#12141e]/95 border-white/10":"bg-white/95 border-slate-200"),children:[D.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/5",children:[D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx("div",{className:ve("p-2 rounded-xl",t?"bg-blue-600/20 text-blue-400":"bg-blue-100 text-blue-600"),children:D.jsx(PO,{className:"w-5 h-5"})}),D.jsxs("div",{children:[D.jsx("div",{className:"text-xs opacity-50 uppercase font-bold",children:"Hunt Train"}),D.jsxs("div",{className:ve("font-black",t?"text-white":"text-slate-900"),children:[" (",r.length,")"]})]})]}),D.jsxs("div",{className:"flex gap-2",children:[D.jsx("button",{onClick:()=>e([]),className:"p-2.5 hover:bg-red-500/20 rounded-xl text-red-500 transition-colors",children:D.jsx(qO,{className:"w-5 h-5"})}),D.jsx("button",{onClick:c,className:"px-4 py-2 bg-blue-600 text-white rounded-xl text-xs font-black shadow-lg shadow-blue-500/30 active:scale-95 transition-all",children:s||""})]})]}),D.jsx(mP,{droppableId:"train-list",direction:"horizontal",children:p=>D.jsxs("div",{ref:p.innerRef,...p.droppableProps,className:"flex overflow-x-auto gap-3 p-4 custom-scrollbar scroll-smooth",children:[r.map((m,g)=>D.jsx(K5,{draggableId:m.id,index:g,children:(_,v)=>D.jsxs("div",{ref:_.innerRef,..._.draggableProps,..._.dragHandleProps,style:{..._.draggableProps.style},className:ve("shrink-0 p-3 pr-8 rounded-2xl border min-w-[160px] relative group select-none transition-colors",v.isDragging?t?"bg-blue-900/40 border-blue-500 shadow-xl":"bg-blue-50 border-blue-500 shadow-xl":t?"bg-black/20 border-white/5 hover:border-white/20":"bg-slate-50 border-slate-200 hover:border-blue-300"),children:[D.jsxs("div",{className:"text-[9px] font-bold opacity-50 mb-1 flex items-center gap-1",children:[D.jsx("span",{className:"bg-blue-600 text-white px-1.5 rounded-md",children:g+1}),D.jsxs("span",{children:["[",m.server,"] ",m.zone]})]}),D.jsx("div",{className:ve("font-black text-sm truncate",t?"text-slate-200":"text-slate-800"),children:m.mobName}),D.jsx("button",{onPointerDown:E=>E.stopPropagation(),onClick:()=>e(r.filter(E=>E.id!==m.id)),className:ve("absolute top-2 right-2 rounded-full p-1 opacity-0 group-hover:opacity-100 transition-all",t?"bg-red-900 text-red-200":"bg-red-100 text-red-600"),children:D.jsx(Gg,{className:"w-3 h-3"})})]})},m.id)),p.placeholder,D.jsx("div",{className:"w-2 shrink-0"})]})})]})})},yP=["","","","",""],vP=({isOpen:r,onClose:e,eorzeaData:t,isMidnight:s})=>r?D.jsx("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-4 bg-black/90 backdrop-blur-xl animate-in fade-in",children:D.jsxs("div",{className:`border-2 p-8 rounded-[3rem] max-w-4xl w-full shadow-2xl ${s?"bg-[#12141e] border-white/5 text-white":"bg-white border-slate-200"}`,children:[D.jsxs("div",{className:"flex justify-between items-center mb-8",children:[D.jsxs("h2",{className:"text-3xl font-black flex items-center gap-3",children:[D.jsx(mO,{className:"text-blue-400"})," "]}),D.jsx("button",{onClick:e,className:"p-3 rounded-full border-2 hover:bg-white/10",children:D.jsx(Gg,{})})]}),D.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[D.jsxs("div",{className:`p-8 rounded-[2.5rem] border flex flex-col justify-center ${s?"bg-white/5 border-white/5":"bg-slate-50"}`,children:[D.jsx("div",{className:"text-xs uppercase tracking-widest opacity-50 mb-2",children:"Current Eorzea Day"}),D.jsxs("div",{className:"text-6xl font-mono font-black mb-4",children:["Day ",t.day]}),D.jsxs("div",{className:"text-2xl text-yellow-500 font-black",children:["Next: ",t.nextIn]})]}),D.jsx("div",{className:"space-y-3",children:yP.map(o=>D.jsxs("div",{className:`p-4 rounded-2xl border flex justify-between items-center ${s?"border-white/10 hover:bg-white/5":"border-slate-200"}`,children:[D.jsx("span",{className:"font-bold",children:o}),D.jsxs("div",{className:"text-right",children:[D.jsx("div",{className:"text-blue-400 font-black",children:od(o,t.curVal)}),D.jsxs("div",{className:"text-xs opacity-50",children:["Next: ",od(o,t.nxtVal)]})]})]},o))})]})]})}):null,_P=({isOpen:r,onClose:e,onVerify:t,isMidnight:s})=>{const[o,c]=re.useState("");return r?D.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-6 bg-black/98 backdrop-blur-2xl",children:D.jsxs("div",{className:ve("border-2 p-12 rounded-[4rem] shadow-2xl max-w-sm w-full text-center font-black",s?"bg-[#12141e] border-white/5 text-white":"bg-white border-slate-200 text-slate-900"),children:[D.jsx("h2",{className:"text-3xl mb-12 italic uppercase font-black tracking-tight",children:""}),D.jsx("input",{type:"password",value:o,onChange:u=>c(u.target.value),placeholder:"******",className:ve("w-full border-2 p-6 rounded-[2rem] mb-12 text-center text-4xl outline-none transition-all shadow-inner font-mono font-black",s?"bg-black/50 border-white/10 text-yellow-500 focus:border-yellow-500":"bg-black/5 border-slate-200 focus:border-blue-500"),onKeyDown:u=>u.key==="Enter"&&t(o),autoFocus:!0}),D.jsxs("div",{className:"flex gap-4",children:[D.jsx("button",{onClick:e,className:ve("flex-1 py-5 rounded-3xl border-2 uppercase text-xs font-black hover:opacity-70",s?"border-white/10":"border-slate-200"),children:""}),D.jsx("button",{onClick:()=>t(o),className:"flex-1 py-5 bg-yellow-600 text-white rounded-3xl text-xs font-black uppercase hover:bg-yellow-500 shadow-xl active:scale-95 transition-all",children:""})]})]})}):null},bP="ffxiv-hunt-stable-final-v24",EP=({isOpen:r,onClose:e,server:t,mobId:s,mobName:o,isMidnight:c})=>{const[u,p]=re.useState([]);return re.useEffect(()=>{if(!r||!s)return;const m=qD(WT(pa,"artifacts",bP,"public","data",`timers-${t}`,s,"history"),GD("timestamp","desc"),FD(50)),g=lS(m,_=>{const v=[];_.forEach(E=>v.push({...E.data(),id:E.id})),p(v)});return()=>g()},[r,t,s]),r?D.jsx("div",{className:"fixed inset-0 z-[300] flex items-center justify-center p-6 bg-black/90 backdrop-blur-md animate-in fade-in duration-200",children:D.jsxs("div",{className:ve("border-2 rounded-[3rem] shadow-2xl w-full max-w-2xl flex flex-col max-h-[80vh]",c?"bg-[#12141e] border-white/5 text-slate-300":"bg-white border-slate-200 text-slate-700"),children:[D.jsxs("div",{className:"p-8 border-b border-white/5 flex justify-between items-center",children:[D.jsxs("h3",{className:"text-2xl font-black flex items-center gap-3",children:[D.jsx("span",{className:"bg-blue-600 text-white p-2 rounded-xl",children:D.jsx(qm,{className:"w-6 h-6"})}),D.jsxs("span",{children:[o," ",D.jsxs("span",{className:"text-sm opacity-50 font-normal",children:["(",t,")"]})]})]}),D.jsx("button",{onClick:e,className:ve("p-4 rounded-2xl",c?"bg-[#252a3a] border-white/10":"bg-white border-slate-200"),children:D.jsx(Gg,{className:"w-6 h-6"})})]}),D.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar space-y-3",children:u.length===0?D.jsx("div",{className:"text-center opacity-50 py-10",children:""}):u.map(m=>D.jsxs("div",{className:ve("p-4 rounded-2xl border flex items-center justify-between text-sm",c?"bg-white/5 border-white/5":"bg-slate-50 border-slate-100"),children:[D.jsxs("div",{className:"flex items-center gap-4",children:[D.jsxs("div",{className:ve("text-[10px] font-mono px-2 py-1 rounded",c?"bg-black/40 text-slate-400":"bg-slate-200 text-slate-500"),children:[new Date(m.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),D.jsx("div",{className:"text-[9px] opacity-50",children:new Date(m.timestamp).toLocaleDateString()})]}),D.jsxs("div",{children:[D.jsx("div",{className:"font-bold text-base flex items-center gap-2",children:D.jsx("span",{className:ve("text-[10px] px-2 rounded border",m.action==="KILL"?"border-red-500/50 text-red-500":"border-blue-500/50 text-blue-500"),children:m.action==="KILL"?"":m.action==="RESET"?"":""})}),D.jsx("div",{className:"opacity-60 text-xs mt-1",children:m.details})]})]}),D.jsxs("div",{className:"text-[10px] opacity-40 text-right",children:["by ",m.userLabel]})]},m.id))})]})}):null},ym="ffxiv-hunt-stable-final-v24";async function wP(r){const e=new TextEncoder().encode(r),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(s=>s.toString(16).padStart(2,"0")).join("")}function TP(){const r=iO(),[e,t]=re.useState(()=>localStorage.getItem("ff-theme")||"sunlight"),[s,o]=re.useState(()=>localStorage.getItem("ff-server")||""),[c,u]=re.useState("all"),[p,m]=re.useState("card"),[g,_]=re.useState(!0),[v,E]=re.useState(null),[A,V]=re.useState(""),[z,L]=re.useState(()=>{try{return localStorage.getItem("ff-is-admin")==="true"}catch{return!1}}),[Y,X]=re.useState({}),[te,ie]=re.useState([]),[fe,ae]=re.useState(!0),[I,x]=re.useState(null),[C,M]=re.useState(""),[O,U]=re.useState(!1),[R,Xe]=re.useState(!1),[Ge,K]=re.useState({isOpen:!1,mobId:null,mobName:""}),se=e==="midnight",me=re.useRef(null),Me=re.useRef(!1),Fe=re.useRef(0),P=re.useRef(0),W=ce=>{Me.current=!0,me.current&&(Fe.current=ce.pageX-me.current.offsetLeft,P.current=me.current.scrollLeft)},oe=()=>{Me.current=!1},de=()=>{Me.current=!1},Te=ce=>{if(!Me.current||!me.current)return;ce.preventDefault();const we=(ce.pageX-me.current.offsetLeft-Fe.current)*2;me.current.scrollLeft=P.current-we},Se={bg:se?"bg-[#0a0b10] text-slate-200":"bg-slate-50 text-slate-900",btn:se?"bg-[#252a3a] border-white/10 text-slate-300 hover:text-white":"bg-white border-slate-200 text-slate-600 hover:bg-slate-100",container:se?"bg-white/5 border-white/5":"bg-white border-slate-200"};re.useEffect(()=>{const ce=LN(Af,async $e=>{if($e){if(E($e),!$e.isAnonymous)try{const we=await tE(Wl(pa,"users",$e.uid));we.exists()&&V(we.data().hunterName||"")}catch(we){console.error(we)}}else NN(Af).catch(console.error),V("")});return()=>ce()},[]);const ke=()=>i4(Af,new Wr).catch(console.error),Et=()=>UN(Af).catch(console.error),Ze=async ce=>{if(!(!v||v.isAnonymous))try{await Tf(Wl(pa,"users",v.uid),{hunterName:ce},{merge:!0}),V(ce)}catch{alert("")}},Dn=async ce=>{if(!v||v.isAnonymous){alert(` 

 Google `);return}if(ce)try{const $e=await wP(ce),we=Wl(pa,"config","admin_settings"),Ve=await tE(we);if(Ve.exists()){const ot=Ve.data().password_hash;$e===ot?(L(!0),localStorage.setItem("ff-is-admin","true"),Xe(!1),alert(" ")):alert(" ")}else console.error(" (config/admin_settings)"),alert("")}catch($e){console.error("",$e),alert("")}},ii=()=>{z?(L(!1),localStorage.removeItem("ff-is-admin")):Xe(!0)};re.useEffect(()=>{ae(!0);const ce=lS(WT(pa,"artifacts",ym,"public","data",`timers-${s}`),$e=>{const we={};$e.forEach(Ve=>we[Ve.id]=Ve.data()),X(we),ae(!1)},$e=>{console.error($e),ae(!1)});return()=>ce()},[s]);const St=async(ce,$e)=>{if(!(!z||!C))try{const we=new Date(C).getTime();if(isNaN(we)){alert("");return}const Ve=Wl(pa,"artifacts",ym,"public","data",`timers-${s}`,ce);await Tf(Ve,{startTime:we,endTime:we+$e*36e5,updatedAt:Date.now(),isManual:!0,windowHours:$e},{merge:!0}),x(null),M(""),alert(" ")}catch(we){console.error(we),alert(" ")}},bn=re.useMemo(()=>{const ce=[];return(c==="all"?Object.keys(fa):[c]).forEach(we=>{fa[we]&&[...fa[we].s,...fa[we].a].forEach((Ve,ot)=>{const $t=fa[we].s.includes(Ve)?"s":"a",En=`${we}-${$t}-${ot}`,ht=Y[En];(!ht?.endTime||ht.endTime<=r.currentTime)&&ce.push({...Ve,id:En,expKey:we,rank:$t,timer:ht})})}),ce.sort(we=>we.rank==="s"?-1:1).slice(0,30)},[Y,r.currentTime,s,c]),Nn=re.useMemo(()=>{const ce=[],$e=[];(c==="all"?Object.keys(fa):[c]).forEach(ot=>{const $t=fa[ot];$t&&($t.s.forEach((En,ht)=>ce.push({...En,id:`${ot}-s-${ht}`,rank:"s",expKey:ot})),$t.a.forEach((En,ht)=>$e.push({...En,id:`${ot}-a-${ht}`,rank:"a",expKey:ot})))});const Ve=(ot,$t)=>{if(g){const si=Y[ot.id]?.endTime||0,ks=Y[$t.id]?.endTime||0,Vi=si<=r.currentTime,cr=ks<=r.currentTime;if(Vi&&!cr)return-1;if(!Vi&&cr)return 1}const En=ot.zone.includes(""),ht=$t.zone.includes("");return En&&!ht?-1:!En&&ht?1:0};return{s:ce.sort(Ve),a:$e.sort(Ve)}},[c,Y,g,r.currentTime]),Mi=async(ce,$e)=>{if(!ce)return;const Ve=Y[ce]?.endTime>r.currentTime;if(!Ve&&v&&v.isAnonymous){window.confirm(" Google ")&&ke();return}if(Ve&&!z){alert("");return}const ot=Wl(pa,"artifacts",ym,"public","data",`timers-${s}`,ce);try{if(Ve)await Tf(ot,{});else{const $t=Date.now();await Tf(ot,{startTime:$t,endTime:$t+$e*36e5,updatedAt:$t},{merge:!0})}}catch{alert("")}},Rr=(ce,$e)=>{const we=`${ce}-${s}`;ie(Ve=>Ve.some(ot=>ot.id===we)?Ve.filter(ot=>ot.id!==we):[...Ve,{id:we,mobName:ce,zone:$e,server:s,uniqueId:Date.now().toString()}])};return D.jsxs("div",{className:ve("min-h-screen p-4 pb-96 transition-all duration-500 font-black",Se.bg),children:[D.jsx(YO,{user:v,hunterName:A,setHunterName:Ze,onLogin:ke,onLogout:Et,selectedServer:s,setSelectedServer:o,eorzeaData:r,theme:e,setTheme:ce=>{t(ce),localStorage.setItem("ff-theme",ce)},onShowWeather:()=>U(!0),currentTime:r.currentTime,isMidnight:se,isAdmin:z,onToggleAdmin:ii}),D.jsx(KO,{alerts:bn,currentTime:r.currentTime,onTabChange:u,isMidnight:se,timers:Y,selectedServer:s}),D.jsx("div",{className:"flex flex-wrap gap-2 mb-6 bg-black/10 p-2 rounded-2xl font-black",children:eO.map(ce=>D.jsx("button",{onClick:()=>{o(ce),localStorage.setItem("ff-server",ce)},className:ve("flex-1 py-4 rounded-xl text-xs font-black transition-all",s===ce?"bg-blue-600 text-white shadow-xl shadow-blue-900/30":"bg-transparent text-slate-500 hover:bg-white/5"),children:ce},ce))}),D.jsxs("div",{className:"flex flex-col gap-6 mb-12 font-black",children:[D.jsx("div",{className:"relative scroll-gradient-mask",children:D.jsx("div",{ref:me,onMouseDown:W,onMouseLeave:oe,onMouseUp:de,onMouseMove:Te,className:"flex flex-nowrap gap-3 overflow-x-auto pb-4 scrollbar-hide font-black px-1 cursor-grab active:cursor-grabbing select-none",children:tO.map(ce=>D.jsx("button",{onClick:()=>u(ce.id),className:ve("flex-shrink-0 px-7 py-4 rounded-3xl text-xs font-black transition-all border-2 whitespace-nowrap",c===ce.id?ve(ce.color||"bg-blue-600","border-transparent text-white shadow-xl scale-105"):ve(Se.btn)),children:ce.name},ce.id))})}),D.jsxs("div",{className:"flex justify-end items-center gap-4",children:[D.jsxs("div",{className:ve("border-2 rounded-2xl p-1 flex gap-1 font-black",se?"bg-black/40 border-white/5":"bg-white border-slate-200"),children:[D.jsx("button",{onClick:()=>m("card"),className:ve("p-2.5 rounded-xl transition-all",p==="card"?"bg-blue-600 text-white shadow-lg":""),children:D.jsx(_O,{className:"w-5 h-5"})}),D.jsx("button",{onClick:()=>m("list"),className:ve("p-2.5 rounded-xl transition-all",p==="list"?"bg-blue-600 text-white shadow-lg":""),children:D.jsx(wO,{className:"w-5 h-5"})})]}),D.jsxs("button",{onClick:()=>_(!g),className:ve("px-6 py-3 rounded-2xl border-2 text-[11px] uppercase transition-all font-black",Se.btn),children:["",g?"":""]})]})]}),fe?D.jsxs("div",{className:"flex flex-col items-center justify-center py-48 opacity-50",children:[D.jsx($S,{className:"animate-spin w-12 h-12 mb-4 text-blue-500"}),D.jsx("span",{className:"font-black tracking-widest animate-pulse",children:"SYNCING DATA..."})]}):D.jsxs("div",{className:ve(p==="card"?"grid grid-cols-1 lg:grid-cols-2 gap-8 md:gap-16 font-black":"flex flex-col gap-10 font-black"),children:[D.jsxs("section",{className:ve(p==="list"?"w-full":""),children:[D.jsxs("h2",{className:ve("text-3xl md:text-4xl mb-6 md:mb-10 flex items-center gap-3 md:gap-5 px-6 font-black",se?"text-white":"text-slate-900"),children:[D.jsx(LO,{className:"w-8 h-8 md:w-12 md:h-12 text-yellow-500 font-black"})," S-Rank"]}),D.jsx("div",{className:ve(p==="card"?"flex flex-col gap-4 md:gap-10":ve("flex flex-col border-2 rounded-[2rem] md:rounded-[3.5rem] overflow-hidden divide-y divide-white/5",Se.container)),children:Nn.s.map(ce=>D.jsx(xE,{mob:ce,timer:Y[ce.id],currentTime:r.currentTime,isMidnight:se,isAdmin:z,server:s,inTrain:te.some($e=>$e.mobName===ce.cn),viewMode:p,onToggleKill:()=>Mi(ce.id,ce.window),onToggleTrain:()=>Rr(ce.cn,ce.zone),onOpenHistory:()=>K({isOpen:!0,mobId:ce.id,mobName:ce.cn}),isEditing:I===ce.id,editTimeVal:C,setEditTimeVal:M,onToggleEdit:()=>x(I===ce.id?null:ce.id),onManualSubmit:()=>St(ce.id,ce.window)},ce.id))})]}),D.jsxs("section",{className:ve(p==="list"?"w-full":""),children:[D.jsxs("h2",{className:ve("text-3xl md:text-4xl mb-6 md:mb-10 flex items-center gap-3 md:gap-5 px-6 font-black",se?"text-white":"text-slate-900"),children:[D.jsx(BO,{className:"w-8 h-8 md:w-12 md:h-12 text-blue-500 font-black"})," A-Rank"]}),D.jsx("div",{className:ve(p==="card"?"flex flex-col gap-4 md:gap-8":ve("flex flex-col border-2 rounded-[2rem] md:rounded-[3.5rem] overflow-hidden divide-y divide-white/5",Se.container)),children:Nn.a.map(ce=>D.jsx(xE,{mob:ce,timer:Y[ce.id],currentTime:r.currentTime,isMidnight:se,isAdmin:z,server:s,inTrain:te.some($e=>$e.mobName===ce.cn),viewMode:p,onToggleKill:()=>Mi(ce.id,ce.window),onToggleTrain:()=>Rr(ce.cn,ce.zone),onOpenHistory:()=>K({isOpen:!0,mobId:ce.id,mobName:ce.cn}),isEditing:I===ce.id,editTimeVal:C,setEditTimeVal:M,onToggleEdit:()=>x(I===ce.id?null:ce.id),onManualSubmit:()=>St(ce.id,ce.window)},ce.id))})]})]}),D.jsx(gP,{list:te,setList:ie,isMidnight:se}),D.jsx(vP,{isOpen:O,onClose:()=>U(!1),eorzeaData:r,isMidnight:se}),D.jsx(_P,{isOpen:R,onClose:()=>Xe(!1),onVerify:Dn,isMidnight:se}),D.jsx(EP,{isOpen:Ge.isOpen,onClose:()=>K({...Ge,isOpen:!1}),server:s,mobId:Ge.mobId,mobName:Ge.mobName,isMidnight:se})]})}Hx.createRoot(document.getElementById("root")).render(D.jsx(bt.StrictMode,{children:D.jsx(TP,{})}));
