(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function sg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Fp={exports:{}},Zl={};var qb;function Fx(){if(qb)return Zl;qb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var p in a)p!=="key"&&(l[p]=a[p])}else l=a;return a=l.ref,{$$typeof:n,type:s,key:u,ref:a!==void 0?a:null,props:l}}return Zl.Fragment=e,Zl.jsx=t,Zl.jsxs=t,Zl}var Gb;function $x(){return Gb||(Gb=1,Fp.exports=Fx()),Fp.exports}var I=$x(),$p={exports:{}},Ce={};var Fb;function Yx(){if(Fb)return Ce;Fb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),E=Symbol.iterator;function S(k){return k===null||typeof k!="object"?null:(k=E&&k[E]||k["@@iterator"],typeof k=="function"?k:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,P={};function F(k,W,ce){this.props=k,this.context=W,this.refs=P,this.updater=ce||V}F.prototype.isReactComponent={},F.prototype.setState=function(k,W){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,W,"setState")},F.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function Q(){}Q.prototype=F.prototype;function re(k,W,ce){this.props=k,this.context=W,this.refs=P,this.updater=ce||V}var te=re.prototype=new Q;te.constructor=re,z(te,F.prototype),te.isPureReactComponent=!0;var le=Array.isArray;function ae(){}var R={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function C(k,W,ce){var de=ce.ref;return{$$typeof:n,type:k,key:W,ref:de!==void 0?de:null,props:ce}}function O(k,W){return C(k.type,W,k.props)}function N(k){return typeof k=="object"&&k!==null&&k.$$typeof===n}function U(k){var W={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ce){return W[ce]})}var D=/\/+/g;function $e(k,W){return typeof k=="object"&&k!==null&&k.key!=null?U(""+k.key):W.toString(36)}function _e(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(ae,ae):(k.status="pending",k.then(function(W){k.status==="pending"&&(k.status="fulfilled",k.value=W)},function(W){k.status==="pending"&&(k.status="rejected",k.reason=W)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function K(k,W,ce,de,Te){var xe=typeof k;(xe==="undefined"||xe==="boolean")&&(k=null);var ke=!1;if(k===null)ke=!0;else switch(xe){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(k.$$typeof){case n:case e:ke=!0;break;case v:return ke=k._init,K(ke(k._payload),W,ce,de,Te)}}if(ke)return Te=Te(k),ke=de===""?"."+$e(k,0):de,le(Te)?(ce="",ke!=null&&(ce=ke.replace(D,"$&/")+"/"),K(Te,W,ce,"",function(Ve){return Ve})):Te!=null&&(N(Te)&&(Te=O(Te,ce+(Te.key==null||k&&k.key===Te.key?"":(""+Te.key).replace(D,"$&/")+"/")+ke)),W.push(Te)),1;ke=0;var bt=de===""?".":de+":";if(le(k))for(var ie=0;ie<k.length;ie++)de=k[ie],xe=bt+$e(de,ie),ke+=K(de,W,ce,xe,Te);else if(ie=S(k),typeof ie=="function")for(k=ie.call(k),ie=0;!(de=k.next()).done;)de=de.value,xe=bt+$e(de,ie++),ke+=K(de,W,ce,xe,Te);else if(xe==="object"){if(typeof k.then=="function")return K(_e(k),W,ce,de,Te);throw W=String(k),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return ke}function oe(k,W,ce){if(k==null)return k;var de=[],Te=0;return K(k,de,"","",function(xe){return W.call(ce,xe,Te++)}),de}function ye(k){if(k._status===-1){var W=k._result;W=W(),W.then(function(ce){(k._status===0||k._status===-1)&&(k._status=1,k._result=ce)},function(ce){(k._status===0||k._status===-1)&&(k._status=2,k._result=ce)}),k._status===-1&&(k._status=0,k._result=W)}if(k._status===1)return k._result.default;throw k._result}var Le=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Ke={map:oe,forEach:function(k,W,ce){oe(k,function(){W.apply(this,arguments)},ce)},count:function(k){var W=0;return oe(k,function(){W++}),W},toArray:function(k){return oe(k,function(W){return W})||[]},only:function(k){if(!N(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Ce.Activity=_,Ce.Children=Ke,Ce.Component=F,Ce.Fragment=t,Ce.Profiler=a,Ce.PureComponent=re,Ce.StrictMode=s,Ce.Suspense=m,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(k){return R.H.useMemoCache(k)}},Ce.cache=function(k){return function(){return k.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(k,W,ce){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var de=z({},k.props),Te=k.key;if(W!=null)for(xe in W.key!==void 0&&(Te=""+W.key),W)!x.call(W,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&W.ref===void 0||(de[xe]=W[xe]);var xe=arguments.length-2;if(xe===1)de.children=ce;else if(1<xe){for(var ke=Array(xe),bt=0;bt<xe;bt++)ke[bt]=arguments[bt+2];de.children=ke}return C(k.type,Te,de)},Ce.createContext=function(k){return k={$$typeof:u,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:l,_context:k},k},Ce.createElement=function(k,W,ce){var de,Te={},xe=null;if(W!=null)for(de in W.key!==void 0&&(xe=""+W.key),W)x.call(W,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Te[de]=W[de]);var ke=arguments.length-2;if(ke===1)Te.children=ce;else if(1<ke){for(var bt=Array(ke),ie=0;ie<ke;ie++)bt[ie]=arguments[ie+2];Te.children=bt}if(k&&k.defaultProps)for(de in ke=k.defaultProps,ke)Te[de]===void 0&&(Te[de]=ke[de]);return C(k,xe,Te)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(k){return{$$typeof:p,render:k}},Ce.isValidElement=N,Ce.lazy=function(k){return{$$typeof:v,_payload:{_status:-1,_result:k},_init:ye}},Ce.memo=function(k,W){return{$$typeof:g,type:k,compare:W===void 0?null:W}},Ce.startTransition=function(k){var W=R.T,ce={};R.T=ce;try{var de=k(),Te=R.S;Te!==null&&Te(ce,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(ae,Le)}catch(xe){Le(xe)}finally{W!==null&&ce.types!==null&&(W.types=ce.types),R.T=W}},Ce.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ce.use=function(k){return R.H.use(k)},Ce.useActionState=function(k,W,ce){return R.H.useActionState(k,W,ce)},Ce.useCallback=function(k,W){return R.H.useCallback(k,W)},Ce.useContext=function(k){return R.H.useContext(k)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(k,W){return R.H.useDeferredValue(k,W)},Ce.useEffect=function(k,W){return R.H.useEffect(k,W)},Ce.useEffectEvent=function(k){return R.H.useEffectEvent(k)},Ce.useId=function(){return R.H.useId()},Ce.useImperativeHandle=function(k,W,ce){return R.H.useImperativeHandle(k,W,ce)},Ce.useInsertionEffect=function(k,W){return R.H.useInsertionEffect(k,W)},Ce.useLayoutEffect=function(k,W){return R.H.useLayoutEffect(k,W)},Ce.useMemo=function(k,W){return R.H.useMemo(k,W)},Ce.useOptimistic=function(k,W){return R.H.useOptimistic(k,W)},Ce.useReducer=function(k,W,ce){return R.H.useReducer(k,W,ce)},Ce.useRef=function(k){return R.H.useRef(k)},Ce.useState=function(k){return R.H.useState(k)},Ce.useSyncExternalStore=function(k,W,ce){return R.H.useSyncExternalStore(k,W,ce)},Ce.useTransition=function(){return R.H.useTransition()},Ce.version="19.2.4",Ce}var $b;function Ed(){return $b||($b=1,$p.exports=Yx()),$p.exports}var se=Ed();const pt=sg(se);var Yp={exports:{}},ec={},Kp={exports:{}},Qp={};var Yb;function Kx(){return Yb||(Yb=1,(function(n){function e(K,oe){var ye=K.length;K.push(oe);e:for(;0<ye;){var Le=ye-1>>>1,Ke=K[Le];if(0<a(Ke,oe))K[Le]=oe,K[ye]=Ke,ye=Le;else break e}}function t(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var oe=K[0],ye=K.pop();if(ye!==oe){K[0]=ye;e:for(var Le=0,Ke=K.length,k=Ke>>>1;Le<k;){var W=2*(Le+1)-1,ce=K[W],de=W+1,Te=K[de];if(0>a(ce,ye))de<Ke&&0>a(Te,ce)?(K[Le]=Te,K[de]=ye,Le=de):(K[Le]=ce,K[W]=ye,Le=W);else if(de<Ke&&0>a(Te,ye))K[Le]=Te,K[de]=ye,Le=de;else break e}}return oe}function a(K,oe){var ye=K.sortIndex-oe.sortIndex;return ye!==0?ye:K.id-oe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,p=u.now();n.unstable_now=function(){return u.now()-p}}var m=[],g=[],v=1,_=null,E=3,S=!1,V=!1,z=!1,P=!1,F=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function te(K){for(var oe=t(g);oe!==null;){if(oe.callback===null)s(g);else if(oe.startTime<=K)s(g),oe.sortIndex=oe.expirationTime,e(m,oe);else break;oe=t(g)}}function le(K){if(z=!1,te(K),!V)if(t(m)!==null)V=!0,ae||(ae=!0,U());else{var oe=t(g);oe!==null&&_e(le,oe.startTime-K)}}var ae=!1,R=-1,x=5,C=-1;function O(){return P?!0:!(n.unstable_now()-C<x)}function N(){if(P=!1,ae){var K=n.unstable_now();C=K;var oe=!0;try{e:{V=!1,z&&(z=!1,Q(R),R=-1),S=!0;var ye=E;try{t:{for(te(K),_=t(m);_!==null&&!(_.expirationTime>K&&O());){var Le=_.callback;if(typeof Le=="function"){_.callback=null,E=_.priorityLevel;var Ke=Le(_.expirationTime<=K);if(K=n.unstable_now(),typeof Ke=="function"){_.callback=Ke,te(K),oe=!0;break t}_===t(m)&&s(m),te(K)}else s(m);_=t(m)}if(_!==null)oe=!0;else{var k=t(g);k!==null&&_e(le,k.startTime-K),oe=!1}}break e}finally{_=null,E=ye,S=!1}oe=void 0}}finally{oe?U():ae=!1}}}var U;if(typeof re=="function")U=function(){re(N)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,$e=D.port2;D.port1.onmessage=N,U=function(){$e.postMessage(null)}}else U=function(){F(N,0)};function _e(K,oe){R=F(function(){K(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(K){switch(E){case 1:case 2:case 3:var oe=3;break;default:oe=E}var ye=E;E=oe;try{return K()}finally{E=ye}},n.unstable_requestPaint=function(){P=!0},n.unstable_runWithPriority=function(K,oe){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ye=E;E=K;try{return oe()}finally{E=ye}},n.unstable_scheduleCallback=function(K,oe,ye){var Le=n.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Le+ye:Le):ye=Le,K){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=ye+Ke,K={id:v++,callback:oe,priorityLevel:K,startTime:ye,expirationTime:Ke,sortIndex:-1},ye>Le?(K.sortIndex=ye,e(g,K),t(m)===null&&K===t(g)&&(z?(Q(R),R=-1):z=!0,_e(le,ye-Le))):(K.sortIndex=Ke,e(m,K),V||S||(V=!0,ae||(ae=!0,U()))),K},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(K){var oe=E;return function(){var ye=E;E=oe;try{return K.apply(this,arguments)}finally{E=ye}}}})(Qp)),Qp}var Kb;function Qx(){return Kb||(Kb=1,Kp.exports=Kx()),Kp.exports}var Xp={exports:{}},fn={};var Qb;function Xx(){if(Qb)return fn;Qb=1;var n=Ed();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:g,implementation:v}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,fn.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,v)},fn.flushSync=function(m){var g=u.T,v=s.p;try{if(u.T=null,s.p=2,m)return m()}finally{u.T=g,s.p=v,s.d.f()}},fn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},fn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},fn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,_=p(v,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:S}):v==="script"&&s.d.X(m,{crossOrigin:_,integrity:E,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},fn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=p(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},fn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,_=p(v,g.crossOrigin);s.d.L(m,v,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},fn.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=p(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},fn.requestFormReset=function(m){s.d.r(m)},fn.unstable_batchedUpdates=function(m,g){return m(g)},fn.useFormState=function(m,g,v){return u.H.useFormState(m,g,v)},fn.useFormStatus=function(){return u.H.useHostTransitionStatus()},fn.version="19.2.4",fn}var Xb;function ww(){if(Xb)return Xp.exports;Xb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Xp.exports=Xx(),Xp.exports}var Wb;function Wx(){if(Wb)return ec;Wb=1;var n=Qx(),e=Ed(),t=ww();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var i=r,o=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(o=i.return),r=i.return;while(r)}return i.tag===3?o:null}function u(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function p(r){if(r.tag===31){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function m(r){if(l(r)!==r)throw Error(s(188))}function g(r){var i=r.alternate;if(!i){if(i=l(r),i===null)throw Error(s(188));return i!==r?null:r}for(var o=r,c=i;;){var d=o.return;if(d===null)break;var h=d.alternate;if(h===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===o)return m(d),r;if(h===c)return m(d),i;h=h.sibling}throw Error(s(188))}if(o.return!==c.return)o=d,c=h;else{for(var b=!1,T=d.child;T;){if(T===o){b=!0,o=d,c=h;break}if(T===c){b=!0,c=d,o=h;break}T=T.sibling}if(!b){for(T=h.child;T;){if(T===o){b=!0,o=h,c=d;break}if(T===c){b=!0,c=h,o=d;break}T=T.sibling}if(!b)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?r:i}function v(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=v(r),i!==null)return i;r=r.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),re=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(r){return r===null||typeof r!="object"?null:(r=N&&r[N]||r["@@iterator"],typeof r=="function"?r:null)}var D=Symbol.for("react.client.reference");function $e(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===D?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case z:return"Fragment";case F:return"Profiler";case P:return"StrictMode";case le:return"Suspense";case ae:return"SuspenseList";case C:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case V:return"Portal";case re:return r.displayName||"Context";case Q:return(r._context.displayName||"Context")+".Consumer";case te:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case R:return i=r.displayName||null,i!==null?i:$e(r.type)||"Memo";case x:i=r._payload,r=r._init;try{return $e(r(i))}catch{}}return null}var _e=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Le=[],Ke=-1;function k(r){return{current:r}}function W(r){0>Ke||(r.current=Le[Ke],Le[Ke]=null,Ke--)}function ce(r,i){Ke++,Le[Ke]=r.current,r.current=i}var de=k(null),Te=k(null),xe=k(null),ke=k(null);function bt(r,i){switch(ce(xe,i),ce(Te,r),ce(de,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?db(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=db(i),r=hb(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}W(de),ce(de,r)}function ie(){W(de),W(Te),W(xe)}function Ve(r){r.memoizedState!==null&&ce(ke,r);var i=de.current,o=hb(i,r.type);i!==o&&(ce(Te,r),ce(de,o))}function Ue(r){Te.current===r&&(W(de),W(Te)),ke.current===r&&(W(ke),Ql._currentValue=ye)}var Ne,nt;function We(r){if(Ne===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Ne=i&&i[1]||"",nt=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ne+r+nt}var It=!1;function Zt(r,i){if(!r||It)return"";It=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(Y){var G=Y}Reflect.construct(r,[],Z)}else{try{Z.call()}catch(Y){G=Y}r.call(Z.prototype)}}else{try{throw Error()}catch(Y){G=Y}(Z=r())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(Y){if(Y&&G&&typeof Y.stack=="string")return[Y.stack,G.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=c.DetermineComponentFrameRoot(),b=h[0],T=h[1];if(b&&T){var M=b.split(`
`),q=T.split(`
`);for(d=c=0;c<M.length&&!M[c].includes("DetermineComponentFrameRoot");)c++;for(;d<q.length&&!q[d].includes("DetermineComponentFrameRoot");)d++;if(c===M.length||d===q.length)for(c=M.length-1,d=q.length-1;1<=c&&0<=d&&M[c]!==q[d];)d--;for(;1<=c&&0<=d;c--,d--)if(M[c]!==q[d]){if(c!==1||d!==1)do if(c--,d--,0>d||M[c]!==q[d]){var X=`
`+M[c].replace(" at new "," at ");return r.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",r.displayName)),X}while(1<=c&&0<=d);break}}}finally{It=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?We(o):""}function Dn(r,i){switch(r.tag){case 26:case 27:case 5:return We(r.type);case 16:return We("Lazy");case 13:return r.child!==i&&i!==null?We("Suspense Fallback"):We("Suspense");case 19:return We("SuspenseList");case 0:case 15:return Zt(r.type,!1);case 11:return Zt(r.type.render,!1);case 1:return Zt(r.type,!0);case 31:return We("Activity");default:return""}}function xa(r){try{var i="",o=null;do i+=Dn(r,o),o=r,r=r.return;while(r);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var dt=Object.prototype.hasOwnProperty,Et=n.unstable_scheduleCallback,xr=n.unstable_cancelCallback,Ia=n.unstable_shouldYield,Wo=n.unstable_requestPaint,gn=n.unstable_now,Vs=n.unstable_getCurrentPriorityLevel,Jo=n.unstable_ImmediatePriority,Zo=n.unstable_UserBlockingPriority,Mi=n.unstable_NormalPriority,Kd=n.unstable_LowPriority,Kc=n.unstable_IdlePriority,Qc=n.log,Xc=n.unstable_setDisableYieldValue,lr=null,en=null;function qn(r){if(typeof Qc=="function"&&Xc(r),en&&typeof en.setStrictMode=="function")try{en.setStrictMode(lr,r)}catch{}}var Rt=Math.clz32?Math.clz32:Jc,Wc=Math.log,Ra=Math.LN2;function Jc(r){return r>>>=0,r===0?32:31-(Wc(r)/Ra|0)|0}var Ir=256,Ps=262144,Vt=4194304;function Rr(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Cr(r,i,o){var c=r.pendingLanes;if(c===0)return 0;var d=0,h=r.suspendedLanes,b=r.pingedLanes;r=r.warmLanes;var T=c&134217727;return T!==0?(c=T&~h,c!==0?d=Rr(c):(b&=T,b!==0?d=Rr(b):o||(o=T&~r,o!==0&&(d=Rr(o))))):(T=c&~h,T!==0?d=Rr(T):b!==0?d=Rr(b):o||(o=c&~r,o!==0&&(d=Rr(o)))),d===0?0:i!==0&&i!==d&&(i&h)===0&&(h=d&-d,o=i&-i,h>=o||h===32&&(o&4194048)!==0)?i:d}function cr(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function Qd(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zc(){var r=Vt;return Vt<<=1,(Vt&62914560)===0&&(Vt=4194304),r}function Dr(r){for(var i=[],o=0;31>o;o++)i.push(r);return i}function ks(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Xd(r,i,o,c,d,h){var b=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var T=r.entanglements,M=r.expirationTimes,q=r.hiddenUpdates;for(o=b&~o;0<o;){var X=31-Rt(o),Z=1<<X;T[X]=0,M[X]=-1;var G=q[X];if(G!==null)for(q[X]=null,X=0;X<G.length;X++){var Y=G[X];Y!==null&&(Y.lane&=-536870913)}o&=~Z}c!==0&&Ls(r,c,0),h!==0&&d===0&&r.tag!==0&&(r.suspendedLanes|=h&~(b&~i))}function Ls(r,i,o){r.pendingLanes|=i,r.suspendedLanes&=~i;var c=31-Rt(i);r.entangledLanes|=i,r.entanglements[c]=r.entanglements[c]|1073741824|o&261930}function el(r,i){var o=r.entangledLanes|=i;for(r=r.entanglements;o;){var c=31-Rt(o),d=1<<c;d&i|r[c]&i&&(r[c]|=i),o&=~d}}function tl(r,i){var o=i&-i;return o=(o&42)!==0?1:Us(o),(o&(r.suspendedLanes|i))!==0?0:o}function Us(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ii(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function eu(){var r=oe.p;return r!==0?r:(r=window.event,r===void 0?32:kb(r.type))}function ur(r,i){var o=oe.p;try{return oe.p=r,i()}finally{oe.p=o}}var fr=Math.random().toString(36).slice(2),Pt="__reactFiber$"+fr,Yt="__reactProps$"+fr,Nr="__reactContainer$"+fr,Ca="__reactEvents$"+fr,Wd="__reactListeners$"+fr,tu="__reactHandles$"+fr,nu="__reactResources$"+fr,Or="__reactMarker$"+fr;function Da(r){delete r[Pt],delete r[Yt],delete r[Ca],delete r[Wd],delete r[tu]}function Mr(r){var i=r[Pt];if(i)return i;for(var o=r.parentNode;o;){if(i=o[Nr]||o[Pt]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(r=bb(r);r!==null;){if(o=r[Pt])return o;r=bb(r)}return i}r=o,o=r.parentNode}return null}function Gn(r){if(r=r[Pt]||r[Nr]){var i=r.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return r}return null}function Nn(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function Vr(r){var i=r[nu];return i||(i=r[nu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function kt(r){r[Or]=!0}var nl=new Set,rl={};function Pr(r,i){kr(r,i),kr(r+"Capture",i)}function kr(r,i){for(rl[r]=i,r=0;r<i.length;r++)nl.add(i[r])}var il=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sl={},al={};function ru(r){return dt.call(al,r)?!0:dt.call(sl,r)?!1:il.test(r)?al[r]=!0:(sl[r]=!0,!1)}function Na(r,i,o){if(ru(i))if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+o)}}function On(r,i,o){if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+o)}}function Lt(r,i,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(i,o,""+c)}}function Kt(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Vi(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ol(r,i,o){var c=Object.getOwnPropertyDescriptor(r.constructor.prototype,i);if(!r.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var d=c.get,h=c.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return d.call(this)},set:function(b){o=""+b,h.call(this,b)}}),Object.defineProperty(r,i,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function st(r){if(!r._valueTracker){var i=Vi(r)?"checked":"value";r._valueTracker=ol(r,i,""+r[i])}}function zs(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return r&&(c=Vi(r)?r.checked?"true":"false":r.value),r=c,r!==o?(i.setValue(r),!0):!1}function Lr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var js=/[\n"\\]/g;function wn(r){return r.replace(js,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Oa(r,i,o,c,d,h,b,T){r.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.type=b:r.removeAttribute("type"),i!=null?b==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+Kt(i)):r.value!==""+Kt(i)&&(r.value=""+Kt(i)):b!=="submit"&&b!=="reset"||r.removeAttribute("value"),i!=null?ll(r,b,Kt(i)):o!=null?ll(r,b,Kt(o)):c!=null&&r.removeAttribute("value"),d==null&&h!=null&&(r.defaultChecked=!!h),d!=null&&(r.checked=d&&typeof d!="function"&&typeof d!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.name=""+Kt(T):r.removeAttribute("name")}function iu(r,i,o,c,d,h,b,T){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(r.type=h),i!=null||o!=null){if(!(h!=="submit"&&h!=="reset"||i!=null)){st(r);return}o=o!=null?""+Kt(o):"",i=i!=null?""+Kt(i):o,T||i===r.value||(r.value=i),r.defaultValue=i}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=T?r.checked:!!c,r.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.name=b),st(r)}function ll(r,i,o){i==="number"&&Lr(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Pi(r,i,o,c){if(r=r.options,i){i={};for(var d=0;d<o.length;d++)i["$"+o[d]]=!0;for(o=0;o<r.length;o++)d=i.hasOwnProperty("$"+r[o].value),r[o].selected!==d&&(r[o].selected=d),d&&c&&(r[o].defaultSelected=!0)}else{for(o=""+Kt(o),i=null,d=0;d<r.length;d++){if(r[d].value===o){r[d].selected=!0,c&&(r[d].defaultSelected=!0);return}i!==null||r[d].disabled||(i=r[d])}i!==null&&(i.selected=!0)}}function su(r,i,o){if(i!=null&&(i=""+Kt(i),i!==r.value&&(r.value=i),o==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=o!=null?""+Kt(o):""}function ki(r,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(s(92));if(_e(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=Kt(i),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c),st(r)}function Tn(r,i){if(i){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=i;return}}r.textContent=i}var au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cl(r,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":c?r.setProperty(i,o):typeof o!="number"||o===0||au.has(i)?i==="float"?r.cssFloat=o:r[i]=(""+o).trim():r[i]=o+"px"}function ul(r,i,o){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var d in i)c=i[d],i.hasOwnProperty(d)&&o[d]!==c&&cl(r,d,c)}else for(var h in i)i.hasOwnProperty(h)&&cl(r,h,i[h])}function Ma(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ou=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Li=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Va(r){return Li.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function dr(){}var fl=null;function Fn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ui=null,Ur=null;function Bs(r){var i=Gn(r);if(i&&(r=i.stateNode)){var o=r[Yt]||null;e:switch(r=i.stateNode,i.type){case"input":if(Oa(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+wn(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==r&&c.form===r.form){var d=c[Yt]||null;if(!d)throw Error(s(90));Oa(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===r.form&&zs(c)}break e;case"textarea":su(r,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&Pi(r,!!o.multiple,i,!1)}}}var Pa=!1;function zi(r,i,o){if(Pa)return r(i,o);Pa=!0;try{var c=r(i);return c}finally{if(Pa=!1,(Ui!==null||Ur!==null)&&(ef(),Ui&&(i=Ui,r=Ur,Ur=Ui=null,Bs(i),r)))for(i=0;i<r.length;i++)Bs(r[i])}}function hr(r,i){var o=r.stateNode;if(o===null)return null;var c=o[Yt]||null;if(c===null)return null;o=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(s(231,i,typeof o));return o}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hs=!1;if($n)try{var lt={};Object.defineProperty(lt,"passive",{get:function(){Hs=!0}}),window.addEventListener("test",lt,lt),window.removeEventListener("test",lt,lt)}catch{Hs=!1}var zr=null,dl=null,qs=null;function hl(){if(qs)return qs;var r,i=dl,o=i.length,c,d="value"in zr?zr.value:zr.textContent,h=d.length;for(r=0;r<o&&i[r]===d[r];r++);var b=o-r;for(c=1;c<=b&&i[o-c]===d[h-c];c++);return qs=d.slice(r,1<c?1-c:void 0)}function Gs(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function si(){return!0}function pr(){return!1}function tn(r){function i(o,c,d,h,b){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=h,this.target=b,this.currentTarget=null;for(var T in r)r.hasOwnProperty(T)&&(o=r[T],this[T]=o?o(h):h[T]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?si:pr,this.isPropagationStopped=pr,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),i}var ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jr=tn(ai),ji=_({},ai,{view:0,detail:0}),pl=tn(ji),Bi,ka,Br,La=_({},ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hi,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Br&&(Br&&r.type==="mousemove"?(Bi=r.screenX-Br.screenX,ka=r.screenY-Br.screenY):ka=Bi=0,Br=r),Bi)},movementY:function(r){return"movementY"in r?r.movementY:ka}}),ml=tn(La),Fs=_({},La,{dataTransfer:0}),lu=tn(Fs),cu=_({},ji,{relatedTarget:0}),$s=tn(cu),gl=_({},ai,{animationName:0,elapsedTime:0,pseudoElement:0}),uu=tn(gl),Ua=_({},ai,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),fu=tn(Ua),du=_({},ai,{data:0}),Hr=tn(du),hu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gu(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=mu[r])?!!i[r]:!1}function Hi(){return gu}var yn=_({},ji,{key:function(r){if(r.key){var i=hu[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Gs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?pu[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hi,charCode:function(r){return r.type==="keypress"?Gs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Gs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),yu=tn(yn),vu=_({},La,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oi=tn(vu),f=_({},ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hi}),y=tn(f),w=_({},ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=tn(w),B=_({},La,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),$=tn(B),fe=_({},ai,{newState:0,oldState:0}),Oe=tn(fe),Ct=[9,13,27,32],et=$n&&"CompositionEvent"in window,wt=null;$n&&"documentMode"in document&&(wt=document.documentMode);var Yn=$n&&"TextEvent"in window&&!wt,qr=$n&&(!et||wt&&8<wt&&11>=wt),mr=" ",gr=!1;function Ys(r,i){switch(r){case"keyup":return Ct.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function za(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ja=!1;function mA(r,i){switch(r){case"compositionend":return za(i);case"keypress":return i.which!==32?null:(gr=!0,mr);case"textInput":return r=i.data,r===mr&&gr?null:r;default:return null}}function gA(r,i){if(ja)return r==="compositionend"||!et&&Ys(r,i)?(r=hl(),qs=dl=zr=null,ja=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return qr&&i.locale!=="ko"?null:i.data;default:return null}}var yA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ty(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!yA[r.type]:i==="textarea"}function Sy(r,i,o,c){Ui?Ur?Ur.push(c):Ur=[c]:Ui=c,i=lf(i,"onChange"),0<i.length&&(o=new jr("onChange","change",null,o,c),r.push({event:o,listeners:i}))}var yl=null,vl=null;function vA(r){ab(r,0)}function _u(r){var i=Nn(r);if(zs(i))return r}function Ay(r,i){if(r==="change")return i}var xy=!1;if($n){var Jd;if($n){var Zd="oninput"in document;if(!Zd){var Iy=document.createElement("div");Iy.setAttribute("oninput","return;"),Zd=typeof Iy.oninput=="function"}Jd=Zd}else Jd=!1;xy=Jd&&(!document.documentMode||9<document.documentMode)}function Ry(){yl&&(yl.detachEvent("onpropertychange",Cy),vl=yl=null)}function Cy(r){if(r.propertyName==="value"&&_u(vl)){var i=[];Sy(i,vl,r,Fn(r)),zi(vA,i)}}function _A(r,i,o){r==="focusin"?(Ry(),yl=i,vl=o,yl.attachEvent("onpropertychange",Cy)):r==="focusout"&&Ry()}function bA(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return _u(vl)}function EA(r,i){if(r==="click")return _u(i)}function wA(r,i){if(r==="input"||r==="change")return _u(i)}function TA(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Mn=typeof Object.is=="function"?Object.is:TA;function _l(r,i){if(Mn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var o=Object.keys(r),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!dt.call(i,d)||!Mn(r[d],i[d]))return!1}return!0}function Dy(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ny(r,i){var o=Dy(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=i&&c>=i)return{node:o,offset:i-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Dy(o)}}function Oy(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Oy(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function My(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=Lr(r.document);i instanceof r.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)r=i.contentWindow;else break;i=Lr(r.document)}return i}function eh(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var SA=$n&&"documentMode"in document&&11>=document.documentMode,Ba=null,th=null,bl=null,nh=!1;function Vy(r,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;nh||Ba==null||Ba!==Lr(c)||(c=Ba,"selectionStart"in c&&eh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),bl&&_l(bl,c)||(bl=c,c=lf(th,"onSelect"),0<c.length&&(i=new jr("onSelect","select",null,i,o),r.push({event:i,listeners:c}),i.target=Ba)))}function Ks(r,i){var o={};return o[r.toLowerCase()]=i.toLowerCase(),o["Webkit"+r]="webkit"+i,o["Moz"+r]="moz"+i,o}var Ha={animationend:Ks("Animation","AnimationEnd"),animationiteration:Ks("Animation","AnimationIteration"),animationstart:Ks("Animation","AnimationStart"),transitionrun:Ks("Transition","TransitionRun"),transitionstart:Ks("Transition","TransitionStart"),transitioncancel:Ks("Transition","TransitionCancel"),transitionend:Ks("Transition","TransitionEnd")},rh={},Py={};$n&&(Py=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function Qs(r){if(rh[r])return rh[r];if(!Ha[r])return r;var i=Ha[r],o;for(o in i)if(i.hasOwnProperty(o)&&o in Py)return rh[r]=i[o];return r}var ky=Qs("animationend"),Ly=Qs("animationiteration"),Uy=Qs("animationstart"),AA=Qs("transitionrun"),xA=Qs("transitionstart"),IA=Qs("transitioncancel"),zy=Qs("transitionend"),jy=new Map,ih="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ih.push("scrollEnd");function yr(r,i){jy.set(r,i),Pr(i,[r])}var bu=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Kn=[],qa=0,sh=0;function Eu(){for(var r=qa,i=sh=qa=0;i<r;){var o=Kn[i];Kn[i++]=null;var c=Kn[i];Kn[i++]=null;var d=Kn[i];Kn[i++]=null;var h=Kn[i];if(Kn[i++]=null,c!==null&&d!==null){var b=c.pending;b===null?d.next=d:(d.next=b.next,b.next=d),c.pending=d}h!==0&&By(o,d,h)}}function wu(r,i,o,c){Kn[qa++]=r,Kn[qa++]=i,Kn[qa++]=o,Kn[qa++]=c,sh|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function ah(r,i,o,c){return wu(r,i,o,c),Tu(r)}function Xs(r,i){return wu(r,null,null,i),Tu(r)}function By(r,i,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var d=!1,h=r.return;h!==null;)h.childLanes|=o,c=h.alternate,c!==null&&(c.childLanes|=o),h.tag===22&&(r=h.stateNode,r===null||r._visibility&1||(d=!0)),r=h,h=h.return;return r.tag===3?(h=r.stateNode,d&&i!==null&&(d=31-Rt(o),r=h.hiddenUpdates,c=r[d],c===null?r[d]=[i]:c.push(i),i.lane=o|536870912),h):null}function Tu(r){if(50<Hl)throw Hl=0,mp=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var Ga={};function RA(r,i,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(r,i,o,c){return new RA(r,i,o,c)}function oh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function li(r,i){var o=r.alternate;return o===null?(o=Vn(r.tag,i,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=i,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,i=r.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Hy(r,i){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,i=o.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function Su(r,i,o,c,d,h){var b=0;if(c=r,typeof r=="function")oh(r)&&(b=1);else if(typeof r=="string")b=Mx(r,o,de.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case C:return r=Vn(31,o,i,d),r.elementType=C,r.lanes=h,r;case z:return Ws(o.children,d,h,i);case P:b=8,d|=24;break;case F:return r=Vn(12,o,i,d|2),r.elementType=F,r.lanes=h,r;case le:return r=Vn(13,o,i,d),r.elementType=le,r.lanes=h,r;case ae:return r=Vn(19,o,i,d),r.elementType=ae,r.lanes=h,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case re:b=10;break e;case Q:b=9;break e;case te:b=11;break e;case R:b=14;break e;case x:b=16,c=null;break e}b=29,o=Error(s(130,r===null?"null":typeof r,"")),c=null}return i=Vn(b,o,i,d),i.elementType=r,i.type=c,i.lanes=h,i}function Ws(r,i,o,c){return r=Vn(7,r,c,i),r.lanes=o,r}function lh(r,i,o){return r=Vn(6,r,null,i),r.lanes=o,r}function qy(r){var i=Vn(18,null,null,0);return i.stateNode=r,i}function ch(r,i,o){return i=Vn(4,r.children!==null?r.children:[],r.key,i),i.lanes=o,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var Gy=new WeakMap;function Qn(r,i){if(typeof r=="object"&&r!==null){var o=Gy.get(r);return o!==void 0?o:(i={value:r,source:i,stack:xa(i)},Gy.set(r,i),i)}return{value:r,source:i,stack:xa(i)}}var Fa=[],$a=0,Au=null,El=0,Xn=[],Wn=0,qi=null,Gr=1,Fr="";function ci(r,i){Fa[$a++]=El,Fa[$a++]=Au,Au=r,El=i}function Fy(r,i,o){Xn[Wn++]=Gr,Xn[Wn++]=Fr,Xn[Wn++]=qi,qi=r;var c=Gr;r=Fr;var d=32-Rt(c)-1;c&=~(1<<d),o+=1;var h=32-Rt(i)+d;if(30<h){var b=d-d%5;h=(c&(1<<b)-1).toString(32),c>>=b,d-=b,Gr=1<<32-Rt(i)+d|o<<d|c,Fr=h+r}else Gr=1<<h|o<<d|c,Fr=r}function uh(r){r.return!==null&&(ci(r,1),Fy(r,1,0))}function fh(r){for(;r===Au;)Au=Fa[--$a],Fa[$a]=null,El=Fa[--$a],Fa[$a]=null;for(;r===qi;)qi=Xn[--Wn],Xn[Wn]=null,Fr=Xn[--Wn],Xn[Wn]=null,Gr=Xn[--Wn],Xn[Wn]=null}function $y(r,i){Xn[Wn++]=Gr,Xn[Wn++]=Fr,Xn[Wn++]=qi,Gr=i.id,Fr=i.overflow,qi=r}var nn=null,gt=null,Ye=!1,Gi=null,Jn=!1,dh=Error(s(519));function Fi(r){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wl(Qn(i,r)),dh}function Yy(r){var i=r.stateNode,o=r.type,c=r.memoizedProps;switch(i[Pt]=r,i[Yt]=c,o){case"dialog":je("cancel",i),je("close",i);break;case"iframe":case"object":case"embed":je("load",i);break;case"video":case"audio":for(o=0;o<Gl.length;o++)je(Gl[o],i);break;case"source":je("error",i);break;case"img":case"image":case"link":je("error",i),je("load",i);break;case"details":je("toggle",i);break;case"input":je("invalid",i),iu(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":je("invalid",i);break;case"textarea":je("invalid",i),ki(i,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||ub(i.textContent,o)?(c.popover!=null&&(je("beforetoggle",i),je("toggle",i)),c.onScroll!=null&&je("scroll",i),c.onScrollEnd!=null&&je("scrollend",i),c.onClick!=null&&(i.onclick=dr),i=!0):i=!1,i||Fi(r,!0)}function Ky(r){for(nn=r.return;nn;)switch(nn.tag){case 5:case 31:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:nn=nn.return}}function Ya(r){if(r!==nn)return!1;if(!Ye)return Ky(r),Ye=!0,!1;var i=r.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Dp(r.type,r.memoizedProps)),o=!o),o&&gt&&Fi(r),Ky(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));gt=_b(r)}else if(i===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));gt=_b(r)}else i===27?(i=gt,ss(r.type)?(r=Pp,Pp=null,gt=r):gt=i):gt=nn?er(r.stateNode.nextSibling):null;return!0}function Js(){gt=nn=null,Ye=!1}function hh(){var r=Gi;return r!==null&&(In===null?In=r:In.push.apply(In,r),Gi=null),r}function wl(r){Gi===null?Gi=[r]:Gi.push(r)}var ph=k(null),Zs=null,ui=null;function $i(r,i,o){ce(ph,i._currentValue),i._currentValue=o}function fi(r){r._currentValue=ph.current,W(ph)}function mh(r,i,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),r===o)break;r=r.return}}function gh(r,i,o,c){var d=r.child;for(d!==null&&(d.return=r);d!==null;){var h=d.dependencies;if(h!==null){var b=d.child;h=h.firstContext;e:for(;h!==null;){var T=h;h=d;for(var M=0;M<i.length;M++)if(T.context===i[M]){h.lanes|=o,T=h.alternate,T!==null&&(T.lanes|=o),mh(h.return,o,r),c||(b=null);break e}h=T.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(s(341));b.lanes|=o,h=b.alternate,h!==null&&(h.lanes|=o),mh(b,o,r),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===r){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function Ka(r,i,o,c){r=null;for(var d=i,h=!1;d!==null;){if(!h){if((d.flags&524288)!==0)h=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var T=d.type;Mn(d.pendingProps.value,b.value)||(r!==null?r.push(T):r=[T])}}else if(d===ke.current){if(b=d.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(r!==null?r.push(Ql):r=[Ql])}d=d.return}r!==null&&gh(i,r,o,c),i.flags|=262144}function xu(r){for(r=r.firstContext;r!==null;){if(!Mn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ea(r){Zs=r,ui=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function rn(r){return Qy(Zs,r)}function Iu(r,i){return Zs===null&&ea(r),Qy(r,i)}function Qy(r,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},ui===null){if(r===null)throw Error(s(308));ui=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else ui=ui.next=i;return o}var CA=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){i.aborted=!0,r.forEach(function(o){return o()})}},DA=n.unstable_scheduleCallback,NA=n.unstable_NormalPriority,Ut={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yh(){return{controller:new CA,data:new Map,refCount:0}}function Tl(r){r.refCount--,r.refCount===0&&DA(NA,function(){r.controller.abort()})}var Sl=null,vh=0,Qa=0,Xa=null;function OA(r,i){if(Sl===null){var o=Sl=[];vh=0,Qa=Ep(),Xa={status:"pending",value:void 0,then:function(c){o.push(c)}}}return vh++,i.then(Xy,Xy),i}function Xy(){if(--vh===0&&Sl!==null){Xa!==null&&(Xa.status="fulfilled");var r=Sl;Sl=null,Qa=0,Xa=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function MA(r,i){var o=[],c={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return r.then(function(){c.status="fulfilled",c.value=i;for(var d=0;d<o.length;d++)(0,o[d])(i)},function(d){for(c.status="rejected",c.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),c}var Wy=K.S;K.S=function(r,i){V_=gn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&OA(r,i),Wy!==null&&Wy(r,i)};var ta=k(null);function _h(){var r=ta.current;return r!==null?r:ht.pooledCache}function Ru(r,i){i===null?ce(ta,ta.current):ce(ta,i.pool)}function Jy(){var r=_h();return r===null?null:{parent:Ut._currentValue,pool:r}}var Wa=Error(s(460)),bh=Error(s(474)),Cu=Error(s(542)),Du={then:function(){}};function Zy(r){return r=r.status,r==="fulfilled"||r==="rejected"}function ev(r,i,o){switch(o=r[o],o===void 0?r.push(i):o!==i&&(i.then(dr,dr),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,nv(r),r;default:if(typeof i.status=="string")i.then(dr,dr);else{if(r=ht,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(c){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=c}},function(c){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,nv(r),r}throw ra=i,Wa}}function na(r){try{var i=r._init;return i(r._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ra=o,Wa):o}}var ra=null;function tv(){if(ra===null)throw Error(s(459));var r=ra;return ra=null,r}function nv(r){if(r===Wa||r===Cu)throw Error(s(483))}var Ja=null,Al=0;function Nu(r){var i=Al;return Al+=1,Ja===null&&(Ja=[]),ev(Ja,r,i)}function xl(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function Ou(r,i){throw i.$$typeof===E?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function rv(r){function i(j,L){if(r){var H=j.deletions;H===null?(j.deletions=[L],j.flags|=16):H.push(L)}}function o(j,L){if(!r)return null;for(;L!==null;)i(j,L),L=L.sibling;return null}function c(j){for(var L=new Map;j!==null;)j.key!==null?L.set(j.key,j):L.set(j.index,j),j=j.sibling;return L}function d(j,L){return j=li(j,L),j.index=0,j.sibling=null,j}function h(j,L,H){return j.index=H,r?(H=j.alternate,H!==null?(H=H.index,H<L?(j.flags|=67108866,L):H):(j.flags|=67108866,L)):(j.flags|=1048576,L)}function b(j){return r&&j.alternate===null&&(j.flags|=67108866),j}function T(j,L,H,J){return L===null||L.tag!==6?(L=lh(H,j.mode,J),L.return=j,L):(L=d(L,H),L.return=j,L)}function M(j,L,H,J){var Ee=H.type;return Ee===z?X(j,L,H.props.children,J,H.key):L!==null&&(L.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===x&&na(Ee)===L.type)?(L=d(L,H.props),xl(L,H),L.return=j,L):(L=Su(H.type,H.key,H.props,null,j.mode,J),xl(L,H),L.return=j,L)}function q(j,L,H,J){return L===null||L.tag!==4||L.stateNode.containerInfo!==H.containerInfo||L.stateNode.implementation!==H.implementation?(L=ch(H,j.mode,J),L.return=j,L):(L=d(L,H.children||[]),L.return=j,L)}function X(j,L,H,J,Ee){return L===null||L.tag!==7?(L=Ws(H,j.mode,J,Ee),L.return=j,L):(L=d(L,H),L.return=j,L)}function Z(j,L,H){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=lh(""+L,j.mode,H),L.return=j,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case S:return H=Su(L.type,L.key,L.props,null,j.mode,H),xl(H,L),H.return=j,H;case V:return L=ch(L,j.mode,H),L.return=j,L;case x:return L=na(L),Z(j,L,H)}if(_e(L)||U(L))return L=Ws(L,j.mode,H,null),L.return=j,L;if(typeof L.then=="function")return Z(j,Nu(L),H);if(L.$$typeof===re)return Z(j,Iu(j,L),H);Ou(j,L)}return null}function G(j,L,H,J){var Ee=L!==null?L.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Ee!==null?null:T(j,L,""+H,J);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case S:return H.key===Ee?M(j,L,H,J):null;case V:return H.key===Ee?q(j,L,H,J):null;case x:return H=na(H),G(j,L,H,J)}if(_e(H)||U(H))return Ee!==null?null:X(j,L,H,J,null);if(typeof H.then=="function")return G(j,L,Nu(H),J);if(H.$$typeof===re)return G(j,L,Iu(j,H),J);Ou(j,H)}return null}function Y(j,L,H,J,Ee){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return j=j.get(H)||null,T(L,j,""+J,Ee);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case S:return j=j.get(J.key===null?H:J.key)||null,M(L,j,J,Ee);case V:return j=j.get(J.key===null?H:J.key)||null,q(L,j,J,Ee);case x:return J=na(J),Y(j,L,H,J,Ee)}if(_e(J)||U(J))return j=j.get(H)||null,X(L,j,J,Ee,null);if(typeof J.then=="function")return Y(j,L,H,Nu(J),Ee);if(J.$$typeof===re)return Y(j,L,H,Iu(L,J),Ee);Ou(L,J)}return null}function me(j,L,H,J){for(var Ee=null,Je=null,ve=L,Pe=L=0,He=null;ve!==null&&Pe<H.length;Pe++){ve.index>Pe?(He=ve,ve=null):He=ve.sibling;var Ze=G(j,ve,H[Pe],J);if(Ze===null){ve===null&&(ve=He);break}r&&ve&&Ze.alternate===null&&i(j,ve),L=h(Ze,L,Pe),Je===null?Ee=Ze:Je.sibling=Ze,Je=Ze,ve=He}if(Pe===H.length)return o(j,ve),Ye&&ci(j,Pe),Ee;if(ve===null){for(;Pe<H.length;Pe++)ve=Z(j,H[Pe],J),ve!==null&&(L=h(ve,L,Pe),Je===null?Ee=ve:Je.sibling=ve,Je=ve);return Ye&&ci(j,Pe),Ee}for(ve=c(ve);Pe<H.length;Pe++)He=Y(ve,j,Pe,H[Pe],J),He!==null&&(r&&He.alternate!==null&&ve.delete(He.key===null?Pe:He.key),L=h(He,L,Pe),Je===null?Ee=He:Je.sibling=He,Je=He);return r&&ve.forEach(function(us){return i(j,us)}),Ye&&ci(j,Pe),Ee}function Se(j,L,H,J){if(H==null)throw Error(s(151));for(var Ee=null,Je=null,ve=L,Pe=L=0,He=null,Ze=H.next();ve!==null&&!Ze.done;Pe++,Ze=H.next()){ve.index>Pe?(He=ve,ve=null):He=ve.sibling;var us=G(j,ve,Ze.value,J);if(us===null){ve===null&&(ve=He);break}r&&ve&&us.alternate===null&&i(j,ve),L=h(us,L,Pe),Je===null?Ee=us:Je.sibling=us,Je=us,ve=He}if(Ze.done)return o(j,ve),Ye&&ci(j,Pe),Ee;if(ve===null){for(;!Ze.done;Pe++,Ze=H.next())Ze=Z(j,Ze.value,J),Ze!==null&&(L=h(Ze,L,Pe),Je===null?Ee=Ze:Je.sibling=Ze,Je=Ze);return Ye&&ci(j,Pe),Ee}for(ve=c(ve);!Ze.done;Pe++,Ze=H.next())Ze=Y(ve,j,Pe,Ze.value,J),Ze!==null&&(r&&Ze.alternate!==null&&ve.delete(Ze.key===null?Pe:Ze.key),L=h(Ze,L,Pe),Je===null?Ee=Ze:Je.sibling=Ze,Je=Ze);return r&&ve.forEach(function(Gx){return i(j,Gx)}),Ye&&ci(j,Pe),Ee}function ft(j,L,H,J){if(typeof H=="object"&&H!==null&&H.type===z&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case S:e:{for(var Ee=H.key;L!==null;){if(L.key===Ee){if(Ee=H.type,Ee===z){if(L.tag===7){o(j,L.sibling),J=d(L,H.props.children),J.return=j,j=J;break e}}else if(L.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===x&&na(Ee)===L.type){o(j,L.sibling),J=d(L,H.props),xl(J,H),J.return=j,j=J;break e}o(j,L);break}else i(j,L);L=L.sibling}H.type===z?(J=Ws(H.props.children,j.mode,J,H.key),J.return=j,j=J):(J=Su(H.type,H.key,H.props,null,j.mode,J),xl(J,H),J.return=j,j=J)}return b(j);case V:e:{for(Ee=H.key;L!==null;){if(L.key===Ee)if(L.tag===4&&L.stateNode.containerInfo===H.containerInfo&&L.stateNode.implementation===H.implementation){o(j,L.sibling),J=d(L,H.children||[]),J.return=j,j=J;break e}else{o(j,L);break}else i(j,L);L=L.sibling}J=ch(H,j.mode,J),J.return=j,j=J}return b(j);case x:return H=na(H),ft(j,L,H,J)}if(_e(H))return me(j,L,H,J);if(U(H)){if(Ee=U(H),typeof Ee!="function")throw Error(s(150));return H=Ee.call(H),Se(j,L,H,J)}if(typeof H.then=="function")return ft(j,L,Nu(H),J);if(H.$$typeof===re)return ft(j,L,Iu(j,H),J);Ou(j,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,L!==null&&L.tag===6?(o(j,L.sibling),J=d(L,H),J.return=j,j=J):(o(j,L),J=lh(H,j.mode,J),J.return=j,j=J),b(j)):o(j,L)}return function(j,L,H,J){try{Al=0;var Ee=ft(j,L,H,J);return Ja=null,Ee}catch(ve){if(ve===Wa||ve===Cu)throw ve;var Je=Vn(29,ve,null,j.mode);return Je.lanes=J,Je.return=j,Je}}}var ia=rv(!0),iv=rv(!1),Yi=!1;function Eh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wh(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ki(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Qi(r,i,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(tt&2)!==0){var d=c.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),c.pending=i,i=Tu(r),By(r,null,o),i}return wu(r,c,i,o),Tu(r)}function Il(r,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var c=i.lanes;c&=r.pendingLanes,o|=c,i.lanes=o,el(r,o)}}function Th(r,i){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,h=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};h===null?d=h=b:h=h.next=b,o=o.next}while(o!==null);h===null?d=h=i:h=h.next=i}else d=h=i;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=i:r.next=i,o.lastBaseUpdate=i}var Sh=!1;function Rl(){if(Sh){var r=Xa;if(r!==null)throw r}}function Cl(r,i,o,c){Sh=!1;var d=r.updateQueue;Yi=!1;var h=d.firstBaseUpdate,b=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var M=T,q=M.next;M.next=null,b===null?h=q:b.next=q,b=M;var X=r.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==b&&(T===null?X.firstBaseUpdate=q:T.next=q,X.lastBaseUpdate=M))}if(h!==null){var Z=d.baseState;b=0,X=q=M=null,T=h;do{var G=T.lane&-536870913,Y=G!==T.lane;if(Y?(Be&G)===G:(c&G)===G){G!==0&&G===Qa&&(Sh=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var me=r,Se=T;G=i;var ft=o;switch(Se.tag){case 1:if(me=Se.payload,typeof me=="function"){Z=me.call(ft,Z,G);break e}Z=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Se.payload,G=typeof me=="function"?me.call(ft,Z,G):me,G==null)break e;Z=_({},Z,G);break e;case 2:Yi=!0}}G=T.callback,G!==null&&(r.flags|=64,Y&&(r.flags|=8192),Y=d.callbacks,Y===null?d.callbacks=[G]:Y.push(G))}else Y={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(q=X=Y,M=Z):X=X.next=Y,b|=G;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,d.lastBaseUpdate=Y,d.shared.pending=null}}while(!0);X===null&&(M=Z),d.baseState=M,d.firstBaseUpdate=q,d.lastBaseUpdate=X,h===null&&(d.shared.lanes=0),es|=b,r.lanes=b,r.memoizedState=Z}}function sv(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function av(r,i){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)sv(o[r],i)}var Za=k(null),Mu=k(0);function ov(r,i){r=bi,ce(Mu,r),ce(Za,i),bi=r|i.baseLanes}function Ah(){ce(Mu,bi),ce(Za,Za.current)}function xh(){bi=Mu.current,W(Za),W(Mu)}var Pn=k(null),Zn=null;function Xi(r){var i=r.alternate;ce(Dt,Dt.current&1),ce(Pn,r),Zn===null&&(i===null||Za.current!==null||i.memoizedState!==null)&&(Zn=r)}function Ih(r){ce(Dt,Dt.current),ce(Pn,r),Zn===null&&(Zn=r)}function lv(r){r.tag===22?(ce(Dt,Dt.current),ce(Pn,r),Zn===null&&(Zn=r)):Wi()}function Wi(){ce(Dt,Dt.current),ce(Pn,Pn.current)}function kn(r){W(Pn),Zn===r&&(Zn=null),W(Dt)}var Dt=k(0);function Vu(r){for(var i=r;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Mp(o)||Vp(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var di=0,Me=null,ct=null,zt=null,Pu=!1,eo=!1,sa=!1,ku=0,Dl=0,to=null,VA=0;function At(){throw Error(s(321))}function Rh(r,i){if(i===null)return!1;for(var o=0;o<i.length&&o<r.length;o++)if(!Mn(r[o],i[o]))return!1;return!0}function Ch(r,i,o,c,d,h){return di=h,Me=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=r===null||r.memoizedState===null?Fv:Gh,sa=!1,h=o(c,d),sa=!1,eo&&(h=uv(i,o,c,d)),cv(r),h}function cv(r){K.H=Ml;var i=ct!==null&&ct.next!==null;if(di=0,zt=ct=Me=null,Pu=!1,Dl=0,to=null,i)throw Error(s(300));r===null||jt||(r=r.dependencies,r!==null&&xu(r)&&(jt=!0))}function uv(r,i,o,c){Me=r;var d=0;do{if(eo&&(to=null),Dl=0,eo=!1,25<=d)throw Error(s(301));if(d+=1,zt=ct=null,r.updateQueue!=null){var h=r.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}K.H=$v,h=i(o,c)}while(eo);return h}function PA(){var r=K.H,i=r.useState()[0];return i=typeof i.then=="function"?Nl(i):i,r=r.useState()[0],(ct!==null?ct.memoizedState:null)!==r&&(Me.flags|=1024),i}function Dh(){var r=ku!==0;return ku=0,r}function Nh(r,i,o){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~o}function Oh(r){if(Pu){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Pu=!1}di=0,zt=ct=Me=null,eo=!1,Dl=ku=0,to=null}function vn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Me.memoizedState=zt=r:zt=zt.next=r,zt}function Nt(){if(ct===null){var r=Me.alternate;r=r!==null?r.memoizedState:null}else r=ct.next;var i=zt===null?Me.memoizedState:zt.next;if(i!==null)zt=i,ct=r;else{if(r===null)throw Me.alternate===null?Error(s(467)):Error(s(310));ct=r,r={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},zt===null?Me.memoizedState=zt=r:zt=zt.next=r}return zt}function Lu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nl(r){var i=Dl;return Dl+=1,to===null&&(to=[]),r=ev(to,r,i),i=Me,(zt===null?i.memoizedState:zt.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?Fv:Gh),r}function Uu(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Nl(r);if(r.$$typeof===re)return rn(r)}throw Error(s(438,String(r)))}function Mh(r){var i=null,o=Me.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=Me.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=Lu(),Me.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(r),c=0;c<r;c++)o[c]=O;return i.index++,o}function hi(r,i){return typeof i=="function"?i(r):i}function zu(r){var i=Nt();return Vh(i,ct,r)}function Vh(r,i,o){var c=r.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var d=r.baseQueue,h=c.pending;if(h!==null){if(d!==null){var b=d.next;d.next=h.next,h.next=b}i.baseQueue=d=h,c.pending=null}if(h=r.baseState,d===null)r.memoizedState=h;else{i=d.next;var T=b=null,M=null,q=i,X=!1;do{var Z=q.lane&-536870913;if(Z!==q.lane?(Be&Z)===Z:(di&Z)===Z){var G=q.revertLane;if(G===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),Z===Qa&&(X=!0);else if((di&G)===G){q=q.next,G===Qa&&(X=!0);continue}else Z={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},M===null?(T=M=Z,b=h):M=M.next=Z,Me.lanes|=G,es|=G;Z=q.action,sa&&o(h,Z),h=q.hasEagerState?q.eagerState:o(h,Z)}else G={lane:Z,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},M===null?(T=M=G,b=h):M=M.next=G,Me.lanes|=Z,es|=Z;q=q.next}while(q!==null&&q!==i);if(M===null?b=h:M.next=T,!Mn(h,r.memoizedState)&&(jt=!0,X&&(o=Xa,o!==null)))throw o;r.memoizedState=h,r.baseState=b,r.baseQueue=M,c.lastRenderedState=h}return d===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Ph(r){var i=Nt(),o=i.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var c=o.dispatch,d=o.pending,h=i.memoizedState;if(d!==null){o.pending=null;var b=d=d.next;do h=r(h,b.action),b=b.next;while(b!==d);Mn(h,i.memoizedState)||(jt=!0),i.memoizedState=h,i.baseQueue===null&&(i.baseState=h),o.lastRenderedState=h}return[h,c]}function fv(r,i,o){var c=Me,d=Nt(),h=Ye;if(h){if(o===void 0)throw Error(s(407));o=o()}else o=i();var b=!Mn((ct||d).memoizedState,o);if(b&&(d.memoizedState=o,jt=!0),d=d.queue,Uh(pv.bind(null,c,d,r),[r]),d.getSnapshot!==i||b||zt!==null&&zt.memoizedState.tag&1){if(c.flags|=2048,no(9,{destroy:void 0},hv.bind(null,c,d,o,i),null),ht===null)throw Error(s(349));h||(di&127)!==0||dv(c,i,o)}return o}function dv(r,i,o){r.flags|=16384,r={getSnapshot:i,value:o},i=Me.updateQueue,i===null?(i=Lu(),Me.updateQueue=i,i.stores=[r]):(o=i.stores,o===null?i.stores=[r]:o.push(r))}function hv(r,i,o,c){i.value=o,i.getSnapshot=c,mv(i)&&gv(r)}function pv(r,i,o){return o(function(){mv(i)&&gv(r)})}function mv(r){var i=r.getSnapshot;r=r.value;try{var o=i();return!Mn(r,o)}catch{return!0}}function gv(r){var i=Xs(r,2);i!==null&&Rn(i,r,2)}function kh(r){var i=vn();if(typeof r=="function"){var o=r;if(r=o(),sa){qn(!0);try{o()}finally{qn(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:r},i}function yv(r,i,o,c){return r.baseState=o,Vh(r,ct,typeof c=="function"?c:hi)}function kA(r,i,o,c,d){if(Hu(r))throw Error(s(485));if(r=i.action,r!==null){var h={payload:d,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){h.listeners.push(b)}};K.T!==null?o(!0):h.isTransition=!1,c(h),o=i.pending,o===null?(h.next=i.pending=h,vv(i,h)):(h.next=o.next,i.pending=o.next=h)}}function vv(r,i){var o=i.action,c=i.payload,d=r.state;if(i.isTransition){var h=K.T,b={};K.T=b;try{var T=o(d,c),M=K.S;M!==null&&M(b,T),_v(r,i,T)}catch(q){Lh(r,i,q)}finally{h!==null&&b.types!==null&&(h.types=b.types),K.T=h}}else try{h=o(d,c),_v(r,i,h)}catch(q){Lh(r,i,q)}}function _v(r,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){bv(r,i,c)},function(c){return Lh(r,i,c)}):bv(r,i,o)}function bv(r,i,o){i.status="fulfilled",i.value=o,Ev(i),r.state=o,i=r.pending,i!==null&&(o=i.next,o===i?r.pending=null:(o=o.next,i.next=o,vv(r,o)))}function Lh(r,i,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,Ev(i),i=i.next;while(i!==c)}r.action=null}function Ev(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function wv(r,i){return i}function Tv(r,i){if(Ye){var o=ht.formState;if(o!==null){e:{var c=Me;if(Ye){if(gt){t:{for(var d=gt,h=Jn;d.nodeType!==8;){if(!h){d=null;break t}if(d=er(d.nextSibling),d===null){d=null;break t}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){gt=er(d.nextSibling),c=d.data==="F!";break e}}Fi(c)}c=!1}c&&(i=o[0])}}return o=vn(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wv,lastRenderedState:i},o.queue=c,o=Hv.bind(null,Me,c),c.dispatch=o,c=kh(!1),h=qh.bind(null,Me,!1,c.queue),c=vn(),d={state:i,dispatch:null,action:r,pending:null},c.queue=d,o=kA.bind(null,Me,d,h,o),d.dispatch=o,c.memoizedState=r,[i,o,!1]}function Sv(r){var i=Nt();return Av(i,ct,r)}function Av(r,i,o){if(i=Vh(r,i,wv)[0],r=zu(hi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Nl(i)}catch(b){throw b===Wa?Cu:b}else c=i;i=Nt();var d=i.queue,h=d.dispatch;return o!==i.memoizedState&&(Me.flags|=2048,no(9,{destroy:void 0},LA.bind(null,d,o),null)),[c,h,r]}function LA(r,i){r.action=i}function xv(r){var i=Nt(),o=ct;if(o!==null)return Av(i,o,r);Nt(),i=i.memoizedState,o=Nt();var c=o.queue.dispatch;return o.memoizedState=r,[i,c,!1]}function no(r,i,o,c){return r={tag:r,create:o,deps:c,inst:i,next:null},i=Me.updateQueue,i===null&&(i=Lu(),Me.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,i.lastEffect=r),r}function Iv(){return Nt().memoizedState}function ju(r,i,o,c){var d=vn();Me.flags|=r,d.memoizedState=no(1|i,{destroy:void 0},o,c===void 0?null:c)}function Bu(r,i,o,c){var d=Nt();c=c===void 0?null:c;var h=d.memoizedState.inst;ct!==null&&c!==null&&Rh(c,ct.memoizedState.deps)?d.memoizedState=no(i,h,o,c):(Me.flags|=r,d.memoizedState=no(1|i,h,o,c))}function Rv(r,i){ju(8390656,8,r,i)}function Uh(r,i){Bu(2048,8,r,i)}function UA(r){Me.flags|=4;var i=Me.updateQueue;if(i===null)i=Lu(),Me.updateQueue=i,i.events=[r];else{var o=i.events;o===null?i.events=[r]:o.push(r)}}function Cv(r){var i=Nt().memoizedState;return UA({ref:i,nextImpl:r}),function(){if((tt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Dv(r,i){return Bu(4,2,r,i)}function Nv(r,i){return Bu(4,4,r,i)}function Ov(r,i){if(typeof i=="function"){r=r();var o=i(r);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Mv(r,i,o){o=o!=null?o.concat([r]):null,Bu(4,4,Ov.bind(null,i,r),o)}function zh(){}function Vv(r,i){var o=Nt();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&Rh(i,c[1])?c[0]:(o.memoizedState=[r,i],r)}function Pv(r,i){var o=Nt();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&Rh(i,c[1]))return c[0];if(c=r(),sa){qn(!0);try{r()}finally{qn(!1)}}return o.memoizedState=[c,i],c}function jh(r,i,o){return o===void 0||(di&1073741824)!==0&&(Be&261930)===0?r.memoizedState=i:(r.memoizedState=o,r=k_(),Me.lanes|=r,es|=r,o)}function kv(r,i,o,c){return Mn(o,i)?o:Za.current!==null?(r=jh(r,o,c),Mn(r,i)||(jt=!0),r):(di&42)===0||(di&1073741824)!==0&&(Be&261930)===0?(jt=!0,r.memoizedState=o):(r=k_(),Me.lanes|=r,es|=r,i)}function Lv(r,i,o,c,d){var h=oe.p;oe.p=h!==0&&8>h?h:8;var b=K.T,T={};K.T=T,qh(r,!1,i,o);try{var M=d(),q=K.S;if(q!==null&&q(T,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var X=MA(M,c);Ol(r,i,X,zn(r))}else Ol(r,i,c,zn(r))}catch(Z){Ol(r,i,{then:function(){},status:"rejected",reason:Z},zn())}finally{oe.p=h,b!==null&&T.types!==null&&(b.types=T.types),K.T=b}}function zA(){}function Bh(r,i,o,c){if(r.tag!==5)throw Error(s(476));var d=Uv(r).queue;Lv(r,d,i,ye,o===null?zA:function(){return zv(r),o(c)})}function Uv(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:ye},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:o},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function zv(r){var i=Uv(r);i.next===null&&(i=r.alternate.memoizedState),Ol(r,i.next.queue,{},zn())}function Hh(){return rn(Ql)}function jv(){return Nt().memoizedState}function Bv(){return Nt().memoizedState}function jA(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var o=zn();r=Ki(o);var c=Qi(i,r,o);c!==null&&(Rn(c,i,o),Il(c,i,o)),i={cache:yh()},r.payload=i;return}i=i.return}}function BA(r,i,o){var c=zn();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Hu(r)?qv(i,o):(o=ah(r,i,o,c),o!==null&&(Rn(o,r,c),Gv(o,i,c)))}function Hv(r,i,o){var c=zn();Ol(r,i,o,c)}function Ol(r,i,o,c){var d={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Hu(r))qv(i,d);else{var h=r.alternate;if(r.lanes===0&&(h===null||h.lanes===0)&&(h=i.lastRenderedReducer,h!==null))try{var b=i.lastRenderedState,T=h(b,o);if(d.hasEagerState=!0,d.eagerState=T,Mn(T,b))return wu(r,i,d,0),ht===null&&Eu(),!1}catch{}if(o=ah(r,i,d,c),o!==null)return Rn(o,r,c),Gv(o,i,c),!0}return!1}function qh(r,i,o,c){if(c={lane:2,revertLane:Ep(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Hu(r)){if(i)throw Error(s(479))}else i=ah(r,o,c,2),i!==null&&Rn(i,r,2)}function Hu(r){var i=r.alternate;return r===Me||i!==null&&i===Me}function qv(r,i){eo=Pu=!0;var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}function Gv(r,i,o){if((o&4194048)!==0){var c=i.lanes;c&=r.pendingLanes,o|=c,i.lanes=o,el(r,o)}}var Ml={readContext:rn,use:Uu,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};Ml.useEffectEvent=At;var Fv={readContext:rn,use:Uu,useCallback:function(r,i){return vn().memoizedState=[r,i===void 0?null:i],r},useContext:rn,useEffect:Rv,useImperativeHandle:function(r,i,o){o=o!=null?o.concat([r]):null,ju(4194308,4,Ov.bind(null,i,r),o)},useLayoutEffect:function(r,i){return ju(4194308,4,r,i)},useInsertionEffect:function(r,i){ju(4,2,r,i)},useMemo:function(r,i){var o=vn();i=i===void 0?null:i;var c=r();if(sa){qn(!0);try{r()}finally{qn(!1)}}return o.memoizedState=[c,i],c},useReducer:function(r,i,o){var c=vn();if(o!==void 0){var d=o(i);if(sa){qn(!0);try{o(i)}finally{qn(!1)}}}else d=i;return c.memoizedState=c.baseState=d,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:d},c.queue=r,r=r.dispatch=BA.bind(null,Me,r),[c.memoizedState,r]},useRef:function(r){var i=vn();return r={current:r},i.memoizedState=r},useState:function(r){r=kh(r);var i=r.queue,o=Hv.bind(null,Me,i);return i.dispatch=o,[r.memoizedState,o]},useDebugValue:zh,useDeferredValue:function(r,i){var o=vn();return jh(o,r,i)},useTransition:function(){var r=kh(!1);return r=Lv.bind(null,Me,r.queue,!0,!1),vn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,o){var c=Me,d=vn();if(Ye){if(o===void 0)throw Error(s(407));o=o()}else{if(o=i(),ht===null)throw Error(s(349));(Be&127)!==0||dv(c,i,o)}d.memoizedState=o;var h={value:o,getSnapshot:i};return d.queue=h,Rv(pv.bind(null,c,h,r),[r]),c.flags|=2048,no(9,{destroy:void 0},hv.bind(null,c,h,o,i),null),o},useId:function(){var r=vn(),i=ht.identifierPrefix;if(Ye){var o=Fr,c=Gr;o=(c&~(1<<32-Rt(c)-1)).toString(32)+o,i="_"+i+"R_"+o,o=ku++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=VA++,i="_"+i+"r_"+o.toString(32)+"_";return r.memoizedState=i},useHostTransitionStatus:Hh,useFormState:Tv,useActionState:Tv,useOptimistic:function(r){var i=vn();i.memoizedState=i.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=qh.bind(null,Me,!0,o),o.dispatch=i,[r,i]},useMemoCache:Mh,useCacheRefresh:function(){return vn().memoizedState=jA.bind(null,Me)},useEffectEvent:function(r){var i=vn(),o={impl:r};return i.memoizedState=o,function(){if((tt&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Gh={readContext:rn,use:Uu,useCallback:Vv,useContext:rn,useEffect:Uh,useImperativeHandle:Mv,useInsertionEffect:Dv,useLayoutEffect:Nv,useMemo:Pv,useReducer:zu,useRef:Iv,useState:function(){return zu(hi)},useDebugValue:zh,useDeferredValue:function(r,i){var o=Nt();return kv(o,ct.memoizedState,r,i)},useTransition:function(){var r=zu(hi)[0],i=Nt().memoizedState;return[typeof r=="boolean"?r:Nl(r),i]},useSyncExternalStore:fv,useId:jv,useHostTransitionStatus:Hh,useFormState:Sv,useActionState:Sv,useOptimistic:function(r,i){var o=Nt();return yv(o,ct,r,i)},useMemoCache:Mh,useCacheRefresh:Bv};Gh.useEffectEvent=Cv;var $v={readContext:rn,use:Uu,useCallback:Vv,useContext:rn,useEffect:Uh,useImperativeHandle:Mv,useInsertionEffect:Dv,useLayoutEffect:Nv,useMemo:Pv,useReducer:Ph,useRef:Iv,useState:function(){return Ph(hi)},useDebugValue:zh,useDeferredValue:function(r,i){var o=Nt();return ct===null?jh(o,r,i):kv(o,ct.memoizedState,r,i)},useTransition:function(){var r=Ph(hi)[0],i=Nt().memoizedState;return[typeof r=="boolean"?r:Nl(r),i]},useSyncExternalStore:fv,useId:jv,useHostTransitionStatus:Hh,useFormState:xv,useActionState:xv,useOptimistic:function(r,i){var o=Nt();return ct!==null?yv(o,ct,r,i):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Mh,useCacheRefresh:Bv};$v.useEffectEvent=Cv;function Fh(r,i,o,c){i=r.memoizedState,o=o(c,i),o=o==null?i:_({},i,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var $h={enqueueSetState:function(r,i,o){r=r._reactInternals;var c=zn(),d=Ki(c);d.payload=i,o!=null&&(d.callback=o),i=Qi(r,d,c),i!==null&&(Rn(i,r,c),Il(i,r,c))},enqueueReplaceState:function(r,i,o){r=r._reactInternals;var c=zn(),d=Ki(c);d.tag=1,d.payload=i,o!=null&&(d.callback=o),i=Qi(r,d,c),i!==null&&(Rn(i,r,c),Il(i,r,c))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var o=zn(),c=Ki(o);c.tag=2,i!=null&&(c.callback=i),i=Qi(r,c,o),i!==null&&(Rn(i,r,o),Il(i,r,o))}};function Yv(r,i,o,c,d,h,b){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,h,b):i.prototype&&i.prototype.isPureReactComponent?!_l(o,c)||!_l(d,h):!0}function Kv(r,i,o,c){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==r&&$h.enqueueReplaceState(i,i.state,null)}function aa(r,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(r=r.defaultProps){o===i&&(o=_({},o));for(var d in r)o[d]===void 0&&(o[d]=r[d])}return o}function Qv(r){bu(r)}function Xv(r){console.error(r)}function Wv(r){bu(r)}function qu(r,i){try{var o=r.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function Jv(r,i,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Yh(r,i,o){return o=Ki(o),o.tag=3,o.payload={element:null},o.callback=function(){qu(r,i)},o}function Zv(r){return r=Ki(r),r.tag=3,r}function e_(r,i,o,c){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var h=c.value;r.payload=function(){return d(h)},r.callback=function(){Jv(i,o,c)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(r.callback=function(){Jv(i,o,c),typeof d!="function"&&(ts===null?ts=new Set([this]):ts.add(this));var T=c.stack;this.componentDidCatch(c.value,{componentStack:T!==null?T:""})})}function HA(r,i,o,c,d){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&Ka(i,o,d,!0),o=Pn.current,o!==null){switch(o.tag){case 31:case 13:return Zn===null?tf():o.alternate===null&&xt===0&&(xt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,c===Du?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),vp(r,c,d)),!1;case 22:return o.flags|=65536,c===Du?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),vp(r,c,d)),!1}throw Error(s(435,o.tag))}return vp(r,c,d),tf(),!1}if(Ye)return i=Pn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,c!==dh&&(r=Error(s(422),{cause:c}),wl(Qn(r,o)))):(c!==dh&&(i=Error(s(423),{cause:c}),wl(Qn(i,o))),r=r.current.alternate,r.flags|=65536,d&=-d,r.lanes|=d,c=Qn(c,o),d=Yh(r.stateNode,c,d),Th(r,d),xt!==4&&(xt=2)),!1;var h=Error(s(520),{cause:c});if(h=Qn(h,o),Bl===null?Bl=[h]:Bl.push(h),xt!==4&&(xt=2),i===null)return!0;c=Qn(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,r=d&-d,o.lanes|=r,r=Yh(o.stateNode,c,r),Th(o,r),!1;case 1:if(i=o.type,h=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(ts===null||!ts.has(h))))return o.flags|=65536,d&=-d,o.lanes|=d,d=Zv(d),e_(d,r,o,c),Th(o,d),!1}o=o.return}while(o!==null);return!1}var Kh=Error(s(461)),jt=!1;function sn(r,i,o,c){i.child=r===null?iv(i,null,o,c):ia(i,r.child,o,c)}function t_(r,i,o,c,d){o=o.render;var h=i.ref;if("ref"in c){var b={};for(var T in c)T!=="ref"&&(b[T]=c[T])}else b=c;return ea(i),c=Ch(r,i,o,b,h,d),T=Dh(),r!==null&&!jt?(Nh(r,i,d),pi(r,i,d)):(Ye&&T&&uh(i),i.flags|=1,sn(r,i,c,d),i.child)}function n_(r,i,o,c,d){if(r===null){var h=o.type;return typeof h=="function"&&!oh(h)&&h.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=h,r_(r,i,h,c,d)):(r=Su(o.type,null,c,i,i.mode,d),r.ref=i.ref,r.return=i,i.child=r)}if(h=r.child,!np(r,d)){var b=h.memoizedProps;if(o=o.compare,o=o!==null?o:_l,o(b,c)&&r.ref===i.ref)return pi(r,i,d)}return i.flags|=1,r=li(h,c),r.ref=i.ref,r.return=i,i.child=r}function r_(r,i,o,c,d){if(r!==null){var h=r.memoizedProps;if(_l(h,c)&&r.ref===i.ref)if(jt=!1,i.pendingProps=c=h,np(r,d))(r.flags&131072)!==0&&(jt=!0);else return i.lanes=r.lanes,pi(r,i,d)}return Qh(r,i,o,c,d)}function i_(r,i,o,c){var d=c.children,h=r!==null?r.memoizedState:null;if(r===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(h=h!==null?h.baseLanes|o:o,r!==null){for(c=i.child=r.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;c=d&~h}else c=0,i.child=null;return s_(r,i,h,o,c)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&Ru(i,h!==null?h.cachePool:null),h!==null?ov(i,h):Ah(),lv(i);else return c=i.lanes=536870912,s_(r,i,h!==null?h.baseLanes|o:o,o,c)}else h!==null?(Ru(i,h.cachePool),ov(i,h),Wi(),i.memoizedState=null):(r!==null&&Ru(i,null),Ah(),Wi());return sn(r,i,d,o),i.child}function Vl(r,i){return r!==null&&r.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function s_(r,i,o,c,d){var h=_h();return h=h===null?null:{parent:Ut._currentValue,pool:h},i.memoizedState={baseLanes:o,cachePool:h},r!==null&&Ru(i,null),Ah(),lv(i),r!==null&&Ka(r,i,c,!0),i.childLanes=d,null}function Gu(r,i){return i=$u({mode:i.mode,children:i.children},r.mode),i.ref=r.ref,r.child=i,i.return=r,i}function a_(r,i,o){return ia(i,r.child,null,o),r=Gu(i,i.pendingProps),r.flags|=2,kn(i),i.memoizedState=null,r}function qA(r,i,o){var c=i.pendingProps,d=(i.flags&128)!==0;if(i.flags&=-129,r===null){if(Ye){if(c.mode==="hidden")return r=Gu(i,c),i.lanes=536870912,Vl(null,r);if(Ih(i),(r=gt)?(r=vb(r,Jn),r=r!==null&&r.data==="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:qi!==null?{id:Gr,overflow:Fr}:null,retryLane:536870912,hydrationErrors:null},o=qy(r),o.return=i,i.child=o,nn=i,gt=null)):r=null,r===null)throw Fi(i);return i.lanes=536870912,null}return Gu(i,c)}var h=r.memoizedState;if(h!==null){var b=h.dehydrated;if(Ih(i),d)if(i.flags&256)i.flags&=-257,i=a_(r,i,o);else if(i.memoizedState!==null)i.child=r.child,i.flags|=128,i=null;else throw Error(s(558));else if(jt||Ka(r,i,o,!1),d=(o&r.childLanes)!==0,jt||d){if(c=ht,c!==null&&(b=tl(c,o),b!==0&&b!==h.retryLane))throw h.retryLane=b,Xs(r,b),Rn(c,r,b),Kh;tf(),i=a_(r,i,o)}else r=h.treeContext,gt=er(b.nextSibling),nn=i,Ye=!0,Gi=null,Jn=!1,r!==null&&$y(i,r),i=Gu(i,c),i.flags|=4096;return i}return r=li(r.child,{mode:c.mode,children:c.children}),r.ref=i.ref,i.child=r,r.return=i,r}function Fu(r,i){var o=i.ref;if(o===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(r===null||r.ref!==o)&&(i.flags|=4194816)}}function Qh(r,i,o,c,d){return ea(i),o=Ch(r,i,o,c,void 0,d),c=Dh(),r!==null&&!jt?(Nh(r,i,d),pi(r,i,d)):(Ye&&c&&uh(i),i.flags|=1,sn(r,i,o,d),i.child)}function o_(r,i,o,c,d,h){return ea(i),i.updateQueue=null,o=uv(i,c,o,d),cv(r),c=Dh(),r!==null&&!jt?(Nh(r,i,h),pi(r,i,h)):(Ye&&c&&uh(i),i.flags|=1,sn(r,i,o,h),i.child)}function l_(r,i,o,c,d){if(ea(i),i.stateNode===null){var h=Ga,b=o.contextType;typeof b=="object"&&b!==null&&(h=rn(b)),h=new o(c,h),i.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=$h,i.stateNode=h,h._reactInternals=i,h=i.stateNode,h.props=c,h.state=i.memoizedState,h.refs={},Eh(i),b=o.contextType,h.context=typeof b=="object"&&b!==null?rn(b):Ga,h.state=i.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Fh(i,o,b,c),h.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(b=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),b!==h.state&&$h.enqueueReplaceState(h,h.state,null),Cl(i,c,h,d),Rl(),h.state=i.memoizedState),typeof h.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(r===null){h=i.stateNode;var T=i.memoizedProps,M=aa(o,T);h.props=M;var q=h.context,X=o.contextType;b=Ga,typeof X=="object"&&X!==null&&(b=rn(X));var Z=o.getDerivedStateFromProps;X=typeof Z=="function"||typeof h.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,X||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(T||q!==b)&&Kv(i,h,c,b),Yi=!1;var G=i.memoizedState;h.state=G,Cl(i,c,h,d),Rl(),q=i.memoizedState,T||G!==q||Yi?(typeof Z=="function"&&(Fh(i,o,Z,c),q=i.memoizedState),(M=Yi||Yv(i,o,M,c,G,q,b))?(X||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(i.flags|=4194308)):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=q),h.props=c,h.state=q,h.context=b,c=M):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{h=i.stateNode,wh(r,i),b=i.memoizedProps,X=aa(o,b),h.props=X,Z=i.pendingProps,G=h.context,q=o.contextType,M=Ga,typeof q=="object"&&q!==null&&(M=rn(q)),T=o.getDerivedStateFromProps,(q=typeof T=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(b!==Z||G!==M)&&Kv(i,h,c,M),Yi=!1,G=i.memoizedState,h.state=G,Cl(i,c,h,d),Rl();var Y=i.memoizedState;b!==Z||G!==Y||Yi||r!==null&&r.dependencies!==null&&xu(r.dependencies)?(typeof T=="function"&&(Fh(i,o,T,c),Y=i.memoizedState),(X=Yi||Yv(i,o,X,c,G,Y,M)||r!==null&&r.dependencies!==null&&xu(r.dependencies))?(q||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(c,Y,M),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(c,Y,M)),typeof h.componentDidUpdate=="function"&&(i.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof h.componentDidUpdate!="function"||b===r.memoizedProps&&G===r.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&G===r.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=Y),h.props=c,h.state=Y,h.context=M,c=X):(typeof h.componentDidUpdate!="function"||b===r.memoizedProps&&G===r.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&G===r.memoizedState||(i.flags|=1024),c=!1)}return h=c,Fu(r,i),c=(i.flags&128)!==0,h||c?(h=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:h.render(),i.flags|=1,r!==null&&c?(i.child=ia(i,r.child,null,d),i.child=ia(i,null,o,d)):sn(r,i,o,d),i.memoizedState=h.state,r=i.child):r=pi(r,i,d),r}function c_(r,i,o,c){return Js(),i.flags|=256,sn(r,i,o,c),i.child}var Xh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wh(r){return{baseLanes:r,cachePool:Jy()}}function Jh(r,i,o){return r=r!==null?r.childLanes&~o:0,i&&(r|=Un),r}function u_(r,i,o){var c=i.pendingProps,d=!1,h=(i.flags&128)!==0,b;if((b=h)||(b=r!==null&&r.memoizedState===null?!1:(Dt.current&2)!==0),b&&(d=!0,i.flags&=-129),b=(i.flags&32)!==0,i.flags&=-33,r===null){if(Ye){if(d?Xi(i):Wi(),(r=gt)?(r=vb(r,Jn),r=r!==null&&r.data!=="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:qi!==null?{id:Gr,overflow:Fr}:null,retryLane:536870912,hydrationErrors:null},o=qy(r),o.return=i,i.child=o,nn=i,gt=null)):r=null,r===null)throw Fi(i);return Vp(r)?i.lanes=32:i.lanes=536870912,null}var T=c.children;return c=c.fallback,d?(Wi(),d=i.mode,T=$u({mode:"hidden",children:T},d),c=Ws(c,d,o,null),T.return=i,c.return=i,T.sibling=c,i.child=T,c=i.child,c.memoizedState=Wh(o),c.childLanes=Jh(r,b,o),i.memoizedState=Xh,Vl(null,c)):(Xi(i),Zh(i,T))}var M=r.memoizedState;if(M!==null&&(T=M.dehydrated,T!==null)){if(h)i.flags&256?(Xi(i),i.flags&=-257,i=ep(r,i,o)):i.memoizedState!==null?(Wi(),i.child=r.child,i.flags|=128,i=null):(Wi(),T=c.fallback,d=i.mode,c=$u({mode:"visible",children:c.children},d),T=Ws(T,d,o,null),T.flags|=2,c.return=i,T.return=i,c.sibling=T,i.child=c,ia(i,r.child,null,o),c=i.child,c.memoizedState=Wh(o),c.childLanes=Jh(r,b,o),i.memoizedState=Xh,i=Vl(null,c));else if(Xi(i),Vp(T)){if(b=T.nextSibling&&T.nextSibling.dataset,b)var q=b.dgst;b=q,c=Error(s(419)),c.stack="",c.digest=b,wl({value:c,source:null,stack:null}),i=ep(r,i,o)}else if(jt||Ka(r,i,o,!1),b=(o&r.childLanes)!==0,jt||b){if(b=ht,b!==null&&(c=tl(b,o),c!==0&&c!==M.retryLane))throw M.retryLane=c,Xs(r,c),Rn(b,r,c),Kh;Mp(T)||tf(),i=ep(r,i,o)}else Mp(T)?(i.flags|=192,i.child=r.child,i=null):(r=M.treeContext,gt=er(T.nextSibling),nn=i,Ye=!0,Gi=null,Jn=!1,r!==null&&$y(i,r),i=Zh(i,c.children),i.flags|=4096);return i}return d?(Wi(),T=c.fallback,d=i.mode,M=r.child,q=M.sibling,c=li(M,{mode:"hidden",children:c.children}),c.subtreeFlags=M.subtreeFlags&65011712,q!==null?T=li(q,T):(T=Ws(T,d,o,null),T.flags|=2),T.return=i,c.return=i,c.sibling=T,i.child=c,Vl(null,c),c=i.child,T=r.child.memoizedState,T===null?T=Wh(o):(d=T.cachePool,d!==null?(M=Ut._currentValue,d=d.parent!==M?{parent:M,pool:M}:d):d=Jy(),T={baseLanes:T.baseLanes|o,cachePool:d}),c.memoizedState=T,c.childLanes=Jh(r,b,o),i.memoizedState=Xh,Vl(r.child,c)):(Xi(i),o=r.child,r=o.sibling,o=li(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,r!==null&&(b=i.deletions,b===null?(i.deletions=[r],i.flags|=16):b.push(r)),i.child=o,i.memoizedState=null,o)}function Zh(r,i){return i=$u({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function $u(r,i){return r=Vn(22,r,null,i),r.lanes=0,r}function ep(r,i,o){return ia(i,r.child,null,o),r=Zh(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function f_(r,i,o){r.lanes|=i;var c=r.alternate;c!==null&&(c.lanes|=i),mh(r.return,i,o)}function tp(r,i,o,c,d,h){var b=r.memoizedState;b===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d,treeForkCount:h}:(b.isBackwards=i,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=o,b.tailMode=d,b.treeForkCount=h)}function d_(r,i,o){var c=i.pendingProps,d=c.revealOrder,h=c.tail;c=c.children;var b=Dt.current,T=(b&2)!==0;if(T?(b=b&1|2,i.flags|=128):b&=1,ce(Dt,b),sn(r,i,c,o),c=Ye?El:0,!T&&r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&f_(r,o,i);else if(r.tag===19)f_(r,o,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(d){case"forwards":for(o=i.child,d=null;o!==null;)r=o.alternate,r!==null&&Vu(r)===null&&(d=o),o=o.sibling;o=d,o===null?(d=i.child,i.child=null):(d=o.sibling,o.sibling=null),tp(i,!1,d,o,h,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=i.child,i.child=null;d!==null;){if(r=d.alternate,r!==null&&Vu(r)===null){i.child=d;break}r=d.sibling,d.sibling=o,o=d,d=r}tp(i,!0,o,null,h,c);break;case"together":tp(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function pi(r,i,o){if(r!==null&&(i.dependencies=r.dependencies),es|=i.lanes,(o&i.childLanes)===0)if(r!==null){if(Ka(r,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,o=li(r,r.pendingProps),i.child=o,o.return=i;r.sibling!==null;)r=r.sibling,o=o.sibling=li(r,r.pendingProps),o.return=i;o.sibling=null}return i.child}function np(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&xu(r)))}function GA(r,i,o){switch(i.tag){case 3:bt(i,i.stateNode.containerInfo),$i(i,Ut,r.memoizedState.cache),Js();break;case 27:case 5:Ve(i);break;case 4:bt(i,i.stateNode.containerInfo);break;case 10:$i(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Ih(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Xi(i),i.flags|=128,null):(o&i.child.childLanes)!==0?u_(r,i,o):(Xi(i),r=pi(r,i,o),r!==null?r.sibling:null);Xi(i);break;case 19:var d=(r.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(Ka(r,i,o,!1),c=(o&i.childLanes)!==0),d){if(c)return d_(r,i,o);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ce(Dt,Dt.current),c)break;return null;case 22:return i.lanes=0,i_(r,i,o,i.pendingProps);case 24:$i(i,Ut,r.memoizedState.cache)}return pi(r,i,o)}function h_(r,i,o){if(r!==null)if(r.memoizedProps!==i.pendingProps)jt=!0;else{if(!np(r,o)&&(i.flags&128)===0)return jt=!1,GA(r,i,o);jt=(r.flags&131072)!==0}else jt=!1,Ye&&(i.flags&1048576)!==0&&Fy(i,El,i.index);switch(i.lanes=0,i.tag){case 16:e:{var c=i.pendingProps;if(r=na(i.elementType),i.type=r,typeof r=="function")oh(r)?(c=aa(r,c),i.tag=1,i=l_(null,i,r,c,o)):(i.tag=0,i=Qh(null,i,r,c,o));else{if(r!=null){var d=r.$$typeof;if(d===te){i.tag=11,i=t_(null,i,r,c,o);break e}else if(d===R){i.tag=14,i=n_(null,i,r,c,o);break e}}throw i=$e(r)||r,Error(s(306,i,""))}}return i;case 0:return Qh(r,i,i.type,i.pendingProps,o);case 1:return c=i.type,d=aa(c,i.pendingProps),l_(r,i,c,d,o);case 3:e:{if(bt(i,i.stateNode.containerInfo),r===null)throw Error(s(387));c=i.pendingProps;var h=i.memoizedState;d=h.element,wh(r,i),Cl(i,c,null,o);var b=i.memoizedState;if(c=b.cache,$i(i,Ut,c),c!==h.cache&&gh(i,[Ut],o,!0),Rl(),c=b.element,h.isDehydrated)if(h={element:c,isDehydrated:!1,cache:b.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=c_(r,i,c,o);break e}else if(c!==d){d=Qn(Error(s(424)),i),wl(d),i=c_(r,i,c,o);break e}else for(r=i.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,gt=er(r.firstChild),nn=i,Ye=!0,Gi=null,Jn=!0,o=iv(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Js(),c===d){i=pi(r,i,o);break e}sn(r,i,c,o)}i=i.child}return i;case 26:return Fu(r,i),r===null?(o=Sb(i.type,null,i.pendingProps,null))?i.memoizedState=o:Ye||(o=i.type,r=i.pendingProps,c=cf(xe.current).createElement(o),c[Pt]=i,c[Yt]=r,an(c,o,r),kt(c),i.stateNode=c):i.memoizedState=Sb(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return Ve(i),r===null&&Ye&&(c=i.stateNode=Eb(i.type,i.pendingProps,xe.current),nn=i,Jn=!0,d=gt,ss(i.type)?(Pp=d,gt=er(c.firstChild)):gt=d),sn(r,i,i.pendingProps.children,o),Fu(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&Ye&&((d=c=gt)&&(c=bx(c,i.type,i.pendingProps,Jn),c!==null?(i.stateNode=c,nn=i,gt=er(c.firstChild),Jn=!1,d=!0):d=!1),d||Fi(i)),Ve(i),d=i.type,h=i.pendingProps,b=r!==null?r.memoizedProps:null,c=h.children,Dp(d,h)?c=null:b!==null&&Dp(d,b)&&(i.flags|=32),i.memoizedState!==null&&(d=Ch(r,i,PA,null,null,o),Ql._currentValue=d),Fu(r,i),sn(r,i,c,o),i.child;case 6:return r===null&&Ye&&((r=o=gt)&&(o=Ex(o,i.pendingProps,Jn),o!==null?(i.stateNode=o,nn=i,gt=null,r=!0):r=!1),r||Fi(i)),null;case 13:return u_(r,i,o);case 4:return bt(i,i.stateNode.containerInfo),c=i.pendingProps,r===null?i.child=ia(i,null,c,o):sn(r,i,c,o),i.child;case 11:return t_(r,i,i.type,i.pendingProps,o);case 7:return sn(r,i,i.pendingProps,o),i.child;case 8:return sn(r,i,i.pendingProps.children,o),i.child;case 12:return sn(r,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,$i(i,i.type,c.value),sn(r,i,c.children,o),i.child;case 9:return d=i.type._context,c=i.pendingProps.children,ea(i),d=rn(d),c=c(d),i.flags|=1,sn(r,i,c,o),i.child;case 14:return n_(r,i,i.type,i.pendingProps,o);case 15:return r_(r,i,i.type,i.pendingProps,o);case 19:return d_(r,i,o);case 31:return qA(r,i,o);case 22:return i_(r,i,o,i.pendingProps);case 24:return ea(i),c=rn(Ut),r===null?(d=_h(),d===null&&(d=ht,h=yh(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=o),d=h),i.memoizedState={parent:c,cache:d},Eh(i),$i(i,Ut,d)):((r.lanes&o)!==0&&(wh(r,i),Cl(i,null,null,o),Rl()),d=r.memoizedState,h=i.memoizedState,d.parent!==c?(d={parent:c,cache:c},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),$i(i,Ut,c)):(c=h.cache,$i(i,Ut,c),c!==d.cache&&gh(i,[Ut],o,!0))),sn(r,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function mi(r){r.flags|=4}function rp(r,i,o,c,d){if((i=(r.mode&32)!==0)&&(i=!1),i){if(r.flags|=16777216,(d&335544128)===d)if(r.stateNode.complete)r.flags|=8192;else if(j_())r.flags|=8192;else throw ra=Du,bh}else r.flags&=-16777217}function p_(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Cb(i))if(j_())r.flags|=8192;else throw ra=Du,bh}function Yu(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Zc():536870912,r.lanes|=i,ao|=i)}function Pl(r,i){if(!Ye)switch(r.tailMode){case"hidden":i=r.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function yt(r){var i=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(i)for(var d=r.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=c,r.childLanes=o,i}function FA(r,i,o){var c=i.pendingProps;switch(fh(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(i),null;case 1:return yt(i),null;case 3:return o=i.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),fi(Ut),ie(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Ya(i)?mi(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,hh())),yt(i),null;case 26:var d=i.type,h=i.memoizedState;return r===null?(mi(i),h!==null?(yt(i),p_(i,h)):(yt(i),rp(i,d,null,c,o))):h?h!==r.memoizedState?(mi(i),yt(i),p_(i,h)):(yt(i),i.flags&=-16777217):(r=r.memoizedProps,r!==c&&mi(i),yt(i),rp(i,d,r,c,o)),null;case 27:if(Ue(i),o=xe.current,d=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==c&&mi(i);else{if(!c){if(i.stateNode===null)throw Error(s(166));return yt(i),null}r=de.current,Ya(i)?Yy(i):(r=Eb(d,c,o),i.stateNode=r,mi(i))}return yt(i),null;case 5:if(Ue(i),d=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==c&&mi(i);else{if(!c){if(i.stateNode===null)throw Error(s(166));return yt(i),null}if(h=de.current,Ya(i))Yy(i);else{var b=cf(xe.current);switch(h){case 1:h=b.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:h=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":h=b.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":h=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":h=b.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?h.multiple=!0:c.size&&(h.size=c.size);break;default:h=typeof c.is=="string"?b.createElement(d,{is:c.is}):b.createElement(d)}}h[Pt]=i,h[Yt]=c;e:for(b=i.child;b!==null;){if(b.tag===5||b.tag===6)h.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===i)break e;for(;b.sibling===null;){if(b.return===null||b.return===i)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}i.stateNode=h;e:switch(an(h,d,c),d){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&mi(i)}}return yt(i),rp(i,i.type,r===null?null:r.memoizedProps,i.pendingProps,o),null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==c&&mi(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(s(166));if(r=xe.current,Ya(i)){if(r=i.stateNode,o=i.memoizedProps,c=null,d=nn,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}r[Pt]=i,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||ub(r.nodeValue,o)),r||Fi(i,!0)}else r=cf(r).createTextNode(c),r[Pt]=i,i.stateNode=r}return yt(i),null;case 31:if(o=i.memoizedState,r===null||r.memoizedState!==null){if(c=Ya(i),o!==null){if(r===null){if(!c)throw Error(s(318));if(r=i.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(557));r[Pt]=i}else Js(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;yt(i),r=!1}else o=hh(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=o),r=!0;if(!r)return i.flags&256?(kn(i),i):(kn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return yt(i),null;case 13:if(c=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(d=Ya(i),c!==null&&c.dehydrated!==null){if(r===null){if(!d)throw Error(s(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Pt]=i}else Js(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;yt(i),d=!1}else d=hh(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(kn(i),i):(kn(i),null)}return kn(i),(i.flags&128)!==0?(i.lanes=o,i):(o=c!==null,r=r!==null&&r.memoizedState!==null,o&&(c=i.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool),h=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(h=c.memoizedState.cachePool.pool),h!==d&&(c.flags|=2048)),o!==r&&o&&(i.child.flags|=8192),Yu(i,i.updateQueue),yt(i),null);case 4:return ie(),r===null&&Ap(i.stateNode.containerInfo),yt(i),null;case 10:return fi(i.type),yt(i),null;case 19:if(W(Dt),c=i.memoizedState,c===null)return yt(i),null;if(d=(i.flags&128)!==0,h=c.rendering,h===null)if(d)Pl(c,!1);else{if(xt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(h=Vu(r),h!==null){for(i.flags|=128,Pl(c,!1),r=h.updateQueue,i.updateQueue=r,Yu(i,r),i.subtreeFlags=0,r=o,o=i.child;o!==null;)Hy(o,r),o=o.sibling;return ce(Dt,Dt.current&1|2),Ye&&ci(i,c.treeForkCount),i.child}r=r.sibling}c.tail!==null&&gn()>Ju&&(i.flags|=128,d=!0,Pl(c,!1),i.lanes=4194304)}else{if(!d)if(r=Vu(h),r!==null){if(i.flags|=128,d=!0,r=r.updateQueue,i.updateQueue=r,Yu(i,r),Pl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!Ye)return yt(i),null}else 2*gn()-c.renderingStartTime>Ju&&o!==536870912&&(i.flags|=128,d=!0,Pl(c,!1),i.lanes=4194304);c.isBackwards?(h.sibling=i.child,i.child=h):(r=c.last,r!==null?r.sibling=h:i.child=h,c.last=h)}return c.tail!==null?(r=c.tail,c.rendering=r,c.tail=r.sibling,c.renderingStartTime=gn(),r.sibling=null,o=Dt.current,ce(Dt,d?o&1|2:o&1),Ye&&ci(i,c.treeForkCount),r):(yt(i),null);case 22:case 23:return kn(i),xh(),c=i.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&(yt(i),i.subtreeFlags&6&&(i.flags|=8192)):yt(i),o=i.updateQueue,o!==null&&Yu(i,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),r!==null&&W(ta),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),fi(Ut),yt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function $A(r,i){switch(fh(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return fi(Ut),ie(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return Ue(i),null;case 31:if(i.memoizedState!==null){if(kn(i),i.alternate===null)throw Error(s(340));Js()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 13:if(kn(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Js()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return W(Dt),null;case 4:return ie(),null;case 10:return fi(i.type),null;case 22:case 23:return kn(i),xh(),r!==null&&W(ta),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return fi(Ut),null;case 25:return null;default:return null}}function m_(r,i){switch(fh(i),i.tag){case 3:fi(Ut),ie();break;case 26:case 27:case 5:Ue(i);break;case 4:ie();break;case 31:i.memoizedState!==null&&kn(i);break;case 13:kn(i);break;case 19:W(Dt);break;case 10:fi(i.type);break;case 22:case 23:kn(i),xh(),r!==null&&W(ta);break;case 24:fi(Ut)}}function kl(r,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&r)===r){c=void 0;var h=o.create,b=o.inst;c=h(),b.destroy=c}o=o.next}while(o!==d)}}catch(T){ot(i,i.return,T)}}function Ji(r,i,o){try{var c=i.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var h=d.next;c=h;do{if((c.tag&r)===r){var b=c.inst,T=b.destroy;if(T!==void 0){b.destroy=void 0,d=i;var M=o,q=T;try{q()}catch(X){ot(d,M,X)}}}c=c.next}while(c!==h)}}catch(X){ot(i,i.return,X)}}function g_(r){var i=r.updateQueue;if(i!==null){var o=r.stateNode;try{av(i,o)}catch(c){ot(r,r.return,c)}}}function y_(r,i,o){o.props=aa(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){ot(r,i,c)}}function Ll(r,i){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof o=="function"?r.refCleanup=o(c):o.current=c}}catch(d){ot(r,i,d)}}function $r(r,i){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(d){ot(r,i,d)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){ot(r,i,d)}else o.current=null}function v_(r){var i=r.type,o=r.memoizedProps,c=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(d){ot(r,r.return,d)}}function ip(r,i,o){try{var c=r.stateNode;px(c,r.type,o,i),c[Yt]=i}catch(d){ot(r,r.return,d)}}function __(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ss(r.type)||r.tag===4}function sp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||__(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ss(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function ap(r,i,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(r),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=dr));else if(c!==4&&(c===27&&ss(r.type)&&(o=r.stateNode,i=null),r=r.child,r!==null))for(ap(r,i,o),r=r.sibling;r!==null;)ap(r,i,o),r=r.sibling}function Ku(r,i,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?o.insertBefore(r,i):o.appendChild(r);else if(c!==4&&(c===27&&ss(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Ku(r,i,o),r=r.sibling;r!==null;)Ku(r,i,o),r=r.sibling}function b_(r){var i=r.stateNode,o=r.memoizedProps;try{for(var c=r.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);an(i,c,o),i[Pt]=r,i[Yt]=o}catch(h){ot(r,r.return,h)}}var gi=!1,Bt=!1,op=!1,E_=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function YA(r,i){if(r=r.containerInfo,Rp=gf,r=My(r),eh(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{o.nodeType,h.nodeType}catch{o=null;break e}var b=0,T=-1,M=-1,q=0,X=0,Z=r,G=null;t:for(;;){for(var Y;Z!==o||d!==0&&Z.nodeType!==3||(T=b+d),Z!==h||c!==0&&Z.nodeType!==3||(M=b+c),Z.nodeType===3&&(b+=Z.nodeValue.length),(Y=Z.firstChild)!==null;)G=Z,Z=Y;for(;;){if(Z===r)break t;if(G===o&&++q===d&&(T=b),G===h&&++X===c&&(M=b),(Y=Z.nextSibling)!==null)break;Z=G,G=Z.parentNode}Z=Y}o=T===-1||M===-1?null:{start:T,end:M}}else o=null}o=o||{start:0,end:0}}else o=null;for(Cp={focusedElem:r,selectionRange:o},gf=!1,Qt=i;Qt!==null;)if(i=Qt,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,Qt=r;else for(;Qt!==null;){switch(i=Qt,h=i.alternate,r=i.flags,i.tag){case 0:if((r&4)!==0&&(r=i.updateQueue,r=r!==null?r.events:null,r!==null))for(o=0;o<r.length;o++)d=r[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&h!==null){r=void 0,o=i,d=h.memoizedProps,h=h.memoizedState,c=o.stateNode;try{var me=aa(o.type,d);r=c.getSnapshotBeforeUpdate(me,h),c.__reactInternalSnapshotBeforeUpdate=r}catch(Se){ot(o,o.return,Se)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,o=r.nodeType,o===9)Op(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Op(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,Qt=r;break}Qt=i.return}}function w_(r,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:vi(r,o),c&4&&kl(5,o);break;case 1:if(vi(r,o),c&4)if(r=o.stateNode,i===null)try{r.componentDidMount()}catch(b){ot(o,o.return,b)}else{var d=aa(o.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(d,i,r.__reactInternalSnapshotBeforeUpdate)}catch(b){ot(o,o.return,b)}}c&64&&g_(o),c&512&&Ll(o,o.return);break;case 3:if(vi(r,o),c&64&&(r=o.updateQueue,r!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{av(r,i)}catch(b){ot(o,o.return,b)}}break;case 27:i===null&&c&4&&b_(o);case 26:case 5:vi(r,o),i===null&&c&4&&v_(o),c&512&&Ll(o,o.return);break;case 12:vi(r,o);break;case 31:vi(r,o),c&4&&A_(r,o);break;case 13:vi(r,o),c&4&&x_(r,o),c&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=nx.bind(null,o),wx(r,o))));break;case 22:if(c=o.memoizedState!==null||gi,!c){i=i!==null&&i.memoizedState!==null||Bt,d=gi;var h=Bt;gi=c,(Bt=i)&&!h?_i(r,o,(o.subtreeFlags&8772)!==0):vi(r,o),gi=d,Bt=h}break;case 30:break;default:vi(r,o)}}function T_(r){var i=r.alternate;i!==null&&(r.alternate=null,T_(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&Da(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Tt=null,Sn=!1;function yi(r,i,o){for(o=o.child;o!==null;)S_(r,i,o),o=o.sibling}function S_(r,i,o){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(lr,o)}catch{}switch(o.tag){case 26:Bt||$r(o,i),yi(r,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Bt||$r(o,i);var c=Tt,d=Sn;ss(o.type)&&(Tt=o.stateNode,Sn=!1),yi(r,i,o),$l(o.stateNode),Tt=c,Sn=d;break;case 5:Bt||$r(o,i);case 6:if(c=Tt,d=Sn,Tt=null,yi(r,i,o),Tt=c,Sn=d,Tt!==null)if(Sn)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(o.stateNode)}catch(h){ot(o,i,h)}else try{Tt.removeChild(o.stateNode)}catch(h){ot(o,i,h)}break;case 18:Tt!==null&&(Sn?(r=Tt,gb(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),mo(r)):gb(Tt,o.stateNode));break;case 4:c=Tt,d=Sn,Tt=o.stateNode.containerInfo,Sn=!0,yi(r,i,o),Tt=c,Sn=d;break;case 0:case 11:case 14:case 15:Ji(2,o,i),Bt||Ji(4,o,i),yi(r,i,o);break;case 1:Bt||($r(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&y_(o,i,c)),yi(r,i,o);break;case 21:yi(r,i,o);break;case 22:Bt=(c=Bt)||o.memoizedState!==null,yi(r,i,o),Bt=c;break;default:yi(r,i,o)}}function A_(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{mo(r)}catch(o){ot(i,i.return,o)}}}function x_(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{mo(r)}catch(o){ot(i,i.return,o)}}function KA(r){switch(r.tag){case 31:case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new E_),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new E_),i;default:throw Error(s(435,r.tag))}}function Qu(r,i){var o=KA(r);i.forEach(function(c){if(!o.has(c)){o.add(c);var d=rx.bind(null,r,c);c.then(d,d)}})}function An(r,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c],h=r,b=i,T=b;e:for(;T!==null;){switch(T.tag){case 27:if(ss(T.type)){Tt=T.stateNode,Sn=!1;break e}break;case 5:Tt=T.stateNode,Sn=!1;break e;case 3:case 4:Tt=T.stateNode.containerInfo,Sn=!0;break e}T=T.return}if(Tt===null)throw Error(s(160));S_(h,b,d),Tt=null,Sn=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)I_(i,r),i=i.sibling}var vr=null;function I_(r,i){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:An(i,r),xn(r),c&4&&(Ji(3,r,r.return),kl(3,r),Ji(5,r,r.return));break;case 1:An(i,r),xn(r),c&512&&(Bt||o===null||$r(o,o.return)),c&64&&gi&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var d=vr;if(An(i,r),xn(r),c&512&&(Bt||o===null||$r(o,o.return)),c&4){var h=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){e:{c=r.type,o=r.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":h=d.getElementsByTagName("title")[0],(!h||h[Or]||h[Pt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(c),d.head.insertBefore(h,d.querySelector("head > title"))),an(h,c,o),h[Pt]=r,kt(h),c=h;break e;case"link":var b=Ib("link","href",d).get(c+(o.href||""));if(b){for(var T=0;T<b.length;T++)if(h=b[T],h.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&h.getAttribute("rel")===(o.rel==null?null:o.rel)&&h.getAttribute("title")===(o.title==null?null:o.title)&&h.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(T,1);break t}}h=d.createElement(c),an(h,c,o),d.head.appendChild(h);break;case"meta":if(b=Ib("meta","content",d).get(c+(o.content||""))){for(T=0;T<b.length;T++)if(h=b[T],h.getAttribute("content")===(o.content==null?null:""+o.content)&&h.getAttribute("name")===(o.name==null?null:o.name)&&h.getAttribute("property")===(o.property==null?null:o.property)&&h.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&h.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(T,1);break t}}h=d.createElement(c),an(h,c,o),d.head.appendChild(h);break;default:throw Error(s(468,c))}h[Pt]=r,kt(h),c=h}r.stateNode=c}else Rb(d,r.type,r.stateNode);else r.stateNode=xb(d,c,r.memoizedProps);else h!==c?(h===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):h.count--,c===null?Rb(d,r.type,r.stateNode):xb(d,c,r.memoizedProps)):c===null&&r.stateNode!==null&&ip(r,r.memoizedProps,o.memoizedProps)}break;case 27:An(i,r),xn(r),c&512&&(Bt||o===null||$r(o,o.return)),o!==null&&c&4&&ip(r,r.memoizedProps,o.memoizedProps);break;case 5:if(An(i,r),xn(r),c&512&&(Bt||o===null||$r(o,o.return)),r.flags&32){d=r.stateNode;try{Tn(d,"")}catch(me){ot(r,r.return,me)}}c&4&&r.stateNode!=null&&(d=r.memoizedProps,ip(r,d,o!==null?o.memoizedProps:d)),c&1024&&(op=!0);break;case 6:if(An(i,r),xn(r),c&4){if(r.stateNode===null)throw Error(s(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(me){ot(r,r.return,me)}}break;case 3:if(df=null,d=vr,vr=uf(i.containerInfo),An(i,r),vr=d,xn(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{mo(i.containerInfo)}catch(me){ot(r,r.return,me)}op&&(op=!1,R_(r));break;case 4:c=vr,vr=uf(r.stateNode.containerInfo),An(i,r),xn(r),vr=c;break;case 12:An(i,r),xn(r);break;case 31:An(i,r),xn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Qu(r,c)));break;case 13:An(i,r),xn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Wu=gn()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Qu(r,c)));break;case 22:d=r.memoizedState!==null;var M=o!==null&&o.memoizedState!==null,q=gi,X=Bt;if(gi=q||d,Bt=X||M,An(i,r),Bt=X,gi=q,xn(r),c&8192)e:for(i=r.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(o===null||M||gi||Bt||oa(r)),o=null,i=r;;){if(i.tag===5||i.tag===26){if(o===null){M=o=i;try{if(h=M.stateNode,d)b=h.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{T=M.stateNode;var Z=M.memoizedProps.style,G=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(me){ot(M,M.return,me)}}}else if(i.tag===6){if(o===null){M=i;try{M.stateNode.nodeValue=d?"":M.memoizedProps}catch(me){ot(M,M.return,me)}}}else if(i.tag===18){if(o===null){M=i;try{var Y=M.stateNode;d?yb(Y,!0):yb(M.stateNode,!1)}catch(me){ot(M,M.return,me)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Qu(r,o))));break;case 19:An(i,r),xn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Qu(r,c)));break;case 30:break;case 21:break;default:An(i,r),xn(r)}}function xn(r){var i=r.flags;if(i&2){try{for(var o,c=r.return;c!==null;){if(__(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var d=o.stateNode,h=sp(r);Ku(r,h,d);break;case 5:var b=o.stateNode;o.flags&32&&(Tn(b,""),o.flags&=-33);var T=sp(r);Ku(r,T,b);break;case 3:case 4:var M=o.stateNode.containerInfo,q=sp(r);ap(r,q,M);break;default:throw Error(s(161))}}catch(X){ot(r,r.return,X)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function R_(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;R_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function vi(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)w_(r,i.alternate,i),i=i.sibling}function oa(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:Ji(4,i,i.return),oa(i);break;case 1:$r(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&y_(i,i.return,o),oa(i);break;case 27:$l(i.stateNode);case 26:case 5:$r(i,i.return),oa(i);break;case 22:i.memoizedState===null&&oa(i);break;case 30:oa(i);break;default:oa(i)}r=r.sibling}}function _i(r,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,d=r,h=i,b=h.flags;switch(h.tag){case 0:case 11:case 15:_i(d,h,o),kl(4,h);break;case 1:if(_i(d,h,o),c=h,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(q){ot(c,c.return,q)}if(c=h,d=c.updateQueue,d!==null){var T=c.stateNode;try{var M=d.shared.hiddenCallbacks;if(M!==null)for(d.shared.hiddenCallbacks=null,d=0;d<M.length;d++)sv(M[d],T)}catch(q){ot(c,c.return,q)}}o&&b&64&&g_(h),Ll(h,h.return);break;case 27:b_(h);case 26:case 5:_i(d,h,o),o&&c===null&&b&4&&v_(h),Ll(h,h.return);break;case 12:_i(d,h,o);break;case 31:_i(d,h,o),o&&b&4&&A_(d,h);break;case 13:_i(d,h,o),o&&b&4&&x_(d,h);break;case 22:h.memoizedState===null&&_i(d,h,o),Ll(h,h.return);break;case 30:break;default:_i(d,h,o)}i=i.sibling}}function lp(r,i){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Tl(o))}function cp(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Tl(r))}function _r(r,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)C_(r,i,o,c),i=i.sibling}function C_(r,i,o,c){var d=i.flags;switch(i.tag){case 0:case 11:case 15:_r(r,i,o,c),d&2048&&kl(9,i);break;case 1:_r(r,i,o,c);break;case 3:_r(r,i,o,c),d&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Tl(r)));break;case 12:if(d&2048){_r(r,i,o,c),r=i.stateNode;try{var h=i.memoizedProps,b=h.id,T=h.onPostCommit;typeof T=="function"&&T(b,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(M){ot(i,i.return,M)}}else _r(r,i,o,c);break;case 31:_r(r,i,o,c);break;case 13:_r(r,i,o,c);break;case 23:break;case 22:h=i.stateNode,b=i.alternate,i.memoizedState!==null?h._visibility&2?_r(r,i,o,c):Ul(r,i):h._visibility&2?_r(r,i,o,c):(h._visibility|=2,ro(r,i,o,c,(i.subtreeFlags&10256)!==0||!1)),d&2048&&lp(b,i);break;case 24:_r(r,i,o,c),d&2048&&cp(i.alternate,i);break;default:_r(r,i,o,c)}}function ro(r,i,o,c,d){for(d=d&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var h=r,b=i,T=o,M=c,q=b.flags;switch(b.tag){case 0:case 11:case 15:ro(h,b,T,M,d),kl(8,b);break;case 23:break;case 22:var X=b.stateNode;b.memoizedState!==null?X._visibility&2?ro(h,b,T,M,d):Ul(h,b):(X._visibility|=2,ro(h,b,T,M,d)),d&&q&2048&&lp(b.alternate,b);break;case 24:ro(h,b,T,M,d),d&&q&2048&&cp(b.alternate,b);break;default:ro(h,b,T,M,d)}i=i.sibling}}function Ul(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=r,c=i,d=c.flags;switch(c.tag){case 22:Ul(o,c),d&2048&&lp(c.alternate,c);break;case 24:Ul(o,c),d&2048&&cp(c.alternate,c);break;default:Ul(o,c)}i=i.sibling}}var zl=8192;function io(r,i,o){if(r.subtreeFlags&zl)for(r=r.child;r!==null;)D_(r,i,o),r=r.sibling}function D_(r,i,o){switch(r.tag){case 26:io(r,i,o),r.flags&zl&&r.memoizedState!==null&&Vx(o,vr,r.memoizedState,r.memoizedProps);break;case 5:io(r,i,o);break;case 3:case 4:var c=vr;vr=uf(r.stateNode.containerInfo),io(r,i,o),vr=c;break;case 22:r.memoizedState===null&&(c=r.alternate,c!==null&&c.memoizedState!==null?(c=zl,zl=16777216,io(r,i,o),zl=c):io(r,i,o));break;default:io(r,i,o)}}function N_(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function jl(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];Qt=c,M_(c,r)}N_(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)O_(r),r=r.sibling}function O_(r){switch(r.tag){case 0:case 11:case 15:jl(r),r.flags&2048&&Ji(9,r,r.return);break;case 3:jl(r);break;case 12:jl(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,Xu(r)):jl(r);break;default:jl(r)}}function Xu(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];Qt=c,M_(c,r)}N_(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:Ji(8,i,i.return),Xu(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Xu(i));break;default:Xu(i)}r=r.sibling}}function M_(r,i){for(;Qt!==null;){var o=Qt;switch(o.tag){case 0:case 11:case 15:Ji(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Tl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Qt=c;else e:for(o=r;Qt!==null;){c=Qt;var d=c.sibling,h=c.return;if(T_(c),c===o){Qt=null;break e}if(d!==null){d.return=h,Qt=d;break e}Qt=h}}}var QA={getCacheForType:function(r){var i=rn(Ut),o=i.data.get(r);return o===void 0&&(o=r(),i.data.set(r,o)),o},cacheSignal:function(){return rn(Ut).controller.signal}},XA=typeof WeakMap=="function"?WeakMap:Map,tt=0,ht=null,ze=null,Be=0,at=0,Ln=null,Zi=!1,so=!1,up=!1,bi=0,xt=0,es=0,la=0,fp=0,Un=0,ao=0,Bl=null,In=null,dp=!1,Wu=0,V_=0,Ju=1/0,Zu=null,ts=null,Ft=0,ns=null,oo=null,Ei=0,hp=0,pp=null,P_=null,Hl=0,mp=null;function zn(){return(tt&2)!==0&&Be!==0?Be&-Be:K.T!==null?Ep():eu()}function k_(){if(Un===0)if((Be&536870912)===0||Ye){var r=Ps;Ps<<=1,(Ps&3932160)===0&&(Ps=262144),Un=r}else Un=536870912;return r=Pn.current,r!==null&&(r.flags|=32),Un}function Rn(r,i,o){(r===ht&&(at===2||at===9)||r.cancelPendingCommit!==null)&&(lo(r,0),rs(r,Be,Un,!1)),ks(r,o),((tt&2)===0||r!==ht)&&(r===ht&&((tt&2)===0&&(la|=o),xt===4&&rs(r,Be,Un,!1)),Yr(r))}function L_(r,i,o){if((tt&6)!==0)throw Error(s(327));var c=!o&&(i&127)===0&&(i&r.expiredLanes)===0||cr(r,i),d=c?ZA(r,i):yp(r,i,!0),h=c;do{if(d===0){so&&!c&&rs(r,i,0,!1);break}else{if(o=r.current.alternate,h&&!WA(o)){d=yp(r,i,!1),h=!1;continue}if(d===2){if(h=i,r.errorRecoveryDisabledLanes&h)var b=0;else b=r.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){i=b;e:{var T=r;d=Bl;var M=T.current.memoizedState.isDehydrated;if(M&&(lo(T,b).flags|=256),b=yp(T,b,!1),b!==2){if(up&&!M){T.errorRecoveryDisabledLanes|=h,la|=h,d=4;break e}h=In,In=d,h!==null&&(In===null?In=h:In.push.apply(In,h))}d=b}if(h=!1,d!==2)continue}}if(d===1){lo(r,0),rs(r,i,0,!0);break}e:{switch(c=r,h=d,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:rs(c,i,Un,!Zi);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(d=Wu+300-gn(),10<d)){if(rs(c,i,Un,!Zi),Cr(c,0,!0)!==0)break e;Ei=i,c.timeoutHandle=pb(U_.bind(null,c,o,In,Zu,dp,i,Un,la,ao,Zi,h,"Throttled",-0,0),d);break e}U_(c,o,In,Zu,dp,i,Un,la,ao,Zi,h,null,-0,0)}}break}while(!0);Yr(r)}function U_(r,i,o,c,d,h,b,T,M,q,X,Z,G,Y){if(r.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:dr},D_(i,h,Z);var me=(h&62914560)===h?Wu-gn():(h&4194048)===h?V_-gn():0;if(me=Px(Z,me),me!==null){Ei=h,r.cancelPendingCommit=me($_.bind(null,r,i,h,o,c,d,b,T,M,X,Z,null,G,Y)),rs(r,h,b,!q);return}}$_(r,i,h,o,c,d,b,T,M)}function WA(r){for(var i=r;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var d=o[c],h=d.getSnapshot;d=d.value;try{if(!Mn(h(),d))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function rs(r,i,o,c){i&=~fp,i&=~la,r.suspendedLanes|=i,r.pingedLanes&=~i,c&&(r.warmLanes|=i),c=r.expirationTimes;for(var d=i;0<d;){var h=31-Rt(d),b=1<<h;c[h]=-1,d&=~b}o!==0&&Ls(r,o,i)}function ef(){return(tt&6)===0?(ql(0),!1):!0}function gp(){if(ze!==null){if(at===0)var r=ze.return;else r=ze,ui=Zs=null,Oh(r),Ja=null,Al=0,r=ze;for(;r!==null;)m_(r.alternate,r),r=r.return;ze=null}}function lo(r,i){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,yx(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Ei=0,gp(),ht=r,ze=o=li(r.current,null),Be=i,at=0,Ln=null,Zi=!1,so=cr(r,i),up=!1,ao=Un=fp=la=es=xt=0,In=Bl=null,dp=!1,(i&8)!==0&&(i|=i&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=i;0<c;){var d=31-Rt(c),h=1<<d;i|=r[d],c&=~h}return bi=i,Eu(),o}function z_(r,i){Me=null,K.H=Ml,i===Wa||i===Cu?(i=tv(),at=3):i===bh?(i=tv(),at=4):at=i===Kh?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ln=i,ze===null&&(xt=1,qu(r,Qn(i,r.current)))}function j_(){var r=Pn.current;return r===null?!0:(Be&4194048)===Be?Zn===null:(Be&62914560)===Be||(Be&536870912)!==0?r===Zn:!1}function B_(){var r=K.H;return K.H=Ml,r===null?Ml:r}function H_(){var r=K.A;return K.A=QA,r}function tf(){xt=4,Zi||(Be&4194048)!==Be&&Pn.current!==null||(so=!0),(es&134217727)===0&&(la&134217727)===0||ht===null||rs(ht,Be,Un,!1)}function yp(r,i,o){var c=tt;tt|=2;var d=B_(),h=H_();(ht!==r||Be!==i)&&(Zu=null,lo(r,i)),i=!1;var b=xt;e:do try{if(at!==0&&ze!==null){var T=ze,M=Ln;switch(at){case 8:gp(),b=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(i=!0);var q=at;if(at=0,Ln=null,co(r,T,M,q),o&&so){b=0;break e}break;default:q=at,at=0,Ln=null,co(r,T,M,q)}}JA(),b=xt;break}catch(X){z_(r,X)}while(!0);return i&&r.shellSuspendCounter++,ui=Zs=null,tt=c,K.H=d,K.A=h,ze===null&&(ht=null,Be=0,Eu()),b}function JA(){for(;ze!==null;)q_(ze)}function ZA(r,i){var o=tt;tt|=2;var c=B_(),d=H_();ht!==r||Be!==i?(Zu=null,Ju=gn()+500,lo(r,i)):so=cr(r,i);e:do try{if(at!==0&&ze!==null){i=ze;var h=Ln;t:switch(at){case 1:at=0,Ln=null,co(r,i,h,1);break;case 2:case 9:if(Zy(h)){at=0,Ln=null,G_(i);break}i=function(){at!==2&&at!==9||ht!==r||(at=7),Yr(r)},h.then(i,i);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:Zy(h)?(at=0,Ln=null,G_(i)):(at=0,Ln=null,co(r,i,h,7));break;case 5:var b=null;switch(ze.tag){case 26:b=ze.memoizedState;case 5:case 27:var T=ze;if(b?Cb(b):T.stateNode.complete){at=0,Ln=null;var M=T.sibling;if(M!==null)ze=M;else{var q=T.return;q!==null?(ze=q,nf(q)):ze=null}break t}}at=0,Ln=null,co(r,i,h,5);break;case 6:at=0,Ln=null,co(r,i,h,6);break;case 8:gp(),xt=6;break e;default:throw Error(s(462))}}ex();break}catch(X){z_(r,X)}while(!0);return ui=Zs=null,K.H=c,K.A=d,tt=o,ze!==null?0:(ht=null,Be=0,Eu(),xt)}function ex(){for(;ze!==null&&!Ia();)q_(ze)}function q_(r){var i=h_(r.alternate,r,bi);r.memoizedProps=r.pendingProps,i===null?nf(r):ze=i}function G_(r){var i=r,o=i.alternate;switch(i.tag){case 15:case 0:i=o_(o,i,i.pendingProps,i.type,void 0,Be);break;case 11:i=o_(o,i,i.pendingProps,i.type.render,i.ref,Be);break;case 5:Oh(i);default:m_(o,i),i=ze=Hy(i,bi),i=h_(o,i,bi)}r.memoizedProps=r.pendingProps,i===null?nf(r):ze=i}function co(r,i,o,c){ui=Zs=null,Oh(i),Ja=null,Al=0;var d=i.return;try{if(HA(r,d,i,o,Be)){xt=1,qu(r,Qn(o,r.current)),ze=null;return}}catch(h){if(d!==null)throw ze=d,h;xt=1,qu(r,Qn(o,r.current)),ze=null;return}i.flags&32768?(Ye||c===1?r=!0:so||(Be&536870912)!==0?r=!1:(Zi=r=!0,(c===2||c===9||c===3||c===6)&&(c=Pn.current,c!==null&&c.tag===13&&(c.flags|=16384))),F_(i,r)):nf(i)}function nf(r){var i=r;do{if((i.flags&32768)!==0){F_(i,Zi);return}r=i.return;var o=FA(i.alternate,i,bi);if(o!==null){ze=o;return}if(i=i.sibling,i!==null){ze=i;return}ze=i=r}while(i!==null);xt===0&&(xt=5)}function F_(r,i){do{var o=$A(r.alternate,r);if(o!==null){o.flags&=32767,ze=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(r=r.sibling,r!==null)){ze=r;return}ze=r=o}while(r!==null);xt=6,ze=null}function $_(r,i,o,c,d,h,b,T,M){r.cancelPendingCommit=null;do rf();while(Ft!==0);if((tt&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(h=i.lanes|i.childLanes,h|=sh,Xd(r,o,h,b,T,M),r===ht&&(ze=ht=null,Be=0),oo=i,ns=r,Ei=o,hp=h,pp=d,P_=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,ix(Mi,function(){return W_(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=K.T,K.T=null,d=oe.p,oe.p=2,b=tt,tt|=4;try{YA(r,i,o)}finally{tt=b,oe.p=d,K.T=c}}Ft=1,Y_(),K_(),Q_()}}function Y_(){if(Ft===1){Ft=0;var r=ns,i=oo,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=K.T,K.T=null;var c=oe.p;oe.p=2;var d=tt;tt|=4;try{I_(i,r);var h=Cp,b=My(r.containerInfo),T=h.focusedElem,M=h.selectionRange;if(b!==T&&T&&T.ownerDocument&&Oy(T.ownerDocument.documentElement,T)){if(M!==null&&eh(T)){var q=M.start,X=M.end;if(X===void 0&&(X=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min(X,T.value.length);else{var Z=T.ownerDocument||document,G=Z&&Z.defaultView||window;if(G.getSelection){var Y=G.getSelection(),me=T.textContent.length,Se=Math.min(M.start,me),ft=M.end===void 0?Se:Math.min(M.end,me);!Y.extend&&Se>ft&&(b=ft,ft=Se,Se=b);var j=Ny(T,Se),L=Ny(T,ft);if(j&&L&&(Y.rangeCount!==1||Y.anchorNode!==j.node||Y.anchorOffset!==j.offset||Y.focusNode!==L.node||Y.focusOffset!==L.offset)){var H=Z.createRange();H.setStart(j.node,j.offset),Y.removeAllRanges(),Se>ft?(Y.addRange(H),Y.extend(L.node,L.offset)):(H.setEnd(L.node,L.offset),Y.addRange(H))}}}}for(Z=[],Y=T;Y=Y.parentNode;)Y.nodeType===1&&Z.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var J=Z[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}gf=!!Rp,Cp=Rp=null}finally{tt=d,oe.p=c,K.T=o}}r.current=i,Ft=2}}function K_(){if(Ft===2){Ft=0;var r=ns,i=oo,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=K.T,K.T=null;var c=oe.p;oe.p=2;var d=tt;tt|=4;try{w_(r,i.alternate,i)}finally{tt=d,oe.p=c,K.T=o}}Ft=3}}function Q_(){if(Ft===4||Ft===3){Ft=0,Wo();var r=ns,i=oo,o=Ei,c=P_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ft=5:(Ft=0,oo=ns=null,X_(r,r.pendingLanes));var d=r.pendingLanes;if(d===0&&(ts=null),ii(o),i=i.stateNode,en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(lr,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=K.T,d=oe.p,oe.p=2,K.T=null;try{for(var h=r.onRecoverableError,b=0;b<c.length;b++){var T=c[b];h(T.value,{componentStack:T.stack})}}finally{K.T=i,oe.p=d}}(Ei&3)!==0&&rf(),Yr(r),d=r.pendingLanes,(o&261930)!==0&&(d&42)!==0?r===mp?Hl++:(Hl=0,mp=r):Hl=0,ql(0)}}function X_(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,Tl(i)))}function rf(){return Y_(),K_(),Q_(),W_()}function W_(){if(Ft!==5)return!1;var r=ns,i=hp;hp=0;var o=ii(Ei),c=K.T,d=oe.p;try{oe.p=32>o?32:o,K.T=null,o=pp,pp=null;var h=ns,b=Ei;if(Ft=0,oo=ns=null,Ei=0,(tt&6)!==0)throw Error(s(331));var T=tt;if(tt|=4,O_(h.current),C_(h,h.current,b,o),tt=T,ql(0,!1),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(lr,h)}catch{}return!0}finally{oe.p=d,K.T=c,X_(r,i)}}function J_(r,i,o){i=Qn(o,i),i=Yh(r.stateNode,i,2),r=Qi(r,i,2),r!==null&&(ks(r,2),Yr(r))}function ot(r,i,o){if(r.tag===3)J_(r,r,o);else for(;i!==null;){if(i.tag===3){J_(i,r,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ts===null||!ts.has(c))){r=Qn(o,r),o=Zv(2),c=Qi(i,o,2),c!==null&&(e_(o,c,i,r),ks(c,2),Yr(c));break}}i=i.return}}function vp(r,i,o){var c=r.pingCache;if(c===null){c=r.pingCache=new XA;var d=new Set;c.set(i,d)}else d=c.get(i),d===void 0&&(d=new Set,c.set(i,d));d.has(o)||(up=!0,d.add(o),r=tx.bind(null,r,i,o),i.then(r,r))}function tx(r,i,o){var c=r.pingCache;c!==null&&c.delete(i),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,ht===r&&(Be&o)===o&&(xt===4||xt===3&&(Be&62914560)===Be&&300>gn()-Wu?(tt&2)===0&&lo(r,0):fp|=o,ao===Be&&(ao=0)),Yr(r)}function Z_(r,i){i===0&&(i=Zc()),r=Xs(r,i),r!==null&&(ks(r,i),Yr(r))}function nx(r){var i=r.memoizedState,o=0;i!==null&&(o=i.retryLane),Z_(r,o)}function rx(r,i){var o=0;switch(r.tag){case 31:case 13:var c=r.stateNode,d=r.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(i),Z_(r,o)}function ix(r,i){return Et(r,i)}var sf=null,uo=null,_p=!1,af=!1,bp=!1,is=0;function Yr(r){r!==uo&&r.next===null&&(uo===null?sf=uo=r:uo=uo.next=r),af=!0,_p||(_p=!0,ax())}function ql(r,i){if(!bp&&af){bp=!0;do for(var o=!1,c=sf;c!==null;){if(r!==0){var d=c.pendingLanes;if(d===0)var h=0;else{var b=c.suspendedLanes,T=c.pingedLanes;h=(1<<31-Rt(42|r)+1)-1,h&=d&~(b&~T),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(o=!0,rb(c,h))}else h=Be,h=Cr(c,c===ht?h:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(h&3)===0||cr(c,h)||(o=!0,rb(c,h));c=c.next}while(o);bp=!1}}function sx(){eb()}function eb(){af=_p=!1;var r=0;is!==0&&gx()&&(r=is);for(var i=gn(),o=null,c=sf;c!==null;){var d=c.next,h=tb(c,i);h===0?(c.next=null,o===null?sf=d:o.next=d,d===null&&(uo=o)):(o=c,(r!==0||(h&3)!==0)&&(af=!0)),c=d}Ft!==0&&Ft!==5||ql(r),is!==0&&(is=0)}function tb(r,i){for(var o=r.suspendedLanes,c=r.pingedLanes,d=r.expirationTimes,h=r.pendingLanes&-62914561;0<h;){var b=31-Rt(h),T=1<<b,M=d[b];M===-1?((T&o)===0||(T&c)!==0)&&(d[b]=Qd(T,i)):M<=i&&(r.expiredLanes|=T),h&=~T}if(i=ht,o=Be,o=Cr(r,r===i?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,o===0||r===i&&(at===2||at===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&xr(c),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||cr(r,o)){if(i=o&-o,i===r.callbackPriority)return i;switch(c!==null&&xr(c),ii(o)){case 2:case 8:o=Zo;break;case 32:o=Mi;break;case 268435456:o=Kc;break;default:o=Mi}return c=nb.bind(null,r),o=Et(o,c),r.callbackPriority=i,r.callbackNode=o,i}return c!==null&&c!==null&&xr(c),r.callbackPriority=2,r.callbackNode=null,2}function nb(r,i){if(Ft!==0&&Ft!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(rf()&&r.callbackNode!==o)return null;var c=Be;return c=Cr(r,r===ht?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(L_(r,c,i),tb(r,gn()),r.callbackNode!=null&&r.callbackNode===o?nb.bind(null,r):null)}function rb(r,i){if(rf())return null;L_(r,i,!0)}function ax(){vx(function(){(tt&6)!==0?Et(Jo,sx):eb()})}function Ep(){if(is===0){var r=Qa;r===0&&(r=Ir,Ir<<=1,(Ir&261888)===0&&(Ir=256)),is=r}return is}function ib(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Va(""+r)}function sb(r,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,r.id&&o.setAttribute("form",r.id),i.parentNode.insertBefore(o,i),r=new FormData(r),o.parentNode.removeChild(o),r}function ox(r,i,o,c,d){if(i==="submit"&&o&&o.stateNode===d){var h=ib((d[Yt]||null).action),b=c.submitter;b&&(i=(i=b[Yt]||null)?ib(i.formAction):b.getAttribute("formAction"),i!==null&&(h=i,b=null));var T=new jr("action","action",null,c,d);r.push({event:T,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(is!==0){var M=b?sb(d,b):new FormData(d);Bh(o,{pending:!0,data:M,method:d.method,action:h},null,M)}}else typeof h=="function"&&(T.preventDefault(),M=b?sb(d,b):new FormData(d),Bh(o,{pending:!0,data:M,method:d.method,action:h},h,M))},currentTarget:d}]})}}for(var wp=0;wp<ih.length;wp++){var Tp=ih[wp],lx=Tp.toLowerCase(),cx=Tp[0].toUpperCase()+Tp.slice(1);yr(lx,"on"+cx)}yr(ky,"onAnimationEnd"),yr(Ly,"onAnimationIteration"),yr(Uy,"onAnimationStart"),yr("dblclick","onDoubleClick"),yr("focusin","onFocus"),yr("focusout","onBlur"),yr(AA,"onTransitionRun"),yr(xA,"onTransitionStart"),yr(IA,"onTransitionCancel"),yr(zy,"onTransitionEnd"),kr("onMouseEnter",["mouseout","mouseover"]),kr("onMouseLeave",["mouseout","mouseover"]),kr("onPointerEnter",["pointerout","pointerover"]),kr("onPointerLeave",["pointerout","pointerover"]),Pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ux=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gl));function ab(r,i){i=(i&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],d=c.event;c=c.listeners;e:{var h=void 0;if(i)for(var b=c.length-1;0<=b;b--){var T=c[b],M=T.instance,q=T.currentTarget;if(T=T.listener,M!==h&&d.isPropagationStopped())break e;h=T,d.currentTarget=q;try{h(d)}catch(X){bu(X)}d.currentTarget=null,h=M}else for(b=0;b<c.length;b++){if(T=c[b],M=T.instance,q=T.currentTarget,T=T.listener,M!==h&&d.isPropagationStopped())break e;h=T,d.currentTarget=q;try{h(d)}catch(X){bu(X)}d.currentTarget=null,h=M}}}}function je(r,i){var o=i[Ca];o===void 0&&(o=i[Ca]=new Set);var c=r+"__bubble";o.has(c)||(ob(i,r,2,!1),o.add(c))}function Sp(r,i,o){var c=0;i&&(c|=4),ob(o,r,c,i)}var of="_reactListening"+Math.random().toString(36).slice(2);function Ap(r){if(!r[of]){r[of]=!0,nl.forEach(function(o){o!=="selectionchange"&&(ux.has(o)||Sp(o,!1,r),Sp(o,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[of]||(i[of]=!0,Sp("selectionchange",!1,i))}}function ob(r,i,o,c){switch(kb(i)){case 2:var d=Ux;break;case 8:d=zx;break;default:d=jp}o=d.bind(null,i,o,r),d=void 0,!Hs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),c?d!==void 0?r.addEventListener(i,o,{capture:!0,passive:d}):r.addEventListener(i,o,!0):d!==void 0?r.addEventListener(i,o,{passive:d}):r.addEventListener(i,o,!1)}function xp(r,i,o,c,d){var h=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var T=c.stateNode.containerInfo;if(T===d)break;if(b===4)for(b=c.return;b!==null;){var M=b.tag;if((M===3||M===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;T!==null;){if(b=Mr(T),b===null)return;if(M=b.tag,M===5||M===6||M===26||M===27){c=h=b;continue e}T=T.parentNode}}c=c.return}zi(function(){var q=h,X=Fn(o),Z=[];e:{var G=jy.get(r);if(G!==void 0){var Y=jr,me=r;switch(r){case"keypress":if(Gs(o)===0)break e;case"keydown":case"keyup":Y=yu;break;case"focusin":me="focus",Y=$s;break;case"focusout":me="blur",Y=$s;break;case"beforeblur":case"afterblur":Y=$s;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=lu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=y;break;case ky:case Ly:case Uy:Y=uu;break;case zy:Y=A;break;case"scroll":case"scrollend":Y=pl;break;case"wheel":Y=$;break;case"copy":case"cut":case"paste":Y=fu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=oi;break;case"toggle":case"beforetoggle":Y=Oe}var Se=(i&4)!==0,ft=!Se&&(r==="scroll"||r==="scrollend"),j=Se?G!==null?G+"Capture":null:G;Se=[];for(var L=q,H;L!==null;){var J=L;if(H=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||H===null||j===null||(J=hr(L,j),J!=null&&Se.push(Fl(L,J,H))),ft)break;L=L.return}0<Se.length&&(G=new Y(G,me,null,o,X),Z.push({event:G,listeners:Se}))}}if((i&7)===0){e:{if(G=r==="mouseover"||r==="pointerover",Y=r==="mouseout"||r==="pointerout",G&&o!==fl&&(me=o.relatedTarget||o.fromElement)&&(Mr(me)||me[Nr]))break e;if((Y||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,Y?(me=o.relatedTarget||o.toElement,Y=q,me=me?Mr(me):null,me!==null&&(ft=l(me),Se=me.tag,me!==ft||Se!==5&&Se!==27&&Se!==6)&&(me=null)):(Y=null,me=q),Y!==me)){if(Se=ml,J="onMouseLeave",j="onMouseEnter",L="mouse",(r==="pointerout"||r==="pointerover")&&(Se=oi,J="onPointerLeave",j="onPointerEnter",L="pointer"),ft=Y==null?G:Nn(Y),H=me==null?G:Nn(me),G=new Se(J,L+"leave",Y,o,X),G.target=ft,G.relatedTarget=H,J=null,Mr(X)===q&&(Se=new Se(j,L+"enter",me,o,X),Se.target=H,Se.relatedTarget=ft,J=Se),ft=J,Y&&me)t:{for(Se=fx,j=Y,L=me,H=0,J=j;J;J=Se(J))H++;J=0;for(var Ee=L;Ee;Ee=Se(Ee))J++;for(;0<H-J;)j=Se(j),H--;for(;0<J-H;)L=Se(L),J--;for(;H--;){if(j===L||L!==null&&j===L.alternate){Se=j;break t}j=Se(j),L=Se(L)}Se=null}else Se=null;Y!==null&&lb(Z,G,Y,Se,!1),me!==null&&ft!==null&&lb(Z,ft,me,Se,!0)}}e:{if(G=q?Nn(q):window,Y=G.nodeName&&G.nodeName.toLowerCase(),Y==="select"||Y==="input"&&G.type==="file")var Je=Ay;else if(Ty(G))if(xy)Je=wA;else{Je=bA;var ve=_A}else Y=G.nodeName,!Y||Y.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?q&&Ma(q.elementType)&&(Je=Ay):Je=EA;if(Je&&(Je=Je(r,q))){Sy(Z,Je,o,X);break e}ve&&ve(r,G,q),r==="focusout"&&q&&G.type==="number"&&q.memoizedProps.value!=null&&ll(G,"number",G.value)}switch(ve=q?Nn(q):window,r){case"focusin":(Ty(ve)||ve.contentEditable==="true")&&(Ba=ve,th=q,bl=null);break;case"focusout":bl=th=Ba=null;break;case"mousedown":nh=!0;break;case"contextmenu":case"mouseup":case"dragend":nh=!1,Vy(Z,o,X);break;case"selectionchange":if(SA)break;case"keydown":case"keyup":Vy(Z,o,X)}var Pe;if(et)e:{switch(r){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else ja?Ys(r,o)&&(He="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(He="onCompositionStart");He&&(qr&&o.locale!=="ko"&&(ja||He!=="onCompositionStart"?He==="onCompositionEnd"&&ja&&(Pe=hl()):(zr=X,dl="value"in zr?zr.value:zr.textContent,ja=!0)),ve=lf(q,He),0<ve.length&&(He=new Hr(He,r,null,o,X),Z.push({event:He,listeners:ve}),Pe?He.data=Pe:(Pe=za(o),Pe!==null&&(He.data=Pe)))),(Pe=Yn?mA(r,o):gA(r,o))&&(He=lf(q,"onBeforeInput"),0<He.length&&(ve=new Hr("onBeforeInput","beforeinput",null,o,X),Z.push({event:ve,listeners:He}),ve.data=Pe)),ox(Z,r,q,o,X)}ab(Z,i)})}function Fl(r,i,o){return{instance:r,listener:i,currentTarget:o}}function lf(r,i){for(var o=i+"Capture",c=[];r!==null;){var d=r,h=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=hr(r,o),d!=null&&c.unshift(Fl(r,d,h)),d=hr(r,i),d!=null&&c.push(Fl(r,d,h))),r.tag===3)return c;r=r.return}return[]}function fx(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function lb(r,i,o,c,d){for(var h=i._reactName,b=[];o!==null&&o!==c;){var T=o,M=T.alternate,q=T.stateNode;if(T=T.tag,M!==null&&M===c)break;T!==5&&T!==26&&T!==27||q===null||(M=q,d?(q=hr(o,h),q!=null&&b.unshift(Fl(o,q,M))):d||(q=hr(o,h),q!=null&&b.push(Fl(o,q,M)))),o=o.return}b.length!==0&&r.push({event:i,listeners:b})}var dx=/\r\n?/g,hx=/\u0000|\uFFFD/g;function cb(r){return(typeof r=="string"?r:""+r).replace(dx,`
`).replace(hx,"")}function ub(r,i){return i=cb(i),cb(r)===i}function ut(r,i,o,c,d,h){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||Tn(r,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&Tn(r,""+c);break;case"className":On(r,"class",c);break;case"tabIndex":On(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":On(r,o,c);break;case"style":ul(r,c,h);break;case"data":if(i!=="object"){On(r,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=Va(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(o==="formAction"?(i!=="input"&&ut(r,i,"name",d.name,d,null),ut(r,i,"formEncType",d.formEncType,d,null),ut(r,i,"formMethod",d.formMethod,d,null),ut(r,i,"formTarget",d.formTarget,d,null)):(ut(r,i,"encType",d.encType,d,null),ut(r,i,"method",d.method,d,null),ut(r,i,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=Va(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=dr);break;case"onScroll":c!=null&&je("scroll",r);break;case"onScrollEnd":c!=null&&je("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=Va(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":je("beforetoggle",r),je("toggle",r),Na(r,"popover",c);break;case"xlinkActuate":Lt(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Lt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Lt(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Lt(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Lt(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Lt(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Lt(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Lt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Lt(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Na(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=ou.get(o)||o,Na(r,o,c))}}function Ip(r,i,o,c,d,h){switch(o){case"style":ul(r,c,h);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"children":typeof c=="string"?Tn(r,c):(typeof c=="number"||typeof c=="bigint")&&Tn(r,""+c);break;case"onScroll":c!=null&&je("scroll",r);break;case"onScrollEnd":c!=null&&je("scrollend",r);break;case"onClick":c!=null&&(r.onclick=dr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),i=o.slice(2,d?o.length-7:void 0),h=r[Yt]||null,h=h!=null?h[o]:null,typeof h=="function"&&r.removeEventListener(i,h,d),typeof c=="function")){typeof h!="function"&&h!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(i,c,d);break e}o in r?r[o]=c:c===!0?r.setAttribute(o,""):Na(r,o,c)}}}function an(r,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",r),je("load",r);var c=!1,d=!1,h;for(h in o)if(o.hasOwnProperty(h)){var b=o[h];if(b!=null)switch(h){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ut(r,i,h,b,o,null)}}d&&ut(r,i,"srcSet",o.srcSet,o,null),c&&ut(r,i,"src",o.src,o,null);return;case"input":je("invalid",r);var T=h=b=d=null,M=null,q=null;for(c in o)if(o.hasOwnProperty(c)){var X=o[c];if(X!=null)switch(c){case"name":d=X;break;case"type":b=X;break;case"checked":M=X;break;case"defaultChecked":q=X;break;case"value":h=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:ut(r,i,c,X,o,null)}}iu(r,h,T,M,q,b,d,!1);return;case"select":je("invalid",r),c=b=h=null;for(d in o)if(o.hasOwnProperty(d)&&(T=o[d],T!=null))switch(d){case"value":h=T;break;case"defaultValue":b=T;break;case"multiple":c=T;default:ut(r,i,d,T,o,null)}i=h,o=b,r.multiple=!!c,i!=null?Pi(r,!!c,i,!1):o!=null&&Pi(r,!!c,o,!0);return;case"textarea":je("invalid",r),h=d=c=null;for(b in o)if(o.hasOwnProperty(b)&&(T=o[b],T!=null))switch(b){case"value":c=T;break;case"defaultValue":d=T;break;case"children":h=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:ut(r,i,b,T,o,null)}ki(r,c,d,h);return;case"option":for(M in o)o.hasOwnProperty(M)&&(c=o[M],c!=null)&&(M==="selected"?r.selected=c&&typeof c!="function"&&typeof c!="symbol":ut(r,i,M,c,o,null));return;case"dialog":je("beforetoggle",r),je("toggle",r),je("cancel",r),je("close",r);break;case"iframe":case"object":je("load",r);break;case"video":case"audio":for(c=0;c<Gl.length;c++)je(Gl[c],r);break;case"image":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"embed":case"source":case"link":je("error",r),je("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in o)if(o.hasOwnProperty(q)&&(c=o[q],c!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ut(r,i,q,c,o,null)}return;default:if(Ma(i)){for(X in o)o.hasOwnProperty(X)&&(c=o[X],c!==void 0&&Ip(r,i,X,c,o,void 0));return}}for(T in o)o.hasOwnProperty(T)&&(c=o[T],c!=null&&ut(r,i,T,c,o,null))}function px(r,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,b=null,T=null,M=null,q=null,X=null;for(Y in o){var Z=o[Y];if(o.hasOwnProperty(Y)&&Z!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":M=Z;default:c.hasOwnProperty(Y)||ut(r,i,Y,null,c,Z)}}for(var G in c){var Y=c[G];if(Z=o[G],c.hasOwnProperty(G)&&(Y!=null||Z!=null))switch(G){case"type":h=Y;break;case"name":d=Y;break;case"checked":q=Y;break;case"defaultChecked":X=Y;break;case"value":b=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==Z&&ut(r,i,G,Y,c,Z)}}Oa(r,b,T,M,q,X,h,d);return;case"select":Y=b=T=G=null;for(h in o)if(M=o[h],o.hasOwnProperty(h)&&M!=null)switch(h){case"value":break;case"multiple":Y=M;default:c.hasOwnProperty(h)||ut(r,i,h,null,c,M)}for(d in c)if(h=c[d],M=o[d],c.hasOwnProperty(d)&&(h!=null||M!=null))switch(d){case"value":G=h;break;case"defaultValue":T=h;break;case"multiple":b=h;default:h!==M&&ut(r,i,d,h,c,M)}i=T,o=b,c=Y,G!=null?Pi(r,!!o,G,!1):!!c!=!!o&&(i!=null?Pi(r,!!o,i,!0):Pi(r,!!o,o?[]:"",!1));return;case"textarea":Y=G=null;for(T in o)if(d=o[T],o.hasOwnProperty(T)&&d!=null&&!c.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ut(r,i,T,null,c,d)}for(b in c)if(d=c[b],h=o[b],c.hasOwnProperty(b)&&(d!=null||h!=null))switch(b){case"value":G=d;break;case"defaultValue":Y=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==h&&ut(r,i,b,d,c,h)}su(r,G,Y);return;case"option":for(var me in o)G=o[me],o.hasOwnProperty(me)&&G!=null&&!c.hasOwnProperty(me)&&(me==="selected"?r.selected=!1:ut(r,i,me,null,c,G));for(M in c)G=c[M],Y=o[M],c.hasOwnProperty(M)&&G!==Y&&(G!=null||Y!=null)&&(M==="selected"?r.selected=G&&typeof G!="function"&&typeof G!="symbol":ut(r,i,M,G,c,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in o)G=o[Se],o.hasOwnProperty(Se)&&G!=null&&!c.hasOwnProperty(Se)&&ut(r,i,Se,null,c,G);for(q in c)if(G=c[q],Y=o[q],c.hasOwnProperty(q)&&G!==Y&&(G!=null||Y!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:ut(r,i,q,G,c,Y)}return;default:if(Ma(i)){for(var ft in o)G=o[ft],o.hasOwnProperty(ft)&&G!==void 0&&!c.hasOwnProperty(ft)&&Ip(r,i,ft,void 0,c,G);for(X in c)G=c[X],Y=o[X],!c.hasOwnProperty(X)||G===Y||G===void 0&&Y===void 0||Ip(r,i,X,G,c,Y);return}}for(var j in o)G=o[j],o.hasOwnProperty(j)&&G!=null&&!c.hasOwnProperty(j)&&ut(r,i,j,null,c,G);for(Z in c)G=c[Z],Y=o[Z],!c.hasOwnProperty(Z)||G===Y||G==null&&Y==null||ut(r,i,Z,G,c,Y)}function fb(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mx(){if(typeof performance.getEntriesByType=="function"){for(var r=0,i=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var d=o[c],h=d.transferSize,b=d.initiatorType,T=d.duration;if(h&&T&&fb(b)){for(b=0,T=d.responseEnd,c+=1;c<o.length;c++){var M=o[c],q=M.startTime;if(q>T)break;var X=M.transferSize,Z=M.initiatorType;X&&fb(Z)&&(M=M.responseEnd,b+=X*(M<T?1:(T-q)/(M-q)))}if(--c,i+=8*(h+b)/(d.duration/1e3),r++,10<r)break}}if(0<r)return i/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Rp=null,Cp=null;function cf(r){return r.nodeType===9?r:r.ownerDocument}function db(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hb(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Dp(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Np=null;function gx(){var r=window.event;return r&&r.type==="popstate"?r===Np?!1:(Np=r,!0):(Np=null,!1)}var pb=typeof setTimeout=="function"?setTimeout:void 0,yx=typeof clearTimeout=="function"?clearTimeout:void 0,mb=typeof Promise=="function"?Promise:void 0,vx=typeof queueMicrotask=="function"?queueMicrotask:typeof mb<"u"?function(r){return mb.resolve(null).then(r).catch(_x)}:pb;function _x(r){setTimeout(function(){throw r})}function ss(r){return r==="head"}function gb(r,i){var o=i,c=0;do{var d=o.nextSibling;if(r.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(c===0){r.removeChild(d),mo(i);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")$l(r.ownerDocument.documentElement);else if(o==="head"){o=r.ownerDocument.head,$l(o);for(var h=o.firstChild;h;){var b=h.nextSibling,T=h.nodeName;h[Or]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&h.rel.toLowerCase()==="stylesheet"||o.removeChild(h),h=b}}else o==="body"&&$l(r.ownerDocument.body);o=d}while(o);mo(i)}function yb(r,i){var o=r;r=0;do{var c=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(r===0)break;r--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||r++;o=c}while(o)}function Op(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Op(o),Da(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function bx(r,i,o,c){for(;r.nodeType===1;){var d=o;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[Or])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(h=r.getAttribute("rel"),h==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(h!==d.rel||r.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||r.getAttribute("title")!==(d.title==null?null:d.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(h=r.getAttribute("src"),(h!==(d.src==null?null:d.src)||r.getAttribute("type")!==(d.type==null?null:d.type)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&r.getAttribute("name")===h)return r}else return r;if(r=er(r.nextSibling),r===null)break}return null}function Ex(r,i,o){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=er(r.nextSibling),r===null))return null;return r}function vb(r,i){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!i||(r=er(r.nextSibling),r===null))return null;return r}function Mp(r){return r.data==="$?"||r.data==="$~"}function Vp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function wx(r,i){var o=r.ownerDocument;if(r.data==="$~")r._reactRetry=i;else if(r.data!=="$?"||o.readyState!=="loading")i();else{var c=function(){i(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function er(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return r}var Pp=null;function _b(r){r=r.nextSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"||o==="/&"){if(i===0)return er(r.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}r=r.nextSibling}return null}function bb(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return r;i--}else o!=="/$"&&o!=="/&"||i++}r=r.previousSibling}return null}function Eb(r,i,o){switch(i=cf(o),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function $l(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);Da(r)}var tr=new Map,wb=new Set;function uf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var wi=oe.d;oe.d={f:Tx,r:Sx,D:Ax,C:xx,L:Ix,m:Rx,X:Dx,S:Cx,M:Nx};function Tx(){var r=wi.f(),i=ef();return r||i}function Sx(r){var i=Gn(r);i!==null&&i.tag===5&&i.type==="form"?zv(i):wi.r(r)}var fo=typeof document>"u"?null:document;function Tb(r,i,o){var c=fo;if(c&&typeof i=="string"&&i){var d=wn(i);d='link[rel="'+r+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),wb.has(d)||(wb.add(d),r={rel:r,crossOrigin:o,href:i},c.querySelector(d)===null&&(i=c.createElement("link"),an(i,"link",r),kt(i),c.head.appendChild(i)))}}function Ax(r){wi.D(r),Tb("dns-prefetch",r,null)}function xx(r,i){wi.C(r,i),Tb("preconnect",r,i)}function Ix(r,i,o){wi.L(r,i,o);var c=fo;if(c&&r&&i){var d='link[rel="preload"][as="'+wn(i)+'"]';i==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+wn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+wn(o.imageSizes)+'"]')):d+='[href="'+wn(r)+'"]';var h=d;switch(i){case"style":h=ho(r);break;case"script":h=po(r)}tr.has(h)||(r=_({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:r,as:i},o),tr.set(h,r),c.querySelector(d)!==null||i==="style"&&c.querySelector(Yl(h))||i==="script"&&c.querySelector(Kl(h))||(i=c.createElement("link"),an(i,"link",r),kt(i),c.head.appendChild(i)))}}function Rx(r,i){wi.m(r,i);var o=fo;if(o&&r){var c=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+wn(c)+'"][href="'+wn(r)+'"]',h=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=po(r)}if(!tr.has(h)&&(r=_({rel:"modulepreload",href:r},i),tr.set(h,r),o.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Kl(h)))return}c=o.createElement("link"),an(c,"link",r),kt(c),o.head.appendChild(c)}}}function Cx(r,i,o){wi.S(r,i,o);var c=fo;if(c&&r){var d=Vr(c).hoistableStyles,h=ho(r);i=i||"default";var b=d.get(h);if(!b){var T={loading:0,preload:null};if(b=c.querySelector(Yl(h)))T.loading=5;else{r=_({rel:"stylesheet",href:r,"data-precedence":i},o),(o=tr.get(h))&&kp(r,o);var M=b=c.createElement("link");kt(M),an(M,"link",r),M._p=new Promise(function(q,X){M.onload=q,M.onerror=X}),M.addEventListener("load",function(){T.loading|=1}),M.addEventListener("error",function(){T.loading|=2}),T.loading|=4,ff(b,i,c)}b={type:"stylesheet",instance:b,count:1,state:T},d.set(h,b)}}}function Dx(r,i){wi.X(r,i);var o=fo;if(o&&r){var c=Vr(o).hoistableScripts,d=po(r),h=c.get(d);h||(h=o.querySelector(Kl(d)),h||(r=_({src:r,async:!0},i),(i=tr.get(d))&&Lp(r,i),h=o.createElement("script"),kt(h),an(h,"link",r),o.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},c.set(d,h))}}function Nx(r,i){wi.M(r,i);var o=fo;if(o&&r){var c=Vr(o).hoistableScripts,d=po(r),h=c.get(d);h||(h=o.querySelector(Kl(d)),h||(r=_({src:r,async:!0,type:"module"},i),(i=tr.get(d))&&Lp(r,i),h=o.createElement("script"),kt(h),an(h,"link",r),o.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},c.set(d,h))}}function Sb(r,i,o,c){var d=(d=xe.current)?uf(d):null;if(!d)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=ho(o.href),o=Vr(d).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=ho(o.href);var h=Vr(d).hoistableStyles,b=h.get(r);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(r,b),(h=d.querySelector(Yl(r)))&&!h._p&&(b.instance=h,b.state.loading=5),tr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},tr.set(r,o),h||Ox(d,r,o,b.state))),i&&c===null)throw Error(s(528,""));return b}if(i&&c!==null)throw Error(s(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=po(o),o=Vr(d).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function ho(r){return'href="'+wn(r)+'"'}function Yl(r){return'link[rel="stylesheet"]['+r+"]"}function Ab(r){return _({},r,{"data-precedence":r.precedence,precedence:null})}function Ox(r,i,o,c){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=r.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),an(i,"link",o),kt(i),r.head.appendChild(i))}function po(r){return'[src="'+wn(r)+'"]'}function Kl(r){return"script[async]"+r}function xb(r,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=r.querySelector('style[data-href~="'+wn(o.href)+'"]');if(c)return i.instance=c,kt(c),c;var d=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),kt(c),an(c,"style",d),ff(c,o.precedence,r),i.instance=c;case"stylesheet":d=ho(o.href);var h=r.querySelector(Yl(d));if(h)return i.state.loading|=4,i.instance=h,kt(h),h;c=Ab(o),(d=tr.get(d))&&kp(c,d),h=(r.ownerDocument||r).createElement("link"),kt(h);var b=h;return b._p=new Promise(function(T,M){b.onload=T,b.onerror=M}),an(h,"link",c),i.state.loading|=4,ff(h,o.precedence,r),i.instance=h;case"script":return h=po(o.src),(d=r.querySelector(Kl(h)))?(i.instance=d,kt(d),d):(c=o,(d=tr.get(h))&&(c=_({},o),Lp(c,d)),r=r.ownerDocument||r,d=r.createElement("script"),kt(d),an(d,"link",c),r.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,ff(c,o.precedence,r));return i.instance}function ff(r,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,h=d,b=0;b<c.length;b++){var T=c[b];if(T.dataset.precedence===i)h=T;else if(h!==d)break}h?h.parentNode.insertBefore(r,h.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(r,i.firstChild))}function kp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Lp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var df=null;function Ib(r,i,o){if(df===null){var c=new Map,d=df=new Map;d.set(o,c)}else d=df,c=d.get(o),c||(c=new Map,d.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),d=0;d<o.length;d++){var h=o[d];if(!(h[Or]||h[Pt]||r==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var b=h.getAttribute(i)||"";b=r+b;var T=c.get(b);T?T.push(h):c.set(b,[h])}}return c}function Rb(r,i,o){r=r.ownerDocument||r,r.head.insertBefore(o,i==="title"?r.querySelector("head > title"):null)}function Mx(r,i,o){if(o===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(r=i.disabled,typeof i.precedence=="string"&&r==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Cb(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function Vx(r,i,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=ho(c.href),h=i.querySelector(Yl(d));if(h){i=h._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(r.count++,r=hf.bind(r),i.then(r,r)),o.state.loading|=4,o.instance=h,kt(h);return}h=i.ownerDocument||i,c=Ab(c),(d=tr.get(d))&&kp(c,d),h=h.createElement("link"),kt(h);var b=h;b._p=new Promise(function(T,M){b.onload=T,b.onerror=M}),an(h,"link",c),o.instance=h}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(r.count++,o=hf.bind(r),i.addEventListener("load",o),i.addEventListener("error",o))}}var Up=0;function Px(r,i){return r.stylesheets&&r.count===0&&mf(r,r.stylesheets),0<r.count||0<r.imgCount?function(o){var c=setTimeout(function(){if(r.stylesheets&&mf(r,r.stylesheets),r.unsuspend){var h=r.unsuspend;r.unsuspend=null,h()}},6e4+i);0<r.imgBytes&&Up===0&&(Up=62500*mx());var d=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&mf(r,r.stylesheets),r.unsuspend)){var h=r.unsuspend;r.unsuspend=null,h()}},(r.imgBytes>Up?50:800)+i);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(c),clearTimeout(d)}}:null}function hf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mf(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var pf=null;function mf(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,pf=new Map,i.forEach(kx,r),pf=null,hf.call(r))}function kx(r,i){if(!(i.state.loading&4)){var o=pf.get(r);if(o)var c=o.get(null);else{o=new Map,pf.set(r,o);for(var d=r.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var b=d[h];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),c=b)}c&&o.set(null,c)}d=i.instance,b=d.getAttribute("data-precedence"),h=o.get(b)||c,h===c&&o.set(null,d),o.set(b,d),this.count++,c=hf.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),h?h.parentNode.insertBefore(d,h.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(d,r.firstChild)),i.state.loading|=4}}var Ql={$$typeof:re,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function Lx(r,i,o,c,d,h,b,T,M){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dr(0),this.hiddenUpdates=Dr(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function Db(r,i,o,c,d,h,b,T,M,q,X,Z){return r=new Lx(r,i,o,b,M,q,X,Z,T),i=1,h===!0&&(i|=24),h=Vn(3,null,null,i),r.current=h,h.stateNode=r,i=yh(),i.refCount++,r.pooledCache=i,i.refCount++,h.memoizedState={element:c,isDehydrated:o,cache:i},Eh(h),r}function Nb(r){return r?(r=Ga,r):Ga}function Ob(r,i,o,c,d,h){d=Nb(d),c.context===null?c.context=d:c.pendingContext=d,c=Ki(i),c.payload={element:o},h=h===void 0?null:h,h!==null&&(c.callback=h),o=Qi(r,c,i),o!==null&&(Rn(o,r,i),Il(o,r,i))}function Mb(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<i?o:i}}function zp(r,i){Mb(r,i),(r=r.alternate)&&Mb(r,i)}function Vb(r){if(r.tag===13||r.tag===31){var i=Xs(r,67108864);i!==null&&Rn(i,r,67108864),zp(r,67108864)}}function Pb(r){if(r.tag===13||r.tag===31){var i=zn();i=Us(i);var o=Xs(r,i);o!==null&&Rn(o,r,i),zp(r,i)}}var gf=!0;function Ux(r,i,o,c){var d=K.T;K.T=null;var h=oe.p;try{oe.p=2,jp(r,i,o,c)}finally{oe.p=h,K.T=d}}function zx(r,i,o,c){var d=K.T;K.T=null;var h=oe.p;try{oe.p=8,jp(r,i,o,c)}finally{oe.p=h,K.T=d}}function jp(r,i,o,c){if(gf){var d=Bp(c);if(d===null)xp(r,i,c,yf,o),Lb(r,c);else if(Bx(d,r,i,o,c))c.stopPropagation();else if(Lb(r,c),i&4&&-1<jx.indexOf(r)){for(;d!==null;){var h=Gn(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var b=Rr(h.pendingLanes);if(b!==0){var T=h;for(T.pendingLanes|=2,T.entangledLanes|=2;b;){var M=1<<31-Rt(b);T.entanglements[1]|=M,b&=~M}Yr(h),(tt&6)===0&&(Ju=gn()+500,ql(0))}}break;case 31:case 13:T=Xs(h,2),T!==null&&Rn(T,h,2),ef(),zp(h,2)}if(h=Bp(c),h===null&&xp(r,i,c,yf,o),h===d)break;d=h}d!==null&&c.stopPropagation()}else xp(r,i,c,null,o)}}function Bp(r){return r=Fn(r),Hp(r)}var yf=null;function Hp(r){if(yf=null,r=Mr(r),r!==null){var i=l(r);if(i===null)r=null;else{var o=i.tag;if(o===13){if(r=u(i),r!==null)return r;r=null}else if(o===31){if(r=p(i),r!==null)return r;r=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return yf=r,null}function kb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vs()){case Jo:return 2;case Zo:return 8;case Mi:case Kd:return 32;case Kc:return 268435456;default:return 32}default:return 32}}var qp=!1,as=null,os=null,ls=null,Xl=new Map,Wl=new Map,cs=[],jx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lb(r,i){switch(r){case"focusin":case"focusout":as=null;break;case"dragenter":case"dragleave":os=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":Xl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(i.pointerId)}}function Jl(r,i,o,c,d,h){return r===null||r.nativeEvent!==h?(r={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:h,targetContainers:[d]},i!==null&&(i=Gn(i),i!==null&&Vb(i)),r):(r.eventSystemFlags|=c,i=r.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),r)}function Bx(r,i,o,c,d){switch(i){case"focusin":return as=Jl(as,r,i,o,c,d),!0;case"dragenter":return os=Jl(os,r,i,o,c,d),!0;case"mouseover":return ls=Jl(ls,r,i,o,c,d),!0;case"pointerover":var h=d.pointerId;return Xl.set(h,Jl(Xl.get(h)||null,r,i,o,c,d)),!0;case"gotpointercapture":return h=d.pointerId,Wl.set(h,Jl(Wl.get(h)||null,r,i,o,c,d)),!0}return!1}function Ub(r){var i=Mr(r.target);if(i!==null){var o=l(i);if(o!==null){if(i=o.tag,i===13){if(i=u(o),i!==null){r.blockedOn=i,ur(r.priority,function(){Pb(o)});return}}else if(i===31){if(i=p(o),i!==null){r.blockedOn=i,ur(r.priority,function(){Pb(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function vf(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var o=Bp(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);fl=c,o.target.dispatchEvent(c),fl=null}else return i=Gn(o),i!==null&&Vb(i),r.blockedOn=o,!1;i.shift()}return!0}function zb(r,i,o){vf(r)&&o.delete(i)}function Hx(){qp=!1,as!==null&&vf(as)&&(as=null),os!==null&&vf(os)&&(os=null),ls!==null&&vf(ls)&&(ls=null),Xl.forEach(zb),Wl.forEach(zb)}function _f(r,i){r.blockedOn===i&&(r.blockedOn=null,qp||(qp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Hx)))}var bf=null;function jb(r){bf!==r&&(bf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){bf===r&&(bf=null);for(var i=0;i<r.length;i+=3){var o=r[i],c=r[i+1],d=r[i+2];if(typeof c!="function"){if(Hp(c||o)===null)continue;break}var h=Gn(o);h!==null&&(r.splice(i,3),i-=3,Bh(h,{pending:!0,data:d,method:o.method,action:c},c,d))}}))}function mo(r){function i(M){return _f(M,r)}as!==null&&_f(as,r),os!==null&&_f(os,r),ls!==null&&_f(ls,r),Xl.forEach(i),Wl.forEach(i);for(var o=0;o<cs.length;o++){var c=cs[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<cs.length&&(o=cs[0],o.blockedOn===null);)Ub(o),o.blockedOn===null&&cs.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var d=o[c],h=o[c+1],b=d[Yt]||null;if(typeof h=="function")b||jb(o);else if(b){var T=null;if(h&&h.hasAttribute("formAction")){if(d=h,b=h[Yt]||null)T=b.formAction;else if(Hp(d)!==null)continue}else T=b.action;typeof T=="function"?o[c+1]=T:(o.splice(c,3),c-=3),jb(o)}}}function Bb(){function r(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(b){return d=b})},focusReset:"manual",scroll:"manual"})}function i(){d!==null&&(d(),d=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,d=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),d!==null&&(d(),d=null)}}}function Gp(r){this._internalRoot=r}Ef.prototype.render=Gp.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var o=i.current,c=zn();Ob(o,c,r,i,null,null)},Ef.prototype.unmount=Gp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Ob(r.current,2,null,r,null,null),ef(),i[Nr]=null}};function Ef(r){this._internalRoot=r}Ef.prototype.unstable_scheduleHydration=function(r){if(r){var i=eu();r={blockedOn:null,target:r,priority:i};for(var o=0;o<cs.length&&i!==0&&i<cs[o].priority;o++);cs.splice(o,0,r),o===0&&Ub(r)}};var Hb=e.version;if(Hb!=="19.2.4")throw Error(s(527,Hb,"19.2.4"));oe.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=g(i),r=r!==null?v(r):null,r=r===null?null:r.stateNode,r};var qx={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wf.isDisabled&&wf.supportsFiber)try{lr=wf.inject(qx),en=wf}catch{}}return ec.createRoot=function(r,i){if(!a(r))throw Error(s(299));var o=!1,c="",d=Qv,h=Xv,b=Wv;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(h=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError)),i=Db(r,1,!1,null,null,o,c,null,d,h,b,Bb),r[Nr]=i.current,Ap(r),new Gp(i)},ec.hydrateRoot=function(r,i,o){if(!a(r))throw Error(s(299));var c=!1,d="",h=Qv,b=Xv,T=Wv,M=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(h=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError),o.formState!==void 0&&(M=o.formState)),i=Db(r,1,!0,i,o??null,c,d,M,h,b,T,Bb),i.context=Nb(null),o=i.current,c=zn(),c=Us(c),d=Ki(c),d.callback=null,Qi(o,d,c),o=c,i.current.lanes=o,ks(i,o),Yr(i),r[Nr]=i.current,Ap(r),new Ef(i)},ec.version="19.2.4",ec}var Jb;function Jx(){if(Jb)return Yp.exports;Jb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Yp.exports=Wx(),Yp.exports}var Zx=Jx();const eI=sg(Zx),tI=()=>{};var Zb={};const Tw=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},nI=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const a=n[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],u=n[t++],p=n[t++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],u=n[t++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},Sw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const l=n[a],u=a+1<n.length,p=u?n[a+1]:0,m=a+2<n.length,g=m?n[a+2]:0,v=l>>2,_=(l&3)<<4|p>>4;let E=(p&15)<<2|g>>6,S=g&63;m||(S=64,u||(E=64)),s.push(t[v],t[_],t[E],t[S])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Tw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):nI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],p=a<n.length?t[n.charAt(a)]:0;++a;const g=a<n.length?t[n.charAt(a)]:64;++a;const _=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||p==null||g==null||_==null)throw new rI;const E=l<<2|p>>4;if(s.push(E),g!==64){const S=p<<4&240|g>>2;if(s.push(S),_!==64){const V=g<<6&192|_;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class rI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iI=function(n){const e=Tw(n);return Sw.encodeByteArray(e,!0)},$f=function(n){return iI(n).replace(/\./g,"")},Aw=function(n){try{return Sw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function sI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const aI=()=>sI().__FIREBASE_DEFAULTS__,oI=()=>{if(typeof process>"u"||typeof Zb>"u")return;const n=Zb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},lI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Aw(n[1]);return e&&JSON.parse(e)},wd=()=>{try{return tI()||aI()||oI()||lI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},xw=n=>wd()?.emulatorHosts?.[n],cI=n=>{const e=xw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Iw=()=>wd()?.config,Rw=n=>wd()?.[`_${n}`];class uI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function jo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Cw(n){return(await fetch(n,{credentials:"include"})).ok}function fI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[$f(JSON.stringify(t)),$f(JSON.stringify(u)),""].join(".")}const fc={};function dI(){const n={prod:[],emulator:[]};for(const e of Object.keys(fc))fc[e]?n.emulator.push(e):n.prod.push(e);return n}function hI(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let e0=!1;function Dw(n,e){if(typeof window>"u"||typeof document>"u"||!jo(window.location.host)||fc[n]===e||fc[n]||e0)return;fc[n]=e;function t(E){return`__firebase__banner__${E}`}const s="__firebase__banner",l=dI().prod.length>0;function u(){const E=document.getElementById(s);E&&E.remove()}function p(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,S){E.setAttribute("width","24"),E.setAttribute("id",S),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{e0=!0,u()},E}function v(E,S){E.setAttribute("id",S),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=hI(s),S=t("text"),V=document.getElementById(S)||document.createElement("span"),z=t("learnmore"),P=document.getElementById(z)||document.createElement("a"),F=t("preprendIcon"),Q=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const re=E.element;p(re),v(P,z);const te=g();m(Q,F),re.append(Q,V,P,te),document.body.appendChild(re)}l?(V.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function mI(){const n=wd()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function vI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _I(){const n=mn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function bI(){return!mI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function EI(){try{return typeof indexedDB=="object"}catch{return!1}}function wI(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const TI="FirebaseError";class Oi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=TI,Object.setPrototypeOf(this,Oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pc.prototype.create)}}class Pc{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?SI(l,s):"Error",p=`${this.serviceName}: ${u} (${a}).`;return new Oi(a,p,s)}}function SI(n,e){return n.replace(AI,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const AI=/\{\$([^}]+)}/g;function xI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ga(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const l=n[a],u=e[a];if(t0(l)&&t0(u)){if(!ga(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function t0(n){return n!==null&&typeof n=="object"}function kc(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function II(n,e){const t=new RI(n,e);return t.subscribe.bind(t)}class RI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let a;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");CI(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:s},a.next===void 0&&(a.next=Wp),a.error===void 0&&(a.error=Wp),a.complete===void 0&&(a.complete=Wp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Wp(){}function En(n){return n&&n._delegate?n._delegate:n}class ya{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ua="[DEFAULT]";let DI=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new uI;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OI(e))try{this.getOrInitializeService({instanceIdentifier:ua})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=ua){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ua){return this.instances.has(e)}getOptions(e=ua){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,u]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(l);s===p&&u.resolve(a)}return a}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:NI(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ua){return this.component?this.component.multipleInstances?e:ua:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function NI(n){return n===ua?void 0:n}function OI(n){return n.instantiationMode==="EAGER"}class MI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new DI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var qe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(qe||(qe={}));const VI={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},PI=qe.INFO,kI={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},LI=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),a=kI[e];if(a)console[a](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ag{constructor(e){this.name=e,this._logLevel=PI,this._logHandler=LI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const UI=(n,e)=>e.some(t=>n instanceof t);let n0,r0;function zI(){return n0||(n0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jI(){return r0||(r0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Nw=new WeakMap,wm=new WeakMap,Ow=new WeakMap,Jp=new WeakMap,og=new WeakMap;function BI(n){const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{t(gs(n.result)),a()},u=()=>{s(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Nw.set(t,n)}).catch(()=>{}),og.set(e,n),e}function HI(n){if(wm.has(n))return;const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{t(),a()},u=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});wm.set(n,e)}let Tm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return wm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Ow.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return gs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function qI(n){Tm=n(Tm)}function GI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(Zp(this),e,...t);return Ow.set(s,e.sort?e.sort():[e]),gs(s)}:jI().includes(n)?function(...e){return n.apply(Zp(this),e),gs(Nw.get(this))}:function(...e){return gs(n.apply(Zp(this),e))}}function FI(n){return typeof n=="function"?GI(n):(n instanceof IDBTransaction&&HI(n),UI(n,zI())?new Proxy(n,Tm):n)}function gs(n){if(n instanceof IDBRequest)return BI(n);if(Jp.has(n))return Jp.get(n);const e=FI(n);return e!==n&&(Jp.set(n,e),og.set(e,n)),e}const Zp=n=>og.get(n);function $I(n,e,{blocked:t,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(n,e),p=gs(u);return s&&u.addEventListener("upgradeneeded",m=>{s(gs(u.result),m.oldVersion,m.newVersion,gs(u.transaction),m)}),t&&u.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),p.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const YI=["get","getKey","getAll","getAllKeys","count"],KI=["put","add","delete","clear"],em=new Map;function i0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(em.get(e))return em.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=KI.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||YI.includes(t)))return;const l=async function(u,...p){const m=this.transaction(u,a?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(p.shift())),(await Promise.all([g[t](...p),a&&m.done]))[0]};return em.set(e,l),l}qI(n=>({...n,get:(e,t,s)=>i0(e,t)||n.get(e,t,s),has:(e,t)=>!!i0(e,t)||n.has(e,t)}));class QI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(XI(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function XI(n){return n.getComponent()?.type==="VERSION"}const Sm="@firebase/app",s0="0.14.7";const Ri=new ag("@firebase/app"),WI="@firebase/app-compat",JI="@firebase/analytics-compat",ZI="@firebase/analytics",eR="@firebase/app-check-compat",tR="@firebase/app-check",nR="@firebase/auth",rR="@firebase/auth-compat",iR="@firebase/database",sR="@firebase/data-connect",aR="@firebase/database-compat",oR="@firebase/functions",lR="@firebase/functions-compat",cR="@firebase/installations",uR="@firebase/installations-compat",fR="@firebase/messaging",dR="@firebase/messaging-compat",hR="@firebase/performance",pR="@firebase/performance-compat",mR="@firebase/remote-config",gR="@firebase/remote-config-compat",yR="@firebase/storage",vR="@firebase/storage-compat",_R="@firebase/firestore",bR="@firebase/ai",ER="@firebase/firestore-compat",wR="firebase",TR="12.8.0";const Am="[DEFAULT]",SR={[Sm]:"fire-core",[WI]:"fire-core-compat",[ZI]:"fire-analytics",[JI]:"fire-analytics-compat",[tR]:"fire-app-check",[eR]:"fire-app-check-compat",[nR]:"fire-auth",[rR]:"fire-auth-compat",[iR]:"fire-rtdb",[sR]:"fire-data-connect",[aR]:"fire-rtdb-compat",[oR]:"fire-fn",[lR]:"fire-fn-compat",[cR]:"fire-iid",[uR]:"fire-iid-compat",[fR]:"fire-fcm",[dR]:"fire-fcm-compat",[hR]:"fire-perf",[pR]:"fire-perf-compat",[mR]:"fire-rc",[gR]:"fire-rc-compat",[yR]:"fire-gcs",[vR]:"fire-gcs-compat",[_R]:"fire-fst",[ER]:"fire-fst-compat",[bR]:"fire-vertex","fire-js":"fire-js",[wR]:"fire-js-all"};const Yf=new Map,AR=new Map,xm=new Map;function a0(n,e){try{n.container.addComponent(e)}catch(t){Ri.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Co(n){const e=n.name;if(xm.has(e))return Ri.debug(`There were multiple attempts to register component ${e}.`),!1;xm.set(e,n);for(const t of Yf.values())a0(t,n);for(const t of AR.values())a0(t,n);return!0}function lg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function rr(n){return n==null?!1:n.settings!==void 0}const xR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ys=new Pc("app","Firebase",xR);class IR{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ya("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ys.create("app-deleted",{appName:this._name})}}const Bo=TR;function Mw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:Am,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw ys.create("bad-app-name",{appName:String(a)});if(t||(t=Iw()),!t)throw ys.create("no-options");const l=Yf.get(a);if(l){if(ga(t,l.options)&&ga(s,l.config))return l;throw ys.create("duplicate-app",{appName:a})}const u=new MI(a);for(const m of xm.values())u.addComponent(m);const p=new IR(t,s,u);return Yf.set(a,p),p}function Vw(n=Am){const e=Yf.get(n);if(!e&&n===Am&&Iw())return Mw();if(!e)throw ys.create("no-app",{appName:n});return e}function vs(n,e,t){let s=SR[n]??n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ri.warn(u.join(" "));return}Co(new ya(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const RR="firebase-heartbeat-database",CR=1,_c="firebase-heartbeat-store";let tm=null;function Pw(){return tm||(tm=$I(RR,CR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(_c)}catch(t){console.warn(t)}}}}).catch(n=>{throw ys.create("idb-open",{originalErrorMessage:n.message})})),tm}async function DR(n){try{const t=(await Pw()).transaction(_c),s=await t.objectStore(_c).get(kw(n));return await t.done,s}catch(e){if(e instanceof Oi)Ri.warn(e.message);else{const t=ys.create("idb-get",{originalErrorMessage:e?.message});Ri.warn(t.message)}}}async function o0(n,e){try{const s=(await Pw()).transaction(_c,"readwrite");await s.objectStore(_c).put(e,kw(n)),await s.done}catch(t){if(t instanceof Oi)Ri.warn(t.message);else{const s=ys.create("idb-set",{originalErrorMessage:t?.message});Ri.warn(s.message)}}}function kw(n){return`${n.name}!${n.options.appId}`}const NR=1024,OR=30;class MR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new PR(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=l0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>OR){const a=kR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ri.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=l0(),{heartbeatsToSend:t,unsentEntries:s}=VR(this._heartbeatsCache.heartbeats),a=$f(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Ri.warn(e),""}}}function l0(){return new Date().toISOString().substring(0,10)}function VR(n,e=NR){const t=[];let s=n.slice();for(const a of n){const l=t.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),c0(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),c0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class PR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return EI()?wI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await DR(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return o0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return o0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function c0(n){return $f(JSON.stringify({version:2,heartbeats:n})).length}function kR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}function LR(n){Co(new ya("platform-logger",e=>new QI(e),"PRIVATE")),Co(new ya("heartbeat",e=>new MR(e),"PRIVATE")),vs(Sm,s0,n),vs(Sm,s0,"esm2020"),vs("fire-js","")}LR("");var u0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _s,Lw;(function(){var n;function e(R,x){function C(){}C.prototype=x.prototype,R.F=x.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(O,N,U){for(var D=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)D[$e-2]=arguments[$e];return x.prototype[N].apply(O,D)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,x,C){C||(C=0);const O=Array(16);if(typeof x=="string")for(var N=0;N<16;++N)O[N]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(N=0;N<16;++N)O[N]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=R.g[0],C=R.g[1],N=R.g[2];let U=R.g[3],D;D=x+(U^C&(N^U))+O[0]+3614090360&4294967295,x=C+(D<<7&4294967295|D>>>25),D=U+(N^x&(C^N))+O[1]+3905402710&4294967295,U=x+(D<<12&4294967295|D>>>20),D=N+(C^U&(x^C))+O[2]+606105819&4294967295,N=U+(D<<17&4294967295|D>>>15),D=C+(x^N&(U^x))+O[3]+3250441966&4294967295,C=N+(D<<22&4294967295|D>>>10),D=x+(U^C&(N^U))+O[4]+4118548399&4294967295,x=C+(D<<7&4294967295|D>>>25),D=U+(N^x&(C^N))+O[5]+1200080426&4294967295,U=x+(D<<12&4294967295|D>>>20),D=N+(C^U&(x^C))+O[6]+2821735955&4294967295,N=U+(D<<17&4294967295|D>>>15),D=C+(x^N&(U^x))+O[7]+4249261313&4294967295,C=N+(D<<22&4294967295|D>>>10),D=x+(U^C&(N^U))+O[8]+1770035416&4294967295,x=C+(D<<7&4294967295|D>>>25),D=U+(N^x&(C^N))+O[9]+2336552879&4294967295,U=x+(D<<12&4294967295|D>>>20),D=N+(C^U&(x^C))+O[10]+4294925233&4294967295,N=U+(D<<17&4294967295|D>>>15),D=C+(x^N&(U^x))+O[11]+2304563134&4294967295,C=N+(D<<22&4294967295|D>>>10),D=x+(U^C&(N^U))+O[12]+1804603682&4294967295,x=C+(D<<7&4294967295|D>>>25),D=U+(N^x&(C^N))+O[13]+4254626195&4294967295,U=x+(D<<12&4294967295|D>>>20),D=N+(C^U&(x^C))+O[14]+2792965006&4294967295,N=U+(D<<17&4294967295|D>>>15),D=C+(x^N&(U^x))+O[15]+1236535329&4294967295,C=N+(D<<22&4294967295|D>>>10),D=x+(N^U&(C^N))+O[1]+4129170786&4294967295,x=C+(D<<5&4294967295|D>>>27),D=U+(C^N&(x^C))+O[6]+3225465664&4294967295,U=x+(D<<9&4294967295|D>>>23),D=N+(x^C&(U^x))+O[11]+643717713&4294967295,N=U+(D<<14&4294967295|D>>>18),D=C+(U^x&(N^U))+O[0]+3921069994&4294967295,C=N+(D<<20&4294967295|D>>>12),D=x+(N^U&(C^N))+O[5]+3593408605&4294967295,x=C+(D<<5&4294967295|D>>>27),D=U+(C^N&(x^C))+O[10]+38016083&4294967295,U=x+(D<<9&4294967295|D>>>23),D=N+(x^C&(U^x))+O[15]+3634488961&4294967295,N=U+(D<<14&4294967295|D>>>18),D=C+(U^x&(N^U))+O[4]+3889429448&4294967295,C=N+(D<<20&4294967295|D>>>12),D=x+(N^U&(C^N))+O[9]+568446438&4294967295,x=C+(D<<5&4294967295|D>>>27),D=U+(C^N&(x^C))+O[14]+3275163606&4294967295,U=x+(D<<9&4294967295|D>>>23),D=N+(x^C&(U^x))+O[3]+4107603335&4294967295,N=U+(D<<14&4294967295|D>>>18),D=C+(U^x&(N^U))+O[8]+1163531501&4294967295,C=N+(D<<20&4294967295|D>>>12),D=x+(N^U&(C^N))+O[13]+2850285829&4294967295,x=C+(D<<5&4294967295|D>>>27),D=U+(C^N&(x^C))+O[2]+4243563512&4294967295,U=x+(D<<9&4294967295|D>>>23),D=N+(x^C&(U^x))+O[7]+1735328473&4294967295,N=U+(D<<14&4294967295|D>>>18),D=C+(U^x&(N^U))+O[12]+2368359562&4294967295,C=N+(D<<20&4294967295|D>>>12),D=x+(C^N^U)+O[5]+4294588738&4294967295,x=C+(D<<4&4294967295|D>>>28),D=U+(x^C^N)+O[8]+2272392833&4294967295,U=x+(D<<11&4294967295|D>>>21),D=N+(U^x^C)+O[11]+1839030562&4294967295,N=U+(D<<16&4294967295|D>>>16),D=C+(N^U^x)+O[14]+4259657740&4294967295,C=N+(D<<23&4294967295|D>>>9),D=x+(C^N^U)+O[1]+2763975236&4294967295,x=C+(D<<4&4294967295|D>>>28),D=U+(x^C^N)+O[4]+1272893353&4294967295,U=x+(D<<11&4294967295|D>>>21),D=N+(U^x^C)+O[7]+4139469664&4294967295,N=U+(D<<16&4294967295|D>>>16),D=C+(N^U^x)+O[10]+3200236656&4294967295,C=N+(D<<23&4294967295|D>>>9),D=x+(C^N^U)+O[13]+681279174&4294967295,x=C+(D<<4&4294967295|D>>>28),D=U+(x^C^N)+O[0]+3936430074&4294967295,U=x+(D<<11&4294967295|D>>>21),D=N+(U^x^C)+O[3]+3572445317&4294967295,N=U+(D<<16&4294967295|D>>>16),D=C+(N^U^x)+O[6]+76029189&4294967295,C=N+(D<<23&4294967295|D>>>9),D=x+(C^N^U)+O[9]+3654602809&4294967295,x=C+(D<<4&4294967295|D>>>28),D=U+(x^C^N)+O[12]+3873151461&4294967295,U=x+(D<<11&4294967295|D>>>21),D=N+(U^x^C)+O[15]+530742520&4294967295,N=U+(D<<16&4294967295|D>>>16),D=C+(N^U^x)+O[2]+3299628645&4294967295,C=N+(D<<23&4294967295|D>>>9),D=x+(N^(C|~U))+O[0]+4096336452&4294967295,x=C+(D<<6&4294967295|D>>>26),D=U+(C^(x|~N))+O[7]+1126891415&4294967295,U=x+(D<<10&4294967295|D>>>22),D=N+(x^(U|~C))+O[14]+2878612391&4294967295,N=U+(D<<15&4294967295|D>>>17),D=C+(U^(N|~x))+O[5]+4237533241&4294967295,C=N+(D<<21&4294967295|D>>>11),D=x+(N^(C|~U))+O[12]+1700485571&4294967295,x=C+(D<<6&4294967295|D>>>26),D=U+(C^(x|~N))+O[3]+2399980690&4294967295,U=x+(D<<10&4294967295|D>>>22),D=N+(x^(U|~C))+O[10]+4293915773&4294967295,N=U+(D<<15&4294967295|D>>>17),D=C+(U^(N|~x))+O[1]+2240044497&4294967295,C=N+(D<<21&4294967295|D>>>11),D=x+(N^(C|~U))+O[8]+1873313359&4294967295,x=C+(D<<6&4294967295|D>>>26),D=U+(C^(x|~N))+O[15]+4264355552&4294967295,U=x+(D<<10&4294967295|D>>>22),D=N+(x^(U|~C))+O[6]+2734768916&4294967295,N=U+(D<<15&4294967295|D>>>17),D=C+(U^(N|~x))+O[13]+1309151649&4294967295,C=N+(D<<21&4294967295|D>>>11),D=x+(N^(C|~U))+O[4]+4149444226&4294967295,x=C+(D<<6&4294967295|D>>>26),D=U+(C^(x|~N))+O[11]+3174756917&4294967295,U=x+(D<<10&4294967295|D>>>22),D=N+(x^(U|~C))+O[2]+718787259&4294967295,N=U+(D<<15&4294967295|D>>>17),D=C+(U^(N|~x))+O[9]+3951481745&4294967295,R.g[0]=R.g[0]+x&4294967295,R.g[1]=R.g[1]+(N+(D<<21&4294967295|D>>>11))&4294967295,R.g[2]=R.g[2]+N&4294967295,R.g[3]=R.g[3]+U&4294967295}s.prototype.v=function(R,x){x===void 0&&(x=R.length);const C=x-this.blockSize,O=this.C;let N=this.h,U=0;for(;U<x;){if(N==0)for(;U<=C;)a(this,R,U),U+=this.blockSize;if(typeof R=="string"){for(;U<x;)if(O[N++]=R.charCodeAt(U++),N==this.blockSize){a(this,O),N=0;break}}else for(;U<x;)if(O[N++]=R[U++],N==this.blockSize){a(this,O),N=0;break}}this.h=N,this.o+=x},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var x=1;x<R.length-8;++x)R[x]=0;x=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=x&255,x/=256;for(this.v(R),R=Array(16),x=0,C=0;C<4;++C)for(let O=0;O<32;O+=8)R[x++]=this.g[C]>>>O&255;return R};function l(R,x){var C=p;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=x(R)}function u(R,x){this.h=x;const C=[];let O=!0;for(let N=R.length-1;N>=0;N--){const U=R[N]|0;O&&U==x||(C[N]=U,O=!1)}this.g=C}var p={};function m(R){return-128<=R&&R<128?l(R,function(x){return new u([x|0],x<0?-1:0)}):new u([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return _;if(R<0)return P(g(-R));const x=[];let C=1;for(let O=0;R>=C;O++)x[O]=R/C|0,C*=4294967296;return new u(x,0)}function v(R,x){if(R.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(R.charAt(0)=="-")return P(v(R.substring(1),x));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(x,8));let O=_;for(let U=0;U<R.length;U+=8){var N=Math.min(8,R.length-U);const D=parseInt(R.substring(U,U+N),x);N<8?(N=g(Math.pow(x,N)),O=O.j(N).add(g(D))):(O=O.j(C),O=O.add(g(D)))}return O}var _=m(0),E=m(1),S=m(16777216);n=u.prototype,n.m=function(){if(z(this))return-P(this).m();let R=0,x=1;for(let C=0;C<this.g.length;C++){const O=this.i(C);R+=(O>=0?O:4294967296+O)*x,x*=4294967296}return R},n.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(V(this))return"0";if(z(this))return"-"+P(this).toString(R);const x=g(Math.pow(R,6));var C=this;let O="";for(;;){const N=te(C,x).g;C=F(C,N.j(x));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=N,V(C))return U+O;for(;U.length<6;)U="0"+U;O=U+O}},n.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function V(R){if(R.h!=0)return!1;for(let x=0;x<R.g.length;x++)if(R.g[x]!=0)return!1;return!0}function z(R){return R.h==-1}n.l=function(R){return R=F(this,R),z(R)?-1:V(R)?0:1};function P(R){const x=R.g.length,C=[];for(let O=0;O<x;O++)C[O]=~R.g[O];return new u(C,~R.h).add(E)}n.abs=function(){return z(this)?P(this):this},n.add=function(R){const x=Math.max(this.g.length,R.g.length),C=[];let O=0;for(let N=0;N<=x;N++){let U=O+(this.i(N)&65535)+(R.i(N)&65535),D=(U>>>16)+(this.i(N)>>>16)+(R.i(N)>>>16);O=D>>>16,U&=65535,D&=65535,C[N]=D<<16|U}return new u(C,C[C.length-1]&-2147483648?-1:0)};function F(R,x){return R.add(P(x))}n.j=function(R){if(V(this)||V(R))return _;if(z(this))return z(R)?P(this).j(P(R)):P(P(this).j(R));if(z(R))return P(this.j(P(R)));if(this.l(S)<0&&R.l(S)<0)return g(this.m()*R.m());const x=this.g.length+R.g.length,C=[];for(var O=0;O<2*x;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(let N=0;N<R.g.length;N++){const U=this.i(O)>>>16,D=this.i(O)&65535,$e=R.i(N)>>>16,_e=R.i(N)&65535;C[2*O+2*N]+=D*_e,Q(C,2*O+2*N),C[2*O+2*N+1]+=U*_e,Q(C,2*O+2*N+1),C[2*O+2*N+1]+=D*$e,Q(C,2*O+2*N+1),C[2*O+2*N+2]+=U*$e,Q(C,2*O+2*N+2)}for(R=0;R<x;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=x;R<2*x;R++)C[R]=0;return new u(C,0)};function Q(R,x){for(;(R[x]&65535)!=R[x];)R[x+1]+=R[x]>>>16,R[x]&=65535,x++}function re(R,x){this.g=R,this.h=x}function te(R,x){if(V(x))throw Error("division by zero");if(V(R))return new re(_,_);if(z(R))return x=te(P(R),x),new re(P(x.g),P(x.h));if(z(x))return x=te(R,P(x)),new re(P(x.g),x.h);if(R.g.length>30){if(z(R)||z(x))throw Error("slowDivide_ only works with positive integers.");for(var C=E,O=x;O.l(R)<=0;)C=le(C),O=le(O);var N=ae(C,1),U=ae(O,1);for(O=ae(O,2),C=ae(C,2);!V(O);){var D=U.add(O);D.l(R)<=0&&(N=N.add(C),U=D),O=ae(O,1),C=ae(C,1)}return x=F(R,N.j(x)),new re(N,x)}for(N=_;R.l(x)>=0;){for(C=Math.max(1,Math.floor(R.m()/x.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),U=g(C),D=U.j(x);z(D)||D.l(R)>0;)C-=O,U=g(C),D=U.j(x);V(U)&&(U=E),N=N.add(U),R=F(R,D)}return new re(N,R)}n.B=function(R){return te(this,R).h},n.and=function(R){const x=Math.max(this.g.length,R.g.length),C=[];for(let O=0;O<x;O++)C[O]=this.i(O)&R.i(O);return new u(C,this.h&R.h)},n.or=function(R){const x=Math.max(this.g.length,R.g.length),C=[];for(let O=0;O<x;O++)C[O]=this.i(O)|R.i(O);return new u(C,this.h|R.h)},n.xor=function(R){const x=Math.max(this.g.length,R.g.length),C=[];for(let O=0;O<x;O++)C[O]=this.i(O)^R.i(O);return new u(C,this.h^R.h)};function le(R){const x=R.g.length+1,C=[];for(let O=0;O<x;O++)C[O]=R.i(O)<<1|R.i(O-1)>>>31;return new u(C,R.h)}function ae(R,x){const C=x>>5;x%=32;const O=R.g.length-C,N=[];for(let U=0;U<O;U++)N[U]=x>0?R.i(U+C)>>>x|R.i(U+C+1)<<32-x:R.i(U+C);return new u(N,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Lw=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=v,_s=u}).apply(typeof u0<"u"?u0:typeof self<"u"?self:typeof window<"u"?window:{});var Tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Uw,ac,zw,Pf,Im,jw,Bw,Hw;(function(){var n,e=Object.defineProperty;function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tf=="object"&&Tf];for(var y=0;y<f.length;++y){var w=f[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var s=t(this);function a(f,y){if(y)e:{var w=s;f=f.split(".");for(var A=0;A<f.length-1;A++){var B=f[A];if(!(B in w))break e;w=w[B]}f=f[f.length-1],A=w[f],y=y(A),y!=A&&y!=null&&e(w,f,{configurable:!0,writable:!0,value:y})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(y){var w=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&w.push([A,y[A]]);return w}});var l=l||{},u=this||self;function p(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function m(f,y,w){return f.call.apply(f.bind,arguments)}function g(f,y,w){return g=m,g.apply(null,arguments)}function v(f,y){var w=Array.prototype.slice.call(arguments,1);return function(){var A=w.slice();return A.push.apply(A,arguments),f.apply(this,A)}}function _(f,y){function w(){}w.prototype=y.prototype,f.Z=y.prototype,f.prototype=new w,f.prototype.constructor=f,f.Ob=function(A,B,$){for(var fe=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)fe[Oe-2]=arguments[Oe];return y.prototype[B].apply(A,fe)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function S(f){const y=f.length;if(y>0){const w=Array(y);for(let A=0;A<y;A++)w[A]=f[A];return w}return[]}function V(f,y){for(let A=1;A<arguments.length;A++){const B=arguments[A];var w=typeof B;if(w=w!="object"?w:B?Array.isArray(B)?"array":w:"null",w=="array"||w=="object"&&typeof B.length=="number"){w=f.length||0;const $=B.length||0;f.length=w+$;for(let fe=0;fe<$;fe++)f[w+fe]=B[fe]}else f.push(B)}}class z{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function P(f){u.setTimeout(()=>{throw f},0)}function F(){var f=R;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class Q{constructor(){this.h=this.g=null}add(y,w){const A=re.get();A.set(y,w),this.h?this.h.next=A:this.g=A,this.h=A}}var re=new z(()=>new te,f=>f.reset());class te{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let le,ae=!1,R=new Q,x=()=>{const f=Promise.resolve(void 0);le=()=>{f.then(C)}};function C(){for(var f;f=F();){try{f.h.call(f.g)}catch(w){P(w)}var y=re;y.j(f),y.h<100&&(y.h++,f.next=y.g,y.g=f)}ae=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const w=()=>{};u.addEventListener("test",w,y),u.removeEventListener("test",w,y)}catch{}return f})();function D(f){return/^[\s\xa0]*$/.test(f)}function $e(f,y){N.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,y)}_($e,N),$e.prototype.init=function(f,y){const w=this.type=f.type,A=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget,y||(w=="mouseover"?y=f.fromElement:w=="mouseout"&&(y=f.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&$e.Z.h.call(this)},$e.prototype.h=function(){$e.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var _e="closure_listenable_"+(Math.random()*1e6|0),K=0;function oe(f,y,w,A,B){this.listener=f,this.proxy=null,this.src=y,this.type=w,this.capture=!!A,this.ha=B,this.key=++K,this.da=this.fa=!1}function ye(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Le(f,y,w){for(const A in f)y.call(w,f[A],A,f)}function Ke(f,y){for(const w in f)y.call(void 0,f[w],w,f)}function k(f){const y={};for(const w in f)y[w]=f[w];return y}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(f,y){let w,A;for(let B=1;B<arguments.length;B++){A=arguments[B];for(w in A)f[w]=A[w];for(let $=0;$<W.length;$++)w=W[$],Object.prototype.hasOwnProperty.call(A,w)&&(f[w]=A[w])}}function de(f){this.src=f,this.g={},this.h=0}de.prototype.add=function(f,y,w,A,B){const $=f.toString();f=this.g[$],f||(f=this.g[$]=[],this.h++);const fe=xe(f,y,A,B);return fe>-1?(y=f[fe],w||(y.fa=!1)):(y=new oe(y,this.src,$,!!A,B),y.fa=w,f.push(y)),y};function Te(f,y){const w=y.type;if(w in f.g){var A=f.g[w],B=Array.prototype.indexOf.call(A,y,void 0),$;($=B>=0)&&Array.prototype.splice.call(A,B,1),$&&(ye(y),f.g[w].length==0&&(delete f.g[w],f.h--))}}function xe(f,y,w,A){for(let B=0;B<f.length;++B){const $=f[B];if(!$.da&&$.listener==y&&$.capture==!!w&&$.ha==A)return B}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),bt={};function ie(f,y,w,A,B){if(Array.isArray(y)){for(let $=0;$<y.length;$++)ie(f,y[$],w,A,B);return null}return w=xa(w),f&&f[_e]?f.J(y,w,p(A)?!!A.capture:!1,B):Ve(f,y,w,!1,A,B)}function Ve(f,y,w,A,B,$){if(!y)throw Error("Invalid event type");const fe=p(B)?!!B.capture:!!B;let Oe=Zt(f);if(Oe||(f[ke]=Oe=new de(f)),w=Oe.add(y,w,A,fe,$),w.proxy)return w;if(A=Ue(),w.proxy=A,A.src=f,A.listener=w,f.addEventListener)U||(B=fe),B===void 0&&(B=!1),f.addEventListener(y.toString(),A,B);else if(f.attachEvent)f.attachEvent(We(y.toString()),A);else if(f.addListener&&f.removeListener)f.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Ue(){function f(w){return y.call(f.src,f.listener,w)}const y=It;return f}function Ne(f,y,w,A,B){if(Array.isArray(y))for(var $=0;$<y.length;$++)Ne(f,y[$],w,A,B);else A=p(A)?!!A.capture:!!A,w=xa(w),f&&f[_e]?(f=f.i,$=String(y).toString(),$ in f.g&&(y=f.g[$],w=xe(y,w,A,B),w>-1&&(ye(y[w]),Array.prototype.splice.call(y,w,1),y.length==0&&(delete f.g[$],f.h--)))):f&&(f=Zt(f))&&(y=f.g[y.toString()],f=-1,y&&(f=xe(y,w,A,B)),(w=f>-1?y[f]:null)&&nt(w))}function nt(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[_e])Te(y.i,f);else{var w=f.type,A=f.proxy;y.removeEventListener?y.removeEventListener(w,A,f.capture):y.detachEvent?y.detachEvent(We(w),A):y.addListener&&y.removeListener&&y.removeListener(A),(w=Zt(y))?(Te(w,f),w.h==0&&(w.src=null,y[ke]=null)):ye(f)}}}function We(f){return f in bt?bt[f]:bt[f]="on"+f}function It(f,y){if(f.da)f=!0;else{y=new $e(y,this);const w=f.listener,A=f.ha||f.src;f.fa&&nt(f),f=w.call(A,y)}return f}function Zt(f){return f=f[ke],f instanceof de?f:null}var Dn="__closure_events_fn_"+(Math.random()*1e9>>>0);function xa(f){return typeof f=="function"?f:(f[Dn]||(f[Dn]=function(y){return f.handleEvent(y)}),f[Dn])}function dt(){O.call(this),this.i=new de(this),this.M=this,this.G=null}_(dt,O),dt.prototype[_e]=!0,dt.prototype.removeEventListener=function(f,y,w,A){Ne(this,f,y,w,A)};function Et(f,y){var w,A=f.G;if(A)for(w=[];A;A=A.G)w.push(A);if(f=f.M,A=y.type||y,typeof y=="string")y=new N(y,f);else if(y instanceof N)y.target=y.target||f;else{var B=y;y=new N(A,f),ce(y,B)}B=!0;let $,fe;if(w)for(fe=w.length-1;fe>=0;fe--)$=y.g=w[fe],B=xr($,A,!0,y)&&B;if($=y.g=f,B=xr($,A,!0,y)&&B,B=xr($,A,!1,y)&&B,w)for(fe=0;fe<w.length;fe++)$=y.g=w[fe],B=xr($,A,!1,y)&&B}dt.prototype.N=function(){if(dt.Z.N.call(this),this.i){var f=this.i;for(const y in f.g){const w=f.g[y];for(let A=0;A<w.length;A++)ye(w[A]);delete f.g[y],f.h--}}this.G=null},dt.prototype.J=function(f,y,w,A){return this.i.add(String(f),y,!1,w,A)},dt.prototype.K=function(f,y,w,A){return this.i.add(String(f),y,!0,w,A)};function xr(f,y,w,A){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();let B=!0;for(let $=0;$<y.length;++$){const fe=y[$];if(fe&&!fe.da&&fe.capture==w){const Oe=fe.listener,Ct=fe.ha||fe.src;fe.fa&&Te(f.i,fe),B=Oe.call(Ct,A)!==!1&&B}}return B&&!A.defaultPrevented}function Ia(f,y){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=g(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:u.setTimeout(f,y||0)}function Wo(f){f.g=Ia(()=>{f.g=null,f.i&&(f.i=!1,Wo(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class gn extends O{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Wo(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vs(f){O.call(this),this.h=f,this.g={}}_(Vs,O);var Jo=[];function Zo(f){Le(f.g,function(y,w){this.g.hasOwnProperty(w)&&nt(y)},f),f.g={}}Vs.prototype.N=function(){Vs.Z.N.call(this),Zo(this)},Vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mi=u.JSON.stringify,Kd=u.JSON.parse,Kc=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function Qc(){}function Xc(){}var lr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function en(){N.call(this,"d")}_(en,N);function qn(){N.call(this,"c")}_(qn,N);var Rt={},Wc=null;function Ra(){return Wc=Wc||new dt}Rt.Ia="serverreachability";function Jc(f){N.call(this,Rt.Ia,f)}_(Jc,N);function Ir(f){const y=Ra();Et(y,new Jc(y))}Rt.STAT_EVENT="statevent";function Ps(f,y){N.call(this,Rt.STAT_EVENT,f),this.stat=y}_(Ps,N);function Vt(f){const y=Ra();Et(y,new Ps(y,f))}Rt.Ja="timingevent";function Rr(f,y){N.call(this,Rt.Ja,f),this.size=y}_(Rr,N);function Cr(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},y)}function cr(){this.g=!0}cr.prototype.ua=function(){this.g=!1};function Qd(f,y,w,A,B,$){f.info(function(){if(f.g)if($){var fe="",Oe=$.split("&");for(let et=0;et<Oe.length;et++){var Ct=Oe[et].split("=");if(Ct.length>1){const wt=Ct[0];Ct=Ct[1];const Yn=wt.split("_");fe=Yn.length>=2&&Yn[1]=="type"?fe+(wt+"="+Ct+"&"):fe+(wt+"=redacted&")}}}else fe=null;else fe=$;return"XMLHTTP REQ ("+A+") [attempt "+B+"]: "+y+`
`+w+`
`+fe})}function Zc(f,y,w,A,B,$,fe){f.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+B+"]: "+y+`
`+w+`
`+$+" "+fe})}function Dr(f,y,w,A){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+Xd(f,w)+(A?" "+A:"")})}function ks(f,y){f.info(function(){return"TIMEOUT: "+y})}cr.prototype.info=function(){};function Xd(f,y){if(!f.g)return y;if(!y)return null;try{const $=JSON.parse(y);if($){for(f=0;f<$.length;f++)if(Array.isArray($[f])){var w=$[f];if(!(w.length<2)){var A=w[1];if(Array.isArray(A)&&!(A.length<1)){var B=A[0];if(B!="noop"&&B!="stop"&&B!="close")for(let fe=1;fe<A.length;fe++)A[fe]=""}}}}return Mi($)}catch{return y}}var Ls={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},el={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},tl;function Us(){}_(Us,Qc),Us.prototype.g=function(){return new XMLHttpRequest},tl=new Us;function ii(f){return encodeURIComponent(String(f))}function eu(f){var y=1;f=f.split(":");const w=[];for(;y>0&&f.length;)w.push(f.shift()),y--;return f.length&&w.push(f.join(":")),w}function ur(f,y,w,A){this.j=f,this.i=y,this.l=w,this.S=A||1,this.V=new Vs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new fr}function fr(){this.i=null,this.g="",this.h=!1}var Pt={},Yt={};function Nr(f,y,w){f.M=1,f.A=zs(Lt(y)),f.u=w,f.R=!0,Ca(f,null)}function Ca(f,y){f.F=Date.now(),Or(f),f.B=Lt(f.A);var w=f.B,A=f.S;Array.isArray(A)||(A=[String(A)]),Ma(w.i,"t",A),f.C=0,w=f.j.L,f.h=new fr,f.g=mu(f.j,w?y:null,!f.u),f.P>0&&(f.O=new gn(g(f.Y,f,f.g),f.P)),y=f.V,w=f.g,A=f.ba;var B="readystatechange";Array.isArray(B)||(B&&(Jo[0]=B.toString()),B=Jo);for(let $=0;$<B.length;$++){const fe=ie(w,B[$],A||y.handleEvent,!1,y.h||y);if(!fe)break;y.g[fe.key]=fe}y=f.J?k(f.J):{},f.u?(f.v||(f.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,y)):(f.v="GET",f.g.ea(f.B,f.v,null,y)),Ir(),Qd(f.i,f.v,f.B,f.l,f.S,f.u)}ur.prototype.ba=function(f){f=f.target;const y=this.O;y&&pr(f)==3?y.j():this.Y(f)},ur.prototype.Y=function(f){try{if(f==this.g)e:{const Oe=pr(this.g),Ct=this.g.ya(),et=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||tn(this.g)))){this.K||Oe!=4||Ct==7||(Ct==8||et<=0?Ir(3):Ir(2)),Mr(this);var y=this.g.ca();this.X=y;var w=Wd(this);if(this.o=y==200,Zc(this.i,this.v,this.B,this.l,this.S,Oe,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,B=this.g;if((A=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(A)){var $=A;break t}}$=null}if(f=$)Dr(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Vr(this,f);else{this.o=!1,this.m=3,Vt(12),Nn(this),Gn(this);break e}}if(this.R){f=!0;let wt;for(;!this.K&&this.C<w.length;)if(wt=nu(this,w),wt==Yt){Oe==4&&(this.m=4,Vt(14),f=!1),Dr(this.i,this.l,null,"[Incomplete Response]");break}else if(wt==Pt){this.m=4,Vt(15),Dr(this.i,this.l,w,"[Invalid Chunk]"),f=!1;break}else Dr(this.i,this.l,wt,null),Vr(this,wt);if(tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||w.length!=0||this.h.h||(this.m=1,Vt(16),f=!1),this.o=this.o&&f,!f)Dr(this.i,this.l,w,"[Invalid Chunked Response]"),Nn(this),Gn(this);else if(w.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),gl(fe),fe.P=!0,Vt(11))}}else Dr(this.i,this.l,w,null),Vr(this,w);Oe==4&&Nn(this),this.o&&!this.K&&(Oe==4?fu(this.j,this):(this.o=!1,Or(this)))}else ai(this.g),y==400&&w.indexOf("Unknown SID")>0?(this.m=3,Vt(12)):(this.m=0,Vt(13)),Nn(this),Gn(this)}}}catch{}};function Wd(f){if(!tu(f))return f.g.la();const y=tn(f.g);if(y==="")return"";let w="";const A=y.length,B=pr(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Nn(f),Gn(f),"";f.h.i=new u.TextDecoder}for(let $=0;$<A;$++)f.h.h=!0,w+=f.h.i.decode(y[$],{stream:!(B&&$==A-1)});return y.length=0,f.h.g+=w,f.C=0,f.h.g}function tu(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function nu(f,y){var w=f.C,A=y.indexOf(`
`,w);return A==-1?Yt:(w=Number(y.substring(w,A)),isNaN(w)?Pt:(A+=1,A+w>y.length?Yt:(y=y.slice(A,A+w),f.C=A+w,y)))}ur.prototype.cancel=function(){this.K=!0,Nn(this)};function Or(f){f.T=Date.now()+f.H,Da(f,f.H)}function Da(f,y){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Cr(g(f.aa,f),y)}function Mr(f){f.D&&(u.clearTimeout(f.D),f.D=null)}ur.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(ks(this.i,this.B),this.M!=2&&(Ir(),Vt(17)),Nn(this),this.m=2,Gn(this)):Da(this,this.T-f)};function Gn(f){f.j.I==0||f.K||fu(f.j,f)}function Nn(f){Mr(f);var y=f.O;y&&typeof y.dispose=="function"&&y.dispose(),f.O=null,Zo(f.V),f.g&&(y=f.g,f.g=null,y.abort(),y.dispose())}function Vr(f,y){try{var w=f.j;if(w.I!=0&&(w.g==f||kr(w.h,f))){if(!f.L&&kr(w.h,f)&&w.I==3){try{var A=w.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var B=A;if(B[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<f.F)Ua(w),Bi(w);else break e;$s(w),Vt(18)}}else w.xa=B[1],0<w.xa-w.K&&B[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=Cr(g(w.Va,w),6e3));Pr(w.h)<=1&&w.ta&&(w.ta=void 0)}else Hr(w,11)}else if((f.L||w.g==f)&&Ua(w),!D(y))for(B=w.Ba.g.parse(y),y=0;y<B.length;y++){let et=B[y];const wt=et[0];if(!(wt<=w.K))if(w.K=wt,et=et[1],w.I==2)if(et[0]=="c"){w.M=et[1],w.ba=et[2];const Yn=et[3];Yn!=null&&(w.ka=Yn,w.j.info("VER="+w.ka));const qr=et[4];qr!=null&&(w.za=qr,w.j.info("SVER="+w.za));const mr=et[5];mr!=null&&typeof mr=="number"&&mr>0&&(A=1.5*mr,w.O=A,w.j.info("backChannelRequestTimeoutMs_="+A)),A=w;const gr=f.g;if(gr){const Ys=gr.g?gr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ys){var $=A.h;$.g||Ys.indexOf("spdy")==-1&&Ys.indexOf("quic")==-1&&Ys.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(il($,$.h),$.h=null))}if(A.G){const za=gr.g?gr.g.getResponseHeader("X-HTTP-Session-Id"):null;za&&(A.wa=za,st(A.J,A.G,za))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-f.F,w.j.info("Handshake RTT: "+w.T+"ms")),A=w;var fe=f;if(A.na=pu(A,A.L?A.ba:null,A.W),fe.L){sl(A.h,fe);var Oe=fe,Ct=A.O;Ct&&(Oe.H=Ct),Oe.D&&(Mr(Oe),Or(Oe)),A.g=fe}else cu(A);w.i.length>0&&Br(w)}else et[0]!="stop"&&et[0]!="close"||Hr(w,7);else w.I==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?Hr(w,7):pl(w):et[0]!="noop"&&w.l&&w.l.qa(et),w.A=0)}}Ir(4)}catch{}}var kt=class{constructor(f,y){this.g=f,this.map=y}};function nl(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function rl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Pr(f){return f.h?1:f.g?f.g.size:0}function kr(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function il(f,y){f.g?f.g.add(y):f.h=y}function sl(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}nl.prototype.cancel=function(){if(this.i=al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function al(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const w of f.g.values())y=y.concat(w.G);return y}return S(f.i)}var ru=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Na(f,y){if(f){f=f.split("&");for(let w=0;w<f.length;w++){const A=f[w].indexOf("=");let B,$=null;A>=0?(B=f[w].substring(0,A),$=f[w].substring(A+1)):B=f[w],y(B,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function On(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;f instanceof On?(this.l=f.l,Kt(this,f.j),this.o=f.o,this.g=f.g,Vi(this,f.u),this.h=f.h,ol(this,ou(f.i)),this.m=f.m):f&&(y=String(f).match(ru))?(this.l=!1,Kt(this,y[1]||"",!0),this.o=Lr(y[2]||""),this.g=Lr(y[3]||"",!0),Vi(this,y[4]),this.h=Lr(y[5]||"",!0),ol(this,y[6]||"",!0),this.m=Lr(y[7]||"")):(this.l=!1,this.i=new ki(null,this.l))}On.prototype.toString=function(){const f=[];var y=this.j;y&&f.push(js(y,Oa,!0),":");var w=this.g;return(w||y=="file")&&(f.push("//"),(y=this.o)&&f.push(js(y,Oa,!0),"@"),f.push(ii(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&f.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&f.push("/"),f.push(js(w,w.charAt(0)=="/"?ll:iu,!0))),(w=this.i.toString())&&f.push("?",w),(w=this.m)&&f.push("#",js(w,su)),f.join("")},On.prototype.resolve=function(f){const y=Lt(this);let w=!!f.j;w?Kt(y,f.j):w=!!f.o,w?y.o=f.o:w=!!f.g,w?y.g=f.g:w=f.u!=null;var A=f.h;if(w)Vi(y,f.u);else if(w=!!f.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var B=y.h.lastIndexOf("/");B!=-1&&(A=y.h.slice(0,B+1)+A)}if(B=A,B==".."||B==".")A="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){A=B.lastIndexOf("/",0)==0,B=B.split("/");const $=[];for(let fe=0;fe<B.length;){const Oe=B[fe++];Oe=="."?A&&fe==B.length&&$.push(""):Oe==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),A&&fe==B.length&&$.push("")):($.push(Oe),A=!0)}A=$.join("/")}else A=B}return w?y.h=A:w=f.i.toString()!=="",w?ol(y,ou(f.i)):w=!!f.m,w&&(y.m=f.m),y};function Lt(f){return new On(f)}function Kt(f,y,w){f.j=w?Lr(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function Vi(f,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);f.u=y}else f.u=null}function ol(f,y,w){y instanceof ki?(f.i=y,Va(f.i,f.l)):(w||(y=js(y,Pi)),f.i=new ki(y,f.l))}function st(f,y,w){f.i.set(y,w)}function zs(f){return st(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Lr(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function js(f,y,w){return typeof f=="string"?(f=encodeURI(f).replace(y,wn),w&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function wn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Oa=/[#\/\?@]/g,iu=/[#\?:]/g,ll=/[#\?]/g,Pi=/[#\?@]/g,su=/#/g;function ki(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function Tn(f){f.g||(f.g=new Map,f.h=0,f.i&&Na(f.i,function(y,w){f.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}n=ki.prototype,n.add=function(f,y){Tn(this),this.i=null,f=Li(this,f);let w=this.g.get(f);return w||this.g.set(f,w=[]),w.push(y),this.h+=1,this};function au(f,y){Tn(f),y=Li(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function cl(f,y){return Tn(f),y=Li(f,y),f.g.has(y)}n.forEach=function(f,y){Tn(this),this.g.forEach(function(w,A){w.forEach(function(B){f.call(y,B,A,this)},this)},this)};function ul(f,y){Tn(f);let w=[];if(typeof y=="string")cl(f,y)&&(w=w.concat(f.g.get(Li(f,y))));else for(f=Array.from(f.g.values()),y=0;y<f.length;y++)w=w.concat(f[y]);return w}n.set=function(f,y){return Tn(this),this.i=null,f=Li(this,f),cl(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},n.get=function(f,y){return f?(f=ul(this,f),f.length>0?String(f[0]):y):y};function Ma(f,y,w){au(f,y),w.length>0&&(f.i=null,f.g.set(Li(f,y),S(w)),f.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var w=y[A];const B=ii(w);w=ul(this,w);for(let $=0;$<w.length;$++){let fe=B;w[$]!==""&&(fe+="="+ii(w[$])),f.push(fe)}}return this.i=f.join("&")};function ou(f){const y=new ki;return y.i=f.i,f.g&&(y.g=new Map(f.g),y.h=f.h),y}function Li(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function Va(f,y){y&&!f.j&&(Tn(f),f.i=null,f.g.forEach(function(w,A){const B=A.toLowerCase();A!=B&&(au(this,A),Ma(this,B,w))},f)),f.j=y}function dr(f,y){const w=new cr;if(u.Image){const A=new Image;A.onload=v(Fn,w,"TestLoadImage: loaded",!0,y,A),A.onerror=v(Fn,w,"TestLoadImage: error",!1,y,A),A.onabort=v(Fn,w,"TestLoadImage: abort",!1,y,A),A.ontimeout=v(Fn,w,"TestLoadImage: timeout",!1,y,A),u.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=f}else y(!1)}function fl(f,y){const w=new cr,A=new AbortController,B=setTimeout(()=>{A.abort(),Fn(w,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:A.signal}).then($=>{clearTimeout(B),$.ok?Fn(w,"TestPingServer: ok",!0,y):Fn(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Fn(w,"TestPingServer: error",!1,y)})}function Fn(f,y,w,A,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),A(w)}catch{}}function Ui(){this.g=new Kc}function Ur(f){this.i=f.Sb||null,this.h=f.ab||!1}_(Ur,Qc),Ur.prototype.g=function(){return new Bs(this.i,this.h)};function Bs(f,y){dt.call(this),this.H=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(Bs,dt),n=Bs.prototype,n.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=y,this.readyState=1,hr(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(y.body=f),(this.H||u).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,zi(this)),this.readyState=0},n.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,hr(this)),this.g&&(this.readyState=3,hr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Pa(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Pa(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}n.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?zi(this):hr(this),this.readyState==3&&Pa(this)}},n.Oa=function(f){this.g&&(this.response=this.responseText=f,zi(this))},n.Na=function(f){this.g&&(this.response=f,zi(this))},n.ga=function(){this.g&&zi(this)};function zi(f){f.readyState=4,f.l=null,f.j=null,f.B=null,hr(f)}n.setRequestHeader=function(f,y){this.A.append(f,y)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,f.push(w[0]+": "+w[1]),w=y.next();return f.join(`\r
`)};function hr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Bs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function $n(f){let y="";return Le(f,function(w,A){y+=A,y+=":",y+=w,y+=`\r
`}),y}function Hs(f,y,w){e:{for(A in w){var A=!1;break e}A=!0}A||(w=$n(w),typeof f=="string"?w!=null&&ii(w):st(f,y,w))}function lt(f){dt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(lt,dt);var zr=/^https?$/i,dl=["POST","PUT"];n=lt.prototype,n.Fa=function(f){this.H=f},n.ea=function(f,y,w,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():tl.g(),this.g.onreadystatechange=E(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch($){qs(this,$);return}if(f=w||"",w=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var B in A)w.set(B,A[B]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const $ of A.keys())w.set($,A.get($));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(w.keys()).find($=>$.toLowerCase()=="content-type"),B=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(dl,y,void 0)>=0)||A||B||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,fe]of w)this.g.setRequestHeader($,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch($){qs(this,$)}};function qs(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.o=5,hl(f),si(f)}function hl(f){f.A||(f.A=!0,Et(f,"complete"),Et(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Et(this,"complete"),Et(this,"abort"),si(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),si(this,!0)),lt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Gs(this):this.Xa())},n.Xa=function(){Gs(this)};function Gs(f){if(f.h&&typeof l<"u"){if(f.v&&pr(f)==4)setTimeout(f.Ca.bind(f),0);else if(Et(f,"readystatechange"),pr(f)==4){f.h=!1;try{const $=f.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var A;if(A=$===0){let fe=String(f.D).match(ru)[1]||null;!fe&&u.self&&u.self.location&&(fe=u.self.location.protocol.slice(0,-1)),A=!zr.test(fe?fe.toLowerCase():"")}w=A}if(w)Et(f,"complete"),Et(f,"success");else{f.o=6;try{var B=pr(f)>2?f.g.statusText:""}catch{B=""}f.l=B+" ["+f.ca()+"]",hl(f)}}finally{si(f)}}}}function si(f,y){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const w=f.g;f.g=null,y||Et(f,"ready");try{w.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function pr(f){return f.g?f.g.readyState:0}n.ca=function(){try{return pr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),Kd(y)}};function tn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function ai(f){const y={};f=(f.g&&pr(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<f.length;A++){if(D(f[A]))continue;var w=eu(f[A]);const B=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const $=y[B]||[];y[B]=$,$.push(w)}Ke(y,function(A){return A.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function jr(f,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[f]||y}function ji(f){this.za=0,this.i=[],this.j=new cr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=jr("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=jr("baseRetryDelayMs",5e3,f),this.Za=jr("retryDelaySeedMs",1e4,f),this.Ta=jr("forwardChannelMaxRetries",2,f),this.va=jr("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new nl(f&&f.concurrentRequestLimit),this.Ba=new Ui,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=ji.prototype,n.ka=8,n.I=1,n.connect=function(f,y,w,A){Vt(0),this.W=f,this.H=y||{},w&&A!==void 0&&(this.H.OSID=w,this.H.OAID=A),this.F=this.X,this.J=pu(this,null,this.W),Br(this)};function pl(f){if(ka(f),f.I==3){var y=f.V++,w=Lt(f.J);if(st(w,"SID",f.M),st(w,"RID",y),st(w,"TYPE","terminate"),Fs(f,w),y=new ur(f,f.j,y),y.M=2,y.A=zs(Lt(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(y.A.toString(),"")}catch{}!w&&u.Image&&(new Image().src=y.A,w=!0),w||(y.g=mu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Or(y)}hu(f)}function Bi(f){f.g&&(gl(f),f.g.cancel(),f.g=null)}function ka(f){Bi(f),f.v&&(u.clearTimeout(f.v),f.v=null),Ua(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function Br(f){if(!rl(f.h)&&!f.m){f.m=!0;var y=f.Ea;le||x(),ae||(le(),ae=!0),R.add(y,f),f.D=0}}function La(f,y){return Pr(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=y.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Cr(g(f.Ea,f,y),du(f,f.D)),f.D++,!0)}n.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const B=new ur(this,this.j,f);let $=this.o;if(this.U&&($?($=k($),ce($,this.U)):$=this.U),this.u!==null||this.R||(B.J=$,$=null),this.S)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var A=this.i[w];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=lu(this,B,y),w=Lt(this.J),st(w,"RID",f),st(w,"CVER",22),this.G&&st(w,"X-HTTP-Session-Id",this.G),Fs(this,w),$&&(this.R?y="headers="+ii($n($))+"&"+y:this.u&&Hs(w,this.u,$)),il(this.h,B),this.Ra&&st(w,"TYPE","init"),this.S?(st(w,"$req",y),st(w,"SID","null"),B.U=!0,Nr(B,w,null)):Nr(B,w,y),this.I=2}}else this.I==3&&(f?ml(this,f):this.i.length==0||rl(this.h)||ml(this))};function ml(f,y){var w;y?w=y.l:w=f.V++;const A=Lt(f.J);st(A,"SID",f.M),st(A,"RID",w),st(A,"AID",f.K),Fs(f,A),f.u&&f.o&&Hs(A,f.u,f.o),w=new ur(f,f.j,w,f.D+1),f.u===null&&(w.J=f.o),y&&(f.i=y.G.concat(f.i)),y=lu(f,w,1e3),w.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),il(f.h,w),Nr(w,A,y)}function Fs(f,y){f.H&&Le(f.H,function(w,A){st(y,A,w)}),f.l&&Le({},function(w,A){st(y,A,w)})}function lu(f,y,w){w=Math.min(f.i.length,w);const A=f.l?g(f.l.Ka,f.l,f):null;e:{var B=f.i;let Oe=-1;for(;;){const Ct=["count="+w];Oe==-1?w>0?(Oe=B[0].g,Ct.push("ofs="+Oe)):Oe=0:Ct.push("ofs="+Oe);let et=!0;for(let wt=0;wt<w;wt++){var $=B[wt].g;const Yn=B[wt].map;if($-=Oe,$<0)Oe=Math.max(0,B[wt].g-100),et=!1;else try{$="req"+$+"_"||"";try{var fe=Yn instanceof Map?Yn:Object.entries(Yn);for(const[qr,mr]of fe){let gr=mr;p(mr)&&(gr=Mi(mr)),Ct.push($+qr+"="+encodeURIComponent(gr))}}catch(qr){throw Ct.push($+"type="+encodeURIComponent("_badmap")),qr}}catch{A&&A(Yn)}}if(et){fe=Ct.join("&");break e}}fe=void 0}return f=f.i.splice(0,w),y.G=f,fe}function cu(f){if(!f.g&&!f.v){f.Y=1;var y=f.Da;le||x(),ae||(le(),ae=!0),R.add(y,f),f.A=0}}function $s(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Cr(g(f.Da,f),du(f,f.A)),f.A++,!0)}n.Da=function(){if(this.v=null,uu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Cr(g(this.Wa,this),f)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Vt(10),Bi(this),uu(this))};function gl(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function uu(f){f.g=new ur(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var y=Lt(f.na);st(y,"RID","rpc"),st(y,"SID",f.M),st(y,"AID",f.K),st(y,"CI",f.F?"0":"1"),!f.F&&f.ia&&st(y,"TO",f.ia),st(y,"TYPE","xmlhttp"),Fs(f,y),f.u&&f.o&&Hs(y,f.u,f.o),f.O&&(f.g.H=f.O);var w=f.g;f=f.ba,w.M=1,w.A=zs(Lt(y)),w.u=null,w.R=!0,Ca(w,f)}n.Va=function(){this.C!=null&&(this.C=null,Bi(this),$s(this),Vt(19))};function Ua(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function fu(f,y){var w=null;if(f.g==y){Ua(f),gl(f),f.g=null;var A=2}else if(kr(f.h,y))w=y.G,sl(f.h,y),A=1;else return;if(f.I!=0){if(y.o)if(A==1){w=y.u?y.u.length:0,y=Date.now()-y.F;var B=f.D;A=Ra(),Et(A,new Rr(A,w)),Br(f)}else cu(f);else if(B=y.m,B==3||B==0&&y.X>0||!(A==1&&La(f,y)||A==2&&$s(f)))switch(w&&w.length>0&&(y=f.h,y.i=y.i.concat(w)),B){case 1:Hr(f,5);break;case 4:Hr(f,10);break;case 3:Hr(f,6);break;default:Hr(f,2)}}}function du(f,y){let w=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(w*=2),w*y}function Hr(f,y){if(f.j.info("Error code "+y),y==2){var w=g(f.bb,f),A=f.Ua;const B=!A;A=new On(A||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Kt(A,"https"),zs(A),B?dr(A.toString(),w):fl(A.toString(),w)}else Vt(2);f.I=0,f.l&&f.l.pa(y),hu(f),ka(f)}n.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function hu(f){if(f.I=0,f.ja=[],f.l){const y=al(f.h);(y.length!=0||f.i.length!=0)&&(V(f.ja,y),V(f.ja,f.i),f.h.i.length=0,S(f.i),f.i.length=0),f.l.oa()}}function pu(f,y,w){var A=w instanceof On?Lt(w):new On(w);if(A.g!="")y&&(A.g=y+"."+A.g),Vi(A,A.u);else{var B=u.location;A=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;const $=new On(null);A&&Kt($,A),y&&($.g=y),B&&Vi($,B),w&&($.h=w),A=$}return w=f.G,y=f.wa,w&&y&&st(A,w,y),st(A,"VER",f.ka),Fs(f,A),A}function mu(f,y,w){if(y&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Aa&&!f.ma?new lt(new Ur({ab:w})):new lt(f.ma),y.Fa(f.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function gu(){}n=gu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Hi(){}Hi.prototype.g=function(f,y){return new yn(f,y)};function yn(f,y){dt.call(this),this.g=new ji(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(f?f["X-WebChannel-Client-Profile"]=y.sa:f={"X-WebChannel-Client-Profile":y.sa}),this.g.U=f,(f=y&&y.Qb)&&!D(f)&&(this.g.u=f),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new oi(this)}_(yn,dt),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){pl(this.g)},yn.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var w={};w.__data__=f,f=w}else this.v&&(w={},w.__data__=Mi(f),f=w);y.i.push(new kt(y.Ya++,f)),y.I==3&&Br(y)},yn.prototype.N=function(){this.g.l=null,delete this.j,pl(this.g),delete this.g,yn.Z.N.call(this)};function yu(f){en.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const w in y){f=w;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}_(yu,en);function vu(){qn.call(this),this.status=1}_(vu,qn);function oi(f){this.g=f}_(oi,gu),oi.prototype.ra=function(){Et(this.g,"a")},oi.prototype.qa=function(f){Et(this.g,new yu(f))},oi.prototype.pa=function(f){Et(this.g,new vu)},oi.prototype.oa=function(){Et(this.g,"b")},Hi.prototype.createWebChannel=Hi.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,Hw=function(){return new Hi},Bw=function(){return Ra()},jw=Rt,Im={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ls.NO_ERROR=0,Ls.TIMEOUT=8,Ls.HTTP_ERROR=6,Pf=Ls,el.COMPLETE="complete",zw=el,Xc.EventType=lr,lr.OPEN="a",lr.CLOSE="b",lr.ERROR="c",lr.MESSAGE="d",dt.prototype.listen=dt.prototype.J,ac=Xc,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,Uw=lt}).apply(typeof Tf<"u"?Tf:typeof self<"u"?self:typeof window<"u"?window:{});let hn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");let Ho="12.8.0";function UR(n){Ho=n}const va=new ag("@firebase/firestore");function go(){return va.logLevel}function pe(n,...e){if(va.logLevel<=qe.DEBUG){const t=e.map(cg);va.debug(`Firestore (${Ho}): ${n}`,...t)}}function Ci(n,...e){if(va.logLevel<=qe.ERROR){const t=e.map(cg);va.error(`Firestore (${Ho}): ${n}`,...t)}}function Do(n,...e){if(va.logLevel<=qe.WARN){const t=e.map(cg);va.warn(`Firestore (${Ho}): ${n}`,...t)}}function cg(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Ae(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,qw(n,s,t)}function qw(n,e,t){let s=`FIRESTORE (${Ho}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Ci(s),new Error(s)}function it(n,e,t,s){let a="Unexpected state";typeof t=="string"?a=t:s=t,n||qw(e,a,s)}function De(n,e){return n}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Oi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class bs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Gw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(hn.UNAUTHENTICATED)))}shutdown(){}}class jR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class BR{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){it(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,t(m)):Promise.resolve();let l=new bs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new bs,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},p=m=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>p(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new bs)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(it(typeof s.accessToken=="string",31837,{l:s}),new Gw(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class HR{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class qR{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new HR(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class f0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GR{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,rr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){it(this.o===void 0,3512);const s=l=>{l.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new f0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(it(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new f0(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function FR(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}class ug{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=FR(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%62))}return s}}function Ge(n,e){return n<e?-1:n>e?1:0}function Rm(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const a=n.charAt(s),l=e.charAt(s);if(a!==l)return nm(a)===nm(l)?Ge(a,l):nm(a)?1:-1}return Ge(n.length,e.length)}const $R=55296,YR=57343;function nm(n){const e=n.charCodeAt(0);return e>=$R&&e<=YR}function No(n,e,t){return n.length===e.length&&n.every(((s,a)=>t(s,e[a])))}const d0="__name__";class Kr{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ae(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ae(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Kr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Kr?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=Kr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Ge(e.length,t.length)}static compareSegments(e,t){const s=Kr.isNumericId(e),a=Kr.isNumericId(t);return s&&!a?-1:!s&&a?1:s&&a?Kr.extractNumericId(e).compare(Kr.extractNumericId(t)):Rm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _s.fromString(e.substring(4,e.length-2))}}class mt extends Kr{construct(e,t,s){return new mt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((a=>a.length>0)))}return new mt(t)}static emptyPath(){return new mt([])}}const KR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Kr{construct(e,t,s){return new ln(e,t,s)}static isValidIdentifier(e){return KR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===d0}static keyField(){return new ln([d0])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(s.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let u=!1;for(;a<e.length;){const p=e[a];if(p==="\\"){if(a+1===e.length)throw new he(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new he(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else p==="`"?(u=!u,a++):p!=="."||u?(s+=p,a++):(l(),a++)}if(l(),u)throw new he(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(t)}static emptyPath(){return new ln([])}}class we{constructor(e){this.path=e}static fromPath(e){return new we(mt.fromString(e))}static fromName(e){return new we(mt.fromString(e).popFirst(5))}static empty(){return new we(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return mt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new mt(e.slice()))}}function Fw(n,e,t){if(!t)throw new he(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function QR(n,e,t,s){if(e===!0&&s===!0)throw new he(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function h0(n){if(!we.isDocumentKey(n))throw new he(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function p0(n){if(we.isDocumentKey(n))throw new he(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $w(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Td(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ae(12329,{type:typeof n})}function Ii(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new he(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Td(n);throw new he(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Gt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Lc(n,e){if(!$w(n))throw new he(ee.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const u=n[s];if(a&&typeof u!==a){t=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new he(ee.INVALID_ARGUMENT,t);return!0}const m0=-62135596800,g0=1e6;class vt{static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*g0);return new vt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<m0)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/g0}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:vt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Lc(e,vt._jsonSchema))return new vt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-m0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}vt._jsonSchemaVersion="firestore/timestamp/1.0",vt._jsonSchema={type:Gt("string",vt._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new vt(0,0))}static max(){return new Re(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const bc=-1;function XR(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=Re.fromTimestamp(s===1e9?new vt(t+1,0):new vt(t,s));return new As(a,we.empty(),e)}function WR(n){return new As(n.readTime,n.key,bc)}class As{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new As(Re.min(),we.empty(),bc)}static max(){return new As(Re.max(),we.empty(),bc)}}function JR(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(n.documentKey,e.documentKey),t!==0?t:Ge(n.largestBatchId,e.largestBatchId))}const ZR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function qo(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==ZR)throw n;pe("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ne.reject(t)}static resolve(e){return new ne(((t,s)=>{t(e)}))}static reject(e){return new ne(((t,s)=>{s(e)}))}static waitFor(e){return new ne(((t,s)=>{let a=0,l=0,u=!1;e.forEach((p=>{++a,p.next((()=>{++l,u&&l===a&&t()}),(m=>s(m)))})),u=!0,l===a&&t()}))}static or(e){let t=ne.resolve(!1);for(const s of e)t=t.next((a=>a?ne.resolve(a):s()));return t}static forEach(e,t){const s=[];return e.forEach(((a,l)=>{s.push(t.call(this,a,l))})),this.waitFor(s)}static mapArray(e,t){return new ne(((s,a)=>{const l=e.length,u=new Array(l);let p=0;for(let m=0;m<l;m++){const g=m;t(e[g]).next((v=>{u[g]=v,++p,p===l&&s(u)}),(v=>a(v)))}}))}static doWhile(e,t){return new ne(((s,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):s()};l()}))}}function tC(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Go(n){return n.name==="IndexedDbTransactionError"}class Sd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Sd.ce=-1;const fg=-1;function Ad(n){return n==null}function Kf(n){return n===0&&1/n==-1/0}function nC(n){return typeof n=="number"&&Number.isInteger(n)&&!Kf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Yw="";function rC(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=y0(e)),e=iC(n.get(t),e);return y0(e)}function iC(n,e){let t=e;const s=n.length;for(let a=0;a<s;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case Yw:t+="";break;default:t+=l}}return t}function y0(n){return n+Yw+""}function v0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function wa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Kw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class St{constructor(e,t){this.comparator=e,this.root=t||on.EMPTY}insert(e,t){return new St(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sf(this.root,e,this.comparator,!0)}}class Sf{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=s??on.RED,this.left=a??on.EMPTY,this.right=l??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new on(e??this.key,t??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return on.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,t,s,a,l){return this}insert(e,t,s){return new on(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $t{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _0(this.data.getIterator())}getIteratorFrom(e){return new _0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new $t(this.comparator);return t.data=e,t}}class _0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class br{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new br([])}unionWith(e){let t=new $t(ln.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new br(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return No(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class Qw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class un{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Qw("Invalid base64 string: "+l):l}})(e);return new un(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new un(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const sC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xs(n){if(it(!!n,39018),typeof n=="string"){let e=0;const t=sC.exec(n);if(it(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ot(n.seconds),nanos:Ot(n.nanos)}}function Ot(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Is(n){return typeof n=="string"?un.fromBase64String(n):un.fromUint8Array(n)}const Xw="server_timestamp",Ww="__type__",Jw="__previous_value__",Zw="__local_write_time__";function dg(n){return(n?.mapValue?.fields||{})[Ww]?.stringValue===Xw}function xd(n){const e=n.mapValue.fields[Jw];return dg(e)?xd(e):e}function Ec(n){const e=xs(n.mapValue.fields[Zw].timestampValue);return new vt(e.seconds,e.nanos)}class aC{constructor(e,t,s,a,l,u,p,m,g,v,_){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v,this.apiKey=_}}const Qf="(default)";class wc{constructor(e,t){this.projectId=e,this.database=t||Qf}static empty(){return new wc("","")}get isDefaultDatabase(){return this.database===Qf}isEqual(e){return e instanceof wc&&e.projectId===this.projectId&&e.database===this.database}}function oC(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new he(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wc(n.options.projectId,e)}const eT="__type__",lC="__max__",Af={mapValue:{}},tT="__vector__",Xf="value";function Rs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?dg(n)?4:uC(n)?9007199254740991:cC(n)?10:11:Ae(28295,{value:n})}function ni(n,e){if(n===e)return!0;const t=Rs(n);if(t!==Rs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ec(n).isEqual(Ec(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=xs(a.timestampValue),p=xs(l.timestampValue);return u.seconds===p.seconds&&u.nanos===p.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,l){return Is(a.bytesValue).isEqual(Is(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,l){return Ot(a.geoPointValue.latitude)===Ot(l.geoPointValue.latitude)&&Ot(a.geoPointValue.longitude)===Ot(l.geoPointValue.longitude)})(n,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Ot(a.integerValue)===Ot(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Ot(a.doubleValue),p=Ot(l.doubleValue);return u===p?Kf(u)===Kf(p):isNaN(u)&&isNaN(p)}return!1})(n,e);case 9:return No(n.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},p=l.mapValue.fields||{};if(v0(u)!==v0(p))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(p[m]===void 0||!ni(u[m],p[m])))return!1;return!0})(n,e);default:return Ae(52216,{left:n})}}function Tc(n,e){return(n.values||[]).find((t=>ni(t,e)))!==void 0}function Oo(n,e){if(n===e)return 0;const t=Rs(n),s=Rs(e);if(t!==s)return Ge(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ge(n.booleanValue,e.booleanValue);case 2:return(function(l,u){const p=Ot(l.integerValue||l.doubleValue),m=Ot(u.integerValue||u.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1})(n,e);case 3:return b0(n.timestampValue,e.timestampValue);case 4:return b0(Ec(n),Ec(e));case 5:return Rm(n.stringValue,e.stringValue);case 6:return(function(l,u){const p=Is(l),m=Is(u);return p.compareTo(m)})(n.bytesValue,e.bytesValue);case 7:return(function(l,u){const p=l.split("/"),m=u.split("/");for(let g=0;g<p.length&&g<m.length;g++){const v=Ge(p[g],m[g]);if(v!==0)return v}return Ge(p.length,m.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,u){const p=Ge(Ot(l.latitude),Ot(u.latitude));return p!==0?p:Ge(Ot(l.longitude),Ot(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return E0(n.arrayValue,e.arrayValue);case 10:return(function(l,u){const p=l.fields||{},m=u.fields||{},g=p[Xf]?.arrayValue,v=m[Xf]?.arrayValue,_=Ge(g?.values?.length||0,v?.values?.length||0);return _!==0?_:E0(g,v)})(n.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Af.mapValue&&u===Af.mapValue)return 0;if(l===Af.mapValue)return 1;if(u===Af.mapValue)return-1;const p=l.fields||{},m=Object.keys(p),g=u.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let _=0;_<m.length&&_<v.length;++_){const E=Rm(m[_],v[_]);if(E!==0)return E;const S=Oo(p[m[_]],g[v[_]]);if(S!==0)return S}return Ge(m.length,v.length)})(n.mapValue,e.mapValue);default:throw Ae(23264,{he:t})}}function b0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ge(n,e);const t=xs(n),s=xs(e),a=Ge(t.seconds,s.seconds);return a!==0?a:Ge(t.nanos,s.nanos)}function E0(n,e){const t=n.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const l=Oo(t[a],s[a]);if(l)return l}return Ge(t.length,s.length)}function Mo(n){return Cm(n)}function Cm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=xs(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Is(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return we.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",a=!0;for(const l of t.values||[])a?a=!1:s+=",",s+=Cm(l);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${Cm(t.fields[u])}`;return a+"}"})(n.mapValue):Ae(61005,{value:n})}function kf(n){switch(Rs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xd(n);return e?16+kf(e):16;case 5:return 2*n.stringValue.length;case 6:return Is(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+kf(l)),0)})(n.arrayValue);case 10:case 11:return(function(s){let a=0;return wa(s.fields,((l,u)=>{a+=l.length+kf(u)})),a})(n.mapValue);default:throw Ae(13486,{value:n})}}function w0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Dm(n){return!!n&&"integerValue"in n}function hg(n){return!!n&&"arrayValue"in n}function T0(n){return!!n&&"nullValue"in n}function S0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Lf(n){return!!n&&"mapValue"in n}function cC(n){return(n?.mapValue?.fields||{})[eT]?.stringValue===tT}function dc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return wa(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=dc(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=dc(n.arrayValue.values[t]);return e}return{...n}}function uC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===lC}class ir{constructor(e){this.value=e}static empty(){return new ir({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Lf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=dc(t)}setAll(e){let t=ln.emptyPath(),s={},a=[];e.forEach(((u,p)=>{if(!t.isImmediateParentOf(p)){const m=this.getFieldsMap(t);this.applyChanges(m,s,a),s={},a=[],t=p.popLast()}u?s[p.lastSegment()]=dc(u):a.push(p.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());Lf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];Lf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){wa(t,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new ir(dc(this.value))}}function nT(n){const e=[];return wa(n.fields,((t,s)=>{const a=new ln([t]);if(Lf(s)){const l=nT(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new br(e)}class pn{constructor(e,t,s,a,l,u,p){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=p}static newInvalidDocument(e){return new pn(e,0,Re.min(),Re.min(),Re.min(),ir.empty(),0)}static newFoundDocument(e,t,s,a){return new pn(e,1,t,Re.min(),s,a,0)}static newNoDocument(e,t){return new pn(e,2,t,Re.min(),Re.min(),ir.empty(),0)}static newUnknownDocument(e,t){return new pn(e,3,t,Re.min(),Re.min(),ir.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ir.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ir.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wf{constructor(e,t){this.position=e,this.inclusive=t}}function A0(n,e,t){let s=0;for(let a=0;a<n.position.length;a++){const l=e[a],u=n.position[a];if(l.field.isKeyField()?s=we.comparator(we.fromName(u.referenceValue),t.key):s=Oo(u,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function x0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ni(n.position[t],e.position[t]))return!1;return!0}class Sc{constructor(e,t="asc"){this.field=e,this.dir=t}}function fC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class rT{}class qt extends rT{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new hC(e,t,s):t==="array-contains"?new gC(e,s):t==="in"?new yC(e,s):t==="not-in"?new vC(e,s):t==="array-contains-any"?new _C(e,s):new qt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new pC(e,s):new mC(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Oo(t,this.value)):t!==null&&Rs(this.value)===Rs(t)&&this.matchesComparison(Oo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ar extends rT{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ar(e,t)}matches(e){return iT(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function iT(n){return n.op==="and"}function sT(n){return dC(n)&&iT(n)}function dC(n){for(const e of n.filters)if(e instanceof Ar)return!1;return!0}function Nm(n){if(n instanceof qt)return n.field.canonicalString()+n.op.toString()+Mo(n.value);if(sT(n))return n.filters.map((e=>Nm(e))).join(",");{const e=n.filters.map((t=>Nm(t))).join(",");return`${n.op}(${e})`}}function aT(n,e){return n instanceof qt?(function(s,a){return a instanceof qt&&s.op===a.op&&s.field.isEqual(a.field)&&ni(s.value,a.value)})(n,e):n instanceof Ar?(function(s,a){return a instanceof Ar&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,p)=>l&&aT(u,a.filters[p])),!0):!1})(n,e):void Ae(19439)}function oT(n){return n instanceof qt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Mo(t.value)}`})(n):n instanceof Ar?(function(t){return t.op.toString()+" {"+t.getFilters().map(oT).join(" ,")+"}"})(n):"Filter"}class hC extends qt{constructor(e,t,s){super(e,t,s),this.key=we.fromName(s.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class pC extends qt{constructor(e,t){super(e,"in",t),this.keys=lT("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class mC extends qt{constructor(e,t){super(e,"not-in",t),this.keys=lT("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function lT(n,e){return(e.arrayValue?.values||[]).map((t=>we.fromName(t.referenceValue)))}class gC extends qt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return hg(t)&&Tc(t.arrayValue,this.value)}}class yC extends qt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Tc(this.value.arrayValue,t)}}class vC extends qt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Tc(this.value.arrayValue,t)}}class _C extends qt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!hg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Tc(this.value.arrayValue,s)))}}class bC{constructor(e,t=null,s=[],a=[],l=null,u=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=p,this.Te=null}}function I0(n,e=null,t=[],s=[],a=null,l=null,u=null){return new bC(n,e,t,s,a,l,u)}function pg(n){const e=De(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>Nm(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Ad(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Mo(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Mo(s))).join(",")),e.Te=t}return e.Te}function mg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!fC(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!aT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!x0(n.startAt,e.startAt)&&x0(n.endAt,e.endAt)}function Om(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Fo{constructor(e,t=null,s=[],a=[],l=null,u="F",p=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=p,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function EC(n,e,t,s,a,l,u,p){return new Fo(n,e,t,s,a,l,u,p)}function Id(n){return new Fo(n)}function R0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function wC(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function cT(n){return n.collectionGroup!==null}function hc(n){const e=De(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let p=new $t(ln.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(p=p.add(g.field))}))})),p})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Sc(l,s))})),t.has(ln.keyField().canonicalString())||e.Ie.push(new Sc(ln.keyField(),s))}return e.Ie}function Wr(n){const e=De(n);return e.Ee||(e.Ee=TC(e,hc(n))),e.Ee}function TC(n,e){if(n.limitType==="F")return I0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Sc(a.field,l)}));const t=n.endAt?new Wf(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Wf(n.startAt.position,n.startAt.inclusive):null;return I0(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function Mm(n,e){const t=n.filters.concat([e]);return new Fo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function SC(n,e){const t=n.explicitOrderBy.concat([e]);return new Fo(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function Jf(n,e,t){return new Fo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Rd(n,e){return mg(Wr(n),Wr(e))&&n.limitType===e.limitType}function uT(n){return`${pg(Wr(n))}|lt:${n.limitType}`}function yo(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((a=>oT(a))).join(", ")}]`),Ad(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((a=>Mo(a))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((a=>Mo(a))).join(",")),`Target(${s})`})(Wr(n))}; limitType=${n.limitType})`}function Cd(n,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):we.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(n,e)&&(function(s,a){for(const l of hc(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(n,e)&&(function(s,a){return!(s.startAt&&!(function(u,p,m){const g=A0(u,p,m);return u.inclusive?g<=0:g<0})(s.startAt,hc(s),a)||s.endAt&&!(function(u,p,m){const g=A0(u,p,m);return u.inclusive?g>=0:g>0})(s.endAt,hc(s),a))})(n,e)}function AC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function fT(n){return(e,t)=>{let s=!1;for(const a of hc(n)){const l=xC(a,e,t);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function xC(n,e,t){const s=n.field.isKeyField()?we.comparator(e.key,t.key):(function(l,u,p){const m=u.data.field(l),g=p.data.field(l);return m!==null&&g!==null?Oo(m,g):Ae(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Ae(19790,{direction:n.dir})}}class Ta{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){wa(this.inner,((t,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return Kw(this.inner)}size(){return this.innerSize}}const IC=new St(we.comparator);function Di(){return IC}const dT=new St(we.comparator);function oc(...n){let e=dT;for(const t of n)e=e.insert(t.key,t);return e}function hT(n){let e=dT;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function ha(){return pc()}function pT(){return pc()}function pc(){return new Ta((n=>n.toString()),((n,e)=>n.isEqual(e)))}const RC=new St(we.comparator),CC=new $t(we.comparator);function Fe(...n){let e=CC;for(const t of n)e=e.add(t);return e}const DC=new $t(Ge);function NC(){return DC}function gg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kf(e)?"-0":e}}function mT(n){return{integerValue:""+n}}function OC(n,e){return nC(e)?mT(e):gg(n,e)}class Dd{constructor(){this._=void 0}}function MC(n,e,t){return n instanceof Zf?(function(a,l){const u={fields:{[Ww]:{stringValue:Xw},[Zw]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&dg(l)&&(l=xd(l)),l&&(u.fields[Jw]=l),{mapValue:u}})(t,e):n instanceof Ac?yT(n,e):n instanceof xc?vT(n,e):(function(a,l){const u=gT(a,l),p=C0(u)+C0(a.Ae);return Dm(u)&&Dm(a.Ae)?mT(p):gg(a.serializer,p)})(n,e)}function VC(n,e,t){return n instanceof Ac?yT(n,e):n instanceof xc?vT(n,e):t}function gT(n,e){return n instanceof ed?(function(s){return Dm(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Zf extends Dd{}class Ac extends Dd{constructor(e){super(),this.elements=e}}function yT(n,e){const t=_T(e);for(const s of n.elements)t.some((a=>ni(a,s)))||t.push(s);return{arrayValue:{values:t}}}class xc extends Dd{constructor(e){super(),this.elements=e}}function vT(n,e){let t=_T(e);for(const s of n.elements)t=t.filter((a=>!ni(a,s)));return{arrayValue:{values:t}}}class ed extends Dd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function C0(n){return Ot(n.integerValue||n.doubleValue)}function _T(n){return hg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function PC(n,e){return n.field.isEqual(e.field)&&(function(s,a){return s instanceof Ac&&a instanceof Ac||s instanceof xc&&a instanceof xc?No(s.elements,a.elements,ni):s instanceof ed&&a instanceof ed?ni(s.Ae,a.Ae):s instanceof Zf&&a instanceof Zf})(n.transform,e.transform)}class kC{constructor(e,t){this.version=e,this.transformResults=t}}class Jr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Jr}static exists(e){return new Jr(void 0,e)}static updateTime(e){return new Jr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Nd{}function bT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new wT(n.key,Jr.none()):new Uc(n.key,n.data,Jr.none());{const t=n.data,s=ir.empty();let a=new $t(ln.comparator);for(let l of e.fields)if(!a.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new Sa(n.key,s,new br(a.toArray()),Jr.none())}}function LC(n,e,t){n instanceof Uc?(function(a,l,u){const p=a.value.clone(),m=N0(a.fieldTransforms,l,u.transformResults);p.setAll(m),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(n,e,t):n instanceof Sa?(function(a,l,u){if(!Uf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const p=N0(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(ET(a)),m.setAll(p),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(n,e,t):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function mc(n,e,t,s){return n instanceof Uc?(function(l,u,p,m){if(!Uf(l.precondition,u))return p;const g=l.value.clone(),v=O0(l.fieldTransforms,m,u);return g.setAll(v),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(n,e,t,s):n instanceof Sa?(function(l,u,p,m){if(!Uf(l.precondition,u))return p;const g=O0(l.fieldTransforms,m,u),v=u.data;return v.setAll(ET(l)),v.setAll(g),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),p===null?null:p.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(n,e,t,s):(function(l,u,p){return Uf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):p})(n,e,t)}function UC(n,e){let t=null;for(const s of n.fieldTransforms){const a=e.data.field(s.field),l=gT(s.transform,a||null);l!=null&&(t===null&&(t=ir.empty()),t.set(s.field,l))}return t||null}function D0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&No(s,a,((l,u)=>PC(l,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Uc extends Nd{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Sa extends Nd{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function ET(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function N0(n,e,t){const s=new Map;it(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let a=0;a<t.length;a++){const l=n[a],u=l.transform,p=e.data.field(l.field);s.set(l.field,VC(u,p,t[a]))}return s}function O0(n,e,t){const s=new Map;for(const a of n){const l=a.transform,u=t.data.field(a.field);s.set(a.field,MC(l,u,e))}return s}class wT extends Nd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zC extends Nd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jC{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&LC(l,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=mc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=mc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=pT();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let p=this.applyToLocalView(u,l.mutatedFields);p=t.has(a.key)?null:p;const m=bT(u,p);m!==null&&s.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Re.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&No(this.mutations,e.mutations,((t,s)=>D0(t,s)))&&No(this.baseMutations,e.baseMutations,((t,s)=>D0(t,s)))}}class yg{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){it(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return RC})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new yg(e,t,s,a)}}class BC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class HC{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ht,Qe;function qC(n){switch(n){case ee.OK:return Ae(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ae(15467,{code:n})}}function TT(n){if(n===void 0)return Ci("GRPC error has no .code"),ee.UNKNOWN;switch(n){case Ht.OK:return ee.OK;case Ht.CANCELLED:return ee.CANCELLED;case Ht.UNKNOWN:return ee.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return ee.INTERNAL;case Ht.UNAVAILABLE:return ee.UNAVAILABLE;case Ht.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Ht.NOT_FOUND:return ee.NOT_FOUND;case Ht.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Ht.ABORTED:return ee.ABORTED;case Ht.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Ht.DATA_LOSS:return ee.DATA_LOSS;default:return Ae(39323,{code:n})}}(Qe=Ht||(Ht={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";function GC(){return new TextEncoder}const FC=new _s([4294967295,4294967295],0);function M0(n){const e=GC().encode(n),t=new Lw;return t.update(e),new Uint8Array(t.digest())}function V0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new _s([t,s],0),new _s([a,l],0)]}class vg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new lc(`Invalid padding: ${t}`);if(s<0)throw new lc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new lc(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new lc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=_s.fromNumber(this.ge)}ye(e,t,s){let a=e.add(t.multiply(_s.fromNumber(s)));return a.compare(FC)===1&&(a=new _s([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=M0(e),[s,a]=V0(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new vg(l,a,t);return s.forEach((p=>u.insert(p))),u}insert(e){if(this.ge===0)return;const t=M0(e),[s,a]=V0(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.be(u)}}be(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class lc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Od{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,zc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Od(Re.min(),a,new St(Ge),Di(),Fe())}}class zc{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new zc(s,t,Fe(),Fe(),Fe())}}class zf{constructor(e,t,s,a){this.Se=e,this.removedTargetIds=t,this.key=s,this.De=a}}class ST{constructor(e,t){this.targetId=e,this.Ce=t}}class AT{constructor(e,t,s=un.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class P0{constructor(){this.ve=0,this.Fe=k0(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),t=Fe(),s=Fe();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:Ae(38017,{changeType:l})}})),new zc(this.Me,this.xe,e,t,s)}Ke(){this.Oe=!1,this.Fe=k0()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,it(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class $C{constructor(e){this.Ge=e,this.ze=new Map,this.je=Di(),this.He=xf(),this.Je=xf(),this.Ze=new St(Ge)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,s=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(Om(l))if(s===0){const u=new we(l.path);this.et(t,u,pn.newNoDocument(u,Re.min()))}else it(s===1,20013,{expectedCount:s});else{const u=this._t(t);if(u!==s){const p=this.ut(e),m=p?this.ct(p,e,u):1;if(m!==0){this.it(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=t;let u,p;try{u=Is(s).toUint8Array()}catch(m){if(m instanceof Qw)return Do("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new vg(u,a,l)}catch(m){return Do(m instanceof lc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.ge===0?null:p}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),p=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(p)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,u)=>{const p=this.ot(u);if(p){if(l.current&&Om(p.target)){const m=new we(p.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,pn.newNoDocument(m,e))}l.Be&&(t.set(u,l.ke()),l.Ke())}}));let s=Fe();this.Je.forEach(((l,u)=>{let p=!0;u.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new Od(e,t,this.Ze,this.je,s);return this.je=Di(),this.He=xf(),this.Je=xf(),this.Ze=new St(Ge),a}Ye(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,s),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.qe(t,1):a.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new P0,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new $t(Ge),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new $t(Ge),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new P0),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function xf(){return new St(we.comparator)}function k0(){return new St(we.comparator)}const YC={asc:"ASCENDING",desc:"DESCENDING"},KC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QC={and:"AND",or:"OR"};class XC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Vm(n,e){return n.useProto3Json||Ad(e)?e:{value:e}}function td(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function WC(n,e){return td(n,e.toTimestamp())}function Zr(n){return it(!!n,49232),Re.fromTimestamp((function(t){const s=xs(t);return new vt(s.seconds,s.nanos)})(n))}function _g(n,e){return Pm(n,e).canonicalString()}function Pm(n,e){const t=(function(a){return new mt(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function IT(n){const e=mt.fromString(n);return it(OT(e),10190,{key:e.toString()}),e}function km(n,e){return _g(n.databaseId,e.path)}function rm(n,e){const t=IT(e);if(t.get(1)!==n.databaseId.projectId)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new we(CT(t))}function RT(n,e){return _g(n.databaseId,e)}function JC(n){const e=IT(n);return e.length===4?mt.emptyPath():CT(e)}function Lm(n){return new mt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function CT(n){return it(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function L0(n,e,t){return{name:km(n,e),fields:t.value.mapValue.fields}}function ZC(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ae(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(it(v===void 0||typeof v=="string",58123),un.fromBase64String(v||"")):(it(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),un.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,p=u&&(function(g){const v=g.code===void 0?ee.UNKNOWN:TT(g.code);return new he(v,g.message||"")})(u);t=new AT(s,a,l,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=rm(n,s.document.name),l=Zr(s.document.updateTime),u=s.document.createTime?Zr(s.document.createTime):Re.min(),p=new ir({mapValue:{fields:s.document.fields}}),m=pn.newFoundDocument(a,l,u,p),g=s.targetIds||[],v=s.removedTargetIds||[];t=new zf(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=rm(n,s.document),l=s.readTime?Zr(s.readTime):Re.min(),u=pn.newNoDocument(a,l),p=s.removedTargetIds||[];t=new zf([],p,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=rm(n,s.document),l=s.removedTargetIds||[];t=new zf([],l,a,null)}else{if(!("filter"in e))return Ae(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new HC(a,l),p=s.targetId;t=new ST(p,u)}}return t}function e2(n,e){let t;if(e instanceof Uc)t={update:L0(n,e.key,e.value)};else if(e instanceof wT)t={delete:km(n,e.key)};else if(e instanceof Sa)t={update:L0(n,e.key,e.data),updateMask:c2(e.fieldMask)};else{if(!(e instanceof zC))return Ae(16599,{dt:e.type});t={verify:km(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const p=u.transform;if(p instanceof Zf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ac)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof xc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ed)return{fieldPath:u.field.canonicalString(),increment:p.Ae};throw Ae(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:WC(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ae(27497)})(n,e.precondition)),t}function t2(n,e){return n&&n.length>0?(it(e!==void 0,14353),n.map((t=>(function(a,l){let u=a.updateTime?Zr(a.updateTime):Zr(l);return u.isEqual(Re.min())&&(u=Zr(l)),new kC(u,a.transformResults||[])})(t,e)))):[]}function n2(n,e){return{documents:[RT(n,e.path)]}}function r2(n,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=RT(n,a);const l=(function(g){if(g.length!==0)return NT(Ar.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const u=(function(g){if(g.length!==0)return g.map((v=>(function(E){return{field:vo(E.field),direction:a2(E.dir)}})(v)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const p=Vm(n,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:a}}function i2(n){let e=JC(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){it(s===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(_){const E=DT(_);return E instanceof Ar&&sT(E)?E.getFilters():[E]})(t.where));let u=[];t.orderBy&&(u=(function(_){return _.map((E=>(function(V){return new Sc(_o(V.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(E)))})(t.orderBy));let p=null;t.limit&&(p=(function(_){let E;return E=typeof _=="object"?_.value:_,Ad(E)?null:E})(t.limit));let m=null;t.startAt&&(m=(function(_){const E=!!_.before,S=_.values||[];return new Wf(S,E)})(t.startAt));let g=null;return t.endAt&&(g=(function(_){const E=!_.before,S=_.values||[];return new Wf(S,E)})(t.endAt)),EC(e,a,u,l,p,"F",m,g)}function s2(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function DT(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=_o(t.unaryFilter.field);return qt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=_o(t.unaryFilter.field);return qt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=_o(t.unaryFilter.field);return qt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=_o(t.unaryFilter.field);return qt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(n):n.fieldFilter!==void 0?(function(t){return qt.create(_o(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Ar.create(t.compositeFilter.filters.map((s=>DT(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(t.compositeFilter.op))})(n):Ae(30097,{filter:n})}function a2(n){return YC[n]}function o2(n){return KC[n]}function l2(n){return QC[n]}function vo(n){return{fieldPath:n.canonicalString()}}function _o(n){return ln.fromServerFormat(n.fieldPath)}function NT(n){return n instanceof qt?(function(t){if(t.op==="=="){if(S0(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NAN"}};if(T0(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(S0(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NOT_NAN"}};if(T0(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vo(t.field),op:o2(t.op),value:t.value}}})(n):n instanceof Ar?(function(t){const s=t.getFilters().map((a=>NT(a)));return s.length===1?s[0]:{compositeFilter:{op:l2(t.op),filters:s}}})(n):Ae(54877,{filter:n})}function c2(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function OT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function MT(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class ms{constructor(e,t,s,a,l=Re.min(),u=Re.min(),p=un.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class u2{constructor(e){this.yt=e}}function f2(n){const e=i2({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Jf(e,e.limit,"L"):e}class d2{constructor(){this.Sn=new h2}addToCollectionParentIndex(e,t){return this.Sn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(As.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(As.min())}updateCollectionGroup(e,t,s){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class h2{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new $t(mt.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new $t(mt.comparator)).toArray()}}const U0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VT=41943040;class Cn{static withCacheSize(e){return new Cn(e,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(VT,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);class Vo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Vo(0)}static ar(){return new Vo(-1)}}const z0="LruGarbageCollector",p2=1048576;function j0([n,e],[t,s]){const a=Ge(n,t);return a===0?Ge(e,s):a}class m2{constructor(e){this.Pr=e,this.buffer=new $t(j0),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();j0(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class g2{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){pe(z0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Go(t)?pe(z0,"Ignoring IndexedDB error during garbage collection: ",t):await qo(t)}await this.Ar(3e5)}))}}class y2{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(Sd.ce);const s=new m2(t);return this.Vr.forEachTarget(e,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(U0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),U0):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let s,a,l,u,p,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,u=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(s=_,p=Date.now(),this.removeTargets(e,s,t)))).next((_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((_=>(g=Date.now(),go()<=qe.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(p-u)+`ms
	Removed ${l} targets in `+(m-p)+`ms
	Removed ${_} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function v2(n,e){return new y2(n,e)}class _2{constructor(){this.changes=new Ta((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ne.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class b2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class E2{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(s!==null&&mc(s.mutation,a,br.empty(),vt.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Fe()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Fe()){const a=ha();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,s).next((l=>{let u=oc();return l.forEach(((p,m)=>{u=u.insert(p,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const s=ha();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Fe())))}populateOverlays(e,t,s){const a=[];return s.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,p)=>{t.set(u,p)}))}))}computeViews(e,t,s,a){let l=Di();const u=pc(),p=(function(){return pc()})();return t.forEach(((m,g)=>{const v=s.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof Sa)?l=l.insert(g.key,g):v!==void 0?(u.set(g.key,v.mutation.getFieldMask()),mc(v.mutation,g,v.mutation.getFieldMask(),vt.now())):u.set(g.key,br.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((g,v)=>u.set(g,v))),t.forEach(((g,v)=>p.set(g,new b2(v,u.get(g)??null)))),p)))}recalculateAndSaveOverlays(e,t){const s=pc();let a=new St(((u,p)=>u-p)),l=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const p of u)p.keys().forEach((m=>{const g=t.get(m);if(g===null)return;let v=s.get(m)||br.empty();v=p.applyToLocalView(g,v),s.set(m,v);const _=(a.get(p.batchId)||Fe()).add(m);a=a.insert(p.batchId,_)}))})).next((()=>{const u=[],p=a.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),g=m.key,v=m.value,_=pT();v.forEach((E=>{if(!l.has(E)){const S=bT(t.get(E),s.get(E));S!==null&&_.set(E,S),l=l.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,_))}return ne.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,a){return wC(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):cT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-l.size):ne.resolve(ha());let p=bc,m=l;return u.next((g=>ne.forEach(g,((v,_)=>(p<_.largestBatchId&&(p=_.largestBatchId),l.get(v)?ne.resolve():this.remoteDocumentCache.getEntry(e,v).next((E=>{m=m.insert(v,E)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,m,g,Fe()))).next((v=>({batchId:p,changes:hT(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next((s=>{let a=oc();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const l=t.collectionGroup;let u=oc();return this.indexManager.getCollectionParents(e,l).next((p=>ne.forEach(p,(m=>{const g=(function(_,E){return new Fo(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,a).next((v=>{v.forEach(((_,E)=>{u=u.insert(_,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,a)))).next((u=>{l.forEach(((m,g)=>{const v=g.getKey();u.get(v)===null&&(u=u.insert(v,pn.newInvalidDocument(v)))}));let p=oc();return u.forEach(((m,g)=>{const v=l.get(m);v!==void 0&&mc(v.mutation,g,br.empty(),vt.now()),Cd(t,g)&&(p=p.insert(m,g))})),p}))}}class w2{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return ne.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:Zr(a.createTime)}})(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(a){return{name:a.name,query:f2(a.bundledQuery),readTime:Zr(a.readTime)}})(t)),ne.resolve()}}class T2{constructor(){this.overlays=new St(we.comparator),this.Lr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ha();return ne.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((a,l)=>{this.bt(e,t,l)})),ne.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),ne.resolve()}getOverlaysForCollection(e,t,s){const a=ha(),l=t.length+1,u=new we(t.child("")),p=this.overlays.getIteratorFrom(u);for(;p.hasNext();){const m=p.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return ne.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let l=new St(((g,v)=>g-v));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let v=l.get(g.largestBatchId);v===null&&(v=ha(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const p=ha(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,v)=>p.set(g,v))),!(p.size()>=a)););return ne.resolve(p)}bt(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new BC(t,s));let l=this.Lr.get(t);l===void 0&&(l=Fe(),this.Lr.set(t,l)),this.Lr.set(t,l.add(s.key))}}class S2{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}class bg{constructor(){this.kr=new $t(Xt.Kr),this.qr=new $t(Xt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const s=new Xt(e,t);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Wr(new Xt(e,t))}Qr(e,t){e.forEach((s=>this.removeReference(s,t)))}Gr(e){const t=new we(new mt([])),s=new Xt(t,e),a=new Xt(t,e+1),l=[];return this.qr.forEachInRange([s,a],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new we(new mt([])),s=new Xt(t,e),a=new Xt(t,e+1);let l=Fe();return this.qr.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const t=new Xt(e,0),s=this.kr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Xt{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return we.comparator(e.key,t.key)||Ge(e.Hr,t.Hr)}static Ur(e,t){return Ge(e.Hr,t.Hr)||we.comparator(e.key,t.key)}}class A2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new $t(Xt.Kr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new jC(l,t,s,a);this.mutationQueue.push(u);for(const p of a)this.Jr=this.Jr.add(new Xt(p.key,l)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ne.resolve(u)}lookupMutationBatch(e,t){return ne.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.Xr(s),l=a<0?0:a;return ne.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?fg:this.Yn-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Xt(t,0),a=new Xt(t,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(u=>{const p=this.Zr(u.Hr);l.push(p)})),ne.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new $t(Ge);return t.forEach((a=>{const l=new Xt(a,0),u=new Xt(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(p=>{s=s.add(p.Hr)}))})),ne.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;we.isDocumentKey(l)||(l=l.child(""));const u=new Xt(new we(l),0);let p=new $t(Ge);return this.Jr.forEachWhile((m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(p=p.add(m.Hr)),!0)}),u),ne.resolve(this.Yr(p))}Yr(e){const t=[];return e.forEach((s=>{const a=this.Zr(s);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){it(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ne.forEach(t.mutations,(a=>{const l=new Xt(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,t){const s=new Xt(t,0),a=this.Jr.firstAfterOrEqual(s);return ne.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class x2{constructor(e){this.ti=e,this.docs=(function(){return new St(we.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),l=a?a.size:0,u=this.ti(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ne.resolve(s?s.document.mutableCopy():pn.newInvalidDocument(t))}getEntries(e,t){let s=Di();return t.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():pn.newInvalidDocument(a))})),ne.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let l=Di();const u=t.path,p=new we(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||JR(WR(v),s)<=0||(a.has(v.key)||Cd(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ne.resolve(l)}getAllFromCollectionGroup(e,t,s,a){Ae(9500)}ni(e,t){return ne.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new I2(this)}getSize(e){return ne.resolve(this.size)}}class I2 extends _2{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?t.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(s)})),ne.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class R2{constructor(e){this.persistence=e,this.ri=new Ta((t=>pg(t)),mg),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.ii=0,this.si=new bg,this.targetCount=0,this.oi=Vo._r()}forEachTarget(e,t){return this.ri.forEach(((s,a)=>t(a))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.ii&&(this.ii=t),ne.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Vo(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.lr(t),ne.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.ri.forEach(((u,p)=>{p.sequenceNumber<=t&&s.get(p.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(e,p.targetId)),a++)})),ne.waitFor(l).next((()=>a))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const s=this.ri.get(t)||null;return ne.resolve(s)}addMatchingKeys(e,t,s){return this.si.$r(t,s),ne.resolve()}removeMatchingKeys(e,t,s){this.si.Qr(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),ne.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const s=this.si.jr(t);return ne.resolve(s)}containsKey(e,t){return ne.resolve(this.si.containsKey(t))}}class PT{constructor(e,t){this._i={},this.overlays={},this.ai=new Sd(0),this.ui=!1,this.ui=!0,this.ci=new S2,this.referenceDelegate=e(this),this.li=new R2(this),this.indexManager=new d2,this.remoteDocumentCache=(function(a){return new x2(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new u2(t),this.Pi=new w2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new T2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this._i[e.toKey()];return s||(s=new A2(t,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,s){pe("MemoryPersistence","Starting transaction:",e);const a=new C2(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,t){return ne.or(Object.values(this._i).map((s=>()=>s.containsKey(e,t))))}}class C2 extends eC{constructor(e){super(),this.currentSequenceNumber=e}}class Eg{constructor(e){this.persistence=e,this.Ri=new bg,this.Ai=null}static Vi(e){return new Eg(e)}get di(){if(this.Ai)return this.Ai;throw Ae(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.di.delete(s.toString()),ne.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.di.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.di,(s=>{const a=we.fromPath(s);return this.mi(e,a).next((l=>{l||t.removeEntry(a,Re.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((s=>{s?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return ne.or([()=>ne.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class nd{constructor(e,t){this.persistence=e,this.fi=new Ta((s=>rC(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=v2(this,t)}static Vi(e,t){return new nd(e,t)}Ti(){}Ii(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((a=>s+a))))}pr(e){let t=0;return this.mr(e,(s=>{t++})).next((()=>t))}mr(e,t){return ne.forEach(this.fi,((s,a)=>this.wr(e,s,a).next((l=>l?ne.resolve():t(a)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(u=>this.wr(e,u,t).next((p=>{p||(s++,l.removeEntry(u,Re.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),ne.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=kf(e.data.value)),t}wr(e,t,s){return ne.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.fi.get(t);return ne.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class wg{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Ts=s,this.Is=a}static Es(e,t){let s=Fe(),a=Fe();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new wg(e,t.fromCache,s,a)}}class D2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class N2{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return bI()?8:tC(mn())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,a){const l={result:null};return this.gs(e,t).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(e,t,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new D2;return this.ys(e,t,u).next((p=>{if(l.result=p,this.As)return this.ws(e,t,u,p.size)}))})).next((()=>l.result))}ws(e,t,s,a){return s.documentReadCount<this.Vs?(go()<=qe.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",yo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ne.resolve()):(go()<=qe.DEBUG&&pe("QueryEngine","Query:",yo(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(go()<=qe.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",yo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wr(t))):ne.resolve())}gs(e,t){if(R0(t))return ne.resolve(null);let s=Wr(t);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=Jf(t,null,"F"),s=Wr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=Fe(...l);return this.fs.getDocuments(e,u).next((p=>this.indexManager.getMinOffset(e,s).next((m=>{const g=this.bs(t,p);return this.Ss(t,g,u,m.readTime)?this.gs(e,Jf(t,null,"F")):this.Ds(e,g,t,m)}))))})))))}ps(e,t,s,a){return R0(t)||a.isEqual(Re.min())?ne.resolve(null):this.fs.getDocuments(e,s).next((l=>{const u=this.bs(t,l);return this.Ss(t,u,s,a)?ne.resolve(null):(go()<=qe.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),yo(t)),this.Ds(e,u,t,XR(a,bc)).next((p=>p)))}))}bs(e,t){let s=new $t(fT(e));return t.forEach(((a,l)=>{Cd(e,l)&&(s=s.add(l))})),s}Ss(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,t,s){return go()<=qe.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",yo(t)),this.fs.getDocumentsMatchingQuery(e,t,As.min(),s)}Ds(e,t,s,a){return this.fs.getDocumentsMatchingQuery(e,s,a).next((l=>(t.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const Tg="LocalStore",O2=3e8;class M2{constructor(e,t,s,a){this.persistence=e,this.Cs=t,this.serializer=a,this.vs=new St(Ge),this.Fs=new Ta((l=>pg(l)),mg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new E2(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function V2(n,e,t,s){return new M2(n,e,t,s)}async function kT(n,e){const t=De(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,t.Os(e),t.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],p=[];let m=Fe();for(const g of a){u.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of l){p.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return t.localDocuments.getDocuments(s,m).next((g=>({Ns:g,removedBatchIds:u,addedBatchIds:p})))}))}))}function P2(n,e){const t=De(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=t.xs.newChangeBuffer({trackRemovals:!0});return(function(p,m,g,v){const _=g.batch,E=_.keys();let S=ne.resolve();return E.forEach((V=>{S=S.next((()=>v.getEntry(m,V))).next((z=>{const P=g.docVersions.get(V);it(P!==null,48541),z.version.compareTo(P)<0&&(_.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),v.addEntry(z)))}))})),S.next((()=>p.mutationQueue.removeMutationBatch(m,_)))})(t,s,e,l).next((()=>l.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let m=Fe();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(m=m.add(p.batch.mutations[g].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(s,a)))}))}function LT(n){const e=De(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function k2(n,e){const t=De(n),s=e.snapshotVersion;let a=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=t.xs.newChangeBuffer({trackRemovals:!0});a=t.vs;const p=[];e.targetChanges.forEach(((v,_)=>{const E=a.get(_);if(!E)return;p.push(t.li.removeMatchingKeys(l,v.removedDocuments,_).next((()=>t.li.addMatchingKeys(l,v.addedDocuments,_))));let S=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?S=S.withResumeToken(un.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):v.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(v.resumeToken,s)),a=a.insert(_,S),(function(z,P,F){return z.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=O2?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(E,S,v)&&p.push(t.li.updateTargetData(l,S))}));let m=Di(),g=Fe();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),p.push(L2(l,u,e.documentUpdates).next((v=>{m=v.Bs,g=v.Ls}))),!s.isEqual(Re.min())){const v=t.li.getLastRemoteSnapshotVersion(l).next((_=>t.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));p.push(v)}return ne.waitFor(p).next((()=>u.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(t.vs=a,l)))}function L2(n,e,t){let s=Fe(),a=Fe();return t.forEach((l=>s=s.add(l))),e.getEntries(n,s).next((l=>{let u=Di();return t.forEach(((p,m)=>{const g=l.get(p);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(p)),m.isNoDocument()&&m.version.isEqual(Re.min())?(e.removeEntry(p,m.readTime),u=u.insert(p,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),u=u.insert(p,m)):pe(Tg,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",m.version)})),{Bs:u,Ls:a}}))}function U2(n,e){const t=De(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=fg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function z2(n,e){const t=De(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return t.li.getTargetData(s,e).next((l=>l?(a=l,ne.resolve(a)):t.li.allocateTargetId(s).next((u=>(a=new ms(e,u,"TargetPurposeListen",s.currentSequenceNumber),t.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=t.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.vs=t.vs.insert(s.targetId,s),t.Fs.set(e,s.targetId)),s}))}async function Um(n,e,t){const s=De(n),a=s.vs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Go(u))throw u;pe(Tg,`Failed to update sequence numbers for target ${e}: ${u}`)}s.vs=s.vs.remove(e),s.Fs.delete(a.target)}function B0(n,e,t){const s=De(n);let a=Re.min(),l=Fe();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,g,v){const _=De(m),E=_.Fs.get(v);return E!==void 0?ne.resolve(_.vs.get(E)):_.li.getTargetData(g,v)})(s,u,Wr(e)).next((p=>{if(p)return a=p.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(u,p.targetId).next((m=>{l=m}))})).next((()=>s.Cs.getDocumentsMatchingQuery(u,e,t?a:Re.min(),t?l:Fe()))).next((p=>(j2(s,AC(e),p),{documents:p,ks:l})))))}function j2(n,e,t){let s=n.Ms.get(e)||Re.min();t.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),n.Ms.set(e,s)}class H0{constructor(){this.activeTargetIds=NC()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class B2{constructor(){this.vo=new H0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,s){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new H0,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class H2{Mo(e){}shutdown(){}}const q0="ConnectivityMonitor";class G0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){pe(q0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){pe(q0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let If=null;function zm(){return If===null?If=(function(){return 268435456+Math.round(2147483648*Math.random())})():If++,"0x"+If.toString(16)}const im="RestConnection",q2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class G2{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===Qf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(e,t,s,a,l){const u=zm(),p=this.Qo(e,t.toUriEncodedString());pe(im,`Sending RPC '${e}' ${u}:`,p,s);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,a,l);const{host:g}=new URL(p),v=jo(g);return this.zo(e,p,m,s,v).then((_=>(pe(im,`Received RPC '${e}' ${u}: `,_),_)),(_=>{throw Do(im,`RPC '${e}' ${u} failed with error: `,_,"url: ",p,"request:",s),_}))}jo(e,t,s,a,l,u){return this.Wo(e,t,s,a,l)}Go(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ho})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}Qo(e,t){const s=q2[e];let a=`${this.qo}/v1/${t}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class F2{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const dn="WebChannelConnection",tc=(n,e,t)=>{n.listen(e,(s=>{try{t(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Eo extends G2{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Eo.c_){const e=Bw();tc(e,jw.STAT_EVENT,(t=>{t.stat===Im.PROXY?pe(dn,"STAT_EVENT: detected buffering proxy"):t.stat===Im.NOPROXY&&pe(dn,"STAT_EVENT: detected no buffering proxy")})),Eo.c_=!0}}zo(e,t,s,a,l){const u=zm();return new Promise(((p,m)=>{const g=new Uw;g.setWithCredentials(!0),g.listenOnce(zw.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Pf.NO_ERROR:const _=g.getResponseJson();pe(dn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),p(_);break;case Pf.TIMEOUT:pe(dn,`RPC '${e}' ${u} timed out`),m(new he(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Pf.HTTP_ERROR:const E=g.getStatus();if(pe(dn,`RPC '${e}' ${u} failed with status:`,E,"response text:",g.getResponseText()),E>0){let S=g.getResponseJson();Array.isArray(S)&&(S=S[0]);const V=S?.error;if(V&&V.status&&V.message){const z=(function(F){const Q=F.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(Q)>=0?Q:ee.UNKNOWN})(V.status);m(new he(z,V.message))}else m(new he(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new he(ee.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{pe(dn,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(a);pe(dn,`RPC '${e}' ${u} sending request:`,a),g.send(t,"POST",v,s,15)}))}T_(e,t,s){const a=zm(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const g=l.join("");pe(dn,`Creating RPC '${e}' stream ${a}: ${g}`,p);const v=u.createWebChannel(g,p);this.I_(v);let _=!1,E=!1;const S=new F2({Ho:V=>{E?pe(dn,`Not sending because RPC '${e}' stream ${a} is closed:`,V):(_||(pe(dn,`Opening RPC '${e}' stream ${a} transport.`),v.open(),_=!0),pe(dn,`RPC '${e}' stream ${a} sending:`,V),v.send(V))},Jo:()=>v.close()});return tc(v,ac.EventType.OPEN,(()=>{E||(pe(dn,`RPC '${e}' stream ${a} transport opened.`),S.i_())})),tc(v,ac.EventType.CLOSE,(()=>{E||(E=!0,pe(dn,`RPC '${e}' stream ${a} transport closed`),S.o_(),this.E_(v))})),tc(v,ac.EventType.ERROR,(V=>{E||(E=!0,Do(dn,`RPC '${e}' stream ${a} transport errored. Name:`,V.name,"Message:",V.message),S.o_(new he(ee.UNAVAILABLE,"The operation could not be completed")))})),tc(v,ac.EventType.MESSAGE,(V=>{if(!E){const z=V.data[0];it(!!z,16349);const P=z,F=P?.error||P[0]?.error;if(F){pe(dn,`RPC '${e}' stream ${a} received error:`,F);const Q=F.status;let re=(function(ae){const R=Ht[ae];if(R!==void 0)return TT(R)})(Q),te=F.message;re===void 0&&(re=ee.INTERNAL,te="Unknown error status: "+Q+" with message "+F.message),E=!0,S.o_(new he(re,te)),v.close()}else pe(dn,`RPC '${e}' stream ${a} received:`,z),S.__(z)}})),Eo.u_(),setTimeout((()=>{S.s_()}),0),S}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,s){super.Go(e,t,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Hw()}}function $2(n){return new Eo(n)}function sm(){return typeof document<"u"?document:null}function Md(n){return new XC(n,!0)}Eo.c_=!1;class UT{constructor(e,t,s=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=t,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-s);a>0&&pe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const F0="PersistentStream";class zT{constructor(e,t,s,a,l,u,p,m){this.Ci=e,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new UT(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(Ci(t.toString()),Ci("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===t&&this.G_(s,a)}),(s=>{e((()=>{const a=new he(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,t){const s=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(F0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(pe(F0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Y2 extends zT{constructor(e,t,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,u),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=ZC(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Re.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Re.min():u.readTime?Zr(u.readTime):Re.min()})(e);return this.listener.J_(t,s)}Z_(e){const t={};t.database=Lm(this.serializer),t.addTarget=(function(l,u){let p;const m=u.target;if(p=Om(m)?{documents:n2(l,m)}:{query:r2(l,m).ft},p.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){p.resumeToken=xT(l,u.resumeToken);const g=Vm(l,u.expectedCount);g!==null&&(p.expectedCount=g)}else if(u.snapshotVersion.compareTo(Re.min())>0){p.readTime=td(l,u.snapshotVersion.toTimestamp());const g=Vm(l,u.expectedCount);g!==null&&(p.expectedCount=g)}return p})(this.serializer,e);const s=s2(this.serializer,e);s&&(t.labels=s),this.K_(t)}X_(e){const t={};t.database=Lm(this.serializer),t.removeTarget=e,this.K_(t)}}class K2 extends zT{constructor(e,t,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return it(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){it(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=t2(e.writeResults,e.commitTime),s=Zr(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Lm(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>e2(this.serializer,s)))};this.K_(t)}}class Q2{}class X2 extends Q2{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(e,Pm(t,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(ee.UNKNOWN,l.toString())}))}jo(e,t,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,p])=>this.connection.jo(e,Pm(t,s),a,u,p,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ee.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function W2(n,e,t,s){return new X2(n,e,t,s)}class J2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ci(t),this.aa=!1):pe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const _a="RemoteStore";class Z2{constructor(e,t,s,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{s.enqueueAndForget((async()=>{Aa(this)&&(pe(_a,"Restarting streams for network reachability change."),await(async function(m){const g=De(m);g.Ea.add(4),await jc(g),g.Va.set("Unknown"),g.Ea.delete(4),await Vd(g)})(this))}))})),this.Va=new J2(s,a)}}async function Vd(n){if(Aa(n))for(const e of n.Ra)await e(!0)}async function jc(n){for(const e of n.Ra)await e(!1)}function jT(n,e){const t=De(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Ig(t)?xg(t):$o(t).O_()&&Ag(t,e))}function Sg(n,e){const t=De(n),s=$o(t);t.Ia.delete(e),s.O_()&&BT(t,e),t.Ia.size===0&&(s.O_()?s.L_():Aa(t)&&t.Va.set("Unknown"))}function Ag(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}$o(n).Z_(e)}function BT(n,e){n.da.$e(e),$o(n).X_(e)}function xg(n){n.da=new $C({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),$o(n).start(),n.Va.ua()}function Ig(n){return Aa(n)&&!$o(n).x_()&&n.Ia.size>0}function Aa(n){return De(n).Ea.size===0}function HT(n){n.da=void 0}async function eD(n){n.Va.set("Online")}async function tD(n){n.Ia.forEach(((e,t)=>{Ag(n,e)}))}async function nD(n,e){HT(n),Ig(n)?(n.Va.ha(e),xg(n)):n.Va.set("Unknown")}async function rD(n,e,t){if(n.Va.set("Online"),e instanceof AT&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const p of l.targetIds)a.Ia.has(p)&&(await a.remoteSyncer.rejectListen(p,u),a.Ia.delete(p),a.da.removeTarget(p))})(n,e)}catch(s){pe(_a,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await rd(n,s)}else if(e instanceof zf?n.da.Xe(e):e instanceof ST?n.da.st(e):n.da.tt(e),!t.isEqual(Re.min()))try{const s=await LT(n.localStore);t.compareTo(s)>=0&&await(function(l,u){const p=l.da.Tt(u);return p.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(m.resumeToken,u))}})),p.targetMismatches.forEach(((m,g)=>{const v=l.Ia.get(m);if(!v)return;l.Ia.set(m,v.withResumeToken(un.EMPTY_BYTE_STRING,v.snapshotVersion)),BT(l,m);const _=new ms(v.target,m,g,v.sequenceNumber);Ag(l,_)})),l.remoteSyncer.applyRemoteEvent(p)})(n,t)}catch(s){pe(_a,"Failed to raise snapshot:",s),await rd(n,s)}}async function rd(n,e,t){if(!Go(e))throw e;n.Ea.add(1),await jc(n),n.Va.set("Offline"),t||(t=()=>LT(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{pe(_a,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Vd(n)}))}function qT(n,e){return e().catch((t=>rd(n,t,e)))}async function Pd(n){const e=De(n),t=Cs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:fg;for(;iD(e);)try{const a=await U2(e.localStore,s);if(a===null){e.Ta.length===0&&t.L_();break}s=a.batchId,sD(e,a)}catch(a){await rd(e,a)}GT(e)&&FT(e)}function iD(n){return Aa(n)&&n.Ta.length<10}function sD(n,e){n.Ta.push(e);const t=Cs(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function GT(n){return Aa(n)&&!Cs(n).x_()&&n.Ta.length>0}function FT(n){Cs(n).start()}async function aD(n){Cs(n).ra()}async function oD(n){const e=Cs(n);for(const t of n.Ta)e.ea(t.mutations)}async function lD(n,e,t){const s=n.Ta.shift(),a=yg.from(s,e,t);await qT(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await Pd(n)}async function cD(n,e){e&&Cs(n).Y_&&await(async function(s,a){if((function(u){return qC(u)&&u!==ee.ABORTED})(a.code)){const l=s.Ta.shift();Cs(s).B_(),await qT(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Pd(s)}})(n,e),GT(n)&&FT(n)}async function $0(n,e){const t=De(n);t.asyncQueue.verifyOperationInProgress(),pe(_a,"RemoteStore received new credentials");const s=Aa(t);t.Ea.add(3),await jc(t),s&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Vd(t)}async function uD(n,e){const t=De(n);e?(t.Ea.delete(2),await Vd(t)):e||(t.Ea.add(2),await jc(t),t.Va.set("Unknown"))}function $o(n){return n.ma||(n.ma=(function(t,s,a){const l=De(t);return l.sa(),new Y2(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:eD.bind(null,n),Yo:tD.bind(null,n),t_:nD.bind(null,n),J_:rD.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),Ig(n)?xg(n):n.Va.set("Unknown")):(await n.ma.stop(),HT(n))}))),n.ma}function Cs(n){return n.fa||(n.fa=(function(t,s,a){const l=De(t);return l.sa(),new K2(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:aD.bind(null,n),t_:cD.bind(null,n),ta:oD.bind(null,n),na:lD.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await Pd(n)):(await n.fa.stop(),n.Ta.length>0&&(pe(_a,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Rg{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new bs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,l){const u=Date.now()+s,p=new Rg(e,t,u,a,l);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cg(n,e){if(Ci("AsyncQueue",`${e}: ${n}`),Go(n))return new he(ee.UNAVAILABLE,`${e}: ${n}`);throw n}class wo{static emptySet(e){return new wo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||we.comparator(t.key,s.key):(t,s)=>we.comparator(t.key,s.key),this.keyedMap=oc(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof wo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new wo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class Y0{constructor(){this.ga=new St(we.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ae(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Po{constructor(e,t,s,a,l,u,p,m,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,a,l){const u=[];return t.forEach((p=>{u.push({type:0,doc:p})})),new Po(e,t,wo.emptySet(t),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class fD{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class dD{constructor(){this.queries=K0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const a=De(t),l=a.queries;a.queries=K0(),l.forEach(((u,p)=>{for(const m of p.ba)m.onError(s)}))})(this,new he(ee.ABORTED,"Firestore shutting down"))}}function K0(){return new Ta((n=>uT(n)),Rd)}async function $T(n,e){const t=De(n);let s=3;const a=e.query;let l=t.queries.get(a);l?!l.Sa()&&e.Da()&&(s=2):(l=new fD,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const p=Cg(u,`Initialization of query '${yo(e.query)}' failed`);return void e.onError(p)}t.queries.set(a,l),l.ba.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Dg(t)}async function YT(n,e){const t=De(n),s=e.query;let a=3;const l=t.queries.get(s);if(l){const u=l.ba.indexOf(e);u>=0&&(l.ba.splice(u,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function hD(n,e){const t=De(n);let s=!1;for(const a of e){const l=a.query,u=t.queries.get(l);if(u){for(const p of u.ba)p.Fa(a)&&(s=!0);u.wa=a}}s&&Dg(t)}function pD(n,e,t){const s=De(n),a=s.queries.get(e);if(a)for(const l of a.ba)l.onError(t);s.queries.delete(e)}function Dg(n){n.Ca.forEach((e=>{e.next()}))}var jm,Q0;(Q0=jm||(jm={})).Ma="default",Q0.Cache="cache";class KT{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Po(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==jm.Cache}}class QT{constructor(e){this.key=e}}class XT{constructor(e){this.key=e}}class mD{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Fe(),this.mutatedKeys=Fe(),this.eu=fT(e),this.tu=new wo(this.eu)}get nu(){return this.Za}ru(e,t){const s=t?t.iu:new Y0,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,u=a,p=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,_)=>{const E=a.get(v),S=Cd(this.query,_)?_:null,V=!!E&&this.mutatedKeys.has(E.key),z=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let P=!1;E&&S?E.data.isEqual(S.data)?V!==z&&(s.track({type:3,doc:S}),P=!0):this.su(E,S)||(s.track({type:2,doc:S}),P=!0,(m&&this.eu(S,m)>0||g&&this.eu(S,g)<0)&&(p=!0)):!E&&S?(s.track({type:0,doc:S}),P=!0):E&&!S&&(s.track({type:1,doc:E}),P=!0,(m||g)&&(p=!0)),P&&(S?(u=u.add(S),l=z?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{tu:u,iu:s,Ss:p,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,_)=>(function(S,V){const z=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Vt:P})}};return z(S)-z(V)})(v.type,_.type)||this.eu(v.doc,_.doc))),this.ou(s),a=a??!1;const p=t&&!a?this._u():[],m=this.Ya.size===0&&this.current&&!a?1:0,g=m!==this.Xa;return this.Xa=m,u.length!==0||g?{snapshot:new Po(this.query,e.tu,l,u,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Y0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Fe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const t=[];return e.forEach((s=>{this.Ya.has(s)||t.push(new XT(s))})),this.Ya.forEach((s=>{e.has(s)||t.push(new QT(s))})),t}cu(e){this.Za=e.ks,this.Ya=Fe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Po.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Ng="SyncEngine";class gD{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class yD{constructor(e){this.key=e,this.hu=!1}}class vD{constructor(e,t,s,a,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ta((p=>uT(p)),Rd),this.Iu=new Map,this.Eu=new Set,this.Ru=new St(we.comparator),this.Au=new Map,this.Vu=new bg,this.du={},this.mu=new Map,this.fu=Vo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _D(n,e,t=!0){const s=nS(n);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await WT(s,e,t,!0),a}async function bD(n,e){const t=nS(n);await WT(t,e,!0,!1)}async function WT(n,e,t,s){const a=await z2(n.localStore,Wr(e)),l=a.targetId,u=n.sharedClientState.addLocalQueryTarget(l,t);let p;return s&&(p=await ED(n,e,l,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&jT(n.remoteStore,a),p}async function ED(n,e,t,s,a){n.pu=(_,E,S)=>(async function(z,P,F,Q){let re=P.view.ru(F);re.Ss&&(re=await B0(z.localStore,P.query,!1).then((({documents:R})=>P.view.ru(R,re))));const te=Q&&Q.targetChanges.get(P.targetId),le=Q&&Q.targetMismatches.get(P.targetId)!=null,ae=P.view.applyChanges(re,z.isPrimaryClient,te,le);return W0(z,P.targetId,ae.au),ae.snapshot})(n,_,E,S);const l=await B0(n.localStore,e,!0),u=new mD(e,l.ks),p=u.ru(l.documents),m=zc.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",a),g=u.applyChanges(p,n.isPrimaryClient,m);W0(n,t,g.au);const v=new gD(e,t,u);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),g.snapshot}async function wD(n,e,t){const s=De(n),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!Rd(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Um(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),t&&Sg(s.remoteStore,a.targetId),Bm(s,a.targetId)})).catch(qo)):(Bm(s,a.targetId),await Um(s.localStore,a.targetId,!0))}async function TD(n,e){const t=De(n),s=t.Tu.get(e),a=t.Iu.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Sg(t.remoteStore,s.targetId))}async function SD(n,e,t){const s=ND(n);try{const a=await(function(u,p){const m=De(u),g=vt.now(),v=p.reduce(((S,V)=>S.add(V.key)),Fe());let _,E;return m.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let V=Di(),z=Fe();return m.xs.getEntries(S,v).next((P=>{V=P,V.forEach(((F,Q)=>{Q.isValidDocument()||(z=z.add(F))}))})).next((()=>m.localDocuments.getOverlayedDocuments(S,V))).next((P=>{_=P;const F=[];for(const Q of p){const re=UC(Q,_.get(Q.key).overlayedDocument);re!=null&&F.push(new Sa(Q.key,re,nT(re.value.mapValue),Jr.exists(!0)))}return m.mutationQueue.addMutationBatch(S,g,F,p)})).next((P=>{E=P;const F=P.applyToLocalDocumentSet(_,z);return m.documentOverlayCache.saveOverlays(S,P.batchId,F)}))})).then((()=>({batchId:E.batchId,changes:hT(_)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(u,p,m){let g=u.du[u.currentUser.toKey()];g||(g=new St(Ge)),g=g.insert(p,m),u.du[u.currentUser.toKey()]=g})(s,a.batchId,t),await Bc(s,a.changes),await Pd(s.remoteStore)}catch(a){const l=Cg(a,"Failed to persist write");t.reject(l)}}async function JT(n,e){const t=De(n);try{const s=await k2(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=t.Au.get(l);u&&(it(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?it(u.hu,14607):a.removedDocuments.size>0&&(it(u.hu,42227),u.hu=!1))})),await Bc(t,s,e)}catch(s){await qo(s)}}function X0(n,e,t){const s=De(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.Tu.forEach(((l,u)=>{const p=u.view.va(e);p.snapshot&&a.push(p.snapshot)})),(function(u,p){const m=De(u);m.onlineState=p;let g=!1;m.queries.forEach(((v,_)=>{for(const E of _.ba)E.va(p)&&(g=!0)})),g&&Dg(m)})(s.eventManager,e),a.length&&s.Pu.J_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function AD(n,e,t){const s=De(n);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Au.get(e),l=a&&a.key;if(l){let u=new St(we.comparator);u=u.insert(l,pn.newNoDocument(l,Re.min()));const p=Fe().add(l),m=new Od(Re.min(),new Map,new St(Ge),u,p);await JT(s,m),s.Ru=s.Ru.remove(l),s.Au.delete(e),Og(s)}else await Um(s.localStore,e,!1).then((()=>Bm(s,e,t))).catch(qo)}async function xD(n,e){const t=De(n),s=e.batch.batchId;try{const a=await P2(t.localStore,e);eS(t,s,null),ZT(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Bc(t,a)}catch(a){await qo(a)}}async function ID(n,e,t){const s=De(n);try{const a=await(function(u,p){const m=De(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return m.mutationQueue.lookupMutationBatch(g,p).next((_=>(it(_!==null,37113),v=_.keys(),m.mutationQueue.removeMutationBatch(g,_)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,p))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>m.localDocuments.getDocuments(g,v)))}))})(s.localStore,e);eS(s,e,t),ZT(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Bc(s,a)}catch(a){await qo(a)}}function ZT(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function eS(n,e,t){const s=De(n);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.du[s.currentUser.toKey()]=a}}function Bm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((s=>{n.Vu.containsKey(s)||tS(n,s)}))}function tS(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(Sg(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),Og(n))}function W0(n,e,t){for(const s of t)s instanceof QT?(n.Vu.addReference(s.key,e),RD(n,s)):s instanceof XT?(pe(Ng,"Document no longer in limbo: "+s.key),n.Vu.removeReference(s.key,e),n.Vu.containsKey(s.key)||tS(n,s.key)):Ae(19791,{wu:s})}function RD(n,e){const t=e.key,s=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(s)||(pe(Ng,"New document in limbo: "+t),n.Eu.add(s),Og(n))}function Og(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new we(mt.fromString(e)),s=n.fu.next();n.Au.set(s,new yD(t)),n.Ru=n.Ru.insert(t,s),jT(n.remoteStore,new ms(Wr(Id(t.path)),s,"TargetPurposeLimboResolution",Sd.ce))}}async function Bc(n,e,t){const s=De(n),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,m)=>{u.push(s.pu(m,e,t).then((g=>{if((g||t)&&s.isPrimaryClient){const v=g?!g.fromCache:t?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(g){a.push(g);const v=wg.Es(m.targetId,g);l.push(v)}})))})),await Promise.all(u),s.Pu.J_(a),await(async function(m,g){const v=De(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>ne.forEach(g,(E=>ne.forEach(E.Ts,(S=>v.persistence.referenceDelegate.addReference(_,E.targetId,S))).next((()=>ne.forEach(E.Is,(S=>v.persistence.referenceDelegate.removeReference(_,E.targetId,S)))))))))}catch(_){if(!Go(_))throw _;pe(Tg,"Failed to update sequence numbers: "+_)}for(const _ of g){const E=_.targetId;if(!_.fromCache){const S=v.vs.get(E),V=S.snapshotVersion,z=S.withLastLimboFreeSnapshotVersion(V);v.vs=v.vs.insert(E,z)}}})(s.localStore,l))}async function CD(n,e){const t=De(n);if(!t.currentUser.isEqual(e)){pe(Ng,"User change. New user:",e.toKey());const s=await kT(t.localStore,e);t.currentUser=e,(function(l,u){l.mu.forEach((p=>{p.forEach((m=>{m.reject(new he(ee.CANCELLED,u))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Bc(t,s.Ns)}}function DD(n,e){const t=De(n),s=t.Au.get(e);if(s&&s.hu)return Fe().add(s.key);{let a=Fe();const l=t.Iu.get(e);if(!l)return a;for(const u of l){const p=t.Tu.get(u);a=a.unionWith(p.view.nu)}return a}}function nS(n){const e=De(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=JT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AD.bind(null,e),e.Pu.J_=hD.bind(null,e.eventManager),e.Pu.yu=pD.bind(null,e.eventManager),e}function ND(n){const e=De(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ID.bind(null,e),e}class id{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Md(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return V2(this.persistence,new N2,e.initialUser,this.serializer)}Cu(e){return new PT(Eg.Vi,this.serializer)}Du(e){return new B2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}id.provider={build:()=>new id};class OD extends id{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){it(this.persistence.referenceDelegate instanceof nd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new g2(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new PT((s=>nd.Vi(s,t)),this.serializer)}}class Hm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>X0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=CD.bind(null,this.syncEngine),await uD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new dD})()}createDatastore(e){const t=Md(e.databaseInfo.databaseId),s=$2(e.databaseInfo);return W2(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,a,l,u,p){return new Z2(s,a,l,u,p)})(this.localStore,this.datastore,e.asyncQueue,(t=>X0(this.syncEngine,t,0)),(function(){return G0.v()?new G0:new H2})())}createSyncEngine(e,t){return(function(a,l,u,p,m,g,v){const _=new vD(a,l,u,p,m,g);return v&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=De(t);pe(_a,"RemoteStore shutting down."),s.Ea.add(5),await jc(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Hm.provider={build:()=>new Hm};class rS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ci("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Ds="FirestoreClient";class MD{constructor(e,t,s,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this._databaseInfo=a,this.user=hn.UNAUTHENTICATED,this.clientId=ug.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{pe(Ds,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(pe(Ds,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Cg(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function am(n,e){n.asyncQueue.verifyOperationInProgress(),pe(Ds,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async a=>{s.isEqual(a)||(await kT(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function J0(n,e){n.asyncQueue.verifyOperationInProgress();const t=await VD(n);pe(Ds,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>$0(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,a)=>$0(e.remoteStore,a))),n._onlineComponents=e}async function VD(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(Ds,"Using user provided OfflineComponentProvider");try{await am(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ee.FAILED_PRECONDITION||a.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Do("Error using user provided cache. Falling back to memory cache: "+t),await am(n,new id)}}else pe(Ds,"Using default OfflineComponentProvider"),await am(n,new OD(void 0));return n._offlineComponents}async function iS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(Ds,"Using user provided OnlineComponentProvider"),await J0(n,n._uninitializedComponentsProvider._online)):(pe(Ds,"Using default OnlineComponentProvider"),await J0(n,new Hm))),n._onlineComponents}function PD(n){return iS(n).then((e=>e.syncEngine))}async function qm(n){const e=await iS(n),t=e.eventManager;return t.onListen=_D.bind(null,e.syncEngine),t.onUnlisten=wD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=bD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=TD.bind(null,e.syncEngine),t}function kD(n,e,t,s){const a=new rS(s),l=new KT(e,a,t);return n.asyncQueue.enqueueAndForget((async()=>$T(await qm(n),l))),()=>{a.Nu(),n.asyncQueue.enqueueAndForget((async()=>YT(await qm(n),l)))}}function LD(n,e,t={}){const s=new bs;return n.asyncQueue.enqueueAndForget((async()=>(function(l,u,p,m,g){const v=new rS({next:E=>{v.Nu(),u.enqueueAndForget((()=>YT(l,_)));const S=E.docs.has(p);!S&&E.fromCache?g.reject(new he(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&E.fromCache&&m&&m.source==="server"?g.reject(new he(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:E=>g.reject(E)}),_=new KT(Id(p.path),v,{includeMetadataChanges:!0,Ka:!0});return $T(l,_)})(await qm(n),n.asyncQueue,e,t,s))),s.promise}function UD(n,e){const t=new bs;return n.asyncQueue.enqueueAndForget((async()=>SD(await PD(n),e,t))),t.promise}function sS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const zD="ComponentProvider",Z0=new Map;function jD(n,e,t,s,a){return new aC(n,e,t,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,sS(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}const aS="firestore.googleapis.com",eE=!0;class tE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aS,this.ssl=eE}else this.host=e.host,this.ssl=e.ssl??eE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=VT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<p2)throw new he(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kd{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new zR;switch(s.type){case"firstParty":return new qR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=Z0.get(t);s&&(pe(zD,"Removing Datastore"),Z0.delete(t),s.terminate())})(this),Promise.resolve()}}function BD(n,e,t,s={}){n=Ii(n,kd);const a=jo(e),l=n._getSettings(),u={...l,emulatorOptions:n._getEmulatorOptions()},p=`${e}:${t}`;a&&(Cw(`https://${p}`),Dw("Firestore",!0)),l.host!==aS&&l.host!==p&&Do("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:p,ssl:a,emulatorOptions:s};if(!ga(m,u)&&(n._setSettings(m),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=hn.MOCK_USER;else{g=fI(s.mockUserToken,n._app?.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new he(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new hn(_)}n._authCredentials=new jR(new Gw(g,v))}}class Ms{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ms(this.firestore,e,this._query)}}class Mt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Lc(t,Mt._jsonSchema))return new Mt(e,s||null,new we(mt.fromString(t.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:Gt("string",Mt._jsonSchemaVersion),referencePath:Gt("string")};class Es extends Ms{constructor(e,t,s){super(e,t,Id(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new we(e))}withConverter(e){return new Es(this.firestore,e,this._path)}}function Gm(n,e,...t){if(n=En(n),Fw("collection","path",e),n instanceof kd){const s=mt.fromString(e,...t);return p0(s),new Es(n,null,s)}{if(!(n instanceof Mt||n instanceof Es))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(mt.fromString(e,...t));return p0(s),new Es(n.firestore,null,s)}}function da(n,e,...t){if(n=En(n),arguments.length===1&&(e=ug.newId()),Fw("doc","path",e),n instanceof kd){const s=mt.fromString(e,...t);return h0(s),new Mt(n,null,new we(s))}{if(!(n instanceof Mt||n instanceof Es))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(mt.fromString(e,...t));return h0(s),new Mt(n.firestore,n instanceof Es?n.converter:null,new we(s))}}const nE="AsyncQueue";class rE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new UT(this,"async_queue_retry"),this._c=()=>{const s=sm();s&&pe(nE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=sm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=sm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new bs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Go(e))throw e;pe(nE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ci("INTERNAL UNHANDLED ERROR: ",iE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=Rg.createAndSchedule(this,e,t,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ae(47125,{Pc:iE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function iE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class ko extends kd{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new rE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rE(e),this._firestoreClient=void 0,await e}}}function HD(n,e){const t=typeof n=="object"?n:Vw(),s=typeof n=="string"?n:Qf,a=lg(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=cI("firestore");l&&BD(a,...l)}return a}function Mg(n){if(n._terminated)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||qD(n),n._firestoreClient}function qD(n){const e=n._freezeSettings(),t=jD(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new MD(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}class sr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sr(un.fromBase64String(e))}catch(t){throw new he(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new sr(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:sr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Lc(e,sr._jsonSchema))return sr.fromBase64String(e.bytes)}}sr._jsonSchemaVersion="firestore/bytes/1.0",sr._jsonSchema={type:Gt("string",sr._jsonSchemaVersion),bytes:Gt("string")};class oS{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class lS{constructor(e){this._methodName=e}}class ei{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ei._jsonSchemaVersion}}static fromJSON(e){if(Lc(e,ei._jsonSchema))return new ei(e.latitude,e.longitude)}}ei._jsonSchemaVersion="firestore/geoPoint/1.0",ei._jsonSchema={type:Gt("string",ei._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};class Tr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Tr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Lc(e,Tr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Tr(e.vectorValues);throw new he(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Tr._jsonSchemaVersion="firestore/vectorValue/1.0",Tr._jsonSchema={type:Gt("string",Tr._jsonSchemaVersion),vectorValues:Gt("object")};const GD=/^__.*__$/;class FD{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Sa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Uc(e,this.data,t,this.fieldTransforms)}}function cS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{dataSource:n})}}class Vg{constructor(e,t,s,a,l,u){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Vg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const t=this.path?.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return sd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(cS(this.dataSource)&&GD.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class $D{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Md(e)}createContext(e,t,s,a=!1){return new Vg({dataSource:e,methodName:t,targetDoc:s,path:ln.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pg(n){const e=n._freezeSettings(),t=Md(n._databaseId);return new $D(n._databaseId,!!e.ignoreUndefinedProperties,t)}function uS(n,e,t,s,a,l={}){const u=n.createContext(l.merge||l.mergeFields?2:0,e,t,a);hS("Data must be an object, but it was:",u,s);const p=fS(s,u);let m,g;if(l.merge)m=new br(u.fieldMask),g=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const _ of l.mergeFields){const E=Ld(e,_,t);if(!u.contains(E))throw new he(ee.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);XD(v,E)||v.push(E)}m=new br(v),g=u.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,g=u.fieldTransforms;return new FD(new ir(p),m,g)}function YD(n,e,t,s=!1){return kg(t,n.createContext(s?4:3,e))}function kg(n,e){if(dS(n=En(n)))return hS("Unsupported field value:",e,n),fS(n,e);if(n instanceof lS)return(function(s,a){if(!cS(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const p of s){let m=kg(p,a.childContextForArray(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(n,e)}return(function(s,a){if((s=En(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return OC(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=vt.fromDate(s);return{timestampValue:td(a.serializer,l)}}if(s instanceof vt){const l=new vt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:td(a.serializer,l)}}if(s instanceof ei)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof sr)return{bytesValue:xT(a.serializer,s._byteString)};if(s instanceof Mt){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:_g(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Tr)return(function(u,p){const m=u instanceof Tr?u.toArray():u;return{mapValue:{fields:{[eT]:{stringValue:tT},[Xf]:{arrayValue:{values:m.map((v=>{if(typeof v!="number")throw p.createError("VectorValues must only contain numeric values.");return gg(p.serializer,v)}))}}}}}})(s,a);if(MT(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Td(s)}`)})(n,e)}function fS(n,e){const t={};return Kw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wa(n,((s,a)=>{const l=kg(a,e.childContextForField(s));l!=null&&(t[s]=l)})),{mapValue:{fields:t}}}function dS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof vt||n instanceof ei||n instanceof sr||n instanceof Mt||n instanceof lS||n instanceof Tr||MT(n))}function hS(n,e,t){if(!dS(t)||!$w(t)){const s=Td(t);throw s==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+s)}}function Ld(n,e,t){if((e=En(e))instanceof oS)return e._internalPath;if(typeof e=="string")return QD(n,e);throw sd("Field path arguments must be of type string or ",n,!1,void 0,t)}const KD=new RegExp("[~\\*/\\[\\]]");function QD(n,e,t){if(e.search(KD)>=0)throw sd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new oS(...e.split("."))._internalPath}catch{throw sd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function sd(n,e,t,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${s}`),u&&(m+=` in document ${a}`),m+=")"),new he(ee.INVALID_ARGUMENT,p+n+m)}function XD(n,e){return n.some((t=>t.isEqual(e)))}class WD{convertValue(e,t="none"){switch(Rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return wa(e,((a,l)=>{s[a]=this.convertValue(l,t)})),s}convertVectorValue(e){const t=e.fields?.[Xf].arrayValue?.values?.map((s=>Ot(s.doubleValue)));return new Tr(t)}convertGeoPoint(e){return new ei(Ot(e.latitude),Ot(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=xd(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Ec(e));default:return null}}convertTimestamp(e){const t=xs(e);return new vt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=mt.fromString(e);it(OT(s),9688,{name:e});const a=new wc(s.get(1),s.get(3)),l=new we(s.popFirst(5));return a.isEqual(t)||Ci(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}class pS extends WD{constructor(e){super(),this.firestore=e}convertBytes(e){return new sr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,t)}}const sE="@firebase/firestore",aE="4.10.0";function oE(n){return(function(t,s){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(n,["next","error","complete"])}class mS{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new JD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Ld("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class JD extends mS{data(){return super.data()}}function ZD(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new he(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lg{}class Ug extends Lg{}function eN(n,e,...t){let s=[];e instanceof Lg&&s.push(e),s=s.concat(t),(function(l){const u=l.filter((m=>m instanceof jg)).length,p=l.filter((m=>m instanceof zg)).length;if(u>1||u>0&&p>0)throw new he(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)n=a._apply(n);return n}class zg extends Ug{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new zg(e,t,s)}_apply(e){const t=this._parse(e);return gS(e._query,t),new Ms(e.firestore,e.converter,Mm(e._query,t))}_parse(e){const t=Pg(e.firestore);return(function(l,u,p,m,g,v,_){let E;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new he(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){cE(_,v);const V=[];for(const z of _)V.push(lE(m,l,z));E={arrayValue:{values:V}}}else E=lE(m,l,_)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||cE(_,v),E=YD(p,u,_,v==="in"||v==="not-in");return qt.create(g,v,E)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class jg extends Lg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new jg(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:Ar.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let u=a;const p=l.getFlattenedFilters();for(const m of p)gS(u,m),u=Mm(u,m)})(e._query,t),new Ms(e.firestore,e.converter,Mm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Bg extends Ug{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Bg(e,t)}_apply(e){const t=(function(a,l,u){if(a.startAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Sc(l,u)})(e._query,this._field,this._direction);return new Ms(e.firestore,e.converter,SC(e._query,t))}}function tN(n,e="asc"){const t=e,s=Ld("orderBy",n);return Bg._create(s,t)}class Hg extends Ug{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Hg(e,t,s)}_apply(e){return new Ms(e.firestore,e.converter,Jf(e._query,this._limit,this._limitType))}}function nN(n){return Hg._create("limit",n,"F")}function lE(n,e,t){if(typeof(t=En(t))=="string"){if(t==="")throw new he(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cT(e)&&t.indexOf("/")!==-1)throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(mt.fromString(t));if(!we.isDocumentKey(s))throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return w0(n,new we(s))}if(t instanceof Mt)return w0(n,t._key);throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Td(t)}.`)}function cE(n,e){if(!Array.isArray(n)||n.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gS(n,e){const t=(function(a,l){for(const u of a)for(const p of u.getFlattenedFilters())if(l.indexOf(p.op)>=0)return p.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function yS(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}class cc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ma extends mS{constructor(e,t,s,a,l,u){super(e,t,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new jf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Ld("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ma._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ma._jsonSchemaVersion="firestore/documentSnapshot/1.0",ma._jsonSchema={type:Gt("string",ma._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class jf extends ma{data(e={}){return super.data(e)}}class To{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new cc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new jf(this._firestore,this._userDataWriter,s.key,s,new cc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((p=>{const m=new jf(a._firestore,a._userDataWriter,p.doc.key,p.doc,new cc(a._snapshot.mutatedKeys.has(p.doc.key),a._snapshot.fromCache),a.query.converter);return p.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((p=>l||p.type!==3)).map((p=>{const m=new jf(a._firestore,a._userDataWriter,p.doc.key,p.doc,new cc(a._snapshot.mutatedKeys.has(p.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return p.type!==0&&(g=u.indexOf(p.doc.key),u=u.delete(p.doc.key)),p.type!==1&&(u=u.add(p.doc),v=u.indexOf(p.doc.key)),{type:rN(p.type),doc:m,oldIndex:g,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=To._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ug.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function rN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:n})}}To._jsonSchemaVersion="firestore/querySnapshot/1.0",To._jsonSchema={type:Gt("string",To._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};function Fm(n){n=Ii(n,Mt);const e=Ii(n.firestore,ko),t=Mg(e);return LD(t,n._key).then((s=>bS(e,n,s)))}function uc(n,e,t){n=Ii(n,Mt);const s=Ii(n.firestore,ko),a=yS(n.converter,e,t),l=Pg(s);return _S(s,[uS(l,"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,Jr.none())])}function iN(n,e){const t=Ii(n.firestore,ko),s=da(n),a=yS(n.converter,e),l=Pg(n.firestore);return _S(t,[uS(l,"addDoc",s._key,a,n.converter!==null,{}).toMutation(s._key,Jr.exists(!1))]).then((()=>s))}function vS(n,...e){n=En(n);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||oE(e[s])||(t=e[s++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(oE(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let l,u,p;if(n instanceof Mt)u=Ii(n.firestore,ko),p=Id(n._key.path),l={next:g=>{e[s]&&e[s](bS(u,n,g))},error:e[s+1],complete:e[s+2]};else{const g=Ii(n,Ms);u=Ii(g.firestore,ko),p=g._query;const v=new pS(u);l={next:_=>{e[s]&&e[s](new To(u,v,g,_))},error:e[s+1],complete:e[s+2]},ZD(n._query)}const m=Mg(u);return kD(m,p,a,l)}function _S(n,e){const t=Mg(n);return UD(t,e)}function bS(n,e,t){const s=t.docs.get(e._key),a=new pS(n);return new ma(n,a,e._key,s,new cc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){UR(Bo),Co(new ya("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),p=new ko(new BR(s.getProvider("auth-internal")),new GR(u,s.getProvider("app-check-internal")),oC(u,a),u);return l={useFetchStreams:t,...l},p._setSettings(l),p}),"PUBLIC").setMultipleInstances(!0)),vs(sE,aE,e),vs(sE,aE,"esm2020")})();function ES(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sN=ES,wS=new Pc("auth","Firebase",ES());const ad=new ag("@firebase/auth");function aN(n,...e){ad.logLevel<=qe.WARN&&ad.warn(`Auth (${Bo}): ${n}`,...e)}function Bf(n,...e){ad.logLevel<=qe.ERROR&&ad.error(`Auth (${Bo}): ${n}`,...e)}function ri(n,...e){throw Gg(n,...e)}function Sr(n,...e){return Gg(n,...e)}function qg(n,e,t){const s={...sN(),[e]:t};return new Pc("auth","Firebase",s).create(e,{appName:n.name})}function ws(n){return qg(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oN(n,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&ri(n,"argument-error"),qg(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Gg(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return wS.create(n,...e)}function Ie(n,e,...t){if(!n)throw Gg(e,...t)}function Ai(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Bf(e),new Error(e)}function Ni(n,e){n||Ai(e)}function $m(){return typeof self<"u"&&self.location?.href||""}function lN(){return uE()==="http:"||uE()==="https:"}function uE(){return typeof self<"u"&&self.location?.protocol||null}function cN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lN()||yI()||"connection"in navigator)?navigator.onLine:!0}function uN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Hc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ni(t>e,"Short delay should be less than long delay!"),this.isMobile=pI()||vI()}get(){return cN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Fg(n,e){Ni(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class TS{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const dN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hN=new Hc(3e4,6e4);function Ud(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Yo(n,e,t,s,a={}){return SS(n,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const p=kc({key:n.config.apiKey,...u}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const g={method:e,headers:m,...l};return gI()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&jo(n.emulatorConfig.host)&&(g.credentials="include"),TS.fetch()(await xS(n,n.config.apiHost,t,p),g)})}async function SS(n,e,t){n._canInitEmulator=!1;const s={...fN,...e};try{const a=new pN(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Rf(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const p=l.ok?u.errorMessage:u.error.message,[m,g]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rf(n,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw Rf(n,"email-already-in-use",u);if(m==="USER_DISABLED")throw Rf(n,"user-disabled",u);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw qg(n,v,g);ri(n,v)}}catch(a){if(a instanceof Oi)throw a;ri(n,"network-request-failed",{message:String(a)})}}async function AS(n,e,t,s,a={}){const l=await Yo(n,e,t,s,a);return"mfaPendingCredential"in l&&ri(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function xS(n,e,t,s){const a=`${e}${t}?${s}`,l=n,u=l.config.emulator?Fg(n.config,a):`${n.config.apiScheme}://${a}`;return dN.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}class pN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Sr(this.auth,"network-request-failed")),hN.get())})}}function Rf(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const a=Sr(n,e,s);return a.customData._tokenResponse=t,a}async function mN(n,e){return Yo(n,"POST","/v1/accounts:delete",e)}async function od(n,e){return Yo(n,"POST","/v1/accounts:lookup",e)}function gc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gN(n,e=!1){const t=En(n),s=await t.getIdToken(e),a=$g(s);Ie(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:s,authTime:gc(om(a.auth_time)),issuedAtTime:gc(om(a.iat)),expirationTime:gc(om(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function om(n){return Number(n)*1e3}function $g(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return Bf("JWT malformed, contained fewer than 3 sections"),null;try{const a=Aw(t);return a?JSON.parse(a):(Bf("Failed to decode base64 JWT payload"),null)}catch(a){return Bf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function fE(n){const e=$g(n);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ic(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Oi&&yN(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function yN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class vN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ym{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=gc(this.lastLoginAt),this.creationTime=gc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ld(n){const e=n.auth,t=await n.getIdToken(),s=await Ic(n,od(e,{idToken:t}));Ie(s?.users.length,e,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?IS(a.providerUserInfo):[],u=bN(n.providerData,l),p=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!u?.length,g=p?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Ym(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,v)}async function _N(n){const e=En(n);await ld(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bN(n,e){return[...n.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function IS(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function EN(n,e){const t=await SS(n,{},async()=>{const s=kc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,u=await xS(n,a,"/v1/token",`key=${l}`),p=await n._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:p,body:s};return n.emulatorConfig&&jo(n.emulatorConfig.host)&&(m.credentials="include"),TS.fetch()(u,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function wN(n,e){return Yo(n,"POST","/v2/accounts:revokeToken",Ud(n,e))}class So{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const t=fE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:a,expiresIn:l}=await EN(e,t);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:a,expirationTime:l}=t,u=new So;return s&&(Ie(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(Ie(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Ie(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new So,this.toJSON())}_performRefresh(){return Ai("not implemented")}}function fs(n,e){Ie(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Er{constructor({uid:e,auth:t,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new vN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Ym(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Ic(this,this.stsTokenManager.getToken(this.auth,e));return Ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return gN(this,e)}reload(){return _N(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Er({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await ld(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(rr(this.auth.app))return Promise.reject(ws(this.auth));const e=await this.getIdToken();return await Ic(this,mN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,u=t.photoURL??void 0,p=t.tenantId??void 0,m=t._redirectEventId??void 0,g=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:S,providerData:V,stsTokenManager:z}=t;Ie(_&&z,e,"internal-error");const P=So.fromJSON(this.name,z);Ie(typeof _=="string",e,"internal-error"),fs(s,e.name),fs(a,e.name),Ie(typeof E=="boolean",e,"internal-error"),Ie(typeof S=="boolean",e,"internal-error"),fs(l,e.name),fs(u,e.name),fs(p,e.name),fs(m,e.name),fs(g,e.name),fs(v,e.name);const F=new Er({uid:_,auth:e,email:a,emailVerified:E,displayName:s,isAnonymous:S,photoURL:u,phoneNumber:l,tenantId:p,stsTokenManager:P,createdAt:g,lastLoginAt:v});return V&&Array.isArray(V)&&(F.providerData=V.map(Q=>({...Q}))),m&&(F._redirectEventId=m),F}static async _fromIdTokenResponse(e,t,s=!1){const a=new So;a.updateFromServerResponse(t);const l=new Er({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await ld(l),l}static async _fromGetAccountInfoResponse(e,t,s){const a=t.users[0];Ie(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?IS(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,p=new So;p.updateFromIdToken(s);const m=new Er({uid:a.localId,auth:e,stsTokenManager:p,isAnonymous:u}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Ym(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}const dE=new Map;function xi(n){Ni(n instanceof Function,"Expected a class definition");let e=dE.get(n);return e?(Ni(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,dE.set(n,e),e)}class RS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}RS.type="NONE";const hE=RS;function Hf(n,e,t){return`firebase:${n}:${e}:${t}`}class Ao{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Hf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Hf("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await od(this.auth,{idToken:e}).catch(()=>{});return t?Er._fromGetAccountInfoResponse(this.auth,t,e):null}return Er._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Ao(xi(hE),e,s);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||xi(hE);const u=Hf(s,e.config.apiKey,e.name);let p=null;for(const g of t)try{const v=await g._get(u);if(v){let _;if(typeof v=="string"){const E=await od(e,{idToken:v}).catch(()=>{});if(!E)break;_=await Er._fromGetAccountInfoResponse(e,E,v)}else _=Er._fromJSON(e,v);g!==l&&(p=_),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Ao(l,e,s):(l=m[0],p&&await l._set(u,p.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(u)}catch{}})),new Ao(l,e,s))}}function pE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(OS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(CS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VS(e))return"Blackberry";if(PS(e))return"Webos";if(DS(e))return"Safari";if((e.includes("chrome/")||NS(e))&&!e.includes("edge/"))return"Chrome";if(MS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if(s?.length===2)return s[1]}return"Other"}function CS(n=mn()){return/firefox\//i.test(n)}function DS(n=mn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function NS(n=mn()){return/crios\//i.test(n)}function OS(n=mn()){return/iemobile/i.test(n)}function MS(n=mn()){return/android/i.test(n)}function VS(n=mn()){return/blackberry/i.test(n)}function PS(n=mn()){return/webos/i.test(n)}function Yg(n=mn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function TN(n=mn()){return Yg(n)&&!!window.navigator?.standalone}function SN(){return _I()&&document.documentMode===10}function kS(n=mn()){return Yg(n)||MS(n)||PS(n)||VS(n)||/windows phone/i.test(n)||OS(n)}function LS(n,e=[]){let t;switch(n){case"Browser":t=pE(mn());break;case"Worker":t=`${pE(mn())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Bo}/${s}`}class AN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((u,p)=>{try{const m=e(l);u(m)}catch(m){p(m)}});s.onAbort=t,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function xN(n,e={}){return Yo(n,"GET","/v2/passwordPolicy",Ud(n,e))}const IN=6;class RN{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??IN,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class CN{constructor(e,t,s,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mE(this),this.idTokenSubscription=new mE(this),this.beforeStateQueue=new AN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=xi(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ao.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await od(this,{idToken:e}),s=await Er._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(rr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!l||l===u)&&p?.user&&(s=p.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ld(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(rr(this.app))return Promise.reject(ws(this));const t=e?En(e):null;return t&&Ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return rr(this.app)?Promise.reject(ws(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return rr(this.app)?Promise.reject(ws(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xN(this),t=new RN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Pc("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await wN(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&xi(e)||this._popupRedirectResolver;Ie(t,this,"argument-error"),this.redirectPersistenceManager=await Ao.create(this,[xi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(p,this,"internal-error"),p.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,s,a);return()=>{u=!0,m()}}else{const m=e.addObserver(t);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(rr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&aN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function qc(n){return En(n)}class mE{constructor(e){this.auth=e,this.observer=null,this.addObserver=II(t=>this.observer=t)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Kg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DN(n){Kg=n}function NN(n){return Kg.loadJS(n)}function ON(){return Kg.gapiScript}function MN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function VN(n,e){const t=lg(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(ga(l,e??{}))return a;ri(a,"already-initialized")}return t.initialize({options:e})}function PN(n,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(xi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e?.popupRedirectResolver)}function kN(n,e,t){const s=qc(n);Ie(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=US(e),{host:u,port:p}=LN(e),m=p===null?"":`:${p}`,g={url:`${l}//${u}${m}/`},v=Object.freeze({host:u,port:p,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Ie(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ie(ga(g,s.config.emulator)&&ga(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,jo(u)?(Cw(`${l}//${u}${m}`),Dw("Auth",!0)):UN()}function US(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function LN(n){const e=US(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:gE(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:gE(u)}}}function gE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function UN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class zS{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ai("not implemented")}_getIdTokenResponse(e){return Ai("not implemented")}_linkToIdToken(e,t){return Ai("not implemented")}_getReauthenticationResolver(e){return Ai("not implemented")}}async function xo(n,e){return AS(n,"POST","/v1/accounts:signInWithIdp",Ud(n,e))}const zN="http://localhost";class ba extends zS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ba(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ri("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=t;if(!s||!a)return null;const u=new ba(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return xo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,xo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,xo(e,t)}buildRequest(){const e={requestUri:zN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=kc(t)}return e}}class Qg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Gc extends Qg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ds extends Gc{constructor(){super("facebook.com")}static credential(e){return ba._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ds.credential(e.oauthAccessToken)}catch{return null}}}ds.FACEBOOK_SIGN_IN_METHOD="facebook.com";ds.PROVIDER_ID="facebook.com";class Xr extends Gc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ba._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Xr.credential(t,s)}catch{return null}}}Xr.GOOGLE_SIGN_IN_METHOD="google.com";Xr.PROVIDER_ID="google.com";class hs extends Gc{constructor(){super("github.com")}static credential(e){return ba._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.GITHUB_SIGN_IN_METHOD="github.com";hs.PROVIDER_ID="github.com";class ps extends Gc{constructor(){super("twitter.com")}static credential(e,t){return ba._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ps.credential(t,s)}catch{return null}}}ps.TWITTER_SIGN_IN_METHOD="twitter.com";ps.PROVIDER_ID="twitter.com";async function jN(n,e){return AS(n,"POST","/v1/accounts:signUp",Ud(n,e))}class Ns{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,a=!1){const l=await Er._fromIdTokenResponse(e,s,a),u=yE(s);return new Ns({user:l,providerId:u,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const a=yE(s);return new Ns({user:e,providerId:a,_tokenResponse:s,operationType:t})}}function yE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}async function BN(n){if(rr(n.app))return Promise.reject(ws(n));const e=qc(n);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Ns({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await jN(e,{returnSecureToken:!0}),s=await Ns._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(s.user),s}class cd extends Oi{constructor(e,t,s,a){super(t.code,t.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,cd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,a){return new cd(e,t,s,a)}}function jS(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?cd._fromErrorAndOperation(n,l,e,s):l})}async function HN(n,e,t=!1){const s=await Ic(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ns._forOperation(n,"link",s)}async function qN(n,e,t=!1){const{auth:s}=n;if(rr(s.app))return Promise.reject(ws(s));const a="reauthenticate";try{const l=await Ic(n,jS(s,a,e,n),t);Ie(l.idToken,s,"internal-error");const u=$g(l.idToken);Ie(u,s,"internal-error");const{sub:p}=u;return Ie(n.uid===p,s,"user-mismatch"),Ns._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&ri(s,"user-mismatch"),l}}async function GN(n,e,t=!1){if(rr(n.app))return Promise.reject(ws(n));const s="signIn",a=await jS(n,s,e),l=await Ns._fromIdTokenResponse(n,s,a);return t||await n._updateCurrentUser(l.user),l}function FN(n,e,t,s){return En(n).onIdTokenChanged(e,t,s)}function $N(n,e,t){return En(n).beforeAuthStateChanged(e,t)}function YN(n,e,t,s){return En(n).onAuthStateChanged(e,t,s)}function KN(n){return En(n).signOut()}const ud="__sak";class BS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ud,"1"),this.storage.removeItem(ud),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const QN=1e3,XN=10;class HS extends BS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),a=this.localCache[t];s!==a&&e(t,a,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,p,m)=>{this.notifyListeners(u,m)});return}const s=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!t&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);SN()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,XN):a()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},QN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}HS.type="LOCAL";const WN=HS;class qS extends BS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}qS.type="SESSION";const GS=qS;function JN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class zd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const s=new zd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:a,data:l}=t.data,u=this.handlersMap[a];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const p=Array.from(u).map(async g=>g(t.origin,l)),m=await JN(p);t.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zd.receivers=[];function Xg(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}class ZN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((p,m)=>{const g=Xg("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(_){const E=_;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),p(E.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function ti(){return window}function e4(n){ti().location.href=n}function FS(){return typeof ti().WorkerGlobalScope<"u"&&typeof ti().importScripts=="function"}async function t4(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function n4(){return navigator?.serviceWorker?.controller||null}function r4(){return FS()?self:null}const $S="firebaseLocalStorageDb",i4=1,fd="firebaseLocalStorage",YS="fbase_key";class Fc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function jd(n,e){return n.transaction([fd],e?"readwrite":"readonly").objectStore(fd)}function s4(){const n=indexedDB.deleteDatabase($S);return new Fc(n).toPromise()}function Km(){const n=indexedDB.open($S,i4);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(fd,{keyPath:YS})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(fd)?e(s):(s.close(),await s4(),e(await Km()))})})}async function vE(n,e,t){const s=jd(n,!0).put({[YS]:e,value:t});return new Fc(s).toPromise()}async function a4(n,e){const t=jd(n,!1).get(e),s=await new Fc(t).toPromise();return s===void 0?null:s.value}function _E(n,e){const t=jd(n,!0).delete(e);return new Fc(t).toPromise()}const o4=800,l4=3;class KS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Km(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>l4)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zd._getInstance(r4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await t4(),!this.activeServiceWorker)return;this.sender=new ZN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||n4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Km();return await vE(e,ud,"1"),await _E(e,ud),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>vE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>a4(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>_E(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=jd(a,!1).getAll();return new Fc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),o4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}KS.type="LOCAL";const c4=KS;new Hc(3e4,6e4);function QS(n,e){return e?xi(e):(Ie(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Wg extends zS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return xo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function u4(n){return GN(n.auth,new Wg(n),n.bypassAuthState)}function f4(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),qN(t,new Wg(n),n.bypassAuthState)}async function d4(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),HN(t,new Wg(n),n.bypassAuthState)}class XS{constructor(e,t,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:a,tenantId:l,error:u,type:p}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return u4;case"linkViaPopup":case"linkViaRedirect":return d4;case"reauthViaPopup":case"reauthViaRedirect":return f4;default:ri(this.auth,"internal-error")}}resolve(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const h4=new Hc(2e3,1e4);async function p4(n,e,t){if(rr(n.app))return Promise.reject(Sr(n,"operation-not-supported-in-this-environment"));const s=qc(n);oN(n,e,Qg);const a=QS(s,t);return new pa(s,"signInViaPopup",e,a).executeNotNull()}class pa extends XS{constructor(e,t,s,a,l){super(e,t,a,l),this.provider=s,this.authWindow=null,this.pollId=null,pa.currentPopupAction&&pa.currentPopupAction.cancel(),pa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){Ni(this.filter.length===1,"Popup operations only handle one event");const e=Xg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,h4.get())};e()}}pa.currentPopupAction=null;const m4="pendingRedirect",qf=new Map;class g4 extends XS{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=qf.get(this.auth._key());if(!e){try{const s=await y4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}qf.set(this.auth._key(),e)}return this.bypassAuthState||qf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function y4(n,e){const t=b4(e),s=_4(n);if(!await s._isAvailable())return!1;const a=await s._get(t)==="true";return await s._remove(t),a}function v4(n,e){qf.set(n._key(),e)}function _4(n){return xi(n._redirectPersistence)}function b4(n){return Hf(m4,n.config.apiKey,n.name)}async function E4(n,e,t=!1){if(rr(n.app))return Promise.reject(ws(n));const s=qc(n),a=QS(s,e),u=await new g4(s,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const w4=600*1e3;class T4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!S4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!WS(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Sr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=w4&&this.cachedEventUids.clear(),this.cachedEventUids.has(bE(e))}saveEventToCache(e){this.cachedEventUids.add(bE(e)),this.lastProcessedEventTime=Date.now()}}function bE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function WS({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function S4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WS(n);default:return!1}}async function A4(n,e={}){return Yo(n,"GET","/v1/projects",e)}const x4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,I4=/^https?/;async function R4(n){if(n.config.emulator)return;const{authorizedDomains:e}=await A4(n);for(const t of e)try{if(C4(t))return}catch{}ri(n,"unauthorized-domain")}function C4(n){const e=$m(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===s}if(!I4.test(t))return!1;if(x4.test(n))return s===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const D4=new Hc(3e4,6e4);function EE(){const n=ti().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function N4(n){return new Promise((e,t)=>{function s(){EE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{EE(),t(Sr(n,"network-request-failed"))},timeout:D4.get()})}if(ti().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ti().gapi?.load)s();else{const a=MN("iframefcb");return ti()[a]=()=>{gapi.load?s():t(Sr(n,"network-request-failed"))},NN(`${ON()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw Gf=null,e})}let Gf=null;function O4(n){return Gf=Gf||N4(n),Gf}const M4=new Hc(5e3,15e3),V4="__/auth/iframe",P4="emulator/auth/iframe",k4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},L4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function U4(n){const e=n.config;Ie(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Fg(e,P4):`https://${n.config.authDomain}/${V4}`,s={apiKey:e.apiKey,appName:n.name,v:Bo},a=L4.get(n.config.apiHost);a&&(s.eid=a);const l=n._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${kc(s).slice(1)}`}async function z4(n){const e=await O4(n),t=ti().gapi;return Ie(t,n,"internal-error"),e.open({where:document.body,url:U4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:k4,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=Sr(n,"network-request-failed"),p=ti().setTimeout(()=>{l(u)},M4.get());function m(){ti().clearTimeout(p),a(s)}s.ping(m).then(m,()=>{l(u)})}))}const j4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},B4=500,H4=600,q4="_blank",G4="http://localhost";class wE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function F4(n,e,t,s=B4,a=H4){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const m={...j4,width:s.toString(),height:a.toString(),top:l,left:u},g=mn().toLowerCase();t&&(p=NS(g)?q4:t),CS(g)&&(e=e||G4,m.scrollbars="yes");const v=Object.entries(m).reduce((E,[S,V])=>`${E}${S}=${V},`,"");if(TN(g)&&p!=="_self")return $4(e||"",p),new wE(null);const _=window.open(e||"",p,v);Ie(_,n,"popup-blocked");try{_.focus()}catch{}return new wE(_)}function $4(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const Y4="__/auth/handler",K4="emulator/auth/handler",Q4=encodeURIComponent("fac");async function TE(n,e,t,s,a,l){Ie(n.config.authDomain,n,"auth-domain-config-required"),Ie(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:Bo,eventId:a};if(e instanceof Qg){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",xI(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries({}))u[v]=_}if(e instanceof Gc){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const p=u;for(const v of Object.keys(p))p[v]===void 0&&delete p[v];const m=await n._getAppCheckToken(),g=m?`#${Q4}=${encodeURIComponent(m)}`:"";return`${X4(n)}?${kc(p).slice(1)}${g}`}function X4({config:n}){return n.emulator?Fg(n,K4):`https://${n.authDomain}/${Y4}`}const lm="webStorageSupport";class W4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GS,this._completeRedirectFn=E4,this._overrideRedirectResult=v4}async _openPopup(e,t,s,a){Ni(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await TE(e,t,s,$m(),a);return F4(e,l,Xg())}async _openRedirect(e,t,s,a){await this._originValidation(e);const l=await TE(e,t,s,$m(),a);return e4(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Ni(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await z4(e),s=new T4(e);return t.register("authEvent",a=>(Ie(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(lm,{type:lm},a=>{const l=a?.[0]?.[lm];l!==void 0&&t(!!l),ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=R4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return kS()||DS()||Yg()}}const J4=W4;var SE="@firebase/auth",AE="1.12.0";class Z4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function eO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tO(n){Co(new ya("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:p}=s.options;Ie(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:u,authDomain:p,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LS(n)},g=new CN(s,a,l,m);return PN(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Co(new ya("auth-internal",e=>{const t=qc(e.getProvider("auth").getImmediate());return(s=>new Z4(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),vs(SE,AE,eO(n)),vs(SE,AE,"esm2020")}const nO=300,rO=Rw("authIdTokenMaxAge")||nO;let xE=null;const iO=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>rO)return;const a=t?.token;xE!==a&&(xE=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function sO(n=Vw()){const e=lg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=VN(n,{popupRedirectResolver:J4,persistence:[c4,WN,GS]}),s=Rw("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=iO(l.toString());$N(t,u,()=>u(t.currentUser)),FN(t,p=>u(p))}}const a=xw("auth");return a&&kN(t,`http://${a}`),t}function aO(){return document.getElementsByTagName("head")?.[0]??document}DN({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=a=>{const l=Sr("internal-error");l.customData=a,t(l)},s.type="text/javascript",s.charset="UTF-8",aO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tO("Browser");var oO="firebase",lO="12.8.0";vs(oO,lO,"app");const cO={apiKey:"AIzaSyAfHofjsLtR0L9xrbv4rbKRTDYfieQBOUc",authDomain:"ff14-hunt.firebaseapp.com",projectId:"ff14-hunt",storageBucket:"ff14-hunt.firebasestorage.app",messagingSenderId:"685554694198",appId:"1:685554694198:web:6878dc79d6a5876e0d4097",measurementId:"G-55QRR4WL2E"},JS=Mw(cO),Cf=sO(JS),Si=HD(JS);new Xr;const uO=["","","","","","",""],fO=[{id:"all",name:"ALL ",sub:"ALL",color:"bg-slate-500"},{id:"dt",name:"7.0 ",sub:"7.0",color:"bg-yellow-600"},{id:"ew",name:"6.0 ",sub:"6.0",color:"bg-indigo-600"},{id:"shb",name:"5.0 ",sub:"5.0",color:"bg-purple-700"},{id:"sb",name:"4.0 ",sub:"4.0",color:"bg-red-600"},{id:"hw",name:"3.0 ",sub:"3.0",color:"bg-blue-600"},{id:"arr",name:"2.0 ",sub:"2.0",color:"bg-emerald-600"}],Ti={dt:{s:[{cn:"",jp:"",zone:"",window:84,rank:"ss",trigger:"SS A "},{cn:" ",jp:"",zone:"",window:84,trigger:"ET  (1-4) 00:00-08:00 + ",windowType:"full-combined",moon:[1,4],time:[0,8],weather:""},{cn:"",jp:"",zone:"",window:84,trigger:""},{cn:"",jp:"",zone:"",window:84,trigger:" 50 "},{cn:"",jp:"",zone:"",window:84,trigger:" FATE FATE "},{cn:" ",jp:"",zone:"",window:84,trigger:" (HQ) (99)"},{cn:"",jp:"",zone:"",window:84,trigger:""}],a:[{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4}]},ew:{s:[{cn:"",jp:"",zone:"",window:84,rank:"ss",trigger:"SS"},{cn:"",jp:"",zone:"",window:84,trigger:"ET 09:00-17:00 + /",windowType:"full-combined",time:[9,17],weather:"/"},{cn:"",jp:"",zone:"",window:84,trigger:" 100  + 100  + 100 "},{cn:"",jp:"",zone:"",window:84,trigger:""},{cn:"",jp:"",zone:"",window:84,trigger:" 100  + 100  + 100 "},{cn:"",jp:"",zone:"",window:84,trigger:" 5 "},{cn:"",jp:"",zone:"",window:84,trigger:"10"}],a:[{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4}]},shb:{s:[{cn:"",jp:"",zone:"",window:84,rank:"ss",trigger:"SS S  4 "},{cn:"",jp:"",zone:"",window:84,trigger:""},{cn:"",jp:"",zone:"",window:84,trigger:"50 "},{cn:"",jp:"",zone:"",window:84,trigger:""},{cn:"",jp:"",zone:"",window:84,trigger:""},{cn:"",jp:"",zone:"",window:84,trigger:" 100  + 100  + 100 "},{cn:"",jp:"",zone:"",window:84,trigger:" (X: 26, Y: 7) 3 "}],a:[{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4}]},sb:{s:[{cn:"",jp:"",zone:"",window:84,trigger:" 100  + 100  ( FATE )"},{cn:"",jp:"",zone:"",window:84,trigger:""},{cn:"",jp:"",zone:"",window:84,trigger:" 50 "},{cn:"",jp:"",zone:"",window:84,trigger:" 100  + 100  (16-20)  12:00 ",windowType:"moon",moon:[16,20]},{cn:"",jp:"",zone:"",window:84,trigger:" FATE"},{cn:"",jp:"",zone:"",window:84,trigger:"ET 17:00-08:00 ",windowType:"time",time:[17,8]}],a:[{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4}]},hw:{s:[{cn:"",jp:"",zone:"",window:84,trigger:"50 + 50 + 50"},{cn:"",jp:"",zone:"",window:84,trigger:""},{cn:"",jp:"",zone:"",window:84,trigger:""},{cn:"",jp:"",zone:"",window:84,trigger:"G7"},{cn:"",jp:"",zone:"",window:84,trigger:"50"},{cn:"",jp:"",zone:"",window:84,trigger:"B"}],a:[{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4}]},arr:{s:[{cn:"",jp:"",zone:"",window:50,trigger:" 2  ET  47 ",windowType:"continuous-rain",weather:""},{cn:"",jp:"",zone:"",window:50,trigger:"/"},{cn:"",jp:"",zone:"",window:50,trigger:"ET 1-417:00-03:00  0:00 ",windowType:"moon-time",moon:[1,4],time:[17,3]},{cn:"",jp:"",zone:"",window:50,trigger:" (X: 21, Y: 26.2)"},{cn:"",jp:"",zone:"",window:50,trigger:"     (X: 24.4, Y: 21.5)",windowType:"weather-special",weather:"/"},{cn:"",jp:"",zone:"",window:50,trigger:""},{cn:"",jp:"",zone:"",window:50,trigger:"/"},{cn:"",jp:"",zone:"",window:50,trigger:" 1 fate"},{cn:"",jp:"",zone:"",window:50,trigger:" 100  ( FATE )"},{cn:"",jp:"",zone:"",window:50,trigger:" 19:00 - 22:00  (X: 24.3, Y: 26.9)3",windowType:"time",time:[19,22]},{cn:"",jp:"",zone:"",window:50,trigger:"16-20 17:00 - 03:00 ",windowType:"moon-time",moon:[16,20],time:[17,3]},{cn:"",jp:"",zone:"",window:50,trigger:" 200 ",windowType:"weather-special",weather:""},{cn:"",jp:"",zone:"",window:50,trigger:" 08:00 - 11:00  (X: 34.2, Y: 28.2)",windowType:"time",time:[8,11]},{cn:"",jp:"",zone:"",window:50,trigger:""},{cn:"",jp:"",zone:"",window:50,trigger:""},{cn:"",jp:"",zone:"",window:50,trigger:" 1 "},{cn:"",jp:"",zone:"",window:50,trigger:"G3G4G5"}],a:[{cn:" ",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4},{cn:"",jp:"",zone:"",window:4}]}},bo=1440/70,nc=175,Qr=1400,Io=n=>{const e=Math.floor(n/Qr),t=(e+1)%3*8,a=Math.floor(e/3)*100+t,l=(a<<11^a)>>>0;return((l>>>8^l)>>>0)%100},Ro=(n,e)=>{const t=Math.floor(e);switch(n){case"":case"":return t<5?"":t<20?"":t<30?"":t<40?"":t<55?"":t<85?"":"";case"":case"":return t<5?"":t<50?"":t<80?"":t<90?"":t<95?"":"";case"":return t<40?"":t<60?"":t<85?"":t<95?"":"";case"":return t<30?"":t<60?"":t<75?"":t<85?"":t<95?"":"";case"":return e<15?"":e<60?"":e<80?"":e<85?"":e<95?"":"";default:return""}},ZS=(n,e)=>{if(!n.windowType)return null;const t=Math.floor((e-86400)/Qr)*Qr;for(let s=0;s<1e3;s++){const a=t+s*Qr,l=Io(a),u=Ro(n.zone,l),p=n.weather?n.weather.includes(u):!0,m=(Math.floor(a*bo/86400)+1)%32||32,g=n.moon?m>=n.moon[0]&&m<=n.moon[1]:!0;if(p&&g){const v=Math.floor(a*bo/3600)%24;for(let _=0;_<8;_++){const E=(v+_)%24,S=a+_*nc,V=S+nc;let z=!0;if(n.time){const[P,F]=n.time;z=P<F?E>=P&&E<F:E>=P||E<F}if(z&&V>e){let P=S;for(let Q=1;Q<48;Q++){const re=S-Q*nc,te=Math.floor(re*bo/3600)%24,le=Io(Math.floor(re/Qr)*Qr),ae=Ro(n.zone,le),R=n.weather?n.weather.includes(ae):!0;let x=!0;if(n.time){const[C,O]=n.time;x=C<O?te>=C&&te<O:te>=C||te<O}if(R&&x)P=re;else break}let F=V;for(let Q=1;Q<48;Q++){const re=S+Q*nc,te=Math.floor(re*bo/3600)%24,le=Io(Math.floor(re/Qr)*Qr),ae=Ro(n.zone,le),R=n.weather?n.weather.includes(ae):!0;let x=!0;if(n.time){const[C,O]=n.time;x=C<O?te>=C&&te<O:te>=C||te<O}if(R&&x)F=re+nc;else break}return{start:P,end:F}}}}}return null},dO=(n,e)=>{const t=ZS(n,e);return t?t.start:0},hO=(n,e)=>{const t=[],s=Math.floor(e/Qr);for(let a=-10;a<=10;a++){const u=(s+a)*Qr,p=Math.floor(u*bo/60),m=Math.floor(p/60%24),g=p%60,v=Io(u),_=Ro(n,v);t.push({lt:new Date(u*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),et:`${String(m).padStart(2,"0")}:${String(g).padStart(2,"0")}`,v,weather:_,isCurrent:a===0})}return t},pO=(n,e)=>{if(!n.windowType)return null;const t=Math.floor(e/1e3),s=ZS(n,t);if(!s)return"";if(t>=s.start&&t<s.end){const m=s.end-t,g=Math.floor(m/3600),v=Math.floor(m%3600/60),_=m%60;return`${g>0?String(g).padStart(2,"0")+" ":""}${String(v).padStart(2,"0")} ${String(_).padStart(2,"0")}`}const a=s.start-t,l=Math.floor(a/86400),u=Math.floor(a%86400/3600),p=Math.floor(a%3600/60);return l>0?` ${String(l).padStart(2,"0")} ${String(u).padStart(2,"0")} ${String(p).padStart(2,"0")}`:` ${String(u).padStart(2,"0")} ${String(p).padStart(2,"0")} ${String(a%60).padStart(2,"0")}`},mO=()=>{const[n,e]=se.useState(Date.now());return se.useEffect(()=>{const s=setInterval(()=>e(Date.now()),1e3);return()=>clearInterval(s)},[]),se.useMemo(()=>{const s=n/1e3,a=s*bo,u=Math.floor(a/60)%60,p=Math.floor(a/3600)%24,m=Math.floor(a/86400)%32+1,g=1400,v=Math.floor(s/g),_=Io(v*g),E=Io((v+1)*g),V=(v+1)*g-s,z=Math.floor(V/60),P=Math.floor(V%60);let F="";m>=1&&m<=4?F="":m>=5&&m<=8?F="":m>=16&&m<=20&&(F="");const re=new Date(n+8*36e5+new Date().getTimezoneOffset()*6e4).toISOString().replace("T"," ").substring(0,19);return{currentTime:n,hours:p,day:m,moonLabel:F,curVal:_,nxtVal:E,displayTime:`${p.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}`,nextIn:`${z}m ${P}s`,totalETSeconds:a,ltDisplay:re}},[n])};function e1(n){var e,t,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=e1(n[e]))&&(s&&(s+=" "),s+=t)}else for(t in n)n[t]&&(s&&(s+=" "),s+=t);return s}function ge(){for(var n,e,t=0,s="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=e1(n))&&(s&&(s+=" "),s+=e);return s}const t1=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();const gO=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const yO=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());const IE=n=>{const e=yO(n);return e.charAt(0).toUpperCase()+e.slice(1)};var vO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const _O=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const bO=se.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...p},m)=>se.createElement("svg",{ref:m,...vO,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:t1("lucide",a),...!l&&!_O(p)&&{"aria-hidden":"true"},...p},[...u.map(([g,v])=>se.createElement(g,v)),...Array.isArray(l)?l:[l]]));const _t=(n,e)=>{const t=se.forwardRef(({className:s,...a},l)=>se.createElement(bO,{ref:l,iconNode:e,className:t1(`lucide-${gO(IE(n))}`,`lucide-${n}`,s),...a}));return t.displayName=IE(n),t};const EO=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],RE=_t("check",EO);const wO=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],TO=_t("chevron-left",wO);const SO=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],CE=_t("circle-check-big",SO);const AO=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],n1=_t("clock",AO);const xO=[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128",key:"dpwdj0"}],["path",{d:"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z",key:"s09mg5"}]],IO=_t("cloud-sun",xO);const RO=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],DE=_t("crown",RO);const CO=[["path",{d:"M16 22h2a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v2.85",key:"ryk6xj"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 14v2.2l1.6 1",key:"6m4bie"}],["circle",{cx:"8",cy:"16",r:"6",key:"10v15b"}]],Qm=_t("file-clock",CO);const DO=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],NO=_t("layout-grid",DO);const OO=[["path",{d:"M16 5H3",key:"m91uny"}],["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 19H3",key:"zzsher"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]],NE=_t("list-plus",OO);const MO=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],VO=_t("list",MO);const PO=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Jg=_t("loader-circle",PO);const kO=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],LO=_t("log-in",kO);const UO=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],zO=_t("log-out",UO);const jO=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],BO=_t("map-pin",jO);const HO=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],qO=_t("megaphone",HO);const GO=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],FO=_t("moon",GO);const $O=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],OE=_t("pen-line",$O);const YO=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ME=_t("rotate-ccw",YO);const KO=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],QO=_t("share-2",KO);const XO=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],WO=_t("shield",XO);const JO=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],ZO=_t("sun",JO);const eM=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],tM=_t("sword",eM);const nM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],rM=_t("trash-2",nM);const iM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],sM=_t("user",iM);const aM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Zg=_t("x",aM);var r1=function(n,e){return(r1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var a in s)s.hasOwnProperty(a)&&(t[a]=s[a])})(n,e)},oM,Df,lM=((function(n){(function(){var e={}.hasOwnProperty;function t(){for(var s=[],a=0;a<arguments.length;a++){var l=arguments[a];if(l){var u=typeof l;if(u==="string"||u==="number")s.push(l);else if(Array.isArray(l)&&l.length){var p=t.apply(null,l);p&&s.push(p)}else if(u==="object")for(var m in l)e.call(l,m)&&l[m]&&s.push(m)}}return s.join(" ")}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(Df={path:oM,exports:{},require:function(n,e){return(function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")})(e==null&&Df.path)}},Df.exports),Df.exports);function Xm(n,e,t){var s,a,l,u,p;function m(){var v=Date.now()-u;v<e&&v>=0?s=setTimeout(m,e-v):(s=null,t||(p=n.apply(l,a),l=a=null))}e==null&&(e=100);var g=function(){l=this,a=arguments,u=Date.now();var v=t&&!s;return s||(s=setTimeout(m,e)),v&&(p=n.apply(l,a),l=a=null),p};return g.clear=function(){s&&(clearTimeout(s),s=null)},g.flush=function(){s&&(p=n.apply(l,a),l=a=null,clearTimeout(s),s=null)},g}Xm.debounce=Xm;var cM=Xm;(function(n,e){e===void 0&&(e={});var t=e.insertAt;if(typeof document<"u"){var s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",t==="top"&&s.firstChild?s.insertBefore(a,s.firstChild):s.appendChild(a),a.styleSheet?a.styleSheet.cssText=n:a.appendChild(document.createTextNode(n))}})(`.indiana-scroll-container {
  overflow: auto;
}
.indiana-scroll-container--dragging {
  scroll-behavior: auto !important;
}
.indiana-scroll-container--dragging > * {
  pointer-events: none;
  cursor: -webkit-grab;
  cursor: grab;
}
.indiana-scroll-container--hide-scrollbars {
  overflow: hidden;
  overflow: -moz-scrollbars-none;
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.indiana-scroll-container--hide-scrollbars::-webkit-scrollbar {
  display: none !important;
  height: 0 !important;
  width: 0 !important;
  background: transparent !important;
  -webkit-appearance: none !important;
}
.indiana-scroll-container--native-scroll {
  overflow: auto;
}

.indiana-dragging {
  cursor: -webkit-grab;
  cursor: grab;
}`);var cm,uM=(cm="indiana-scroll-container",function(n,e){if(!n)return cm;var t;typeof n=="string"?t=n:e=n;var s=cm;return t&&(s+="__"+t),s+(e?Object.keys(e).reduce((function(a,l){var u=e[l];return u&&(a+=" "+(typeof u=="boolean"?s+"--"+l:s+"--"+l+"_"+u)),a}),""):"")}),i1=(function(n){function e(t){var s=n.call(this,t)||this;return s.onEndScroll=function(){s.scrolling=!1,!s.pressed&&s.started&&s.processEnd()},s.onScroll=function(a){var l=s.container.current;l.scrollLeft===s.scrollLeft&&l.scrollTop===s.scrollTop||(s.scrolling=!0,s.processScroll(a),s.onEndScroll())},s.onTouchStart=function(a){var l=s.props.nativeMobileScroll;if(s.isDraggable(a.target))if(s.internal=!0,l&&s.scrolling)s.pressed=!0;else{var u=a.touches[0];s.processClick(a,u.clientX,u.clientY),!l&&s.props.stopPropagation&&a.stopPropagation()}},s.onTouchEnd=function(a){var l=s.props.nativeMobileScroll;s.pressed&&(!s.started||s.scrolling&&l?s.pressed=!1:s.processEnd(),s.forceUpdate())},s.onTouchMove=function(a){var l=s.props.nativeMobileScroll;if(s.pressed&&(!l||!s.isMobile)){var u=a.touches[0];u&&s.processMove(a,u.clientX,u.clientY),a.preventDefault(),s.props.stopPropagation&&a.stopPropagation()}},s.onMouseDown=function(a){s.isDraggable(a.target)&&s.isScrollable()&&(s.internal=!0,s.props.buttons.indexOf(a.button)!==-1&&(s.processClick(a,a.clientX,a.clientY),a.preventDefault(),s.props.stopPropagation&&a.stopPropagation()))},s.onMouseMove=function(a){s.pressed&&(s.processMove(a,a.clientX,a.clientY),a.preventDefault(),s.props.stopPropagation&&a.stopPropagation())},s.onMouseUp=function(a){s.pressed&&(s.started?s.processEnd():(s.internal=!1,s.pressed=!1,s.forceUpdate(),s.props.onClick&&s.props.onClick(a)),a.preventDefault(),s.props.stopPropagation&&a.stopPropagation())},s.container=pt.createRef(),s.onEndScroll=cM(s.onEndScroll,300),s.scrolling=!1,s.started=!1,s.pressed=!1,s.internal=!1,s.getRef=s.getRef.bind(s),s}return(function(t,s){function a(){this.constructor=t}r1(t,s),t.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)})(e,n),e.prototype.componentDidMount=function(){var t=this.props.nativeMobileScroll,s=this.container.current;window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd),s.addEventListener("touchstart",this.onTouchStart,{passive:!1}),s.addEventListener("mousedown",this.onMouseDown,{passive:!1}),t&&(this.isMobile=this.isMobileDevice(),this.isMobile&&this.forceUpdate())},e.prototype.componentWillUnmount=function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},e.prototype.getElement=function(){return this.container.current},e.prototype.isMobileDevice=function(){return window.orientation!==void 0||navigator.userAgent.indexOf("IEMobile")!==-1},e.prototype.isDraggable=function(t){var s=this.props.ignoreElements;if(s){var a=t.closest(s);return a===null||a.contains(this.getElement())}return!0},e.prototype.isScrollable=function(){var t=this.container.current;return t&&(t.scrollWidth>t.clientWidth||t.scrollHeight>t.clientHeight)},e.prototype.processClick=function(t,s,a){var l=this.container.current;this.scrollLeft=l.scrollLeft,this.scrollTop=l.scrollTop,this.clientX=s,this.clientY=a,this.pressed=!0},e.prototype.processStart=function(t){t===void 0&&(t=!0);var s=this.props.onStartScroll;this.started=!0,t&&document.body.classList.add("indiana-dragging"),s&&s({external:!this.internal}),this.forceUpdate()},e.prototype.processScroll=function(t){if(this.started){var s=this.props.onScroll;s&&s({external:!this.internal})}else this.processStart(!1)},e.prototype.processMove=function(t,s,a){var l=this.props,u=l.horizontal,p=l.vertical,m=l.activationDistance,g=l.onScroll,v=this.container.current;this.started?(u&&(v.scrollLeft-=s-this.clientX),p&&(v.scrollTop-=a-this.clientY),g&&g({external:!this.internal}),this.clientX=s,this.clientY=a,this.scrollLeft=v.scrollLeft,this.scrollTop=v.scrollTop):(u&&Math.abs(s-this.clientX)>m||p&&Math.abs(a-this.clientY)>m)&&(this.clientX=s,this.clientY=a,this.processStart())},e.prototype.processEnd=function(){var t=this.props.onEndScroll;this.container.current&&t&&t({external:!this.internal}),this.pressed=!1,this.started=!1,this.scrolling=!1,this.internal=!1,document.body.classList.remove("indiana-dragging"),this.forceUpdate()},e.prototype.getRef=function(t){[this.container,this.props.innerRef].forEach((function(s){s&&(typeof s=="function"?s(t):s.current=t)}))},e.prototype.render=function(){var t=this.props,s=t.children,a=t.draggingClassName,l=t.className,u=t.style,p=t.hideScrollbars,m=t.component;return pt.createElement(m,{className:lM(l,this.pressed&&a,uM({dragging:this.pressed,"hide-scrollbars":p,"native-scroll":this.isMobile})),style:u,ref:this.getRef,onScroll:this.onScroll},s)},e.defaultProps={nativeMobileScroll:!0,hideScrollbars:!0,activationDistance:10,vertical:!0,horizontal:!0,stopPropagation:!1,style:{},component:"div",buttons:[0]},e})(se.PureComponent);const fM=({user:n,hunterName:e,setHunterName:t,onLogin:s,onLogout:a,eorzeaData:l,isMidnight:u,onShowWeather:p,currentTime:m,isAdmin:g,onToggleAdmin:v,setTheme:_})=>{const[E,S]=pt.useState(!1),[V,z]=pt.useState(e),[P,F]=pt.useState(!1),Q={headerBg:u?"bg-[#12141e]/90 border-white/5 backdrop-blur-xl":"bg-white/80 border-slate-200 shadow-sm",btn:u?"bg-[#252a3a] border-white/10 text-slate-300 hover:text-white":"bg-white border-slate-200 text-slate-600 hover:bg-slate-100"},re=async()=>{if(!(P||!n||n.isAnonymous)){if(!V.trim()||V===e){S(!1);return}F(!0);try{const te=da(Si,"users",n.uid),le=await Fm(te),ae=Date.now();if(le.exists()){const x=le.data();if(x.lockExpiry&&ae<x.lockExpiry){const C=Math.ceil((x.lockExpiry-ae)/864e5);alert(` 

 30  ${C} `),z(e),S(!1),F(!1);return}}const R=e?` 

${V}

 30 `:` 

${V}

 30 `;if(window.confirm(R)){const x=ae+2592e6;await uc(te,{hunterName:V,lockExpiry:x,updatedAt:ae},{merge:!0}),t(V),alert("  30 ")}else z(e)}catch(te){console.error("Update Name Error:",te),alert("")}finally{S(!1),F(!1)}}};return I.jsxs("header",{className:`mb-4 md:mb-8 border-b ${Q.headerBg} p-4 md:p-8 rounded-[2rem] md:rounded-[2.5rem] relative z-20 font-black`,children:[I.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center md:items-start gap-4 mb-6 font-black",children:[I.jsxs("div",{className:"flex items-center gap-3 md:gap-4 w-full md:w-auto",children:[I.jsx("img",{src:"https://ff14hunt.blob.core.windows.net/image/icon.webp",alt:"Hunt Logo",className:"w-12 h-12 md:w-16 md:h-16 rounded-2xl border-2 border-yellow-500/30 shrink-0 shadow-lg"}),I.jsxs("div",{className:"text-left font-black",children:[I.jsx("h1",{className:"text-2xl md:text-4xl font-black tracking-tighter leading-none",children:"FFXIV "}),I.jsx("p",{className:"text-slate-500 text-[10px] md:text-xs uppercase tracking-widest font-black opacity-80",children:"FFXIV Hunt Tracker v3.5"})]})]}),I.jsx("div",{className:`w-full md:w-auto px-4 py-2.5 rounded-2xl border-2 flex items-center justify-between md:justify-start gap-3 transition-all ${u?"bg-white/5 border-white/5":"bg-white border-slate-200"}`,children:n&&!n.isAnonymous?I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[I.jsx("img",{src:n.photoURL,alt:"Avatar",className:"w-8 h-8 md:w-10 md:h-10 rounded-full border-2 border-white/20 shrink-0"}),I.jsxs("div",{className:"flex flex-col items-start md:items-end min-w-0",children:[I.jsxs("div",{className:"flex items-center gap-1 text-[9px] md:text-[10px] text-slate-500 uppercase font-bold tracking-wider",children:[I.jsx(sM,{className:"w-3 h-3"})," ",I.jsx("span",{children:""})]}),E?I.jsx("input",{autoFocus:!0,type:"text",value:V,disabled:P,onChange:te=>z(te.target.value),onKeyDown:te=>{te.key==="Enter"&&re(),te.key==="Escape"&&(z(e),S(!1))},onBlur:()=>{V===e&&S(!1)},className:ge("text-sm md:text-xs font-bold bg-transparent border-b-2 w-24 focus:outline-none transition-colors",u?"border-blue-500 text-white":"border-blue-500 text-black",P&&"opacity-50")}):I.jsx("div",{onClick:()=>{P||(z(e),S(!0))},className:`text-sm md:text-xs font-bold cursor-pointer truncate max-w-[100px] ${e?u?"text-slate-200":"text-slate-800":"text-blue-500 animate-pulse"}`,children:e||"..."})]})]}),I.jsx("button",{onClick:a,className:"p-2 bg-red-500/10 text-red-500 rounded-xl hover:bg-red-500 hover:text-white transition-all shrink-0",children:I.jsx(zO,{className:"w-4 h-4"})})]}):I.jsxs("button",{onClick:s,className:"w-full flex items-center justify-center gap-2 text-xs font-bold text-blue-500 hover:text-blue-400 transition-all py-1",children:[I.jsx("div",{className:"p-1.5 bg-blue-500 text-white rounded-lg",children:I.jsx(LO,{className:"w-4 h-4"})}),I.jsx("span",{children:"Google  ()"})]})})]}),I.jsxs("div",{className:"flex flex-col xl:flex-row justify-between items-end gap-4 font-black",children:[I.jsxs("div",{className:"grid grid-cols-3 gap-2 w-full xl:w-auto",children:[I.jsx("button",{onClick:v,className:ge("py-3 rounded-xl border-2 text-[10px] uppercase transition-all font-black flex items-center justify-center gap-1",g?"bg-emerald-600/20 border-emerald-500 text-emerald-400":Q.btn),children:g?" ON":""}),I.jsx("button",{onClick:p,className:`py-3 rounded-xl border-2 text-[10px] uppercase font-black ${Q.btn}`,children:""}),I.jsx("button",{onClick:()=>_(u?"sunlight":"midnight"),className:`py-3 rounded-xl border-2 text-[10px] uppercase font-black ${Q.btn}`,children:u?"":""})]}),I.jsxs("div",{className:"grid grid-cols-3 md:flex md:flex-row gap-2 w-full xl:w-auto",children:[I.jsxs("div",{className:`p-2 md:px-4 md:py-3 rounded-2xl border-2 flex flex-col md:flex-row items-center justify-center md:justify-start gap-1 md:gap-3 ${u?"bg-white/5 border-white/5":"bg-white border-slate-200"}`,children:[I.jsx(FO,{className:"w-4 h-4 md:w-5 md:h-5 text-indigo-400"}),I.jsxs("div",{className:"text-center md:text-left",children:[I.jsx("div",{className:"text-[9px] text-slate-500 uppercase font-black leading-none mb-0.5",children:"Moon"}),I.jsx("div",{className:"text-xs md:text-lg font-black leading-none",children:l.moonLabel})]})]}),I.jsxs("div",{className:`p-2 md:px-4 md:py-3 rounded-2xl border-2 flex flex-col md:flex-row items-center justify-center md:justify-start gap-1 md:gap-3 ${u?"bg-white/5 border-white/5":"bg-white border-slate-200"}`,children:[I.jsx(ZO,{className:"w-4 h-4 md:w-5 md:h-5 text-yellow-500"}),I.jsxs("div",{className:"text-center md:text-left",children:[I.jsx("div",{className:"text-[9px] text-slate-500 uppercase font-black leading-none mb-0.5",children:"ET"}),I.jsx("div",{className:"text-sm md:text-2xl font-mono font-black leading-none",children:l.displayTime})]})]}),I.jsxs("div",{className:`p-2 md:px-4 md:py-3 rounded-2xl border-2 flex flex-col md:flex-row items-center justify-center md:justify-start gap-1 md:gap-3 ${u?"bg-blue-500/10 border-blue-500/20":"bg-white border-blue-500/20"}`,children:[I.jsx(n1,{className:"w-4 h-4 md:w-5 md:h-5 text-blue-500"}),I.jsxs("div",{className:"text-center md:text-left",children:[I.jsx("div",{className:"text-[9px] text-slate-500 uppercase font-black leading-none mb-0.5",children:"LT"}),I.jsx("div",{className:"text-sm md:text-xl font-mono font-black leading-none",children:new Date(m).toLocaleTimeString([],{hour12:!1})})]})]})]})]})]})},dM=({alerts:n,onTabChange:e,isMidnight:t,selectedServer:s})=>{const a=l=>l==="s"?{border:"border-amber-500/50",dot:"bg-amber-500 shadow-[0_0_10px_rgba(245,158,11,0.8)]",text:"text-amber-400"}:{border:"border-emerald-500/50",dot:"bg-emerald-500 shadow-[0_0_10px_rgba(16,185,129,0.8)] animate-pulse",text:"text-emerald-400"};return I.jsxs("div",{className:ge("relative flex items-center w-full h-14 md:h-16 rounded-2xl overflow-hidden border backdrop-blur-md transition-all duration-500 font-black mb-6",t?"bg-slate-950/60 border-white/5 shadow-2xl shadow-black/50":"bg-white/70 border-slate-200 shadow-lg shadow-slate-200/50"),children:[I.jsxs("div",{className:"flex flex-col items-center justify-center w-14 md:w-20 h-full bg-gradient-to-br from-blue-600 to-indigo-700 text-white shrink-0 shadow-[4px_0_15px_rgba(79,70,229,0.3)] z-20",children:[I.jsx(qO,{size:18,className:"animate-bounce mb-0.5"}),I.jsx("span",{className:"text-[8px] font-black uppercase tracking-tighter opacity-80",children:"Live"})]}),I.jsxs("div",{className:"relative flex-1 h-full overflow-hidden",children:[I.jsx("div",{className:ge("absolute inset-y-0 left-0 w-8 z-10 pointer-events-none bg-gradient-to-r",t?"from-slate-950/80 to-transparent":"from-white/80 to-transparent")}),I.jsx("div",{className:ge("absolute inset-y-0 right-0 w-8 z-10 pointer-events-none bg-gradient-to-l",t?"from-slate-950/80 to-transparent":"from-white/80 to-transparent")}),I.jsx(i1,{className:"flex items-center h-full no-scrollbar px-6 gap-3 cursor-grab active:cursor-grabbing",horizontal:!0,nativeMobileScroll:!0,hideScrollbars:!0,children:n.length>0?n.map(l=>{const u=a(l.rank);return I.jsxs("div",{onClick:()=>e(l.expKey),className:ge("flex items-center gap-3 px-4 py-2 rounded-xl border-l-4 shrink-0 cursor-pointer transition-all hover:scale-105 active:scale-95 group",u.border,t?"bg-white/5 border-white/10 hover:bg-white/10":"bg-white border-slate-200 hover:border-indigo-300 shadow-sm"),children:[I.jsx("div",{className:ge("h-2 w-2 rounded-full",u.dot)}),I.jsxs("div",{className:"flex flex-col min-w-0",children:[I.jsxs("div",{className:"flex items-center gap-1.5 leading-none mb-1",children:[I.jsxs("span",{className:"text-[9px] font-black text-blue-500 uppercase opacity-70",children:["[",s.slice(0,2),"]"]}),I.jsx("span",{className:ge("text-sm font-black tracking-tight truncate max-w-[100px] md:max-w-none",t?"text-slate-100":"text-slate-800"),children:l.cn})]}),I.jsxs("div",{className:"flex items-center text-[9px] font-bold text-slate-500 gap-1 leading-none",children:[I.jsx(BO,{size:8}),l.zone.split(" ")[0]]})]})]},l.id)}):I.jsxs("div",{className:"flex items-center gap-3 px-4 opacity-40",children:[I.jsx(Jg,{size:16,className:"animate-spin text-blue-500"}),I.jsx("span",{className:"text-xs font-black tracking-[0.2em] uppercase",children:"Scanning Eorzea..."})]})})]})]})},hM={:"https://ff14hunt.blob.core.windows.net/image/arch_aethereater.webp"," ":"https://ff14hunt.blob.core.windows.net/image/Kirlirger_the_Abhorren.webp",:"https://ff14hunt.blob.core.windows.net/image/Ihnuxokiy.webp",:"https://ff14hunt.blob.core.windows.net/image/Neyoozoteel.webp",:"https://ff14hunt.blob.core.windows.net/image/Sansheya.webp"," ":"https://ff14hunt.blob.core.windows.net/image/Atticus_the_Primogenitor.webp",:"https://ff14hunt.blob.core.windows.net/image/The_Forecaster.webp",:"https://ff14hunt.blob.core.windows.net/image/Ker.webp",:"https://ff14hunt.blob.core.windows.net/image/Burfurlur_the_Canny.webp",:"https://ff14hunt.blob.core.windows.net/image/Sphatika.webp",:"https://ff14hunt.blob.core.windows.net/image/Armstrong.webp",:"https://ff14hunt.blob.core.windows.net/image/Ruminator.webp",:"https://ff14hunt.blob.core.windows.net/image/Ophioneus.webp",:"https://ff14hunt.blob.core.windows.net/image/Narrow-rift.webp",:"https://ff14hunt.blob.core.windows.net/image/The_Forgiven_Rebellion.webp",:"https://ff14hunt.blob.core.windows.net/image/Tyger.webp",:"https://ff14hunt.blob.core.windows.net/image/Forgiven_Pedantry.webp",:"https://ff14hunt.blob.core.windows.net/image/Tarchia.webp",:"https://ff14hunt.blob.core.windows.net/image/Aglaope.webp",:"https://ff14hunt.blob.core.windows.net/image/Ixtab.webp",:"https://ff14hunt.blob.core.windows.net/image/Gunitt.webp",:"https://ff14hunt.blob.core.windows.net/image/Udumbara.webp",:"https://ff14hunt.blob.core.windows.net/image/Bone_Crawler.webp",:"https://ff14hunt.blob.core.windows.net/image/Salt_and_Light.webp",:"https://ff14hunt.blob.core.windows.net/image/Okina.webp",:"https://ff14hunt.blob.core.windows.net/image/Orghana.webp",:"https://ff14hunt.blob.core.windows.net/image/Gamma.webp",:"https://ff14hunt.blob.core.windows.net/image/Leucrotta.webp",:"https://ff14hunt.blob.core.windows.net/image/Kaiser_Behemoth.webp",:"https://ff14hunt.blob.core.windows.net/image/Senmurv.webp",:"https://ff14hunt.blob.core.windows.net/image/The_Pale_Rider.webp",:"https://ff14hunt.blob.core.windows.net/image/Gandarewa.webp",:"https://ff14hunt.blob.core.windows.net/image/Bird_of_Paradise.webp",:"https://ff14hunt.blob.core.windows.net/image/Laideronnette.webp",:"https://ff14hunt.blob.core.windows.net/image/Wulgaru.webp",:"https://ff14hunt.blob.core.windows.net/image/Mindflayer.webp",:"https://ff14hunt.blob.core.windows.net/image/Thousand-cast_Theda.webp",:"https://ff14hunt.blob.core.windows.net/image/Zona_Seeker.webp",:"https://ff14hunt.blob.core.windows.net/image/Brontes.webp",:"https://ff14hunt.blob.core.windows.net/image/Lampalagua.webp",:"https://ff14hunt.blob.core.windows.net/image/Nunyunuwi.webp",:"https://ff14hunt.blob.core.windows.net/image/Minhocao.webp",:"https://ff14hunt.blob.core.windows.net/image/Croque-Mitaine.webp",:"https://ff14hunt.blob.core.windows.net/image/Croakadile.webp",:"https://ff14hunt.blob.core.windows.net/image/the_Garlok.webp",:"https://ff14hunt.blob.core.windows.net/image/Bonnacon.webp",:"https://ff14hunt.blob.core.windows.net/image/Nandi.webp",:"https://ff14hunt.blob.core.windows.net/image/Chernobog.webp",:"https://ff14hunt.blob.core.windows.net/image/Safat.webp",:"https://ff14hunt.blob.core.windows.net/image/Agrippa_the_Mighty.webp"},pM=n=>{if(!n)return"";const e=new Date(n);return`${e.getFullYear()}/${String(e.getMonth()+1).padStart(2,"0")}/${String(e.getDate()).padStart(2,"0")} ${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}`},VE=n=>{if(n<=0)return"00 00 00";const e=Math.floor(n/1e3),t=Math.floor(e/86400),s=Math.floor(e%86400/3600),a=Math.floor(e%3600/60),l=e%60;return t>0?`${String(t).padStart(2,"0")} ${String(s).padStart(2,"0")} ${String(a).padStart(2,"0")}`:`${String(s).padStart(2,"0")} ${String(a).padStart(2,"0")} ${String(l).padStart(2,"0")}`},PE=({mob:n,timer:e,currentTime:t,isMidnight:s,isAdmin:a,server:l,inTrain:u,viewMode:p,onToggleKill:m,onToggleTrain:g,onOpenHistory:v,isEditing:_,editTimeVal:E,setEditTimeVal:S,onToggleEdit:V,onManualSubmit:z})=>{const[P,F]=se.useState(!1),Q=e?.endTime>t,re=["","",""].includes(n.cn),te=n.rank==="ss"||re,le=pO(n,t),ae=le&&le.includes(""),R=le?le.replace("","").replace(" ","").replace("",""):"",x=hM[n.cn],C={card:s?"bg-[#101218] border-white/5 shadow-2xl shadow-black/50":"bg-white border-slate-200 shadow-sm",btn:s?"bg-[#252a3a] border-white/10 text-slate-300 hover:text-white":"bg-white border-slate-200 text-slate-600 hover:bg-slate-100",specialKing:s?"bg-gradient-to-br from-amber-900/60 via-purple-900/40 to-[#0a0a0a] border-amber-500/40":"bg-gradient-to-br from-amber-50 to-purple-50 border-amber-300/60",readyGlowS:s?"border-yellow-500/40 shadow-[0_0_25px_rgba(234,179,8,0.25)] ring-2 ring-yellow-500/20":"border-yellow-500/50 bg-yellow-50/5",readyGlowA:s?"border-blue-500/40 shadow-[0_0_25px_rgba(59,130,246,0.25)] ring-2 ring-blue-500/20":"border-blue-500/50 bg-blue-50/5"};let O="",N=s?"text-slate-400 font-black":"text-slate-500 font-black";if(Q)O=" ",N=s?"text-blue-400 font-black":"text-blue-600 font-black";else if(e?.endTime){const K=(t-e.endTime)/(1e3*60*60);n.rank==="s"?K<24?(O=" ",N=s?"text-emerald-400 font-black":"text-emerald-600 font-black"):K<48?(O=" ",N="text-amber-500 font-black animate-pulse"):(O="  ()",N="text-red-500 font-black animate-bounce"):K<1?(O=" ",N=s?"text-emerald-400 font-black":"text-emerald-600 font-black"):K<5?(O=" ",N="text-amber-500 font-black animate-pulse"):(O="  ()",N="text-red-500 font-black")}te&&(O="  ()",N="text-purple-500 font-black animate-pulse");const U=s?"text-white":"text-slate-900",D=s?"text-slate-400":"text-slate-500",$e=I.jsxs("div",{className:ge("mt-4 p-4 rounded-2xl border flex flex-col md:flex-row gap-3 animate-in slide-in-from-top-2",s?"bg-black/40 border-white/10":"bg-slate-50 border-slate-200"),children:[I.jsxs("div",{className:"flex-1",children:[I.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-500 mb-1 block",children:""}),I.jsx("input",{type:"datetime-local",value:E,onChange:_e=>S?.(_e.target.value),onClick:_e=>_e.stopPropagation(),className:ge("w-full p-2 rounded-xl text-sm font-mono outline-none border transition-all",s?"bg-black/20 border-white/10 focus:border-blue-500 text-white":"bg-white border-slate-300 focus:border-blue-500")})]}),I.jsx("button",{onClick:_e=>{_e.stopPropagation(),z?.()},className:"self-end px-6 py-2.5 bg-blue-600 text-white rounded-xl text-xs font-black shadow-lg hover:bg-blue-500 transition-all active:scale-95",children:""})]});return p==="list"?I.jsxs("div",{className:ge("flex flex-col border-b last:border-0 font-black",s?"border-white/5":"border-slate-100"),children:[I.jsxs("div",{onClick:()=>F(!P),className:ge("p-4 flex items-center justify-between cursor-pointer transition-all",Q?"hover:bg-white/5":s?"bg-emerald-500/10":"bg-emerald-50/5"),children:[I.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[I.jsxs("span",{className:"text-[10px] text-blue-500 w-12 shrink-0 font-black",children:["[",l.slice(0,2),"]"]}),I.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[I.jsxs("div",{className:"flex flex-wrap items-baseline gap-2 mb-0.5",children:[I.jsx("span",{className:"text-[10px] text-slate-500 uppercase truncate font-black",children:n.zone}),I.jsx("span",{className:ge("md:hidden text-[10px] font-bold",N),children:O})]}),I.jsxs("div",{className:ge("flex items-center gap-2 text-base font-black truncate",U),children:[n.cn," ",te&&I.jsx(DE,{className:"w-3 h-3 text-amber-500 fill-current"})]}),I.jsx("div",{className:"mt-1",children:Q?I.jsxs("div",{className:"flex items-center gap-1 text-blue-500 font-mono text-[10px] font-bold",children:[I.jsx(n1,{className:"w-3 h-3"}),I.jsxs("span",{children:[" ",VE(e.endTime-t)]})]}):le&&le!==""&&(ae?I.jsxs("span",{className:"text-[10px] text-emerald-500 font-mono font-bold flex items-center gap-1 animate-pulse",children:["  ",R]}):I.jsxs("span",{className:ge("text-[10px] font-mono font-bold flex items-center gap-1",s?"text-purple-400":"text-purple-600"),children:["  ",R]}))})]}),I.jsx("div",{className:ge("hidden md:block text-sm font-black whitespace-nowrap min-w-[100px] text-right",N),children:O})]}),!re&&I.jsxs("div",{className:"flex gap-2 shrink-0 ml-4",children:[a&&I.jsx("button",{onClick:_e=>{_e.stopPropagation(),V?.()},className:ge("p-2 rounded-lg border transition-colors font-black",C.btn),children:I.jsx(OE,{className:"w-4 h-4"})}),I.jsx("button",{onClick:_e=>{_e.stopPropagation(),v()},className:ge("p-2 rounded-lg border transition-colors font-black",C.btn),children:I.jsx(Qm,{className:"w-4 h-4"})}),I.jsx("button",{onClick:_e=>{_e.stopPropagation(),g()},className:ge("p-2 rounded-lg border transition-colors font-black",u?"bg-emerald-600 text-white border-emerald-500":C.btn),children:u?I.jsx(RE,{className:"w-4 h-4"}):I.jsx(NE,{className:"w-4 h-4"})}),I.jsx("button",{onClick:_e=>{_e.stopPropagation(),m()},className:ge("p-2 rounded-lg text-white shadow-lg active:scale-95 transition-transform font-black",Q?"bg-red-600":"bg-emerald-600"),children:Q?I.jsx(ME,{className:"w-4 h-4"}):I.jsx(CE,{className:"w-4 h-4"})})]})]}),(P||_)&&I.jsxs("div",{className:ge("px-4 pb-4 md:px-12 md:pb-6",s?"bg-[#0c0e14]/50":"bg-slate-50"),children:[_&&$e,P&&I.jsxs("div",{className:ge("p-4 mt-2 text-xs font-mono border-l-4 border-blue-500 rounded-r-xl",s?"bg-black/20 text-slate-400":"bg-white text-slate-600 border"),children:[e?.startTime&&I.jsxs("div",{className:"mb-2 opacity-70 font-bold",children:[": ",pM(e.startTime)]}),I.jsx("div",{className:"leading-relaxed",children:n.trigger||""})]})]})]}):I.jsxs("div",{className:ge(C.card,"relative overflow-hidden rounded-[2rem] md:rounded-[3.5rem] border-2 p-5 md:p-12 transition-all duration-300 font-black group",!Q&&!te?n.rank==="s"?C.readyGlowS:C.readyGlowA:"",te?C.specialKing:""),children:[x&&I.jsx("div",{className:ge("monster-bg-art absolute inset-0 z-0",s?"theme-midnight":"theme-sunlight"),children:I.jsx("img",{src:x,alt:n.cn,className:"w-full h-full object-cover"})}),I.jsx("div",{className:"relative z-10 flex flex-col font-black w-full text-left",children:I.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start mb-4",children:[I.jsxs("div",{className:"w-full md:pr-10",children:[I.jsxs("div",{className:"flex items-center flex-wrap gap-2 mb-4",children:[I.jsx("span",{className:ge("text-[10px] px-3 py-1 rounded-lg font-black uppercase tracking-wider",n.expKey==="arr"?"bg-emerald-600 text-white":"bg-blue-600 text-white"),children:n.zone.split(" ")[0]}),te&&I.jsxs("span",{className:"bg-purple-500 text-white text-[10px] px-3 py-1 rounded-lg flex items-center gap-1 shadow-md font-black uppercase",children:[I.jsx(DE,{className:"w-3 h-3 fill-current"})," SPECIAL"]})]}),I.jsx("h3",{className:ge("text-3xl md:text-5xl mb-2 font-black tracking-tight leading-tight drop-shadow-md",U),children:n.cn}),I.jsx("p",{className:ge("text-sm md:text-base opacity-40 mb-2 italic font-black",D),children:n.jp}),I.jsx("div",{className:"text-xs md:text-sm text-slate-500 mb-4 uppercase tracking-widest font-black",children:n.zone}),I.jsx("div",{className:ge("text-base md:text-2xl font-black tracking-widest uppercase mb-2 flex items-center gap-3",N),children:O}),Q?I.jsxs("div",{className:"mb-6 flex flex-col gap-1",children:[I.jsx("span",{className:"text-[10px] font-bold opacity-60",children:" "}),I.jsx("span",{className:ge("text-sm md:text-lg font-mono font-black px-2 py-1 rounded-lg w-fit",s?"bg-blue-900/40 text-blue-400":"bg-blue-50 text-blue-600"),children:VE(e.endTime-t)})]}):le&&le!==""&&!te&&I.jsxs("div",{className:"mb-6 flex flex-col gap-1",children:[I.jsx("span",{className:ge("text-[10px] font-bold",ae?"text-red-500 animate-pulse":"opacity-60"),children:ae?" ":" "}),I.jsx("span",{className:ge("text-sm md:text-lg font-mono font-black px-2 py-1 rounded-lg w-fit",ae?"bg-emerald-600 text-white shadow-lg animate-pulse":"bg-slate-200 text-slate-600"),children:ae?R:` ${R}`})]}),n.trigger&&I.jsxs("div",{className:ge("mb-4 p-4 rounded-2xl text-xs md:text-sm leading-relaxed border-l-4 backdrop-blur-sm shadow-sm",s?"bg-blue-900/30 border-blue-500 text-slate-200":"bg-white/60 border-blue-400 text-slate-800"),children:[I.jsx("span",{className:"block font-bold mb-1 opacity-80 text-blue-400 uppercase tracking-wider text-[10px]",children:"Trigger Condition"}),n.trigger]}),_&&$e]}),!re&&I.jsxs("div",{className:"flex flex-row md:flex-col items-center gap-2 md:gap-5 mt-6 md:mt-0 pt-4 md:pt-0 border-t md:border-t-0 border-dashed border-white/10 w-full md:w-auto shrink-0",children:[a&&I.jsx("button",{onClick:_e=>{_e.stopPropagation(),V?.()},className:ge("flex-1 md:flex-none p-3.5 md:p-6 rounded-2xl border-2 justify-center flex items-center transition-all hover:scale-110 font-black",C.btn),children:I.jsx(OE,{className:"w-6 h-6 md:w-8 md:h-8"})}),I.jsx("button",{onClick:_e=>{_e.stopPropagation(),v()},className:ge("flex-1 md:flex-none p-3.5 md:p-6 rounded-2xl border-2 justify-center flex items-center transition-all hover:scale-110 font-black",C.btn),children:I.jsx(Qm,{className:"w-6 h-6 md:w-8 md:h-8"})}),I.jsx("button",{onClick:_e=>{_e.stopPropagation(),g()},className:ge("flex-1 md:flex-none p-3.5 md:p-6 rounded-2xl border-2 justify-center flex items-center transition-all hover:scale-110 font-black",u?"bg-emerald-600 text-white border-emerald-500":C.btn),children:u?I.jsx(RE,{className:"w-6 h-6 md:w-8 md:h-8"}):I.jsx(NE,{className:"w-6 h-6 md:w-8 md:h-8"})}),I.jsx("button",{onClick:_e=>{_e.stopPropagation(),m()},className:ge("flex-[2] md:flex-none p-3.5 md:p-6 rounded-2xl border-2 shadow-lg justify-center flex items-center transition-all active:scale-95 hover:scale-110 font-black",Q?s?"bg-red-950/40 border-red-500/50 text-red-500":"bg-red-600 text-white":s?"bg-emerald-950/40 border-emerald-500/50 text-emerald-400":"bg-emerald-600 text-white"),children:Q?I.jsx(ME,{className:"w-6 h-6 md:w-8 md:h-8 font-black"}):I.jsx(CE,{className:"w-6 h-6 md:w-8 md:h-8"})})]})]})})]})};var ey=ww();const mM=sg(ey);function bn(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var gM=typeof Symbol=="function"&&Symbol.observable||"@@observable",kE=gM,LE=()=>Math.random().toString(36).substring(7).split("").join("."),yM={INIT:`@@redux/INIT${LE()}`,REPLACE:`@@redux/REPLACE${LE()}`},UE=yM;function vM(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function s1(n,e,t){if(typeof n!="function")throw new Error(bn(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(bn(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(bn(1));return t(s1)(n,e)}let s=n,a=e,l=new Map,u=l,p=0,m=!1;function g(){u===l&&(u=new Map,l.forEach((P,F)=>{u.set(F,P)}))}function v(){if(m)throw new Error(bn(3));return a}function _(P){if(typeof P!="function")throw new Error(bn(4));if(m)throw new Error(bn(5));let F=!0;g();const Q=p++;return u.set(Q,P),function(){if(F){if(m)throw new Error(bn(6));F=!1,g(),u.delete(Q),l=null}}}function E(P){if(!vM(P))throw new Error(bn(7));if(typeof P.type>"u")throw new Error(bn(8));if(typeof P.type!="string")throw new Error(bn(17));if(m)throw new Error(bn(9));try{m=!0,a=s(a,P)}finally{m=!1}return(l=u).forEach(Q=>{Q()}),P}function S(P){if(typeof P!="function")throw new Error(bn(10));s=P,E({type:UE.REPLACE})}function V(){const P=_;return{subscribe(F){if(typeof F!="object"||F===null)throw new Error(bn(11));function Q(){const te=F;te.next&&te.next(v())}return Q(),{unsubscribe:P(Q)}},[kE](){return this}}}return E({type:UE.INIT}),{dispatch:E,subscribe:_,getState:v,replaceReducer:S,[kE]:V}}function zE(n,e){return function(...t){return e(n.apply(this,t))}}function jE(n,e){if(typeof n=="function")return zE(n,e);if(typeof n!="object"||n===null)throw new Error(bn(16));const t={};for(const s in n){const a=n[s];typeof a=="function"&&(t[s]=zE(a,e))}return t}function a1(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...s)=>e(t(...s)))}function _M(...n){return e=>(t,s)=>{const a=e(t,s);let l=()=>{throw new Error(bn(15))};const u={getState:a.getState,dispatch:(m,...g)=>l(m,...g)},p=n.map(m=>m(u));return l=a1(...p)(a.dispatch),{...a,dispatch:l}}}var um={exports:{}},fm={};var BE;function bM(){if(BE)return fm;BE=1;var n=Ed();function e(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var t=typeof Object.is=="function"?Object.is:e,s=n.useSyncExternalStore,a=n.useRef,l=n.useEffect,u=n.useMemo,p=n.useDebugValue;return fm.useSyncExternalStoreWithSelector=function(m,g,v,_,E){var S=a(null);if(S.current===null){var V={hasValue:!1,value:null};S.current=V}else V=S.current;S=u(function(){function P(le){if(!F){if(F=!0,Q=le,le=_(le),E!==void 0&&V.hasValue){var ae=V.value;if(E(ae,le))return re=ae}return re=le}if(ae=re,t(Q,le))return ae;var R=_(le);return E!==void 0&&E(ae,R)?(Q=le,ae):(Q=le,re=R)}var F=!1,Q,re,te=v===void 0?null:v;return[function(){return P(g())},te===null?void 0:function(){return P(te())}]},[g,v,_,E]);var z=s(m,S[0],S[1]);return l(function(){V.hasValue=!0,V.value=z},[z]),p(z),z},fm}var HE;function EM(){return HE||(HE=1,um.exports=bM()),um.exports}EM();var wM=se.version.startsWith("19"),TM=Symbol.for(wM?"react.transitional.element":"react.element"),SM=Symbol.for("react.portal"),AM=Symbol.for("react.fragment"),xM=Symbol.for("react.strict_mode"),IM=Symbol.for("react.profiler"),RM=Symbol.for("react.consumer"),CM=Symbol.for("react.context"),o1=Symbol.for("react.forward_ref"),DM=Symbol.for("react.suspense"),NM=Symbol.for("react.suspense_list"),ty=Symbol.for("react.memo"),OM=Symbol.for("react.lazy"),MM=o1,VM=ty;function PM(n){if(typeof n=="object"&&n!==null){const{$$typeof:e}=n;switch(e){case TM:switch(n=n.type,n){case AM:case IM:case xM:case DM:case NM:return n;default:switch(n=n&&n.$$typeof,n){case CM:case o1:case OM:case ty:return n;case RM:return n;default:return e}}case SM:return e}}}function kM(n){return PM(n)===ty}function LM(n,e,t,s,{areStatesEqual:a,areOwnPropsEqual:l,areStatePropsEqual:u}){let p=!1,m,g,v,_,E;function S(Q,re){return m=Q,g=re,v=n(m,g),_=e(s,g),E=t(v,_,g),p=!0,E}function V(){return v=n(m,g),e.dependsOnOwnProps&&(_=e(s,g)),E=t(v,_,g),E}function z(){return n.dependsOnOwnProps&&(v=n(m,g)),e.dependsOnOwnProps&&(_=e(s,g)),E=t(v,_,g),E}function P(){const Q=n(m,g),re=!u(Q,v);return v=Q,re&&(E=t(v,_,g)),E}function F(Q,re){const te=!l(re,g),le=!a(Q,m,re,g);return m=Q,g=re,te&&le?V():te?z():le?P():E}return function(re,te){return p?F(re,te):S(re,te)}}function UM(n,{initMapStateToProps:e,initMapDispatchToProps:t,initMergeProps:s,...a}){const l=e(n,a),u=t(n,a),p=s(n,a);return LM(l,u,p,n,a)}function zM(n,e){const t={};for(const s in n){const a=n[s];typeof a=="function"&&(t[s]=(...l)=>e(a(...l)))}return t}function Wm(n){return function(t){const s=n(t);function a(){return s}return a.dependsOnOwnProps=!1,a}}function qE(n){return n.dependsOnOwnProps?!!n.dependsOnOwnProps:n.length!==1}function l1(n,e){return function(s,{displayName:a}){const l=function(p,m){return l.dependsOnOwnProps?l.mapToProps(p,m):l.mapToProps(p,void 0)};return l.dependsOnOwnProps=!0,l.mapToProps=function(p,m){l.mapToProps=n,l.dependsOnOwnProps=qE(n);let g=l(p,m);return typeof g=="function"&&(l.mapToProps=g,l.dependsOnOwnProps=qE(g),g=l(p,m)),g},l}}function ny(n,e){return(t,s)=>{throw new Error(`Invalid value of type ${typeof n} for ${e} argument when connecting component ${s.wrappedComponentName}.`)}}function jM(n){return n&&typeof n=="object"?Wm(e=>zM(n,e)):n?typeof n=="function"?l1(n):ny(n,"mapDispatchToProps"):Wm(e=>({dispatch:e}))}function BM(n){return n?typeof n=="function"?l1(n):ny(n,"mapStateToProps"):Wm(()=>({}))}function HM(n,e,t){return{...t,...n,...e}}function qM(n){return function(t,{displayName:s,areMergedPropsEqual:a}){let l=!1,u;return function(m,g,v){const _=n(m,g,v);return l?a(_,u)||(u=_):(l=!0,u=_),u}}}function GM(n){return n?typeof n=="function"?qM(n):ny(n,"mergeProps"):()=>HM}function FM(n){n()}function $M(){let n=null,e=null;return{clear(){n=null,e=null},notify(){FM(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let s=n;for(;s;)t.push(s),s=s.next;return t},subscribe(t){let s=!0;const a=e={callback:t,next:null,prev:e};return a.prev?a.prev.next=a:n=a,function(){!s||n===null||(s=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:n=a.next)}}}}var GE={notify(){},get:()=>[]};function c1(n,e){let t,s=GE,a=0,l=!1;function u(z){v();const P=s.subscribe(z);let F=!1;return()=>{F||(F=!0,P(),_())}}function p(){s.notify()}function m(){V.onStateChange&&V.onStateChange()}function g(){return l}function v(){a++,t||(t=e?e.addNestedSub(m):n.subscribe(m),s=$M())}function _(){a--,t&&a===0&&(t(),t=void 0,s.clear(),s=GE)}function E(){l||(l=!0,v())}function S(){l&&(l=!1,_())}const V={addNestedSub:u,notifyNestedSubs:p,handleChangeWrapper:m,isSubscribed:g,trySubscribe:E,tryUnsubscribe:S,getListeners:()=>s};return V}var YM=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",KM=YM(),QM=()=>typeof navigator<"u"&&navigator.product==="ReactNative",XM=QM(),WM=()=>KM||XM?se.useLayoutEffect:se.useEffect,dd=WM();function FE(n,e){return n===e?n!==0||e!==0||1/n===1/e:n!==n&&e!==e}function dm(n,e){if(FE(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n),s=Object.keys(e);if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(!Object.prototype.hasOwnProperty.call(e,t[a])||!FE(n[t[a]],e[t[a]]))return!1;return!0}var JM={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ZM={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},eV={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u1={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},tV={[MM]:eV,[VM]:u1};function $E(n){return kM(n)?u1:tV[n.$$typeof]||JM}var nV=Object.defineProperty,rV=Object.getOwnPropertyNames,YE=Object.getOwnPropertySymbols,iV=Object.getOwnPropertyDescriptor,sV=Object.getPrototypeOf,KE=Object.prototype;function Jm(n,e){if(typeof e!="string"){if(KE){const l=sV(e);l&&l!==KE&&Jm(n,l)}let t=rV(e);YE&&(t=t.concat(YE(e)));const s=$E(n),a=$E(e);for(let l=0;l<t.length;++l){const u=t[l];if(!ZM[u]&&!(a&&a[u])&&!(s&&s[u])){const p=iV(e,u);try{nV(n,u,p)}catch{}}}}return n}var aV=Symbol.for("react-redux-context"),oV=typeof globalThis<"u"?globalThis:{};function lV(){if(!se.createContext)return{};const n=oV[aV]??=new Map;let e=n.get(se.createContext);return e||(e=se.createContext(null),n.set(se.createContext,e)),e}var f1=lV(),cV=[null,null];function uV(n,e,t){dd(()=>n(...e),t)}function fV(n,e,t,s,a,l){n.current=s,t.current=!1,a.current&&(a.current=null,l())}function dV(n,e,t,s,a,l,u,p,m,g,v){if(!n)return()=>{};let _=!1,E=null;const S=()=>{if(_||!p.current)return;const z=e.getState();let P,F;try{P=s(z,a.current)}catch(Q){F=Q,E=Q}F||(E=null),P===l.current?u.current||g():(l.current=P,m.current=P,u.current=!0,v())};return t.onStateChange=S,t.trySubscribe(),S(),()=>{if(_=!0,t.tryUnsubscribe(),t.onStateChange=null,E)throw E}}function hV(n,e){return n===e}function pV(n,e,t,{pure:s,areStatesEqual:a=hV,areOwnPropsEqual:l=dm,areStatePropsEqual:u=dm,areMergedPropsEqual:p=dm,forwardRef:m=!1,context:g=f1}={}){const v=g,_=BM(n),E=jM(e),S=GM(t),V=!!n;return P=>{const F=P.displayName||P.name||"Component",Q=`Connect(${F})`,re={shouldHandleStateChanges:V,displayName:Q,wrappedComponentName:F,WrappedComponent:P,initMapStateToProps:_,initMapDispatchToProps:E,initMergeProps:S,areStatesEqual:a,areStatePropsEqual:u,areOwnPropsEqual:l,areMergedPropsEqual:p};function te(R){const[x,C,O]=se.useMemo(()=>{const{reactReduxForwardedRef:Ne,...nt}=R;return[R.context,Ne,nt]},[R]),N=se.useMemo(()=>{let Ne=v;return x?.Consumer,Ne},[x,v]),U=se.useContext(N),D=!!R.store&&!!R.store.getState&&!!R.store.dispatch,$e=!!U&&!!U.store,_e=D?R.store:U.store,K=$e?U.getServerState:_e.getState,oe=se.useMemo(()=>UM(_e.dispatch,re),[_e]),[ye,Le]=se.useMemo(()=>{if(!V)return cV;const Ne=c1(_e,D?void 0:U.subscription),nt=Ne.notifyNestedSubs.bind(Ne);return[Ne,nt]},[_e,D,U]),Ke=se.useMemo(()=>D?U:{...U,subscription:ye},[D,U,ye]),k=se.useRef(void 0),W=se.useRef(O),ce=se.useRef(void 0),de=se.useRef(!1),Te=se.useRef(!1),xe=se.useRef(void 0);dd(()=>(Te.current=!0,()=>{Te.current=!1}),[]);const ke=se.useMemo(()=>()=>ce.current&&O===W.current?ce.current:oe(_e.getState(),O),[_e,O]),bt=se.useMemo(()=>nt=>ye?dV(V,_e,ye,oe,W,k,de,Te,ce,Le,nt):()=>{},[ye]);uV(fV,[W,k,de,O,ce,Le]);let ie;try{ie=se.useSyncExternalStore(bt,ke,K?()=>oe(K(),O):ke)}catch(Ne){throw xe.current&&(Ne.message+=`
The error may be correlated with this previous error:
${xe.current.stack}

`),Ne}dd(()=>{xe.current=void 0,ce.current=void 0,k.current=ie});const Ve=se.useMemo(()=>se.createElement(P,{...ie,ref:C}),[C,P,ie]);return se.useMemo(()=>V?se.createElement(N.Provider,{value:Ke},Ve):Ve,[N,Ve,Ke])}const ae=se.memo(te);if(ae.WrappedComponent=P,ae.displayName=te.displayName=Q,m){const x=se.forwardRef(function(O,N){return se.createElement(ae,{...O,reactReduxForwardedRef:N})});return x.displayName=Q,x.WrappedComponent=P,Jm(x,P)}return Jm(ae,P)}}var d1=pV;function mV(n){const{children:e,context:t,serverState:s,store:a}=n,l=se.useMemo(()=>{const m=c1(a);return{store:a,subscription:m,getServerState:s?()=>s:void 0}},[a,s]),u=se.useMemo(()=>a.getState(),[a]);dd(()=>{const{subscription:m}=l;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),u!==a.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[l,u]);const p=t||f1;return se.createElement(p.Provider,{value:l},e)}var gV=mV,yV="Invariant failed";function vV(n,e){throw new Error(yV)}var wr=function(e){var t=e.top,s=e.right,a=e.bottom,l=e.left,u=s-l,p=a-t,m={top:t,right:s,bottom:a,left:l,width:u,height:p,x:l,y:t,center:{x:(s+l)/2,y:(a+t)/2}};return m},ry=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},QE=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},_V=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},hm={top:0,right:0,bottom:0,left:0},iy=function(e){var t=e.borderBox,s=e.margin,a=s===void 0?hm:s,l=e.border,u=l===void 0?hm:l,p=e.padding,m=p===void 0?hm:p,g=wr(ry(t,a)),v=wr(QE(t,u)),_=wr(QE(v,m));return{marginBox:g,borderBox:wr(t),paddingBox:v,contentBox:_,margin:a,border:u,padding:m}},nr=function(e){var t=e.slice(0,-2),s=e.slice(-2);if(s!=="px")return 0;var a=Number(t);return isNaN(a)&&vV(),a},bV=function(){return{x:window.pageXOffset,y:window.pageYOffset}},hd=function(e,t){var s=e.borderBox,a=e.border,l=e.margin,u=e.padding,p=_V(s,t);return iy({borderBox:p,border:a,margin:l,padding:u})},pd=function(e,t){return t===void 0&&(t=bV()),hd(e,t)},h1=function(e,t){var s={top:nr(t.marginTop),right:nr(t.marginRight),bottom:nr(t.marginBottom),left:nr(t.marginLeft)},a={top:nr(t.paddingTop),right:nr(t.paddingRight),bottom:nr(t.paddingBottom),left:nr(t.paddingLeft)},l={top:nr(t.borderTopWidth),right:nr(t.borderRightWidth),bottom:nr(t.borderBottomWidth),left:nr(t.borderLeftWidth)};return iy({borderBox:e,margin:s,padding:a,border:l})},p1=function(e){var t=e.getBoundingClientRect(),s=window.getComputedStyle(e);return h1(t,s)},Rc=function(e){var t=[],s=null,a=function(){for(var u=arguments.length,p=new Array(u),m=0;m<u;m++)p[m]=arguments[m];t=p,!s&&(s=requestAnimationFrame(function(){s=null,e.apply(void 0,t)}))};return a.cancel=function(){s&&(cancelAnimationFrame(s),s=null)},a};function md(){return md=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)({}).hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},md.apply(null,arguments)}function m1(n,e){}m1.bind(null,"warn");m1.bind(null,"error");function Ts(){}function EV(n,e){return{...n,...e}}function ar(n,e,t){const s=e.map(a=>{const l=EV(t,a.options);return n.addEventListener(a.eventName,a.fn,l),function(){n.removeEventListener(a.eventName,a.fn,l)}});return function(){s.forEach(l=>{l()})}}const wV="Invariant failed";class gd extends Error{}gd.prototype.toString=function(){return this.message};function ue(n,e){throw new gd(wV)}class TV extends pt.Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=Ts,this.onWindowError=t=>{const s=this.getCallbacks();s.isDragging()&&s.tryAbort(),t.error instanceof gd&&t.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=t=>{this.callbacks=t}}componentDidMount(){this.unbind=ar(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(e instanceof gd){this.setState({});return}throw e}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const SV=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,yd=n=>n+1,AV=n=>`
  You have lifted an item in position ${yd(n.source.index)}
`,g1=(n,e)=>{const t=n.droppableId===e.droppableId,s=yd(n.index),a=yd(e.index);return t?`
      You have moved the item from position ${s}
      to position ${a}
    `:`
    You have moved the item from position ${s}
    in list ${n.droppableId}
    to list ${e.droppableId}
    in position ${a}
  `},y1=(n,e,t)=>e.droppableId===t.droppableId?`
      The item ${n}
      has been combined with ${t.draggableId}`:`
      The item ${n}
      in list ${e.droppableId}
      has been combined with ${t.draggableId}
      in list ${t.droppableId}
    `,xV=n=>{const e=n.destination;if(e)return g1(n.source,e);const t=n.combine;return t?y1(n.draggableId,n.source,t):"You are over an area that cannot be dropped on"},XE=n=>`
  The item has returned to its starting position
  of ${yd(n.index)}
`,IV=n=>{if(n.reason==="CANCEL")return`
      Movement cancelled.
      ${XE(n.source)}
    `;const e=n.destination,t=n.combine;return e?`
      You have dropped the item.
      ${g1(n.source,e)}
    `:t?`
      You have dropped the item.
      ${y1(n.draggableId,n.source,t)}
    `:`
    The item has been dropped while not over a drop area.
    ${XE(n.source)}
  `},Ff={dragHandleUsageInstructions:SV,onDragStart:AV,onDragUpdate:xV,onDragEnd:IV};function RV(n,e){return!!(n===e||Number.isNaN(n)&&Number.isNaN(e))}function v1(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(!RV(n[t],e[t]))return!1;return!0}function Xe(n,e){const t=se.useState(()=>({inputs:e,result:n()}))[0],s=se.useRef(!0),a=se.useRef(t),u=s.current||!!(e&&a.current.inputs&&v1(e,a.current.inputs))?a.current:{inputs:e,result:n()};return se.useEffect(()=>{s.current=!1,a.current=u},[u]),u.result}function be(n,e){return Xe(()=>n,e)}const Jt={x:0,y:0},cn=(n,e)=>({x:n.x+e.x,y:n.y+e.y}),jn=(n,e)=>({x:n.x-e.x,y:n.y-e.y}),Ss=(n,e)=>n.x===e.x&&n.y===e.y,Ko=n=>({x:n.x!==0?-n.x:0,y:n.y!==0?-n.y:0}),Ea=(n,e,t=0)=>n==="x"?{x:e,y:t}:{x:t,y:e},Cc=(n,e)=>Math.sqrt((e.x-n.x)**2+(e.y-n.y)**2),WE=(n,e)=>Math.min(...e.map(t=>Cc(n,t))),_1=n=>e=>({x:n(e.x),y:n(e.y)});var CV=(n,e)=>{const t=wr({top:Math.max(e.top,n.top),right:Math.min(e.right,n.right),bottom:Math.min(e.bottom,n.bottom),left:Math.max(e.left,n.left)});return t.width<=0||t.height<=0?null:t};const $c=(n,e)=>({top:n.top+e.y,left:n.left+e.x,bottom:n.bottom+e.y,right:n.right+e.x}),JE=n=>[{x:n.left,y:n.top},{x:n.right,y:n.top},{x:n.left,y:n.bottom},{x:n.right,y:n.bottom}],DV={top:0,right:0,bottom:0,left:0},NV=(n,e)=>e?$c(n,e.scroll.diff.displacement):n,OV=(n,e,t)=>t&&t.increasedBy?{...n,[e.end]:n[e.end]+t.increasedBy[e.line]}:n,MV=(n,e)=>e&&e.shouldClipSubject?CV(e.pageMarginBox,n):wr(n);var Lo=({page:n,withPlaceholder:e,axis:t,frame:s})=>{const a=NV(n.marginBox,s),l=OV(a,t,e),u=MV(l,s);return{page:n,withPlaceholder:e,active:u}},sy=(n,e)=>{n.frame||ue();const t=n.frame,s=jn(e,t.scroll.initial),a=Ko(s),l={...t,scroll:{initial:t.scroll.initial,current:e,diff:{value:s,displacement:a},max:t.scroll.max}},u=Lo({page:n.subject.page,withPlaceholder:n.subject.withPlaceholder,axis:n.axis,frame:l});return{...n,frame:l,subject:u}};function Wt(n,e=v1){let t=null;function s(...a){if(t&&t.lastThis===this&&e(a,t.lastArgs))return t.lastResult;const l=n.apply(this,a);return t={lastResult:l,lastArgs:a,lastThis:this},l}return s.clear=function(){t=null},s}const b1=Wt(n=>n.reduce((e,t)=>(e[t.descriptor.id]=t,e),{})),E1=Wt(n=>n.reduce((e,t)=>(e[t.descriptor.id]=t,e),{})),Bd=Wt(n=>Object.values(n)),VV=Wt(n=>Object.values(n));var Qo=Wt((n,e)=>VV(e).filter(s=>n===s.descriptor.droppableId).sort((s,a)=>s.descriptor.index-a.descriptor.index));function ay(n){return n.at&&n.at.type==="REORDER"?n.at.destination:null}function Hd(n){return n.at&&n.at.type==="COMBINE"?n.at.combine:null}var qd=Wt((n,e)=>e.filter(t=>t.descriptor.id!==n.descriptor.id)),PV=({isMovingForward:n,draggable:e,destination:t,insideDestination:s,previousImpact:a})=>{if(!t.isCombineEnabled||!ay(a))return null;function u(S){const V={type:"COMBINE",combine:{draggableId:S,droppableId:t.descriptor.id}};return{...a,at:V}}const p=a.displaced.all,m=p.length?p[0]:null;if(n)return m?u(m):null;const g=qd(e,s);if(!m){if(!g.length)return null;const S=g[g.length-1];return u(S.descriptor.id)}const v=g.findIndex(S=>S.descriptor.id===m);v===-1&&ue();const _=v-1;if(_<0)return null;const E=g[_];return u(E.descriptor.id)},Xo=(n,e)=>n.descriptor.droppableId===e.descriptor.id;const w1={point:Jt,value:0},Dc={invisible:{},visible:{},all:[]},kV={displaced:Dc,displacedBy:w1,at:null};var or=(n,e)=>t=>n<=t&&t<=e,T1=n=>{const e=or(n.top,n.bottom),t=or(n.left,n.right);return s=>{if(e(s.top)&&e(s.bottom)&&t(s.left)&&t(s.right))return!0;const l=e(s.top)||e(s.bottom),u=t(s.left)||t(s.right);if(l&&u)return!0;const m=s.top<n.top&&s.bottom>n.bottom,g=s.left<n.left&&s.right>n.right;return m&&g?!0:m&&u||g&&l}},LV=n=>{const e=or(n.top,n.bottom),t=or(n.left,n.right);return s=>e(s.top)&&e(s.bottom)&&t(s.left)&&t(s.right)};const oy={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},S1={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var UV=n=>e=>{const t=or(e.top,e.bottom),s=or(e.left,e.right);return a=>n===oy?t(a.top)&&t(a.bottom):s(a.left)&&s(a.right)};const zV=(n,e)=>{const t=e.frame?e.frame.scroll.diff.displacement:Jt;return $c(n,t)},jV=(n,e,t)=>e.subject.active?t(e.subject.active)(n):!1,BV=(n,e,t)=>t(e)(n),ly=({target:n,destination:e,viewport:t,withDroppableDisplacement:s,isVisibleThroughFrameFn:a})=>{const l=s?zV(n,e):n;return jV(l,e,a)&&BV(l,t,a)},HV=n=>ly({...n,isVisibleThroughFrameFn:T1}),A1=n=>ly({...n,isVisibleThroughFrameFn:LV}),qV=n=>ly({...n,isVisibleThroughFrameFn:UV(n.destination.axis)}),GV=(n,e,t)=>{if(typeof t=="boolean")return t;if(!e)return!0;const{invisible:s,visible:a}=e;if(s[n])return!1;const l=a[n];return l?l.shouldAnimate:!0};function FV(n,e){const t=n.page.marginBox,s={top:e.point.y,right:0,bottom:0,left:e.point.x};return wr(ry(t,s))}function Nc({afterDragging:n,destination:e,displacedBy:t,viewport:s,forceShouldAnimate:a,last:l}){return n.reduce(function(p,m){const g=FV(m,t),v=m.descriptor.id;if(p.all.push(v),!HV({target:g,destination:e,viewport:s,withDroppableDisplacement:!0}))return p.invisible[m.descriptor.id]=!0,p;const E=GV(v,l,a),S={draggableId:v,shouldAnimate:E};return p.visible[v]=S,p},{all:[],visible:{},invisible:{}})}function $V(n,e){if(!n.length)return 0;const t=n[n.length-1].descriptor.index;return e.inHomeList?t:t+1}function ZE({insideDestination:n,inHomeList:e,displacedBy:t,destination:s}){const a=$V(n,{inHomeList:e});return{displaced:Dc,displacedBy:t,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:a}}}}function vd({draggable:n,insideDestination:e,destination:t,viewport:s,displacedBy:a,last:l,index:u,forceShouldAnimate:p}){const m=Xo(n,t);if(u==null)return ZE({insideDestination:e,inHomeList:m,displacedBy:a,destination:t});const g=e.find(V=>V.descriptor.index===u);if(!g)return ZE({insideDestination:e,inHomeList:m,displacedBy:a,destination:t});const v=qd(n,e),_=e.indexOf(g),E=v.slice(_);return{displaced:Nc({afterDragging:E,destination:t,displacedBy:a,last:l,viewport:s.frame,forceShouldAnimate:p}),displacedBy:a,at:{type:"REORDER",destination:{droppableId:t.descriptor.id,index:u}}}}function Os(n,e){return!!e.effected[n]}var YV=({isMovingForward:n,destination:e,draggables:t,combine:s,afterCritical:a})=>{if(!e.isCombineEnabled)return null;const l=s.draggableId,p=t[l].descriptor.index;return Os(l,a)?n?p:p-1:n?p+1:p},KV=({isMovingForward:n,isInHomeList:e,insideDestination:t,location:s})=>{if(!t.length)return null;const a=s.index,l=n?a+1:a-1,u=t[0].descriptor.index,p=t[t.length-1].descriptor.index,m=e?p:p+1;return l<u||l>m?null:l},QV=({isMovingForward:n,isInHomeList:e,draggable:t,draggables:s,destination:a,insideDestination:l,previousImpact:u,viewport:p,afterCritical:m})=>{const g=u.at;if(g||ue(),g.type==="REORDER"){const _=KV({isMovingForward:n,isInHomeList:e,location:g.destination,insideDestination:l});return _==null?null:vd({draggable:t,insideDestination:l,destination:a,viewport:p,last:u.displaced,displacedBy:u.displacedBy,index:_})}const v=YV({isMovingForward:n,destination:a,displaced:u.displaced,draggables:s,combine:g.combine,afterCritical:m});return v==null?null:vd({draggable:t,insideDestination:l,destination:a,viewport:p,last:u.displaced,displacedBy:u.displacedBy,index:v})},XV=({displaced:n,afterCritical:e,combineWith:t,displacedBy:s})=>{const a=!!(n.visible[t]||n.invisible[t]);return Os(t,e)?a?Jt:Ko(s.point):a?s.point:Jt},WV=({afterCritical:n,impact:e,draggables:t})=>{const s=Hd(e);s||ue();const a=s.draggableId,l=t[a].page.borderBox.center,u=XV({displaced:e.displaced,afterCritical:n,combineWith:a,displacedBy:e.displacedBy});return cn(l,u)};const x1=(n,e)=>e.margin[n.start]+e.borderBox[n.size]/2,JV=(n,e)=>e.margin[n.end]+e.borderBox[n.size]/2,cy=(n,e,t)=>e[n.crossAxisStart]+t.margin[n.crossAxisStart]+t.borderBox[n.crossAxisSize]/2,ew=({axis:n,moveRelativeTo:e,isMoving:t})=>Ea(n.line,e.marginBox[n.end]+x1(n,t),cy(n,e.marginBox,t)),tw=({axis:n,moveRelativeTo:e,isMoving:t})=>Ea(n.line,e.marginBox[n.start]-JV(n,t),cy(n,e.marginBox,t)),ZV=({axis:n,moveInto:e,isMoving:t})=>Ea(n.line,e.contentBox[n.start]+x1(n,t),cy(n,e.contentBox,t));var e6=({impact:n,draggable:e,draggables:t,droppable:s,afterCritical:a})=>{const l=Qo(s.descriptor.id,t),u=e.page,p=s.axis;if(!l.length)return ZV({axis:p,moveInto:s.page,isMoving:u});const{displaced:m,displacedBy:g}=n,v=m.all[0];if(v){const E=t[v];if(Os(v,a))return tw({axis:p,moveRelativeTo:E.page,isMoving:u});const S=hd(E.page,g.point);return tw({axis:p,moveRelativeTo:S,isMoving:u})}const _=l[l.length-1];if(_.descriptor.id===e.descriptor.id)return u.borderBox.center;if(Os(_.descriptor.id,a)){const E=hd(_.page,Ko(a.displacedBy.point));return ew({axis:p,moveRelativeTo:E,isMoving:u})}return ew({axis:p,moveRelativeTo:_.page,isMoving:u})},Zm=(n,e)=>{const t=n.frame;return t?cn(e,t.scroll.diff.displacement):e};const t6=({impact:n,draggable:e,droppable:t,draggables:s,afterCritical:a})=>{const l=e.page.borderBox.center,u=n.at;return!t||!u?l:u.type==="REORDER"?e6({impact:n,draggable:e,draggables:s,droppable:t,afterCritical:a}):WV({impact:n,draggables:s,afterCritical:a})};var Gd=n=>{const e=t6(n),t=n.droppable;return t?Zm(t,e):e},I1=(n,e)=>{const t=jn(e,n.scroll.initial),s=Ko(t);return{frame:wr({top:e.y,bottom:e.y+n.frame.height,left:e.x,right:e.x+n.frame.width}),scroll:{initial:n.scroll.initial,max:n.scroll.max,current:e,diff:{value:t,displacement:s}}}};function nw(n,e){return n.map(t=>e[t])}function n6(n,e){for(let t=0;t<e.length;t++){const s=e[t].visible[n];if(s)return s}return null}var r6=({impact:n,viewport:e,destination:t,draggables:s,maxScrollChange:a})=>{const l=I1(e,cn(e.scroll.current,a)),u=t.frame?sy(t,cn(t.frame.scroll.current,a)):t,p=n.displaced,m=Nc({afterDragging:nw(p.all,s),destination:t,displacedBy:n.displacedBy,viewport:l.frame,last:p,forceShouldAnimate:!1}),g=Nc({afterDragging:nw(p.all,s),destination:u,displacedBy:n.displacedBy,viewport:e.frame,last:p,forceShouldAnimate:!1}),v={},_={},E=[p,m,g];return p.all.forEach(V=>{const z=n6(V,E);if(z){_[V]=z;return}v[V]=!0}),{...n,displaced:{all:p.all,invisible:v,visible:_}}},i6=(n,e)=>cn(n.scroll.diff.displacement,e),uy=({pageBorderBoxCenter:n,draggable:e,viewport:t})=>{const s=i6(t,n),a=jn(s,e.page.borderBox.center);return cn(e.client.borderBox.center,a)},R1=({draggable:n,destination:e,newPageBorderBoxCenter:t,viewport:s,withDroppableDisplacement:a,onlyOnMainAxis:l=!1})=>{const u=jn(t,n.page.borderBox.center),m={target:$c(n.page.borderBox,u),destination:e,withDroppableDisplacement:a,viewport:s};return l?qV(m):A1(m)},s6=({isMovingForward:n,draggable:e,destination:t,draggables:s,previousImpact:a,viewport:l,previousPageBorderBoxCenter:u,previousClientSelection:p,afterCritical:m})=>{if(!t.isEnabled)return null;const g=Qo(t.descriptor.id,s),v=Xo(e,t),_=PV({isMovingForward:n,draggable:e,destination:t,insideDestination:g,previousImpact:a})||QV({isMovingForward:n,isInHomeList:v,draggable:e,draggables:s,destination:t,insideDestination:g,previousImpact:a,viewport:l,afterCritical:m});if(!_)return null;const E=Gd({impact:_,draggable:e,droppable:t,draggables:s,afterCritical:m});if(R1({draggable:e,destination:t,newPageBorderBoxCenter:E,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:uy({pageBorderBoxCenter:E,draggable:e,viewport:l}),impact:_,scrollJumpRequest:null};const V=jn(E,u),z=r6({impact:_,viewport:l,destination:t,draggables:s,maxScrollChange:V});return{clientSelection:p,impact:z,scrollJumpRequest:V}};const _n=n=>{const e=n.subject.active;return e||ue(),e};var a6=({isMovingForward:n,pageBorderBoxCenter:e,source:t,droppables:s,viewport:a})=>{const l=t.subject.active;if(!l)return null;const u=t.axis,p=or(l[u.start],l[u.end]),m=Bd(s).filter(v=>v!==t).filter(v=>v.isEnabled).filter(v=>!!v.subject.active).filter(v=>T1(a.frame)(_n(v))).filter(v=>{const _=_n(v);return n?l[u.crossAxisEnd]<_[u.crossAxisEnd]:_[u.crossAxisStart]<l[u.crossAxisStart]}).filter(v=>{const _=_n(v),E=or(_[u.start],_[u.end]);return p(_[u.start])||p(_[u.end])||E(l[u.start])||E(l[u.end])}).sort((v,_)=>{const E=_n(v)[u.crossAxisStart],S=_n(_)[u.crossAxisStart];return n?E-S:S-E}).filter((v,_,E)=>_n(v)[u.crossAxisStart]===_n(E[0])[u.crossAxisStart]);if(!m.length)return null;if(m.length===1)return m[0];const g=m.filter(v=>or(_n(v)[u.start],_n(v)[u.end])(e[u.line]));return g.length===1?g[0]:g.length>1?g.sort((v,_)=>_n(v)[u.start]-_n(_)[u.start])[0]:m.sort((v,_)=>{const E=WE(e,JE(_n(v))),S=WE(e,JE(_n(_)));return E!==S?E-S:_n(v)[u.start]-_n(_)[u.start]})[0]};const rw=(n,e)=>{const t=n.page.borderBox.center;return Os(n.descriptor.id,e)?jn(t,e.displacedBy.point):t},o6=(n,e)=>{const t=n.page.borderBox;return Os(n.descriptor.id,e)?$c(t,Ko(e.displacedBy.point)):t};var l6=({pageBorderBoxCenter:n,viewport:e,destination:t,insideDestination:s,afterCritical:a})=>s.filter(u=>A1({target:o6(u,a),destination:t,viewport:e.frame,withDroppableDisplacement:!0})).sort((u,p)=>{const m=Cc(n,Zm(t,rw(u,a))),g=Cc(n,Zm(t,rw(p,a)));return m<g?-1:g<m?1:u.descriptor.index-p.descriptor.index})[0]||null,Yc=Wt(function(e,t){const s=t[e.line];return{value:s,point:Ea(e.line,s)}});const c6=(n,e,t)=>{const s=n.axis;if(n.descriptor.mode==="virtual")return Ea(s.line,e[s.line]);const a=n.subject.page.contentBox[s.size],m=Qo(n.descriptor.id,t).reduce((g,v)=>g+v.client.marginBox[s.size],0)+e[s.line]-a;return m<=0?null:Ea(s.line,m)},C1=(n,e)=>({...n,scroll:{...n.scroll,max:e}}),D1=(n,e,t)=>{const s=n.frame;Xo(e,n)&&ue(),n.subject.withPlaceholder&&ue();const a=Yc(n.axis,e.displaceBy).point,l=c6(n,a,t),u={placeholderSize:a,increasedBy:l,oldFrameMaxScroll:n.frame?n.frame.scroll.max:null};if(!s){const v=Lo({page:n.subject.page,withPlaceholder:u,axis:n.axis,frame:n.frame});return{...n,subject:v}}const p=l?cn(s.scroll.max,l):s.scroll.max,m=C1(s,p),g=Lo({page:n.subject.page,withPlaceholder:u,axis:n.axis,frame:m});return{...n,subject:g,frame:m}},u6=n=>{const e=n.subject.withPlaceholder;e||ue();const t=n.frame;if(!t){const u=Lo({page:n.subject.page,axis:n.axis,frame:null,withPlaceholder:null});return{...n,subject:u}}const s=e.oldFrameMaxScroll;s||ue();const a=C1(t,s),l=Lo({page:n.subject.page,axis:n.axis,frame:a,withPlaceholder:null});return{...n,subject:l,frame:a}};var f6=({previousPageBorderBoxCenter:n,moveRelativeTo:e,insideDestination:t,draggable:s,draggables:a,destination:l,viewport:u,afterCritical:p})=>{if(!e){if(t.length)return null;const _={displaced:Dc,displacedBy:w1,at:{type:"REORDER",destination:{droppableId:l.descriptor.id,index:0}}},E=Gd({impact:_,draggable:s,droppable:l,draggables:a,afterCritical:p}),S=Xo(s,l)?l:D1(l,s,a);return R1({draggable:s,destination:S,newPageBorderBoxCenter:E,viewport:u.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?_:null}const m=n[l.axis.line]<=e.page.borderBox.center[l.axis.line],g=(()=>{const _=e.descriptor.index;return e.descriptor.id===s.descriptor.id||m?_:_+1})(),v=Yc(l.axis,s.displaceBy);return vd({draggable:s,insideDestination:t,destination:l,viewport:u,displacedBy:v,last:Dc,index:g})},d6=({isMovingForward:n,previousPageBorderBoxCenter:e,draggable:t,isOver:s,draggables:a,droppables:l,viewport:u,afterCritical:p})=>{const m=a6({isMovingForward:n,pageBorderBoxCenter:e,source:s,droppables:l,viewport:u});if(!m)return null;const g=Qo(m.descriptor.id,a),v=l6({pageBorderBoxCenter:e,viewport:u,destination:m,insideDestination:g,afterCritical:p}),_=f6({previousPageBorderBoxCenter:e,destination:m,draggable:t,draggables:a,moveRelativeTo:v,insideDestination:g,viewport:u,afterCritical:p});if(!_)return null;const E=Gd({impact:_,draggable:t,droppable:m,draggables:a,afterCritical:p});return{clientSelection:uy({pageBorderBoxCenter:E,draggable:t,viewport:u}),impact:_,scrollJumpRequest:null}},Bn=n=>{const e=n.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null};const h6=(n,e)=>{const t=Bn(n);return t?e[t]:null};var p6=({state:n,type:e})=>{const t=h6(n.impact,n.dimensions.droppables),s=!!t,a=n.dimensions.droppables[n.critical.droppable.id],l=t||a,u=l.axis.direction,p=u==="vertical"&&(e==="MOVE_UP"||e==="MOVE_DOWN")||u==="horizontal"&&(e==="MOVE_LEFT"||e==="MOVE_RIGHT");if(p&&!s)return null;const m=e==="MOVE_DOWN"||e==="MOVE_RIGHT",g=n.dimensions.draggables[n.critical.draggable.id],v=n.current.page.borderBoxCenter,{draggables:_,droppables:E}=n.dimensions;return p?s6({isMovingForward:m,previousPageBorderBoxCenter:v,draggable:g,destination:l,draggables:_,viewport:n.viewport,previousClientSelection:n.current.client.selection,previousImpact:n.impact,afterCritical:n.afterCritical}):d6({isMovingForward:m,previousPageBorderBoxCenter:v,draggable:g,isOver:l,draggables:_,droppables:E,viewport:n.viewport,afterCritical:n.afterCritical})};function fa(n){return n.phase==="DRAGGING"||n.phase==="COLLECTING"}function N1(n){const e=or(n.top,n.bottom),t=or(n.left,n.right);return function(a){return e(a.y)&&t(a.x)}}function m6(n,e){return n.left<e.right&&n.right>e.left&&n.top<e.bottom&&n.bottom>e.top}function g6({pageBorderBox:n,draggable:e,candidates:t}){const s=e.page.borderBox.center,a=t.map(l=>{const u=l.axis,p=Ea(l.axis.line,n.center[u.line],l.page.borderBox.center[u.crossAxisLine]);return{id:l.descriptor.id,distance:Cc(s,p)}}).sort((l,u)=>u.distance-l.distance);return a[0]?a[0].id:null}function y6({pageBorderBox:n,draggable:e,droppables:t}){const s=Bd(t).filter(a=>{if(!a.isEnabled)return!1;const l=a.subject.active;if(!l||!m6(n,l))return!1;if(N1(l)(n.center))return!0;const u=a.axis,p=l.center[u.crossAxisLine],m=n[u.crossAxisStart],g=n[u.crossAxisEnd],v=or(l[u.crossAxisStart],l[u.crossAxisEnd]),_=v(m),E=v(g);return!_&&!E?!0:_?m<p:g>p});return s.length?s.length===1?s[0].descriptor.id:g6({pageBorderBox:n,draggable:e,candidates:s}):null}const O1=(n,e)=>wr($c(n,e));var v6=(n,e)=>{const t=n.frame;return t?O1(e,t.scroll.diff.value):e};function M1({displaced:n,id:e}){return!!(n.visible[e]||n.invisible[e])}function _6({draggable:n,closest:e,inHomeList:t}){return e?t&&e.descriptor.index>n.descriptor.index?e.descriptor.index-1:e.descriptor.index:null}var b6=({pageBorderBoxWithDroppableScroll:n,draggable:e,destination:t,insideDestination:s,last:a,viewport:l,afterCritical:u})=>{const p=t.axis,m=Yc(t.axis,e.displaceBy),g=m.value,v=n[p.start],_=n[p.end],S=qd(e,s).find(z=>{const P=z.descriptor.id,F=z.page.borderBox.center[p.line],Q=Os(P,u),re=M1({displaced:a,id:P});return Q?re?_<=F:v<F-g:re?_<=F+g:v<F})||null,V=_6({draggable:e,closest:S,inHomeList:Xo(e,t)});return vd({draggable:e,insideDestination:s,destination:t,viewport:l,last:a,displacedBy:m,index:V})};const E6=4;var w6=({draggable:n,pageBorderBoxWithDroppableScroll:e,previousImpact:t,destination:s,insideDestination:a,afterCritical:l})=>{if(!s.isCombineEnabled)return null;const u=s.axis,p=Yc(s.axis,n.displaceBy),m=p.value,g=e[u.start],v=e[u.end],E=qd(n,a).find(V=>{const z=V.descriptor.id,P=V.page.borderBox,Q=P[u.size]/E6,re=Os(z,l),te=M1({displaced:t.displaced,id:z});return re?te?v>P[u.start]+Q&&v<P[u.end]-Q:g>P[u.start]-m+Q&&g<P[u.end]-m-Q:te?v>P[u.start]+m+Q&&v<P[u.end]+m-Q:g>P[u.start]+Q&&g<P[u.end]-Q});return E?{displacedBy:p,displaced:t.displaced,at:{type:"COMBINE",combine:{draggableId:E.descriptor.id,droppableId:s.descriptor.id}}}:null},V1=({pageOffset:n,draggable:e,draggables:t,droppables:s,previousImpact:a,viewport:l,afterCritical:u})=>{const p=O1(e.page.borderBox,n),m=y6({pageBorderBox:p,draggable:e,droppables:s});if(!m)return kV;const g=s[m],v=Qo(g.descriptor.id,t),_=v6(g,p);return w6({pageBorderBoxWithDroppableScroll:_,draggable:e,previousImpact:a,destination:g,insideDestination:v,afterCritical:u})||b6({pageBorderBoxWithDroppableScroll:_,draggable:e,destination:g,insideDestination:v,last:a.displaced,viewport:l,afterCritical:u})},fy=(n,e)=>({...n,[e.descriptor.id]:e});const T6=({previousImpact:n,impact:e,droppables:t})=>{const s=Bn(n),a=Bn(e);if(!s||s===a)return t;const l=t[s];if(!l.subject.withPlaceholder)return t;const u=u6(l);return fy(t,u)};var S6=({draggable:n,draggables:e,droppables:t,previousImpact:s,impact:a})=>{const l=T6({previousImpact:s,impact:a,droppables:t}),u=Bn(a);if(!u)return l;const p=t[u];if(Xo(n,p)||p.subject.withPlaceholder)return l;const m=D1(p,n,e);return fy(l,m)},yc=({state:n,clientSelection:e,dimensions:t,viewport:s,impact:a,scrollJumpRequest:l})=>{const u=s||n.viewport,p=t||n.dimensions,m=e||n.current.client.selection,g=jn(m,n.initial.client.selection),v={offset:g,selection:m,borderBoxCenter:cn(n.initial.client.borderBoxCenter,g)},_={selection:cn(v.selection,u.scroll.current),borderBoxCenter:cn(v.borderBoxCenter,u.scroll.current),offset:cn(v.offset,u.scroll.diff.value)},E={client:v,page:_};if(n.phase==="COLLECTING")return{...n,dimensions:p,viewport:u,current:E};const S=p.draggables[n.critical.draggable.id],V=a||V1({pageOffset:_.offset,draggable:S,draggables:p.draggables,droppables:p.droppables,previousImpact:n.impact,viewport:u,afterCritical:n.afterCritical}),z=S6({draggable:S,impact:V,previousImpact:n.impact,draggables:p.draggables,droppables:p.droppables});return{...n,current:E,dimensions:{draggables:p.draggables,droppables:z},impact:V,viewport:u,scrollJumpRequest:l||null,forceShouldAnimate:l?!1:null}};function A6(n,e){return n.map(t=>e[t])}var P1=({impact:n,viewport:e,draggables:t,destination:s,forceShouldAnimate:a})=>{const l=n.displaced,u=A6(l.all,t),p=Nc({afterDragging:u,destination:s,displacedBy:n.displacedBy,viewport:e.frame,forceShouldAnimate:a,last:l});return{...n,displaced:p}},k1=({impact:n,draggable:e,droppable:t,draggables:s,viewport:a,afterCritical:l})=>{const u=Gd({impact:n,draggable:e,draggables:s,droppable:t,afterCritical:l});return uy({pageBorderBoxCenter:u,draggable:e,viewport:a})},L1=({state:n,dimensions:e,viewport:t})=>{n.movementMode!=="SNAP"&&ue();const s=n.impact,a=t||n.viewport,l=e||n.dimensions,{draggables:u,droppables:p}=l,m=u[n.critical.draggable.id],g=Bn(s);g||ue();const v=p[g],_=P1({impact:s,viewport:a,destination:v,draggables:u}),E=k1({impact:_,draggable:m,droppable:v,draggables:u,viewport:a,afterCritical:n.afterCritical});return yc({impact:_,clientSelection:E,state:n,dimensions:l,viewport:a})},x6=n=>({index:n.index,droppableId:n.droppableId}),U1=({draggable:n,home:e,draggables:t,viewport:s})=>{const a=Yc(e.axis,n.displaceBy),l=Qo(e.descriptor.id,t),u=l.indexOf(n);u===-1&&ue();const p=l.slice(u+1),m=p.reduce((E,S)=>(E[S.descriptor.id]=!0,E),{}),g={inVirtualList:e.descriptor.mode==="virtual",displacedBy:a,effected:m};return{impact:{displaced:Nc({afterDragging:p,destination:e,displacedBy:a,last:null,viewport:s.frame,forceShouldAnimate:!1}),displacedBy:a,at:{type:"REORDER",destination:x6(n.descriptor)}},afterCritical:g}},I6=(n,e)=>({draggables:n.draggables,droppables:fy(n.droppables,e)}),R6=({draggable:n,offset:e,initialWindowScroll:t})=>{const s=hd(n.client,e),a=pd(s,t);return{...n,placeholder:{...n.placeholder,client:s},client:s,page:a}},C6=n=>{const e=n.frame;return e||ue(),e},D6=({additions:n,updatedDroppables:e,viewport:t})=>{const s=t.scroll.diff.value;return n.map(a=>{const l=a.descriptor.droppableId,u=e[l],m=C6(u).scroll.diff.value,g=cn(s,m);return R6({draggable:a,offset:g,initialWindowScroll:t.scroll.initial})})},N6=({state:n,published:e})=>{const t=e.modified.map(F=>{const Q=n.dimensions.droppables[F.droppableId];return sy(Q,F.scroll)}),s={...n.dimensions.droppables,...b1(t)},a=E1(D6({additions:e.additions,updatedDroppables:s,viewport:n.viewport})),l={...n.dimensions.draggables,...a};e.removals.forEach(F=>{delete l[F]});const u={droppables:s,draggables:l},p=Bn(n.impact),m=p?u.droppables[p]:null,g=u.draggables[n.critical.draggable.id],v=u.droppables[n.critical.droppable.id],{impact:_,afterCritical:E}=U1({draggable:g,home:v,draggables:l,viewport:n.viewport}),S=m&&m.isCombineEnabled?n.impact:_,V=V1({pageOffset:n.current.page.offset,draggable:u.draggables[n.critical.draggable.id],draggables:u.draggables,droppables:u.droppables,previousImpact:S,viewport:n.viewport,afterCritical:E}),z={...n,phase:"DRAGGING",impact:V,onLiftImpact:_,dimensions:u,afterCritical:E,forceShouldAnimate:!1};return n.phase==="COLLECTING"?z:{...z,phase:"DROP_PENDING",reason:n.reason,isWaiting:!1}};const eg=n=>n.movementMode==="SNAP",pm=(n,e,t)=>{const s=I6(n.dimensions,e);return!eg(n)||t?yc({state:n,dimensions:s}):L1({state:n,dimensions:s})};function mm(n){return n.isDragging&&n.movementMode==="SNAP"?{...n,scrollJumpRequest:null}:n}const iw={phase:"IDLE",completed:null,shouldFlush:!1};var O6=(n=iw,e)=>{if(e.type==="FLUSH")return{...iw,shouldFlush:!0};if(e.type==="INITIAL_PUBLISH"){n.phase!=="IDLE"&&ue();const{critical:t,clientSelection:s,viewport:a,dimensions:l,movementMode:u}=e.payload,p=l.draggables[t.draggable.id],m=l.droppables[t.droppable.id],g={selection:s,borderBoxCenter:p.client.borderBox.center,offset:Jt},v={client:g,page:{selection:cn(g.selection,a.scroll.initial),borderBoxCenter:cn(g.selection,a.scroll.initial),offset:cn(g.selection,a.scroll.diff.value)}},_=Bd(l.droppables).every(z=>!z.isFixedOnPage),{impact:E,afterCritical:S}=U1({draggable:p,home:m,draggables:l.draggables,viewport:a});return{phase:"DRAGGING",isDragging:!0,critical:t,movementMode:u,dimensions:l,initial:v,current:v,isWindowScrollAllowed:_,impact:E,afterCritical:S,onLiftImpact:E,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null}}if(e.type==="COLLECTION_STARTING")return n.phase==="COLLECTING"||n.phase==="DROP_PENDING"?n:(n.phase!=="DRAGGING"&&ue(),{...n,phase:"COLLECTING"});if(e.type==="PUBLISH_WHILE_DRAGGING")return n.phase==="COLLECTING"||n.phase==="DROP_PENDING"||ue(),N6({state:n,published:e.payload});if(e.type==="MOVE"){if(n.phase==="DROP_PENDING")return n;fa(n)||ue();const{client:t}=e.payload;return Ss(t,n.current.client.selection)?n:yc({state:n,clientSelection:t,impact:eg(n)?n.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(n.phase==="DROP_PENDING"||n.phase==="COLLECTING")return mm(n);fa(n)||ue();const{id:t,newScroll:s}=e.payload,a=n.dimensions.droppables[t];if(!a)return n;const l=sy(a,s);return pm(n,l,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(n.phase==="DROP_PENDING")return n;fa(n)||ue();const{id:t,isEnabled:s}=e.payload,a=n.dimensions.droppables[t];a||ue(),a.isEnabled===s&&ue();const l={...a,isEnabled:s};return pm(n,l,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(n.phase==="DROP_PENDING")return n;fa(n)||ue();const{id:t,isCombineEnabled:s}=e.payload,a=n.dimensions.droppables[t];a||ue(),a.isCombineEnabled===s&&ue();const l={...a,isCombineEnabled:s};return pm(n,l,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(n.phase==="DROP_PENDING"||n.phase==="DROP_ANIMATING")return n;fa(n)||ue(),n.isWindowScrollAllowed||ue();const t=e.payload.newScroll;if(Ss(n.viewport.scroll.current,t))return mm(n);const s=I1(n.viewport,t);return eg(n)?L1({state:n,viewport:s}):yc({state:n,viewport:s})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!fa(n))return n;const t=e.payload.maxScroll;if(Ss(t,n.viewport.scroll.max))return n;const s={...n.viewport,scroll:{...n.viewport.scroll,max:t}};return{...n,viewport:s}}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(n.phase==="COLLECTING"||n.phase==="DROP_PENDING")return n;n.phase!=="DRAGGING"&&ue();const t=p6({state:n,type:e.type});return t?yc({state:n,impact:t.impact,clientSelection:t.clientSelection,scrollJumpRequest:t.scrollJumpRequest}):n}if(e.type==="DROP_PENDING"){const t=e.payload.reason;return n.phase!=="COLLECTING"&&ue(),{...n,phase:"DROP_PENDING",isWaiting:!0,reason:t}}if(e.type==="DROP_ANIMATE"){const{completed:t,dropDuration:s,newHomeClientOffset:a}=e.payload;return n.phase==="DRAGGING"||n.phase==="DROP_PENDING"||ue(),{phase:"DROP_ANIMATING",completed:t,dropDuration:s,newHomeClientOffset:a,dimensions:n.dimensions}}if(e.type==="DROP_COMPLETE"){const{completed:t}=e.payload;return{phase:"IDLE",completed:t,shouldFlush:!1}}return n};function rt(n,e){return n instanceof Object&&"type"in n&&n.type===e}const M6=n=>({type:"BEFORE_INITIAL_CAPTURE",payload:n}),V6=n=>({type:"LIFT",payload:n}),P6=n=>({type:"INITIAL_PUBLISH",payload:n}),k6=n=>({type:"PUBLISH_WHILE_DRAGGING",payload:n}),L6=()=>({type:"COLLECTION_STARTING",payload:null}),U6=n=>({type:"UPDATE_DROPPABLE_SCROLL",payload:n}),z6=n=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:n}),j6=n=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:n}),z1=n=>({type:"MOVE",payload:n}),B6=n=>({type:"MOVE_BY_WINDOW_SCROLL",payload:n}),H6=n=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:n}),q6=()=>({type:"MOVE_UP",payload:null}),G6=()=>({type:"MOVE_DOWN",payload:null}),F6=()=>({type:"MOVE_RIGHT",payload:null}),$6=()=>({type:"MOVE_LEFT",payload:null}),dy=()=>({type:"FLUSH",payload:null}),Y6=n=>({type:"DROP_ANIMATE",payload:n}),hy=n=>({type:"DROP_COMPLETE",payload:n}),j1=n=>({type:"DROP",payload:n}),K6=n=>({type:"DROP_PENDING",payload:n}),B1=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var Q6=n=>({getState:e,dispatch:t})=>s=>a=>{if(!rt(a,"LIFT")){s(a);return}const{id:l,clientSelection:u,movementMode:p}=a.payload,m=e();m.phase==="DROP_ANIMATING"&&t(hy({completed:m.completed})),e().phase!=="IDLE"&&ue(),t(dy()),t(M6({draggableId:l,movementMode:p}));const v={draggableId:l,scrollOptions:{shouldPublishImmediately:p==="SNAP"}},{critical:_,dimensions:E,viewport:S}=n.startPublishing(v);t(P6({critical:_,dimensions:E,clientSelection:u,movementMode:p,viewport:S}))},X6=n=>()=>e=>t=>{rt(t,"INITIAL_PUBLISH")&&n.dragging(),rt(t,"DROP_ANIMATE")&&n.dropping(t.payload.completed.result.reason),(rt(t,"FLUSH")||rt(t,"DROP_COMPLETE"))&&n.resting(),e(t)};const py={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Oc={opacity:{drop:0,combining:.7},scale:{drop:.75}},H1={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},ca=`${H1.outOfTheWay}s ${py.outOfTheWay}`,vc={fluid:`opacity ${ca}`,snap:`transform ${ca}, opacity ${ca}`,drop:n=>{const e=`${n}s ${py.drop}`;return`transform ${e}, opacity ${e}`},outOfTheWay:`transform ${ca}`,placeholder:`height ${ca}, width ${ca}, margin ${ca}`},sw=n=>Ss(n,Jt)?void 0:`translate(${n.x}px, ${n.y}px)`,tg={moveTo:sw,drop:(n,e)=>{const t=sw(n);if(t)return e?`${t} scale(${Oc.scale.drop})`:t}},{minDropTime:ng,maxDropTime:q1}=H1,W6=q1-ng,aw=1500,J6=.6;var Z6=({current:n,destination:e,reason:t})=>{const s=Cc(n,e);if(s<=0)return ng;if(s>=aw)return q1;const a=s/aw,l=ng+W6*a,u=t==="CANCEL"?l*J6:l;return Number(u.toFixed(2))},e3=({impact:n,draggable:e,dimensions:t,viewport:s,afterCritical:a})=>{const{draggables:l,droppables:u}=t,p=Bn(n),m=p?u[p]:null,g=u[e.descriptor.droppableId],v=k1({impact:n,draggable:e,draggables:l,afterCritical:a,droppable:m||g,viewport:s});return jn(v,e.client.borderBox.center)},t3=({draggables:n,reason:e,lastImpact:t,home:s,viewport:a,onLiftImpact:l})=>!t.at||e!=="DROP"?{impact:P1({draggables:n,impact:l,destination:s,viewport:a,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:t.at.type==="REORDER"?{impact:t,didDropInsideDroppable:!0}:{impact:{...t,displaced:Dc},didDropInsideDroppable:!0};const n3=({getState:n,dispatch:e})=>t=>s=>{if(!rt(s,"DROP")){t(s);return}const a=n(),l=s.payload.reason;if(a.phase==="COLLECTING"){e(K6({reason:l}));return}if(a.phase==="IDLE")return;a.phase==="DROP_PENDING"&&a.isWaiting&&ue(),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||ue();const p=a.critical,m=a.dimensions,g=m.draggables[a.critical.draggable.id],{impact:v,didDropInsideDroppable:_}=t3({reason:l,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),E=_?ay(v):null,S=_?Hd(v):null,V={index:p.draggable.index,droppableId:p.droppable.id},z={draggableId:g.descriptor.id,type:g.descriptor.type,source:V,reason:l,mode:a.movementMode,destination:E,combine:S},P=e3({impact:v,draggable:g,dimensions:m,viewport:a.viewport,afterCritical:a.afterCritical}),F={critical:a.critical,afterCritical:a.afterCritical,result:z,impact:v};if(!(!Ss(a.current.client.offset,P)||!!z.combine)){e(hy({completed:F}));return}const re=Z6({current:a.current.client.offset,destination:P,reason:l});e(Y6({newHomeClientOffset:P,dropDuration:re,completed:F}))};var G1=()=>({x:window.pageXOffset,y:window.pageYOffset});function r3(n){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:e=>{e.target!==window&&e.target!==window.document||n()}}}function i3({onWindowScroll:n}){function e(){n(G1())}const t=Rc(e),s=r3(t);let a=Ts;function l(){return a!==Ts}function u(){l()&&ue(),a=ar(window,[s])}function p(){l()||ue(),t.cancel(),a(),a=Ts}return{start:u,stop:p,isActive:l}}const s3=n=>rt(n,"DROP_COMPLETE")||rt(n,"DROP_ANIMATE")||rt(n,"FLUSH"),a3=n=>{const e=i3({onWindowScroll:t=>{n.dispatch(B6({newScroll:t}))}});return t=>s=>{!e.isActive()&&rt(s,"INITIAL_PUBLISH")&&e.start(),e.isActive()&&s3(s)&&e.stop(),t(s)}};var o3=n=>{let e=!1,t=!1;const s=setTimeout(()=>{t=!0}),a=l=>{e||t||(e=!0,n(l),clearTimeout(s))};return a.wasCalled=()=>e,a},l3=()=>{const n=[],e=a=>{const l=n.findIndex(p=>p.timerId===a);l===-1&&ue();const[u]=n.splice(l,1);u.callback()};return{add:a=>{const l=setTimeout(()=>e(l)),u={timerId:l,callback:a};n.push(u)},flush:()=>{if(!n.length)return;const a=[...n];n.length=0,a.forEach(l=>{clearTimeout(l.timerId),l.callback()})}}};const c3=(n,e)=>n==null&&e==null?!0:n==null||e==null?!1:n.droppableId===e.droppableId&&n.index===e.index,u3=(n,e)=>n==null&&e==null?!0:n==null||e==null?!1:n.draggableId===e.draggableId&&n.droppableId===e.droppableId,f3=(n,e)=>{if(n===e)return!0;const t=n.draggable.id===e.draggable.id&&n.draggable.droppableId===e.draggable.droppableId&&n.draggable.type===e.draggable.type&&n.draggable.index===e.draggable.index,s=n.droppable.id===e.droppable.id&&n.droppable.type===e.droppable.type;return t&&s},rc=(n,e)=>{e()},Nf=(n,e)=>({draggableId:n.draggable.id,type:n.droppable.type,source:{droppableId:n.droppable.id,index:n.draggable.index},mode:e});function gm(n,e,t,s){if(!n){t(s(e));return}const a=o3(t);n(e,{announce:a}),a.wasCalled()||t(s(e))}var d3=(n,e)=>{const t=l3();let s=null;const a=(_,E)=>{s&&ue(),rc("onBeforeCapture",()=>{const S=n().onBeforeCapture;S&&S({draggableId:_,mode:E})})},l=(_,E)=>{s&&ue(),rc("onBeforeDragStart",()=>{const S=n().onBeforeDragStart;S&&S(Nf(_,E))})},u=(_,E)=>{s&&ue();const S=Nf(_,E);s={mode:E,lastCritical:_,lastLocation:S.source,lastCombine:null},t.add(()=>{rc("onDragStart",()=>gm(n().onDragStart,S,e,Ff.onDragStart))})},p=(_,E)=>{const S=ay(E),V=Hd(E);s||ue();const z=!f3(_,s.lastCritical);z&&(s.lastCritical=_);const P=!c3(s.lastLocation,S);P&&(s.lastLocation=S);const F=!u3(s.lastCombine,V);if(F&&(s.lastCombine=V),!z&&!P&&!F)return;const Q={...Nf(_,s.mode),combine:V,destination:S};t.add(()=>{rc("onDragUpdate",()=>gm(n().onDragUpdate,Q,e,Ff.onDragUpdate))})},m=()=>{s||ue(),t.flush()},g=_=>{s||ue(),s=null,rc("onDragEnd",()=>gm(n().onDragEnd,_,e,Ff.onDragEnd))};return{beforeCapture:a,beforeStart:l,start:u,update:p,flush:m,drop:g,abort:()=>{if(!s)return;const _={...Nf(s.lastCritical,s.mode),combine:null,destination:null,reason:"CANCEL"};g(_)}}},h3=(n,e)=>{const t=d3(n,e);return s=>a=>l=>{if(rt(l,"BEFORE_INITIAL_CAPTURE")){t.beforeCapture(l.payload.draggableId,l.payload.movementMode);return}if(rt(l,"INITIAL_PUBLISH")){const p=l.payload.critical;t.beforeStart(p,l.payload.movementMode),a(l),t.start(p,l.payload.movementMode);return}if(rt(l,"DROP_COMPLETE")){const p=l.payload.completed.result;t.flush(),a(l),t.drop(p);return}if(a(l),rt(l,"FLUSH")){t.abort();return}const u=s.getState();u.phase==="DRAGGING"&&t.update(u.critical,u.impact)}};const p3=n=>e=>t=>{if(!rt(t,"DROP_ANIMATION_FINISHED")){e(t);return}const s=n.getState();s.phase!=="DROP_ANIMATING"&&ue(),n.dispatch(hy({completed:s.completed}))},m3=n=>{let e=null,t=null;function s(){t&&(cancelAnimationFrame(t),t=null),e&&(e(),e=null)}return a=>l=>{if((rt(l,"FLUSH")||rt(l,"DROP_COMPLETE")||rt(l,"DROP_ANIMATION_FINISHED"))&&s(),a(l),!rt(l,"DROP_ANIMATE"))return;const u={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){n.getState().phase==="DROP_ANIMATING"&&n.dispatch(B1())}};t=requestAnimationFrame(()=>{t=null,e=ar(window,[u])})}};var g3=n=>()=>e=>t=>{(rt(t,"DROP_COMPLETE")||rt(t,"FLUSH")||rt(t,"DROP_ANIMATE"))&&n.stopPublishing(),e(t)},y3=n=>{let e=!1;return()=>t=>s=>{if(rt(s,"INITIAL_PUBLISH")){e=!0,n.tryRecordFocus(s.payload.critical.draggable.id),t(s),n.tryRestoreFocusRecorded();return}if(t(s),!!e){if(rt(s,"FLUSH")){e=!1,n.tryRestoreFocusRecorded();return}if(rt(s,"DROP_COMPLETE")){e=!1;const a=s.payload.completed.result;a.combine&&n.tryShiftRecord(a.draggableId,a.combine.draggableId),n.tryRestoreFocusRecorded()}}}};const v3=n=>rt(n,"DROP_COMPLETE")||rt(n,"DROP_ANIMATE")||rt(n,"FLUSH");var _3=n=>e=>t=>s=>{if(v3(s)){n.stop(),t(s);return}if(rt(s,"INITIAL_PUBLISH")){t(s);const a=e.getState();a.phase!=="DRAGGING"&&ue(),n.start(a);return}t(s),n.scroll(e.getState())};const b3=n=>e=>t=>{if(e(t),!rt(t,"PUBLISH_WHILE_DRAGGING"))return;const s=n.getState();s.phase==="DROP_PENDING"&&(s.isWaiting||n.dispatch(j1({reason:s.reason})))},E3=a1;var w3=({dimensionMarshal:n,focusMarshal:e,styleMarshal:t,getResponders:s,announce:a,autoScroller:l})=>s1(O6,E3(_M(X6(t),g3(n),Q6(n),n3,p3,m3,b3,_3(l),a3,y3(e),h3(s,a))));const ym=()=>({additions:{},removals:{},modified:{}});function T3({registry:n,callbacks:e}){let t=ym(),s=null;const a=()=>{s||(e.collectionStarting(),s=requestAnimationFrame(()=>{s=null;const{additions:m,removals:g,modified:v}=t,_=Object.keys(m).map(V=>n.draggable.getById(V).getDimension(Jt)).sort((V,z)=>V.descriptor.index-z.descriptor.index),E=Object.keys(v).map(V=>{const P=n.droppable.getById(V).callbacks.getScrollWhileDragging();return{droppableId:V,scroll:P}}),S={additions:_,removals:Object.keys(g),modified:E};t=ym(),e.publish(S)}))};return{add:m=>{const g=m.descriptor.id;t.additions[g]=m,t.modified[m.descriptor.droppableId]=!0,t.removals[g]&&delete t.removals[g],a()},remove:m=>{const g=m.descriptor;t.removals[g.id]=!0,t.modified[g.droppableId]=!0,t.additions[g.id]&&delete t.additions[g.id],a()},stop:()=>{s&&(cancelAnimationFrame(s),s=null,t=ym())}}}var F1=({scrollHeight:n,scrollWidth:e,height:t,width:s})=>{const a=jn({x:e,y:n},{x:s,y:t});return{x:Math.max(0,a.x),y:Math.max(0,a.y)}},$1=()=>{const n=document.documentElement;return n||ue(),n},Y1=()=>{const n=$1();return F1({scrollHeight:n.scrollHeight,scrollWidth:n.scrollWidth,width:n.clientWidth,height:n.clientHeight})},S3=()=>{const n=G1(),e=Y1(),t=n.y,s=n.x,a=$1(),l=a.clientWidth,u=a.clientHeight,p=s+l,m=t+u;return{frame:wr({top:t,left:s,right:p,bottom:m}),scroll:{initial:n,current:n,max:e,diff:{value:Jt,displacement:Jt}}}},A3=({critical:n,scrollOptions:e,registry:t})=>{const s=S3(),a=s.scroll.current,l=n.droppable,u=t.droppable.getAllByType(l.type).map(v=>v.callbacks.getDimensionAndWatchScroll(a,e)),p=t.draggable.getAllByType(n.draggable.type).map(v=>v.getDimension(a));return{dimensions:{draggables:E1(p),droppables:b1(u)},critical:n,viewport:s}};function ow(n,e,t){return!(t.descriptor.id===e.id||t.descriptor.type!==e.type||n.droppable.getById(t.descriptor.droppableId).descriptor.mode!=="virtual")}var x3=(n,e)=>{let t=null;const s=T3({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:n}),a=(E,S)=>{n.droppable.exists(E)||ue(),t&&e.updateDroppableIsEnabled({id:E,isEnabled:S})},l=(E,S)=>{t&&(n.droppable.exists(E)||ue(),e.updateDroppableIsCombineEnabled({id:E,isCombineEnabled:S}))},u=(E,S)=>{t&&(n.droppable.exists(E)||ue(),e.updateDroppableScroll({id:E,newScroll:S}))},p=(E,S)=>{t&&n.droppable.getById(E).callbacks.scroll(S)},m=()=>{if(!t)return;s.stop();const E=t.critical.droppable;n.droppable.getAllByType(E.type).forEach(S=>S.callbacks.dragStopped()),t.unsubscribe(),t=null},g=E=>{t||ue();const S=t.critical.draggable;E.type==="ADDITION"&&ow(n,S,E.value)&&s.add(E.value),E.type==="REMOVAL"&&ow(n,S,E.value)&&s.remove(E.value)};return{updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:l,scrollDroppable:p,updateDroppableScroll:u,startPublishing:E=>{t&&ue();const S=n.draggable.getById(E.draggableId),V=n.droppable.getById(S.descriptor.droppableId),z={draggable:S.descriptor,droppable:V.descriptor},P=n.subscribe(g);return t={critical:z,unsubscribe:P},A3({critical:z,registry:n,scrollOptions:E.scrollOptions})},stopPublishing:m}},K1=(n,e)=>n.phase==="IDLE"?!0:n.phase!=="DROP_ANIMATING"||n.completed.result.draggableId===e?!1:n.completed.result.reason==="DROP",I3=n=>{window.scrollBy(n.x,n.y)};const R3=Wt(n=>Bd(n).filter(e=>!(!e.isEnabled||!e.frame))),C3=(n,e)=>R3(e).find(s=>(s.frame||ue(),N1(s.frame.pageMarginBox)(n)))||null;var D3=({center:n,destination:e,droppables:t})=>{if(e){const a=t[e];return a.frame?a:null}return C3(n,t)};const Mc={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:n=>n**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var N3=(n,e,t=()=>Mc)=>{const s=t(),a=n[e.size]*s.startFromPercentage,l=n[e.size]*s.maxScrollAtPercentage;return{startScrollingFrom:a,maxScrollValueAt:l}},Q1=({startOfRange:n,endOfRange:e,current:t})=>{const s=e-n;return s===0?0:(t-n)/s},my=1,O3=(n,e,t=()=>Mc)=>{const s=t();if(n>e.startScrollingFrom)return 0;if(n<=e.maxScrollValueAt)return s.maxPixelScroll;if(n===e.startScrollingFrom)return my;const l=1-Q1({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:n}),u=s.maxPixelScroll*s.ease(l);return Math.ceil(u)},M3=(n,e,t)=>{const s=t(),a=s.durationDampening.accelerateAt,l=s.durationDampening.stopDampeningAt,u=e,p=l,g=Date.now()-u;if(g>=l)return n;if(g<a)return my;const v=Q1({startOfRange:a,endOfRange:p,current:g}),_=n*s.ease(v);return Math.ceil(_)},lw=({distanceToEdge:n,thresholds:e,dragStartTime:t,shouldUseTimeDampening:s,getAutoScrollerOptions:a})=>{const l=O3(n,e,a);return l===0?0:s?Math.max(M3(l,t,a),my):l},cw=({container:n,distanceToEdges:e,dragStartTime:t,axis:s,shouldUseTimeDampening:a,getAutoScrollerOptions:l})=>{const u=N3(n,s,l);return e[s.end]<e[s.start]?lw({distanceToEdge:e[s.end],thresholds:u,dragStartTime:t,shouldUseTimeDampening:a,getAutoScrollerOptions:l}):-1*lw({distanceToEdge:e[s.start],thresholds:u,dragStartTime:t,shouldUseTimeDampening:a,getAutoScrollerOptions:l})},V3=({container:n,subject:e,proposedScroll:t})=>{const s=e.height>n.height,a=e.width>n.width;return!a&&!s?t:a&&s?null:{x:a?0:t.x,y:s?0:t.y}};const P3=_1(n=>n===0?0:n);var X1=({dragStartTime:n,container:e,subject:t,center:s,shouldUseTimeDampening:a,getAutoScrollerOptions:l})=>{const u={top:s.y-e.top,right:e.right-s.x,bottom:e.bottom-s.y,left:s.x-e.left},p=cw({container:e,distanceToEdges:u,dragStartTime:n,axis:oy,shouldUseTimeDampening:a,getAutoScrollerOptions:l}),m=cw({container:e,distanceToEdges:u,dragStartTime:n,axis:S1,shouldUseTimeDampening:a,getAutoScrollerOptions:l}),g=P3({x:m,y:p});if(Ss(g,Jt))return null;const v=V3({container:e,subject:t,proposedScroll:g});return v?Ss(v,Jt)?null:v:null};const k3=_1(n=>n===0?0:n>0?1:-1),gy=(()=>{const n=(e,t)=>e<0?e:e>t?e-t:0;return({current:e,max:t,change:s})=>{const a=cn(e,s),l={x:n(a.x,t.x),y:n(a.y,t.y)};return Ss(l,Jt)?null:l}})(),W1=({max:n,current:e,change:t})=>{const s={x:Math.max(e.x,n.x),y:Math.max(e.y,n.y)},a=k3(t),l=gy({max:s,current:e,change:a});return!l||a.x!==0&&l.x===0||a.y!==0&&l.y===0},yy=(n,e)=>W1({current:n.scroll.current,max:n.scroll.max,change:e}),L3=(n,e)=>{if(!yy(n,e))return null;const t=n.scroll.max,s=n.scroll.current;return gy({current:s,max:t,change:e})},vy=(n,e)=>{const t=n.frame;return t?W1({current:t.scroll.current,max:t.scroll.max,change:e}):!1},U3=(n,e)=>{const t=n.frame;return!t||!vy(n,e)?null:gy({current:t.scroll.current,max:t.scroll.max,change:e})};var z3=({viewport:n,subject:e,center:t,dragStartTime:s,shouldUseTimeDampening:a,getAutoScrollerOptions:l})=>{const u=X1({dragStartTime:s,container:n.frame,subject:e,center:t,shouldUseTimeDampening:a,getAutoScrollerOptions:l});return u&&yy(n,u)?u:null},j3=({droppable:n,subject:e,center:t,dragStartTime:s,shouldUseTimeDampening:a,getAutoScrollerOptions:l})=>{const u=n.frame;if(!u)return null;const p=X1({dragStartTime:s,container:u.pageMarginBox,subject:e,center:t,shouldUseTimeDampening:a,getAutoScrollerOptions:l});return p&&vy(n,p)?p:null},uw=({state:n,dragStartTime:e,shouldUseTimeDampening:t,scrollWindow:s,scrollDroppable:a,getAutoScrollerOptions:l})=>{const u=n.current.page.borderBoxCenter,m=n.dimensions.draggables[n.critical.draggable.id].page.marginBox;if(n.isWindowScrollAllowed){const _=n.viewport,E=z3({dragStartTime:e,viewport:_,subject:m,center:u,shouldUseTimeDampening:t,getAutoScrollerOptions:l});if(E){s(E);return}}const g=D3({center:u,destination:Bn(n.impact),droppables:n.dimensions.droppables});if(!g)return;const v=j3({dragStartTime:e,droppable:g,subject:m,center:u,shouldUseTimeDampening:t,getAutoScrollerOptions:l});v&&a(g.descriptor.id,v)},B3=({scrollWindow:n,scrollDroppable:e,getAutoScrollerOptions:t=()=>Mc})=>{const s=Rc(n),a=Rc(e);let l=null;const u=g=>{l||ue();const{shouldUseTimeDampening:v,dragStartTime:_}=l;uw({state:g,scrollWindow:s,scrollDroppable:a,dragStartTime:_,shouldUseTimeDampening:v,getAutoScrollerOptions:t})};return{start:g=>{l&&ue();const v=Date.now();let _=!1;const E=()=>{_=!0};uw({state:g,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:E,scrollDroppable:E,getAutoScrollerOptions:t}),l={dragStartTime:v,shouldUseTimeDampening:_},_&&u(g)},stop:()=>{l&&(s.cancel(),a.cancel(),l=null)},scroll:u}},H3=({move:n,scrollDroppable:e,scrollWindow:t})=>{const s=(p,m)=>{const g=cn(p.current.client.selection,m);n({client:g})},a=(p,m)=>{if(!vy(p,m))return m;const g=U3(p,m);if(!g)return e(p.descriptor.id,m),null;const v=jn(m,g);return e(p.descriptor.id,v),jn(m,v)},l=(p,m,g)=>{if(!p||!yy(m,g))return g;const v=L3(m,g);if(!v)return t(g),null;const _=jn(g,v);return t(_),jn(g,_)};return p=>{const m=p.scrollJumpRequest;if(!m)return;const g=Bn(p.impact);g||ue();const v=a(p.dimensions.droppables[g],m);if(!v)return;const _=p.viewport,E=l(p.isWindowScrollAllowed,_,v);E&&s(p,E)}},q3=({scrollDroppable:n,scrollWindow:e,move:t,getAutoScrollerOptions:s})=>{const a=B3({scrollWindow:e,scrollDroppable:n,getAutoScrollerOptions:s}),l=H3({move:t,scrollWindow:e,scrollDroppable:n});return{scroll:m=>{if(!(s().disabled||m.phase!=="DRAGGING")){if(m.movementMode==="FLUID"){a.scroll(m);return}m.scrollJumpRequest&&l(m)}},start:a.start,stop:a.stop}};const Uo="data-rfd",zo=(()=>{const n=`${Uo}-drag-handle`;return{base:n,draggableId:`${n}-draggable-id`,contextId:`${n}-context-id`}})(),rg=(()=>{const n=`${Uo}-draggable`;return{base:n,contextId:`${n}-context-id`,id:`${n}-id`}})(),G3=(()=>{const n=`${Uo}-droppable`;return{base:n,contextId:`${n}-context-id`,id:`${n}-id`}})(),fw={contextId:`${Uo}-scroll-container-context-id`},F3=n=>e=>`[${e}="${n}"]`,ic=(n,e)=>n.map(t=>{const s=t.styles[e];return s?`${t.selector} { ${s} }`:""}).join(" "),$3="pointer-events: none;";var Y3=n=>{const e=F3(n),t=(()=>{const p=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(zo.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:p,dragging:$3,dropAnimating:p}}})(),s=(()=>{const p=`
      transition: ${vc.outOfTheWay};
    `;return{selector:e(rg.contextId),styles:{dragging:p,dropAnimating:p,userCancel:p}}})(),a={selector:e(G3.contextId),styles:{always:"overflow-anchor: none;"}},u=[s,t,a,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:ic(u,"always"),resting:ic(u,"resting"),dragging:ic(u,"dragging"),dropAnimating:ic(u,"dropAnimating"),userCancel:ic(u,"userCancel")}};const Hn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?se.useLayoutEffect:se.useEffect,vm=()=>{const n=document.querySelector("head");return n||ue(),n},dw=n=>{const e=document.createElement("style");return n&&e.setAttribute("nonce",n),e.type="text/css",e};function K3(n,e){const t=Xe(()=>Y3(n),[n]),s=se.useRef(null),a=se.useRef(null),l=be(Wt(_=>{const E=a.current;E||ue(),E.textContent=_}),[]),u=be(_=>{const E=s.current;E||ue(),E.textContent=_},[]);Hn(()=>{!s.current&&!a.current||ue();const _=dw(e),E=dw(e);return s.current=_,a.current=E,_.setAttribute(`${Uo}-always`,n),E.setAttribute(`${Uo}-dynamic`,n),vm().appendChild(_),vm().appendChild(E),u(t.always),l(t.resting),()=>{const S=V=>{const z=V.current;z||ue(),vm().removeChild(z),V.current=null};S(s),S(a)}},[e,u,l,t.always,t.resting,n]);const p=be(()=>l(t.dragging),[l,t.dragging]),m=be(_=>{if(_==="DROP"){l(t.dropAnimating);return}l(t.userCancel)},[l,t.dropAnimating,t.userCancel]),g=be(()=>{a.current&&l(t.resting)},[l,t.resting]);return Xe(()=>({dragging:p,dropping:m,resting:g}),[p,m,g])}function J1(n,e){return Array.from(n.querySelectorAll(e))}var Z1=n=>n&&n.ownerDocument&&n.ownerDocument.defaultView?n.ownerDocument.defaultView:window;function Fd(n){return n instanceof Z1(n).HTMLElement}function Q3(n,e){const t=`[${zo.contextId}="${n}"]`,s=J1(document,t);if(!s.length)return null;const a=s.find(l=>l.getAttribute(zo.draggableId)===e);return!a||!Fd(a)?null:a}function X3(n){const e=se.useRef({}),t=se.useRef(null),s=se.useRef(null),a=se.useRef(!1),l=be(function(E,S){const V={id:E,focus:S};return e.current[E]=V,function(){const P=e.current;P[E]!==V&&delete P[E]}},[]),u=be(function(E){const S=Q3(n,E);S&&S!==document.activeElement&&S.focus()},[n]),p=be(function(E,S){t.current===E&&(t.current=S)},[]),m=be(function(){s.current||a.current&&(s.current=requestAnimationFrame(()=>{s.current=null;const E=t.current;E&&u(E)}))},[u]),g=be(function(E){t.current=null;const S=document.activeElement;S&&S.getAttribute(zo.draggableId)===E&&(t.current=E)},[]);return Hn(()=>(a.current=!0,function(){a.current=!1;const E=s.current;E&&cancelAnimationFrame(E)}),[]),Xe(()=>({register:l,tryRecordFocus:g,tryRestoreFocusRecorded:m,tryShiftRecord:p}),[l,g,m,p])}function W3(){const n={draggables:{},droppables:{}},e=[];function t(_){return e.push(_),function(){const S=e.indexOf(_);S!==-1&&e.splice(S,1)}}function s(_){e.length&&e.forEach(E=>E(_))}function a(_){return n.draggables[_]||null}function l(_){const E=a(_);return E||ue(),E}const u={register:_=>{n.draggables[_.descriptor.id]=_,s({type:"ADDITION",value:_})},update:(_,E)=>{const S=n.draggables[E.descriptor.id];S&&S.uniqueId===_.uniqueId&&(delete n.draggables[E.descriptor.id],n.draggables[_.descriptor.id]=_)},unregister:_=>{const E=_.descriptor.id,S=a(E);S&&_.uniqueId===S.uniqueId&&(delete n.draggables[E],n.droppables[_.descriptor.droppableId]&&s({type:"REMOVAL",value:_}))},getById:l,findById:a,exists:_=>!!a(_),getAllByType:_=>Object.values(n.draggables).filter(E=>E.descriptor.type===_)};function p(_){return n.droppables[_]||null}function m(_){const E=p(_);return E||ue(),E}const g={register:_=>{n.droppables[_.descriptor.id]=_},unregister:_=>{const E=p(_.descriptor.id);E&&_.uniqueId===E.uniqueId&&delete n.droppables[_.descriptor.id]},getById:m,findById:p,exists:_=>!!p(_),getAllByType:_=>Object.values(n.droppables).filter(E=>E.descriptor.type===_)};function v(){n.draggables={},n.droppables={},e.length=0}return{draggable:u,droppable:g,subscribe:t,clean:v}}function J3(){const n=Xe(W3,[]);return se.useEffect(()=>function(){n.clean()},[n]),n}var _y=pt.createContext(null),_d=()=>{const n=document.body;return n||ue(),n};const Z3={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},e5=n=>`rfd-announcement-${n}`;function t5(n){const e=Xe(()=>e5(n),[n]),t=se.useRef(null);return se.useEffect(function(){const l=document.createElement("div");return t.current=l,l.id=e,l.setAttribute("aria-live","assertive"),l.setAttribute("aria-atomic","true"),md(l.style,Z3),_d().appendChild(l),function(){setTimeout(function(){const m=_d();m.contains(l)&&m.removeChild(l),l===t.current&&(t.current=null)})}},[e]),be(a=>{const l=t.current;if(l){l.textContent=a;return}},[])}const n5={separator:"::"};function by(n,e=n5){const t=pt.useId();return Xe(()=>`${n}${e.separator}${t}`,[e.separator,n,t])}function r5({contextId:n,uniqueId:e}){return`rfd-hidden-text-${n}-${e}`}function i5({contextId:n,text:e}){const t=by("hidden-text",{separator:"-"}),s=Xe(()=>r5({contextId:n,uniqueId:t}),[t,n]);return se.useEffect(function(){const l=document.createElement("div");return l.id=s,l.textContent=e,l.style.display="none",_d().appendChild(l),function(){const p=_d();p.contains(l)&&p.removeChild(l)}},[s,e]),s}var $d=pt.createContext(null);function eA(n){const e=se.useRef(n);return se.useEffect(()=>{e.current=n}),e}function s5(){let n=null;function e(){return!!n}function t(u){return u===n}function s(u){n&&ue();const p={abandon:u};return n=p,p}function a(){n||ue(),n=null}function l(){n&&(n.abandon(),a())}return{isClaimed:e,isActive:t,claim:s,release:a,tryAbandon:l}}function Vc(n){return n.phase==="IDLE"||n.phase==="DROP_ANIMATING"?!1:n.isDragging}const a5=9,o5=13,Ey=27,tA=32,l5=33,c5=34,u5=35,f5=36,d5=37,h5=38,p5=39,m5=40,g5={[o5]:!0,[a5]:!0};var nA=n=>{g5[n.keyCode]&&n.preventDefault()};const Yd=(()=>{const n="visibilitychange";return typeof document>"u"?n:[n,`ms${n}`,`webkit${n}`,`moz${n}`,`o${n}`].find(s=>`on${s}`in document)||n})(),rA=0,hw=5;function y5(n,e){return Math.abs(e.x-n.x)>=hw||Math.abs(e.y-n.y)>=hw}const pw={type:"IDLE"};function v5({cancel:n,completed:e,getPhase:t,setPhase:s}){return[{eventName:"mousemove",fn:a=>{const{button:l,clientX:u,clientY:p}=a;if(l!==rA)return;const m={x:u,y:p},g=t();if(g.type==="DRAGGING"){a.preventDefault(),g.actions.move(m);return}g.type!=="PENDING"&&ue();const v=g.point;if(!y5(v,m))return;a.preventDefault();const _=g.actions.fluidLift(m);s({type:"DRAGGING",actions:_})}},{eventName:"mouseup",fn:a=>{const l=t();if(l.type!=="DRAGGING"){n();return}a.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"mousedown",fn:a=>{t().type==="DRAGGING"&&a.preventDefault(),n()}},{eventName:"keydown",fn:a=>{if(t().type==="PENDING"){n();return}if(a.keyCode===Ey){a.preventDefault(),n();return}nA(a)}},{eventName:"resize",fn:n},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{t().type==="PENDING"&&n()}},{eventName:"webkitmouseforcedown",fn:a=>{const l=t();if(l.type==="IDLE"&&ue(),l.actions.shouldRespectForcePress()){n();return}a.preventDefault()}},{eventName:Yd,fn:n}]}function _5(n){const e=se.useRef(pw),t=se.useRef(Ts),s=Xe(()=>({eventName:"mousedown",fn:function(_){if(_.defaultPrevented||_.button!==rA||_.ctrlKey||_.metaKey||_.shiftKey||_.altKey)return;const E=n.findClosestDraggableId(_);if(!E)return;const S=n.tryGetLock(E,u,{sourceEvent:_});if(!S)return;_.preventDefault();const V={x:_.clientX,y:_.clientY};t.current(),g(S,V)}}),[n]),a=Xe(()=>({eventName:"webkitmouseforcewillbegin",fn:v=>{if(v.defaultPrevented)return;const _=n.findClosestDraggableId(v);if(!_)return;const E=n.findOptionsForDraggable(_);E&&(E.shouldRespectForcePress||n.canGetLock(_)&&v.preventDefault())}}),[n]),l=be(function(){const _={passive:!1,capture:!0};t.current=ar(window,[a,s],_)},[a,s]),u=be(()=>{e.current.type!=="IDLE"&&(e.current=pw,t.current(),l())},[l]),p=be(()=>{const v=e.current;u(),v.type==="DRAGGING"&&v.actions.cancel({shouldBlockNextClick:!0}),v.type==="PENDING"&&v.actions.abort()},[u]),m=be(function(){const _={capture:!0,passive:!1},E=v5({cancel:p,completed:u,getPhase:()=>e.current,setPhase:S=>{e.current=S}});t.current=ar(window,E,_)},[p,u]),g=be(function(_,E){e.current.type!=="IDLE"&&ue(),e.current={type:"PENDING",point:E,actions:_},m()},[m]);Hn(function(){return l(),function(){t.current()}},[l])}function b5(){}const E5={[c5]:!0,[l5]:!0,[f5]:!0,[u5]:!0};function w5(n,e){function t(){e(),n.cancel()}function s(){e(),n.drop()}return[{eventName:"keydown",fn:a=>{if(a.keyCode===Ey){a.preventDefault(),t();return}if(a.keyCode===tA){a.preventDefault(),s();return}if(a.keyCode===m5){a.preventDefault(),n.moveDown();return}if(a.keyCode===h5){a.preventDefault(),n.moveUp();return}if(a.keyCode===p5){a.preventDefault(),n.moveRight();return}if(a.keyCode===d5){a.preventDefault(),n.moveLeft();return}if(E5[a.keyCode]){a.preventDefault();return}nA(a)}},{eventName:"mousedown",fn:t},{eventName:"mouseup",fn:t},{eventName:"click",fn:t},{eventName:"touchstart",fn:t},{eventName:"resize",fn:t},{eventName:"wheel",fn:t,options:{passive:!0}},{eventName:Yd,fn:t}]}function T5(n){const e=se.useRef(b5),t=Xe(()=>({eventName:"keydown",fn:function(l){if(l.defaultPrevented||l.keyCode!==tA)return;const u=n.findClosestDraggableId(l);if(!u)return;const p=n.tryGetLock(u,v,{sourceEvent:l});if(!p)return;l.preventDefault();let m=!0;const g=p.snapLift();e.current();function v(){m||ue(),m=!1,e.current(),s()}e.current=ar(window,w5(g,v),{capture:!0,passive:!1})}}),[n]),s=be(function(){const l={passive:!1,capture:!0};e.current=ar(window,[t],l)},[t]);Hn(function(){return s(),function(){e.current()}},[s])}const _m={type:"IDLE"},S5=120,A5=.15;function x5({cancel:n,getPhase:e}){return[{eventName:"orientationchange",fn:n},{eventName:"resize",fn:n},{eventName:"contextmenu",fn:t=>{t.preventDefault()}},{eventName:"keydown",fn:t=>{if(e().type!=="DRAGGING"){n();return}t.keyCode===Ey&&t.preventDefault(),n()}},{eventName:Yd,fn:n}]}function I5({cancel:n,completed:e,getPhase:t}){return[{eventName:"touchmove",options:{capture:!1},fn:s=>{const a=t();if(a.type!=="DRAGGING"){n();return}a.hasMoved=!0;const{clientX:l,clientY:u}=s.touches[0],p={x:l,y:u};s.preventDefault(),a.actions.move(p)}},{eventName:"touchend",fn:s=>{const a=t();if(a.type!=="DRAGGING"){n();return}s.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"touchcancel",fn:s=>{if(t().type!=="DRAGGING"){n();return}s.preventDefault(),n()}},{eventName:"touchforcechange",fn:s=>{const a=t();a.type==="IDLE"&&ue();const l=s.touches[0];if(!l||!(l.force>=A5))return;const p=a.actions.shouldRespectForcePress();if(a.type==="PENDING"){p&&n();return}if(p){if(a.hasMoved){s.preventDefault();return}n();return}s.preventDefault()}},{eventName:Yd,fn:n}]}function R5(n){const e=se.useRef(_m),t=se.useRef(Ts),s=be(function(){return e.current},[]),a=be(function(S){e.current=S},[]),l=Xe(()=>({eventName:"touchstart",fn:function(S){if(S.defaultPrevented)return;const V=n.findClosestDraggableId(S);if(!V)return;const z=n.tryGetLock(V,p,{sourceEvent:S});if(!z)return;const P=S.touches[0],{clientX:F,clientY:Q}=P,re={x:F,y:Q};t.current(),_(z,re)}}),[n]),u=be(function(){const S={capture:!0,passive:!1};t.current=ar(window,[l],S)},[l]),p=be(()=>{const E=e.current;E.type!=="IDLE"&&(E.type==="PENDING"&&clearTimeout(E.longPressTimerId),a(_m),t.current(),u())},[u,a]),m=be(()=>{const E=e.current;p(),E.type==="DRAGGING"&&E.actions.cancel({shouldBlockNextClick:!0}),E.type==="PENDING"&&E.actions.abort()},[p]),g=be(function(){const S={capture:!0,passive:!1},V={cancel:m,completed:p,getPhase:s},z=ar(window,I5(V),S),P=ar(window,x5(V),S);t.current=function(){z(),P()}},[m,s,p]),v=be(function(){const S=s();S.type!=="PENDING"&&ue();const V=S.actions.fluidLift(S.point);a({type:"DRAGGING",actions:V,hasMoved:!1})},[s,a]),_=be(function(S,V){s().type!=="IDLE"&&ue();const z=setTimeout(v,S5);a({type:"PENDING",point:V,actions:S,longPressTimerId:z}),g()},[g,s,a,v]);Hn(function(){return u(),function(){t.current();const V=s();V.type==="PENDING"&&(clearTimeout(V.longPressTimerId),a(_m))}},[s,u,a]),Hn(function(){return ar(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const C5=["input","button","textarea","select","option","optgroup","video","audio"];function iA(n,e){if(e==null)return!1;if(C5.includes(e.tagName.toLowerCase()))return!0;const s=e.getAttribute("contenteditable");return s==="true"||s===""?!0:e===n?!1:iA(n,e.parentElement)}function D5(n,e){const t=e.target;return Fd(t)?iA(n,t):!1}var N5=n=>wr(n.getBoundingClientRect()).center;function O5(n){return n instanceof Z1(n).Element}const M5=(()=>{const n="matches";return typeof document>"u"?n:[n,"msMatchesSelector","webkitMatchesSelector"].find(s=>s in Element.prototype)||n})();function sA(n,e){return n==null?null:n[M5](e)?n:sA(n.parentElement,e)}function V5(n,e){return n.closest?n.closest(e):sA(n,e)}function P5(n){return`[${zo.contextId}="${n}"]`}function k5(n,e){const t=e.target;if(!O5(t))return null;const s=P5(n),a=V5(t,s);return!a||!Fd(a)?null:a}function L5(n,e){const t=k5(n,e);return t?t.getAttribute(zo.draggableId):null}function U5(n,e){const t=`[${rg.contextId}="${n}"]`,a=J1(document,t).find(l=>l.getAttribute(rg.id)===e);return!a||!Fd(a)?null:a}function z5(n){n.preventDefault()}function Of({expected:n,phase:e,isLockActive:t,shouldWarn:s}){return!(!t()||n!==e)}function aA({lockAPI:n,store:e,registry:t,draggableId:s}){if(n.isClaimed())return!1;const a=t.draggable.findById(s);return!(!a||!a.options.isEnabled||!K1(e.getState(),s))}function j5({lockAPI:n,contextId:e,store:t,registry:s,draggableId:a,forceSensorStop:l,sourceEvent:u}){if(!aA({lockAPI:n,store:t,registry:s,draggableId:a}))return null;const m=s.draggable.getById(a),g=U5(e,m.descriptor.id);if(!g||u&&!m.options.canDragInteractiveElements&&D5(g,u))return null;const v=n.claim(l||Ts);let _="PRE_DRAG";function E(){return m.options.shouldRespectForcePress}function S(){return n.isActive(v)}function V(le,ae){Of({expected:le,phase:_,isLockActive:S,shouldWarn:!0})&&t.dispatch(ae())}const z=V.bind(null,"DRAGGING");function P(le){function ae(){n.release(),_="COMPLETED"}_!=="PRE_DRAG"&&(ae(),ue()),t.dispatch(V6(le.liftActionArgs)),_="DRAGGING";function R(x,C={shouldBlockNextClick:!1}){if(le.cleanup(),C.shouldBlockNextClick){const O=ar(window,[{eventName:"click",fn:z5,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(O)}ae(),t.dispatch(j1({reason:x}))}return{isActive:()=>Of({expected:"DRAGGING",phase:_,isLockActive:S,shouldWarn:!1}),shouldRespectForcePress:E,drop:x=>R("DROP",x),cancel:x=>R("CANCEL",x),...le.actions}}function F(le){const ae=Rc(x=>{z(()=>z1({client:x}))});return{...P({liftActionArgs:{id:a,clientSelection:le,movementMode:"FLUID"},cleanup:()=>ae.cancel(),actions:{move:ae}}),move:ae}}function Q(){const le={moveUp:()=>z(q6),moveRight:()=>z(F6),moveDown:()=>z(G6),moveLeft:()=>z($6)};return P({liftActionArgs:{id:a,clientSelection:N5(g),movementMode:"SNAP"},cleanup:Ts,actions:le})}function re(){Of({expected:"PRE_DRAG",phase:_,isLockActive:S,shouldWarn:!0})&&n.release()}return{isActive:()=>Of({expected:"PRE_DRAG",phase:_,isLockActive:S,shouldWarn:!1}),shouldRespectForcePress:E,fluidLift:F,snapLift:Q,abort:re}}const B5=[_5,T5,R5];function H5({contextId:n,store:e,registry:t,customSensors:s,enableDefaultSensors:a}){const l=[...a?B5:[],...s||[]],u=se.useState(()=>s5())[0],p=be(function(P,F){Vc(P)&&!Vc(F)&&u.tryAbandon()},[u]);Hn(function(){let P=e.getState();return e.subscribe(()=>{const Q=e.getState();p(P,Q),P=Q})},[u,e,p]),Hn(()=>u.tryAbandon,[u.tryAbandon]);const m=be(z=>aA({lockAPI:u,registry:t,store:e,draggableId:z}),[u,t,e]),g=be((z,P,F)=>j5({lockAPI:u,registry:t,contextId:n,store:e,draggableId:z,forceSensorStop:P||null,sourceEvent:F&&F.sourceEvent?F.sourceEvent:null}),[n,u,t,e]),v=be(z=>L5(n,z),[n]),_=be(z=>{const P=t.draggable.findById(z);return P?P.options:null},[t.draggable]),E=be(function(){u.isClaimed()&&(u.tryAbandon(),e.getState().phase!=="IDLE"&&e.dispatch(dy()))},[u,e]),S=be(()=>u.isClaimed(),[u]),V=Xe(()=>({canGetLock:m,tryGetLock:g,findClosestDraggableId:v,findOptionsForDraggable:_,tryReleaseLock:E,isLockClaimed:S}),[m,g,v,_,E,S]);for(let z=0;z<l.length;z++)l[z](V)}const q5=n=>({onBeforeCapture:e=>{const t=()=>{n.onBeforeCapture&&n.onBeforeCapture(e)};ey.flushSync(t)},onBeforeDragStart:n.onBeforeDragStart,onDragStart:n.onDragStart,onDragEnd:n.onDragEnd,onDragUpdate:n.onDragUpdate}),G5=n=>({...Mc,...n.autoScrollerOptions,durationDampening:{...Mc.durationDampening,...n.autoScrollerOptions}});function sc(n){return n.current||ue(),n.current}function F5(n){const{contextId:e,setCallbacks:t,sensors:s,nonce:a,dragHandleUsageInstructions:l}=n,u=se.useRef(null),p=eA(n),m=be(()=>q5(p.current),[p]),g=be(()=>G5(p.current),[p]),v=t5(e),_=i5({contextId:e,text:l}),E=K3(e,a),S=be(O=>{sc(u).dispatch(O)},[]),V=Xe(()=>jE({publishWhileDragging:k6,updateDroppableScroll:U6,updateDroppableIsEnabled:z6,updateDroppableIsCombineEnabled:j6,collectionStarting:L6},S),[S]),z=J3(),P=Xe(()=>x3(z,V),[z,V]),F=Xe(()=>q3({scrollWindow:I3,scrollDroppable:P.scrollDroppable,getAutoScrollerOptions:g,...jE({move:z1},S)}),[P.scrollDroppable,S,g]),Q=X3(e),re=Xe(()=>w3({announce:v,autoScroller:F,dimensionMarshal:P,focusMarshal:Q,getResponders:m,styleMarshal:E}),[v,F,P,Q,m,E]);u.current=re;const te=be(()=>{const O=sc(u);O.getState().phase!=="IDLE"&&O.dispatch(dy())},[]),le=be(()=>{const O=sc(u).getState();return O.phase==="DROP_ANIMATING"?!0:O.phase==="IDLE"?!1:O.isDragging},[]),ae=Xe(()=>({isDragging:le,tryAbort:te}),[le,te]);t(ae);const R=be(O=>K1(sc(u).getState(),O),[]),x=be(()=>fa(sc(u).getState()),[]),C=Xe(()=>({marshal:P,focus:Q,contextId:e,canLift:R,isMovementAllowed:x,dragHandleUsageInstructionsId:_,registry:z}),[e,P,_,Q,R,x,z]);return H5({contextId:e,store:re,registry:z,customSensors:s||null,enableDefaultSensors:n.enableDefaultSensors!==!1}),se.useEffect(()=>te,[te]),pt.createElement($d.Provider,{value:C},pt.createElement(gV,{context:_y,store:re},n.children))}function $5(){return pt.useId()}function Y5(n){const e=$5(),t=n.dragHandleUsageInstructions||Ff.dragHandleUsageInstructions;return pt.createElement(TV,null,s=>pt.createElement(F5,{nonce:n.nonce,contextId:e,setCallbacks:s,dragHandleUsageInstructions:t,enableDefaultSensors:n.enableDefaultSensors,sensors:n.sensors,onBeforeCapture:n.onBeforeCapture,onBeforeDragStart:n.onBeforeDragStart,onDragStart:n.onDragStart,onDragUpdate:n.onDragUpdate,onDragEnd:n.onDragEnd,autoScrollerOptions:n.autoScrollerOptions},n.children))}const mw={dragging:5e3,dropAnimating:4500},K5=(n,e)=>e?vc.drop(e.duration):n?vc.snap:vc.fluid,Q5=(n,e)=>{if(n)return e?Oc.opacity.drop:Oc.opacity.combining},X5=n=>n.forceShouldAnimate!=null?n.forceShouldAnimate:n.mode==="SNAP";function W5(n){const t=n.dimension.client,{offset:s,combineWith:a,dropping:l}=n,u=!!a,p=X5(n),m=!!l,g=m?tg.drop(s,u):tg.moveTo(s);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:K5(p,l),transform:g,opacity:Q5(u,m),zIndex:m?mw.dropAnimating:mw.dragging,pointerEvents:"none"}}function J5(n){return{transform:tg.moveTo(n.offset),transition:n.shouldAnimateDisplacement?void 0:"none"}}function Z5(n){return n.type==="DRAGGING"?W5(n):J5(n)}function eP(n,e,t=Jt){const s=window.getComputedStyle(e),a=e.getBoundingClientRect(),l=h1(a,s),u=pd(l,t),p={client:l,tagName:e.tagName.toLowerCase(),display:s.display},m={x:l.marginBox.width,y:l.marginBox.height};return{descriptor:n,placeholder:p,displaceBy:m,client:l,page:u}}function tP(n){const e=by("draggable"),{descriptor:t,registry:s,getDraggableRef:a,canDragInteractiveElements:l,shouldRespectForcePress:u,isEnabled:p}=n,m=Xe(()=>({canDragInteractiveElements:l,shouldRespectForcePress:u,isEnabled:p}),[l,p,u]),g=be(S=>{const V=a();return V||ue(),eP(t,V,S)},[t,a]),v=Xe(()=>({uniqueId:e,descriptor:t,options:m,getDimension:g}),[t,g,m,e]),_=se.useRef(v),E=se.useRef(!0);Hn(()=>(s.draggable.register(_.current),()=>s.draggable.unregister(_.current)),[s.draggable]),Hn(()=>{if(E.current){E.current=!1;return}const S=_.current;_.current=v,s.draggable.update(v,S)},[v,s.draggable])}var wy=pt.createContext(null);function bd(n){const e=se.useContext(n);return e||ue(),e}function nP(n){n.preventDefault()}const rP=n=>{const e=se.useRef(null),t=be((ae=null)=>{e.current=ae},[]),s=be(()=>e.current,[]),{contextId:a,dragHandleUsageInstructionsId:l,registry:u}=bd($d),{type:p,droppableId:m}=bd(wy),g=Xe(()=>({id:n.draggableId,index:n.index,type:p,droppableId:m}),[n.draggableId,n.index,p,m]),{children:v,draggableId:_,isEnabled:E,shouldRespectForcePress:S,canDragInteractiveElements:V,isClone:z,mapped:P,dropAnimationFinished:F}=n;if(!z){const ae=Xe(()=>({descriptor:g,registry:u,getDraggableRef:s,canDragInteractiveElements:V,shouldRespectForcePress:S,isEnabled:E}),[g,u,s,V,S,E]);tP(ae)}const Q=Xe(()=>E?{tabIndex:0,role:"button","aria-describedby":l,"data-rfd-drag-handle-draggable-id":_,"data-rfd-drag-handle-context-id":a,draggable:!1,onDragStart:nP}:null,[a,l,_,E]),re=be(ae=>{P.type==="DRAGGING"&&P.dropping&&ae.propertyName==="transform"&&ey.flushSync(F)},[F,P]),te=Xe(()=>{const ae=Z5(P),R=P.type==="DRAGGING"&&P.dropping?re:void 0;return{innerRef:t,draggableProps:{"data-rfd-draggable-context-id":a,"data-rfd-draggable-id":_,style:ae,onTransitionEnd:R},dragHandleProps:Q}},[a,Q,_,P,re,t]),le=Xe(()=>({draggableId:g.id,type:g.type,source:{index:g.index,droppableId:g.droppableId}}),[g.droppableId,g.id,g.index,g.type]);return pt.createElement(pt.Fragment,null,v(te,P.snapshot,le))};var oA=(n,e)=>n===e,lA=n=>{const{combine:e,destination:t}=n;return t?t.droppableId:e?e.droppableId:null};const iP=n=>n.combine?n.combine.draggableId:null,sP=n=>n.at&&n.at.type==="COMBINE"?n.at.combine.draggableId:null;function aP(){const n=Wt((a,l)=>({x:a,y:l})),e=Wt((a,l,u=null,p=null,m=null)=>({isDragging:!0,isClone:l,isDropAnimating:!!m,dropAnimation:m,mode:a,draggingOver:u,combineWith:p,combineTargetFor:null})),t=Wt((a,l,u,p,m=null,g=null,v=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:m,combineWith:g,mode:l,offset:a,dimension:u,forceShouldAnimate:v,snapshot:e(l,p,m,g,null)}}));return(a,l)=>{if(Vc(a)){if(a.critical.draggable.id!==l.draggableId)return null;const u=a.current.client.offset,p=a.dimensions.draggables[l.draggableId],m=Bn(a.impact),g=sP(a.impact),v=a.forceShouldAnimate;return t(n(u.x,u.y),a.movementMode,p,l.isClone,m,g,v)}if(a.phase==="DROP_ANIMATING"){const u=a.completed;if(u.result.draggableId!==l.draggableId)return null;const p=l.isClone,m=a.dimensions.draggables[l.draggableId],g=u.result,v=g.mode,_=lA(g),E=iP(g),V={duration:a.dropDuration,curve:py.drop,moveTo:a.newHomeClientOffset,opacity:E?Oc.opacity.drop:null,scale:E?Oc.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:m,dropping:V,draggingOver:_,combineWith:E,mode:v,forceShouldAnimate:null,snapshot:e(v,p,_,E,V)}}}return null}}function cA(n=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:n,combineWith:null}}const oP={mapped:{type:"SECONDARY",offset:Jt,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:cA(null)}};function lP(){const n=Wt((u,p)=>({x:u,y:p})),e=Wt(cA),t=Wt((u,p=null,m)=>({mapped:{type:"SECONDARY",offset:u,combineTargetFor:p,shouldAnimateDisplacement:m,snapshot:e(p)}})),s=u=>u?t(Jt,u,!0):null,a=(u,p,m,g)=>{const v=m.displaced.visible[u],_=!!(g.inVirtualList&&g.effected[u]),E=Hd(m),S=E&&E.draggableId===u?p:null;if(!v){if(!_)return s(S);if(m.displaced.invisible[u])return null;const P=Ko(g.displacedBy.point),F=n(P.x,P.y);return t(F,S,!0)}if(_)return s(S);const V=m.displacedBy.point,z=n(V.x,V.y);return t(z,S,v.shouldAnimate)};return(u,p)=>{if(Vc(u))return u.critical.draggable.id===p.draggableId?null:a(p.draggableId,u.critical.draggable.id,u.impact,u.afterCritical);if(u.phase==="DROP_ANIMATING"){const m=u.completed;return m.result.draggableId===p.draggableId?null:a(p.draggableId,m.result.draggableId,m.impact,m.afterCritical)}return null}}const cP=()=>{const n=aP(),e=lP();return(s,a)=>n(s,a)||e(s,a)||oP},uP={dropAnimationFinished:B1},fP=d1(cP,uP,null,{context:_y,areStatePropsEqual:oA})(rP);function uA(n){return bd(wy).isUsingCloneFor===n.draggableId&&!n.isClone?null:pt.createElement(fP,n)}function dP(n){const e=typeof n.isDragDisabled=="boolean"?!n.isDragDisabled:!0,t=!!n.disableInteractiveElementBlocking,s=!!n.shouldRespectForcePress;return pt.createElement(uA,md({},n,{isClone:!1,isEnabled:e,canDragInteractiveElements:t,shouldRespectForcePress:s}))}const fA=n=>e=>n===e,hP=fA("scroll"),pP=fA("auto"),gw=(n,e)=>e(n.overflowX)||e(n.overflowY),mP=n=>{const e=window.getComputedStyle(n),t={overflowX:e.overflowX,overflowY:e.overflowY};return gw(t,hP)||gw(t,pP)},gP=()=>!1,dA=n=>n==null?null:n===document.body?gP()?n:null:n===document.documentElement?null:mP(n)?n:dA(n.parentElement);var ig=n=>({x:n.scrollLeft,y:n.scrollTop});const hA=n=>n?window.getComputedStyle(n).position==="fixed"?!0:hA(n.parentElement):!1;var yP=n=>{const e=dA(n),t=hA(n);return{closestScrollable:e,isFixedOnPage:t}},vP=({descriptor:n,isEnabled:e,isCombineEnabled:t,isFixedOnPage:s,direction:a,client:l,page:u,closest:p})=>{const m=(()=>{if(!p)return null;const{scrollSize:E,client:S}=p,V=F1({scrollHeight:E.scrollHeight,scrollWidth:E.scrollWidth,height:S.paddingBox.height,width:S.paddingBox.width});return{pageMarginBox:p.page.marginBox,frameClient:S,scrollSize:E,shouldClipSubject:p.shouldClipSubject,scroll:{initial:p.scroll,current:p.scroll,max:V,diff:{value:Jt,displacement:Jt}}}})(),g=a==="vertical"?oy:S1,v=Lo({page:u,withPlaceholder:null,axis:g,frame:m});return{descriptor:n,isCombineEnabled:t,isFixedOnPage:s,axis:g,isEnabled:e,client:l,page:u,frame:m,subject:v}};const _P=(n,e)=>{const t=p1(n);if(!e||n!==e)return t;const s=t.paddingBox.top-e.scrollTop,a=t.paddingBox.left-e.scrollLeft,l=s+e.scrollHeight,u=a+e.scrollWidth,m=ry({top:s,right:u,bottom:l,left:a},t.border);return iy({borderBox:m,margin:t.margin,border:t.border,padding:t.padding})};var bP=({ref:n,descriptor:e,env:t,windowScroll:s,direction:a,isDropDisabled:l,isCombineEnabled:u,shouldClipSubject:p})=>{const m=t.closestScrollable,g=_P(n,m),v=pd(g,s),_=(()=>{if(!m)return null;const S=p1(m),V={scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth};return{client:S,page:pd(S,s),scroll:ig(m),scrollSize:V,shouldClipSubject:p}})();return vP({descriptor:e,isEnabled:!l,isCombineEnabled:u,isFixedOnPage:t.isFixedOnPage,direction:a,client:g,page:v,closest:_})};const EP={passive:!1},wP={passive:!0};var yw=n=>n.shouldPublishImmediately?EP:wP;const Mf=n=>n&&n.env.closestScrollable||null;function TP(n){const e=se.useRef(null),t=bd($d),s=by("droppable"),{registry:a,marshal:l}=t,u=eA(n),p=Xe(()=>({id:n.droppableId,type:n.type,mode:n.mode}),[n.droppableId,n.mode,n.type]),m=se.useRef(p),g=Xe(()=>Wt((te,le)=>{e.current||ue();const ae={x:te,y:le};l.updateDroppableScroll(p.id,ae)}),[p.id,l]),v=be(()=>{const te=e.current;return!te||!te.env.closestScrollable?Jt:ig(te.env.closestScrollable)},[]),_=be(()=>{const te=v();g(te.x,te.y)},[v,g]),E=Xe(()=>Rc(_),[_]),S=be(()=>{const te=e.current,le=Mf(te);if(te&&le||ue(),te.scrollOptions.shouldPublishImmediately){_();return}E()},[E,_]),V=be((te,le)=>{e.current&&ue();const ae=u.current,R=ae.getDroppableRef();R||ue();const x=yP(R),C={ref:R,descriptor:p,env:x,scrollOptions:le};e.current=C;const O=bP({ref:R,descriptor:p,env:x,windowScroll:te,direction:ae.direction,isDropDisabled:ae.isDropDisabled,isCombineEnabled:ae.isCombineEnabled,shouldClipSubject:!ae.ignoreContainerClipping}),N=x.closestScrollable;return N&&(N.setAttribute(fw.contextId,t.contextId),N.addEventListener("scroll",S,yw(C.scrollOptions))),O},[t.contextId,p,S,u]),z=be(()=>{const te=e.current,le=Mf(te);return te&&le||ue(),ig(le)},[]),P=be(()=>{const te=e.current;te||ue();const le=Mf(te);e.current=null,le&&(E.cancel(),le.removeAttribute(fw.contextId),le.removeEventListener("scroll",S,yw(te.scrollOptions)))},[S,E]),F=be(te=>{const le=e.current;le||ue();const ae=Mf(le);ae||ue(),ae.scrollTop+=te.y,ae.scrollLeft+=te.x},[]),Q=Xe(()=>({getDimensionAndWatchScroll:V,getScrollWhileDragging:z,dragStopped:P,scroll:F}),[P,V,z,F]),re=Xe(()=>({uniqueId:s,descriptor:p,callbacks:Q}),[Q,p,s]);Hn(()=>(m.current=re.descriptor,a.droppable.register(re),()=>{e.current&&P(),a.droppable.unregister(re)}),[Q,p,P,re,l,a.droppable]),Hn(()=>{e.current&&l.updateDroppableIsEnabled(m.current.id,!n.isDropDisabled)},[n.isDropDisabled,l]),Hn(()=>{e.current&&l.updateDroppableIsCombineEnabled(m.current.id,n.isCombineEnabled)},[n.isCombineEnabled,l])}function bm(){}const vw={width:0,height:0,margin:DV},SP=({isAnimatingOpenOnMount:n,placeholder:e,animate:t})=>n||t==="close"?vw:{height:e.client.borderBox.height,width:e.client.borderBox.width,margin:e.client.margin},AP=({isAnimatingOpenOnMount:n,placeholder:e,animate:t})=>{const s=SP({isAnimatingOpenOnMount:n,placeholder:e,animate:t});return{display:e.display,boxSizing:"border-box",width:s.width,height:s.height,marginTop:s.margin.top,marginRight:s.margin.right,marginBottom:s.margin.bottom,marginLeft:s.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:t!=="none"?vc.placeholder:null}},xP=n=>{const e=se.useRef(null),t=be(()=>{e.current&&(clearTimeout(e.current),e.current=null)},[]),{animate:s,onTransitionEnd:a,onClose:l,contextId:u}=n,[p,m]=se.useState(n.animate==="open");se.useEffect(()=>p?s!=="open"?(t(),m(!1),bm):e.current?bm:(e.current=setTimeout(()=>{e.current=null,m(!1)}),t):bm,[s,p,t]);const g=be(_=>{_.propertyName==="height"&&(a(),s==="close"&&l())},[s,l,a]),v=AP({isAnimatingOpenOnMount:p,animate:n.animate,placeholder:n.placeholder});return pt.createElement(n.placeholder.tagName,{style:v,"data-rfd-placeholder-context-id":u,onTransitionEnd:g,ref:n.innerRef})};var IP=pt.memo(xP);class RP extends pt.PureComponent{constructor(...e){super(...e),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!e.on,data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const CP=n=>{const e=se.useContext($d);e||ue();const{contextId:t,isMovementAllowed:s}=e,a=se.useRef(null),l=se.useRef(null),{children:u,droppableId:p,type:m,mode:g,direction:v,ignoreContainerClipping:_,isDropDisabled:E,isCombineEnabled:S,snapshot:V,useClone:z,updateViewportMaxScroll:P,getContainerForClone:F}=n,Q=be(()=>a.current,[]),re=be((N=null)=>{a.current=N},[]);be(()=>l.current,[]);const te=be((N=null)=>{l.current=N},[]),le=be(()=>{s()&&P({maxScroll:Y1()})},[s,P]);TP({droppableId:p,type:m,mode:g,direction:v,isDropDisabled:E,isCombineEnabled:S,ignoreContainerClipping:_,getDroppableRef:Q});const ae=Xe(()=>pt.createElement(RP,{on:n.placeholder,shouldAnimate:n.shouldAnimatePlaceholder},({onClose:N,data:U,animate:D})=>pt.createElement(IP,{placeholder:U,onClose:N,innerRef:te,animate:D,contextId:t,onTransitionEnd:le})),[t,le,n.placeholder,n.shouldAnimatePlaceholder,te]),R=Xe(()=>({innerRef:re,placeholder:ae,droppableProps:{"data-rfd-droppable-id":p,"data-rfd-droppable-context-id":t}}),[t,p,ae,re]),x=z?z.dragging.draggableId:null,C=Xe(()=>({droppableId:p,type:m,isUsingCloneFor:x}),[p,x,m]);function O(){if(!z)return null;const{dragging:N,render:U}=z,D=pt.createElement(uA,{draggableId:N.draggableId,index:N.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},($e,_e)=>U($e,_e,N));return mM.createPortal(D,F())}return pt.createElement(wy.Provider,{value:C},u(R,V),O())};function DP(){return document.body||ue(),document.body}const _w={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:DP},pA=n=>{let e={...n},t;for(t in _w)n[t]===void 0&&(e={...e,[t]:_w[t]});return e},Em=(n,e)=>n===e.droppable.type,bw=(n,e)=>e.draggables[n.draggable.id],NP=()=>{const n={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},e={...n,shouldAnimatePlaceholder:!1},t=Wt(l=>({draggableId:l.id,type:l.type,source:{index:l.index,droppableId:l.droppableId}})),s=Wt((l,u,p,m,g,v)=>{const _=g.descriptor.id;if(g.descriptor.droppableId===l){const V=v?{render:v,dragging:t(g.descriptor)}:null,z={isDraggingOver:p,draggingOverWith:p?_:null,draggingFromThisWith:_,isUsingPlaceholder:!0};return{placeholder:g.placeholder,shouldAnimatePlaceholder:!1,snapshot:z,useClone:V}}if(!u)return e;if(!m)return n;const S={isDraggingOver:p,draggingOverWith:_,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:g.placeholder,shouldAnimatePlaceholder:!0,snapshot:S,useClone:null}});return(l,u)=>{const p=pA(u),m=p.droppableId,g=p.type,v=!p.isDropDisabled,_=p.renderClone;if(Vc(l)){const E=l.critical;if(!Em(g,E))return e;const S=bw(E,l.dimensions),V=Bn(l.impact)===m;return s(m,v,V,V,S,_)}if(l.phase==="DROP_ANIMATING"){const E=l.completed;if(!Em(g,E.critical))return e;const S=bw(E.critical,l.dimensions);return s(m,v,lA(E.result)===m,Bn(E.impact)===m,S,_)}if(l.phase==="IDLE"&&l.completed&&!l.shouldFlush){const E=l.completed;if(!Em(g,E.critical))return e;const S=Bn(E.impact)===m,V=!!(E.impact.at&&E.impact.at.type==="COMBINE"),z=E.critical.droppable.id===m;return S?V?n:e:z?n:e}return e}},OP={updateViewportMaxScroll:H6},MP=d1(NP,OP,(n,e,t)=>({...pA(t),...n,...e}),{context:_y,areStatePropsEqual:oA})(CP),VP=({list:n,setList:e,isMidnight:t})=>{if(!n||n.length===0)return null;const[s,a]=se.useState(null),l=()=>{const p=`[]
`+n.map((m,g)=>`${g+1}. [${m.server}] ${m.zone} | ${m.mobName}`).join(`
`);navigator.clipboard.writeText(p).then(()=>{a(""),setTimeout(()=>a(null),2e3)})},u=p=>{if(!p.destination)return;const m=Array.from(n),[g]=m.splice(p.source.index,1);m.splice(p.destination.index,0,g),e(m)};return I.jsx(Y5,{onDragEnd:u,children:I.jsxs("div",{className:ge("fixed bottom-4 left-2 right-2 md:left-8 md:right-8 z-50 rounded-3xl border shadow-2xl backdrop-blur-xl animate-in slide-in-from-bottom-10 font-black",t?"bg-[#12141e]/95 border-white/10":"bg-white/95 border-slate-200"),children:[I.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/5",children:[I.jsxs("div",{className:"flex items-center gap-3",children:[I.jsx("div",{className:ge("p-2 rounded-xl",t?"bg-blue-600/20 text-blue-400":"bg-blue-100 text-blue-600"),children:I.jsx(QO,{className:"w-5 h-5"})}),I.jsxs("div",{children:[I.jsx("div",{className:"text-xs opacity-50 uppercase font-bold",children:"Hunt Train"}),I.jsxs("div",{className:ge("font-black",t?"text-white":"text-slate-900"),children:[" (",n.length,")"]})]})]}),I.jsxs("div",{className:"flex gap-2",children:[I.jsx("button",{onClick:()=>e([]),className:"p-2.5 hover:bg-red-500/20 rounded-xl text-red-500 transition-colors",children:I.jsx(rM,{className:"w-5 h-5"})}),I.jsx("button",{onClick:l,className:"px-4 py-2 bg-blue-600 text-white rounded-xl text-xs font-black shadow-lg shadow-blue-500/30 active:scale-95 transition-all",children:s||""})]})]}),I.jsx(MP,{droppableId:"train-list",direction:"horizontal",children:p=>I.jsxs("div",{ref:p.innerRef,...p.droppableProps,className:"flex overflow-x-auto gap-3 p-4 custom-scrollbar scroll-smooth",children:[n.map((m,g)=>I.jsx(dP,{draggableId:m.id,index:g,children:(v,_)=>I.jsxs("div",{ref:v.innerRef,...v.draggableProps,...v.dragHandleProps,style:{...v.draggableProps.style},className:ge("shrink-0 p-3 pr-8 rounded-2xl border min-w-[160px] relative group select-none transition-colors",_.isDragging?t?"bg-blue-900/40 border-blue-500 shadow-xl":"bg-blue-50 border-blue-500 shadow-xl":t?"bg-black/20 border-white/5 hover:border-white/20":"bg-slate-50 border-slate-200 hover:border-blue-300"),children:[I.jsxs("div",{className:"text-[9px] font-bold opacity-50 mb-1 flex items-center gap-1",children:[I.jsx("span",{className:"bg-blue-600 text-white px-1.5 rounded-md",children:g+1}),I.jsxs("span",{children:["[",m.server,"] ",m.zone]})]}),I.jsx("div",{className:ge("font-black text-sm truncate",t?"text-slate-200":"text-slate-800"),children:m.mobName}),I.jsx("button",{onPointerDown:E=>E.stopPropagation(),onClick:()=>e(n.filter(E=>E.id!==m.id)),className:ge("absolute top-2 right-2 rounded-full p-1 opacity-0 group-hover:opacity-100 transition-all",t?"bg-red-900 text-red-200":"bg-red-100 text-red-600"),children:I.jsx(Zg,{className:"w-3 h-3"})})]})},m.id)),p.placeholder,I.jsx("div",{className:"w-2 shrink-0"})]})})]})})},PP=["","","","",""],kP=({isOpen:n,onClose:e,eorzeaData:t,isMidnight:s})=>{const[a,l]=se.useState(null);if(!n)return null;const u=m=>{const g=Math.floor(Date.now()/1e3),v=hO(m,g);l({zone:m,records:v})},p=()=>{l(null),e()};return I.jsx("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-4 bg-black/90 backdrop-blur-xl animate-in fade-in",children:I.jsxs("div",{className:`border-2 p-8 rounded-[3rem] max-w-4xl w-full shadow-2xl transition-all duration-300 ${s?"bg-[#12141e] border-white/5 text-white":"bg-white border-slate-200"}`,children:[I.jsxs("div",{className:"flex justify-between items-center mb-8",children:[I.jsxs("div",{className:"flex items-center gap-3",children:[a&&I.jsx("button",{onClick:()=>l(null),className:"p-2 mr-2 rounded-full hover:bg-white/10",children:I.jsx(TO,{size:24})}),I.jsxs("h2",{className:"text-3xl font-black flex items-center gap-3",children:[I.jsx(IO,{className:"text-blue-400"}),a?`${a.zone}`:""]})]}),I.jsx("button",{onClick:p,className:"p-3 rounded-full border-2 hover:bg-white/10",children:I.jsx(Zg,{})})]}),a?I.jsx("div",{className:"animate-in zoom-in-95 duration-200",children:I.jsx("div",{className:`rounded-3xl border overflow-hidden ${s?"bg-white/5 border-white/10":"bg-slate-50 border-slate-200"}`,children:I.jsx("div",{className:"max-h-[400px] overflow-y-auto custom-scrollbar",children:I.jsxs("table",{className:"w-full text-left border-collapse",children:[I.jsx("thead",{className:`sticky top-0 z-10 ${s?"bg-[#1c1f2e]":"bg-slate-200"}`,children:I.jsxs("tr",{children:[I.jsx("th",{className:"p-4 text-xs font-bold uppercase opacity-60",children:"LT ()"}),I.jsx("th",{className:"p-4 text-xs font-bold uppercase opacity-60",children:"ET ()"}),I.jsx("th",{className:"p-4 text-xs font-bold uppercase opacity-60",children:""})]})}),I.jsx("tbody",{children:a.records.map((m,g)=>I.jsxs("tr",{className:`border-t ${s?"border-white/5":"border-slate-200"} ${m.isCurrent?"bg-blue-500/20":""}`,children:[I.jsx("td",{className:"p-4 font-mono text-sm",children:m.lt}),I.jsx("td",{className:"p-4 font-mono text-sm text-yellow-500",children:m.et}),I.jsx("td",{className:`p-4 font-bold ${m.isCurrent?"text-blue-400":""}`,children:m.weather})]},g))})]})})})}):I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 animate-in slide-in-from-bottom-4",children:[I.jsxs("div",{className:`p-8 rounded-[2.5rem] border flex flex-col justify-center ${s?"bg-white/5 border-white/5":"bg-slate-50"}`,children:[I.jsx("div",{className:"text-xs uppercase tracking-widest opacity-50 mb-2",children:"Current Eorzea Day"}),I.jsxs("div",{className:"text-6xl font-mono font-black mb-4",children:["Day ",t.day]}),I.jsxs("div",{className:"text-2xl text-yellow-500 font-black",children:["Next: ",t.nextIn]})]}),I.jsxs("div",{className:"space-y-3",children:[PP.map(m=>I.jsxs("div",{onClick:()=>u(m),className:`p-4 rounded-2xl border flex justify-between items-center cursor-pointer transition-transform active:scale-95 ${s?"border-white/10 hover:bg-white/5":"border-slate-200 hover:bg-slate-50"}`,children:[I.jsx("span",{className:"font-bold",children:m}),I.jsxs("div",{className:"text-right",children:[I.jsx("div",{className:"text-blue-400 font-black",children:Ro(m,t.curVal)}),I.jsxs("div",{className:"text-xs opacity-50",children:["Next: ",Ro(m,t.nxtVal)]})]})]},m)),I.jsx("div",{className:"text-center text-xs opacity-30 mt-4",children:""})]})]})]})})},LP=({isOpen:n,onClose:e,onVerify:t,isMidnight:s})=>{const[a,l]=se.useState("");return n?I.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-6 bg-black/98 backdrop-blur-2xl",children:I.jsxs("div",{className:ge("border-2 p-12 rounded-[4rem] shadow-2xl max-w-sm w-full text-center font-black",s?"bg-[#12141e] border-white/5 text-white":"bg-white border-slate-200 text-slate-900"),children:[I.jsx("h2",{className:"text-3xl mb-12 italic uppercase font-black tracking-tight",children:""}),I.jsx("input",{type:"password",value:a,onChange:u=>l(u.target.value),placeholder:"******",className:ge("w-full border-2 p-6 rounded-[2rem] mb-12 text-center text-4xl outline-none transition-all shadow-inner font-mono font-black",s?"bg-black/50 border-white/10 text-yellow-500 focus:border-yellow-500":"bg-black/5 border-slate-200 focus:border-blue-500"),onKeyDown:u=>u.key==="Enter"&&t(a),autoFocus:!0}),I.jsxs("div",{className:"flex gap-4",children:[I.jsx("button",{onClick:e,className:ge("flex-1 py-5 rounded-3xl border-2 uppercase text-xs font-black hover:opacity-70",s?"border-white/10":"border-slate-200"),children:""}),I.jsx("button",{onClick:()=>t(a),className:"flex-1 py-5 bg-yellow-600 text-white rounded-3xl text-xs font-black uppercase hover:bg-yellow-500 shadow-xl active:scale-95 transition-all",children:""})]})]})}):null},UP="ffxiv-hunt-stable-final-v24",zP=({isOpen:n,onClose:e,server:t,mobId:s,mobName:a,isMidnight:l})=>{const[u,p]=se.useState([]),[m,g]=se.useState(!1);return se.useEffect(()=>{if(!n||!s)return;g(!0);const v=eN(Gm(Si,"artifacts",UP,"public","data",`timers-${t}`,s,"history"),tN("timestamp","desc"),nN(50)),_=vS(v,E=>{const S=[];E.forEach(V=>S.push({...V.data(),id:V.id})),p(S),g(!1)},E=>{console.error("History fetch error:",E),g(!1)});return()=>_()},[n,t,s]),n?I.jsx("div",{className:"fixed inset-0 z-[300] flex items-center justify-center p-6 bg-black/80 backdrop-blur-md animate-in fade-in duration-200",children:I.jsxs("div",{className:ge("border-2 rounded-[2.5rem] shadow-2xl w-full max-w-2xl flex flex-col max-h-[80vh] overflow-hidden transition-all",l?"bg-[#12141e] border-white/10 text-slate-300":"bg-white border-slate-200 text-slate-700"),children:[I.jsxs("div",{className:"p-6 md:p-8 border-b border-white/5 flex justify-between items-center shrink-0",children:[I.jsxs("h3",{className:"text-xl md:text-2xl font-black flex items-center gap-3",children:[I.jsx("span",{className:"bg-blue-600 text-white p-2 md:p-2.5 rounded-xl",children:I.jsx(Qm,{className:"w-5 h-5 md:w-6 md:h-6"})}),I.jsxs("div",{className:"flex flex-col md:flex-row md:items-baseline gap-1 md:gap-2",children:[I.jsx("span",{children:a}),I.jsxs("span",{className:"text-xs md:text-sm opacity-50 font-normal",children:["(",t,")"]})]})]}),I.jsx("button",{onClick:e,className:ge("p-3 rounded-xl transition-colors",l?"bg-white/5 hover:bg-white/10":"bg-slate-100 hover:bg-slate-200"),children:I.jsx(Zg,{className:"w-6 h-6"})})]}),I.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 custom-scrollbar space-y-3",children:m?I.jsx("div",{className:"flex justify-center py-10 opacity-50",children:I.jsx(Jg,{className:"w-8 h-8 animate-spin"})}):u.length===0?I.jsx("div",{className:"text-center opacity-40 py-10 font-black tracking-widest text-sm",children:""}):u.map(v=>I.jsxs("div",{className:ge("p-4 rounded-2xl border flex flex-col md:flex-row md:items-center justify-between gap-3 text-sm transition-all hover:scale-[1.01]",l?"bg-white/5 border-white/5 hover:bg-white/10":"bg-slate-50 border-slate-100 hover:bg-slate-100"),children:[I.jsxs("div",{className:"flex items-start md:items-center gap-4",children:[I.jsxs("div",{className:ge("text-[10px] font-mono px-2 py-1 rounded shrink-0 text-center",l?"bg-black/40 text-slate-400":"bg-slate-200 text-slate-500"),children:[I.jsx("div",{className:"font-bold",children:new Date(v.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),I.jsx("div",{className:"opacity-60 text-[9px]",children:new Date(v.timestamp).toLocaleDateString()})]}),I.jsxs("div",{children:[I.jsx("div",{className:"font-bold text-base flex items-center gap-2",children:I.jsx("span",{className:ge("text-[10px] px-2 py-0.5 rounded border font-black",v.action==="KILL"?"border-red-500/50 text-red-500 bg-red-500/10":v.action==="RESET"?"border-blue-500/50 text-blue-500 bg-blue-500/10":"border-amber-500/50 text-amber-500 bg-amber-500/10"),children:v.action==="KILL"?"":v.action==="RESET"?"":""})}),I.jsx("div",{className:"opacity-60 text-xs mt-1 font-medium",children:v.details})]})]}),I.jsxs("div",{className:"text-[10px] opacity-40 text-right font-mono flex items-center justify-end gap-1",children:[I.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-current"}),"by ",v.userLabel]})]},v.id))})]})}):null},Vf="ffxiv-hunt-stable-final-v24",Ew=["","",""];async function jP(n){const e=new TextEncoder().encode(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(s=>s.toString(16).padStart(2,"0")).join("")}function BP(){const n=mO(),[e,t]=se.useState(()=>localStorage.getItem("ff-theme")||"sunlight"),[s,a]=se.useState(()=>localStorage.getItem("ff-server")||""),[l,u]=se.useState("all"),[p,m]=se.useState("card"),[g,v]=se.useState(!0),[_,E]=se.useState(null),[S,V]=se.useState(""),[z,P]=se.useState(()=>localStorage.getItem("ff-is-admin")==="true"),[F,Q]=se.useState({}),[re,te]=se.useState([]),[le,ae]=se.useState(!0),[R,x]=se.useState(null),[C,O]=se.useState(""),[N,U]=se.useState(!1),[D,$e]=se.useState(!1),[_e,K]=se.useState({isOpen:!1,mobId:null,mobName:""}),oe=e==="midnight";se.useEffect(()=>{const ie=YN(Cf,async Ve=>{if(Ve){if(E(Ve),!Ve.isAnonymous)try{const Ue=await Fm(da(Si,"users",Ve.uid));Ue.exists()&&V(Ue.data().hunterName||"")}catch(Ue){console.error(Ue)}}else BN(Cf).catch(console.error),V("")});return()=>ie()},[]);const ye=()=>p4(Cf,new Xr).catch(console.error),Le=()=>KN(Cf).catch(console.error),Ke=async ie=>{if(!(!_||_.isAnonymous))try{await uc(da(Si,"users",_.uid),{hunterName:ie,updatedAt:Date.now()},{merge:!0}),V(ie)}catch{alert("")}},k=async ie=>{try{const Ve=await jP(ie),Ue=await Fm(da(Si,"config","admin_settings"));Ue.exists()&&Ve===Ue.data().password_hash?(P(!0),localStorage.setItem("ff-is-admin","true"),$e(!1),alert(" ")):alert(" ")}catch{alert("")}},W=()=>{z?(P(!1),localStorage.removeItem("ff-is-admin")):$e(!0)};se.useEffect(()=>{ae(!0);const ie=vS(Gm(Si,"artifacts",Vf,"public","data",`timers-${s}`),Ve=>{const Ue={};Ve.forEach(Ne=>Ue[Ne.id]=Ne.data()),Q(Ue),ae(!1)},Ve=>{console.error(Ve),ae(!1)});return()=>ie()},[s]);const ce=async(ie,Ve,Ue,Ne="")=>{try{const nt=Gm(Si,"artifacts",Vf,"public","data",`timers-${s}`,ie,"history");await iN(nt,{mobName:Ve,action:Ue,details:Ne,timestamp:Date.now(),userLabel:z?" (Admin)":S||"",uid:_?.uid||"ANONYMOUS"})}catch(nt){console.error(nt)}},de=async(ie,Ve,Ue)=>{if(!(!z||!C))try{const Ne=new Date(C).getTime(),nt=da(Si,"artifacts",Vf,"public","data",`timers-${s}`,ie);await uc(nt,{startTime:Ne,endTime:Ne+Ue*36e5,updatedAt:Date.now()},{merge:!0}),ce(ie,Ve,"EDIT",""),x(null),O("")}catch{alert("")}},Te=se.useMemo(()=>{const ie=[],Ve=[];(l==="all"?Object.keys(Ti):[l]).forEach(We=>{Ti[We]&&(Ti[We].s.forEach((It,Zt)=>ie.push({...It,id:`${We}-s-${Zt}`,rank:"s",expKey:We})),Ti[We].a.forEach((It,Zt)=>Ve.push({...It,id:`${We}-a-${Zt}`,rank:"a",expKey:We})))});const Ne=We=>{const It=F[We.id],Zt=Ew.includes(We.cn),Dn=Math.floor(n.currentTime/1e3);if(!g)return Zt?100:0;if(It?.endTime>n.currentTime)return-2e9;if(Zt)return-1e9;let dt=0;const Et=dO(We,Dn),xr=n.currentTime-(It?.startTime||0),Ia=Et<=Dn&&Et>0;return Ia&&(dt+=5e8),n.currentTime>It?.endTime&&!Ia&&(dt+=1e8),Et>Dn&&(dt+=2e5-(Et-Dn)),dt+=Math.floor(xr/1e6),We.rank==="s"&&(dt+=1e3),dt},nt=(We,It)=>{const Zt=Ne(We),Dn=Ne(It);return Zt!==Dn?Dn-Zt:We.zone.localeCompare(It.zone)};return{s:ie.sort(nt),a:Ve.sort(nt)}},[l,F,g,n.currentTime]),xe=se.useMemo(()=>{const ie=[];return(l==="all"?Object.keys(Ti):[l]).forEach(Ue=>{Ti[Ue]&&[...Ti[Ue].s,...Ti[Ue].a].forEach((Ne,nt)=>{if(Ew.includes(Ne.cn))return;const We=Ti[Ue].s.includes(Ne)?"s":"a",It=`${Ue}-${We}-${nt}`;(!F[It]?.endTime||F[It].endTime<=n.currentTime)&&ie.push({...Ne,id:It,expKey:Ue,rank:We,timer:F[It]})})}),ie.sort(Ue=>Ue.rank==="s"?-1:1).slice(0,30)},[F,n.currentTime,l]),ke=async(ie,Ve,Ue)=>{if(!ie)return;const Ne=F[ie]?.endTime>n.currentTime;if(!Ne&&_?.isAnonymous&&window.confirm(" Google "))ye();else if(!Ne||z){const nt=da(Si,"artifacts",Vf,"public","data",`timers-${s}`,ie);if(Ne)await uc(nt,{}),ce(ie,Ve,"RESET","");else{const We=Date.now();await uc(nt,{startTime:We,endTime:We+Ue*36e5,updatedAt:We},{merge:!0}),ce(ie,Ve,"KILL","")}}},bt=(ie,Ve)=>{const Ue=`${ie}-${s}`;te(Ne=>Ne.some(nt=>nt.id===Ue)?Ne.filter(nt=>nt.id!==Ue):[...Ne,{id:Ue,mobName:ie,zone:Ve,server:s,uniqueId:Date.now().toString()}])};return I.jsxs("div",{className:ge("min-h-screen p-4 pb-96 transition-all duration-500 font-black",oe?"bg-[#0a0b10] text-slate-200":"bg-slate-50 text-slate-900"),children:[I.jsx(fM,{user:_,hunterName:S,setHunterName:Ke,onLogin:ye,onLogout:Le,selectedServer:s,setSelectedServer:a,eorzeaData:n,theme:e,setTheme:ie=>{t(ie),localStorage.setItem("ff-theme",ie)},onShowWeather:()=>U(!0),currentTime:n.currentTime,isMidnight:oe,isAdmin:z,onToggleAdmin:W}),I.jsx(dM,{alerts:xe,currentTime:n.currentTime,onTabChange:u,isMidnight:oe,timers:F,selectedServer:s}),I.jsx("div",{className:"flex flex-wrap gap-2 mb-6 bg-black/10 p-2 rounded-2xl font-black",children:uO.map(ie=>I.jsx("button",{onClick:()=>a(ie),className:ge("flex-1 py-4 rounded-xl text-xs font-black transition-all",s===ie?"bg-blue-600 text-white shadow-xl":"bg-transparent text-slate-500 hover:bg-white/5"),children:ie},ie))}),I.jsxs("div",{className:"flex flex-col gap-6 mb-12 font-black",children:[I.jsx("div",{className:"relative scroll-gradient-mask",children:I.jsx(i1,{className:"flex flex-nowrap gap-3 overflow-x-auto pb-4 no-scrollbar px-1 cursor-grab active:cursor-grabbing",nativeMobileScroll:!0,children:fO.map(ie=>I.jsx("button",{onClick:()=>u(ie.id),className:ge("flex-shrink-0 px-7 py-4 rounded-3xl text-xs font-black transition-all border-2 whitespace-nowrap",l===ie.id?ge(ie.color||"bg-blue-600","border-transparent text-white shadow-xl scale-105"):oe?"bg-[#252a3a] border-white/10 text-slate-300":"bg-white border-slate-200 text-slate-600"),children:ie.name},ie.id))})}),I.jsxs("div",{className:"flex justify-end items-center gap-4",children:[I.jsxs("div",{className:ge("border-2 rounded-2xl p-1 flex gap-1",oe?"bg-black/40 border-white/5":"bg-white border-slate-200"),children:[I.jsx("button",{onClick:()=>m("card"),className:ge("p-2.5 rounded-xl transition-all",p==="card"?"bg-blue-600 text-white shadow-lg":""),children:I.jsx(NO,{className:"w-5 h-5"})}),I.jsx("button",{onClick:()=>m("list"),className:ge("p-2.5 rounded-xl transition-all",p==="list"?"bg-blue-600 text-white shadow-lg":""),children:I.jsx(VO,{className:"w-5 h-5"})})]}),I.jsxs("button",{onClick:()=>v(!g),className:ge("px-6 py-3 rounded-2xl border-2 text-[11px] uppercase transition-all font-black shadow-sm active:scale-95",oe?"bg-[#252a3a] border-white/10 text-slate-300":"bg-white border-slate-200 text-slate-600"),children:["",g?"":""]})]})]}),le?I.jsxs("div",{className:"flex flex-col items-center justify-center py-48 opacity-50",children:[I.jsx(Jg,{className:"animate-spin w-12 h-12 mb-4 text-blue-500"}),I.jsx("span",{className:"font-black animate-pulse uppercase",children:"Syncing Server Data..."})]}):I.jsxs("div",{className:ge(p==="card"?"grid grid-cols-1 lg:grid-cols-2 gap-8 md:gap-16":"flex flex-col gap-10"),children:[I.jsxs("section",{className:ge(p==="list"?"w-full":""),children:[I.jsxs("h2",{className:"text-3xl md:text-4xl mb-6 flex items-center gap-3 px-6 font-black",children:[I.jsx(WO,{className:"w-8 h-8 text-yellow-500"})," S-Rank"]}),I.jsx("div",{className:ge(p==="card"?"flex flex-col gap-4 md:gap-10":ge("flex flex-col border-2 rounded-[2rem] overflow-hidden divide-y divide-white/5",oe?"bg-white/5 border-white/5":"bg-white border-slate-200")),children:Te.s.map(ie=>I.jsx(PE,{mob:ie,timer:F[ie.id],currentTime:n.currentTime,isMidnight:oe,isAdmin:z,server:s,inTrain:re.some(Ve=>Ve.mobName===ie.cn),viewMode:p,onToggleKill:()=>ke(ie.id,ie.cn,ie.window),onToggleTrain:()=>bt(ie.cn,ie.zone),onOpenHistory:()=>K({isOpen:!0,mobId:ie.id,mobName:ie.cn}),isEditing:R===ie.id,editTimeVal:C,setEditTimeVal:O,onToggleEdit:()=>x(R===ie.id?null:ie.id),onManualSubmit:()=>de(ie.id,ie.cn,ie.window)},ie.id))})]}),I.jsxs("section",{className:ge(p==="list"?"w-full":""),children:[I.jsxs("h2",{className:"text-3xl md:text-4xl mb-6 flex items-center gap-3 px-6 font-black",children:[I.jsx(tM,{className:"w-8 h-8 text-blue-500"})," A-Rank"]}),I.jsx("div",{className:ge(p==="card"?"flex flex-col gap-4 md:gap-8":ge("flex flex-col border-2 rounded-[2rem] overflow-hidden divide-y divide-white/5",oe?"bg-white/5 border-white/5":"bg-white border-slate-200")),children:Te.a.map(ie=>I.jsx(PE,{mob:ie,timer:F[ie.id],currentTime:n.currentTime,isMidnight:oe,isAdmin:z,server:s,inTrain:re.some(Ve=>Ve.mobName===ie.cn),viewMode:p,onToggleKill:()=>ke(ie.id,ie.cn,ie.window),onToggleTrain:()=>bt(ie.cn,ie.zone),onOpenHistory:()=>K({isOpen:!0,mobId:ie.id,mobName:ie.cn}),isEditing:R===ie.id,editTimeVal:C,setEditTimeVal:O,onToggleEdit:()=>x(R===ie.id?null:ie.id),onManualSubmit:()=>de(ie.id,ie.cn,ie.window)},ie.id))})]})]}),I.jsx(VP,{list:re,setList:te,isMidnight:oe}),I.jsx(kP,{isOpen:N,onClose:()=>U(!1),eorzeaData:n,isMidnight:oe}),I.jsx(LP,{isOpen:D,onClose:()=>$e(!1),onVerify:k,isMidnight:oe}),I.jsx(zP,{isOpen:_e.isOpen,onClose:()=>K({..._e,isOpen:!1}),server:s,mobId:_e.mobId,mobName:_e.mobName,isMidnight:oe})]})}eI.createRoot(document.getElementById("root")).render(I.jsx(pt.StrictMode,{children:I.jsx(BP,{})}));
